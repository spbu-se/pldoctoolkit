<?xml version="1.0" encoding="UTF-8"?>
<xml>
<bibliography id="bibliography">
  <title>Bibliography</title>

  <bibliodiv id="bibliography-books">
    <title>Books</title>

    <biblioentry id="bibliography-books-apress">
      <abbrev>APRESS00</abbrev>
      <title>Beginning GIMP: From Novice to Professional</title>
      <author>
        <firstname>Akkana</firstname>
        <surname>Peck</surname>
      </author>
      <copyright>
        <year>2006</year>
        <holder>Apress Inc.</holder>
      </copyright>
      <publisher>
        <publishername>Apress Inc, www.apress.com</publishername>
      </publisher>
      <isbn>ISBN 1-59059-587-4</isbn>
      <releaseinfo>
        <ulink url="http://gimpbook.com/">http://gimpbook.com/</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-books-foley01">
      <abbrev>FOLEY01</abbrev>
      <title>Computer Graphics, Principles and Practice</title>
      <author>
        <othername>Foley and van Dam, et al</othername>
      </author>
      <copyright>
        <year>1990</year>
        <holder>Addison Wesley</holder>
      </copyright>
      <publisher>
        <publishername>Addison Wesley</publishername>
      </publisher>
      <releaseinfo>
        <remark>2nd Ed. (Addison Wesley, 1990)</remark>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-books-grokking">
      <abbrev>GROKKING</abbrev>
      <title>Grokking the Gimp</title>
      <author>
        <firstname>Carey</firstname>
        <surname>Bunks</surname>
      </author>
      <copyright>
        <year>2000</year>
        <holder>New Riders Publishing</holder>
      </copyright>
      <publisher>
        <publishername>
          New Riders Publishing, www.newriders.com
        </publishername>
      </publisher>
      <isbn>ISBN 0-7357-0924-6</isbn>
      <releaseinfo>
        <ulink url="http://gimp-savvy.com/BOOK/">
          http://gimp-savvy.com/BOOK
        </ulink>
      </releaseinfo>
    </biblioentry>
  </bibliodiv>

  <bibliodiv id="bibliography-online">
    <title>Online resources</title>
    <biblioentry id="bibliography-online-adobrgb">
      <abbrev>AdobeRGB</abbrev>
      <title>Adobe RGB (1998) ICC Profile</title>
      <releaseinfo>
        <ulink url="http://www.adobe.com/digitalimag/adobergb.html">
          http://www.adobe.com/digitalimag/adobergb.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-advancemame">
      <abbrev>AdvanceMAME</abbrev>
      <title>AdvanceMAME project</title>
      <releaseinfo>
        <ulink url="http://advancemame.sourceforge.net/">
          http://advancemame.sourceforge.net/
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod">
      <abbrev>APOD</abbrev>
      <title>Astronomy Picture of the Day</title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/">
          http://antwrp.gsfc.nasa.gov/apod/
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod01">
      <abbrev>APOD01</abbrev>
      <title>Astronomy Picture of the Day (today)</title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/astropix.html">
          http://antwrp.gsfc.nasa.gov/apod/astropix.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod02">
      <abbrev>APOD02</abbrev>
      <title>
        Astronomy Picture of the Day - The Hubble Ultra Deep Field (2004 March
        9)
      </title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/ap040309.html">
          http://antwrp.gsfc.nasa.gov/apod/ap040309.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod03">
      <abbrev>APOD03</abbrev>
      <title>
        Astronomy Picture of the Day - M51: Cosmic Whirlpool (2002 July 10)
      </title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/ap020710.html">
          http://antwrp.gsfc.nasa.gov/apod/ap020710.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod04">
      <abbrev>APOD04</abbrev>
      <title>
        Astronomy Picture of the Day - Saturn: Lord of the Rings (2002
        February 15)
      </title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/ap020215.html">
          http://antwrp.gsfc.nasa.gov/apod/ap020215.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod05">
      <abbrev>APOD05</abbrev>
      <title>
        Astronomy Picture of the Day - NGC 6369: The Little Ghost Nebula (2002
        November 8)
      </title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/ap021108.html">
          http://antwrp.gsfc.nasa.gov/apod/ap021108.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod06">
      <abbrev>APOD06</abbrev>
      <title>
        Astronomy Picture of the Day - Disorder in Stephan's Quintet (2000
        November 13)
      </title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/ap001113.html">
          http://antwrp.gsfc.nasa.gov/apod/ap001113.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-apod07">
      <abbrev>APOD07</abbrev>
      <title>
        Astronomy Picture of the Day - The Sharpest View of the Sun (2002
        November 14)
      </title>
      <releaseinfo>
        <ulink url="http://antwrp.gsfc.nasa.gov/apod/ap021114.html">
          http://antwrp.gsfc.nasa.gov/apod/ap021114.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-argyllcms">
      <abbrev>ARGYLLCMS</abbrev>
      <title>Argyll Color Management System  Home Page</title>
      <releaseinfo>
        <ulink url="http://www.argyllcms.com/">
          http://www.argyllcms.com/
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-babl">
      <abbrev>BABL</abbrev>
      <title>babl (pixel format translation library)</title>
      <releaseinfo>
        <ulink url="http://www.gegl.org/babl">http://www.gegl.org/babl</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-bach">
      <abbrev>BACH04</abbrev>
      <title>Face in blocks</title>
      <author>
        <firstname>Michael</firstname>
        <surname>Bach</surname>
      </author>
      <copyright>
        <year>2004</year>
        <holder>Michael Bach</holder>
      </copyright>
      <releaseinfo>
        <ulink url="http://www.michaelbach.de/ot/fcs_mosaic/">
          http://www.michaelbach.de/ot/fcs_mosaic/
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-golden-text">
      <abbrev>BUDIG01</abbrev>
      <title>Golden Text</title>
      <releaseinfo>
        <ulink url="http://www.home.unix-ag.org/simon/gimp/golden.html">
          http://www.home.unix-ag.org/simon/gimp/golden.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-bugzilla">
      <abbrev>BUGZILLA</abbrev>
      <title>Bugzilla</title>
      <releaseinfo>
        <ulink url="http://bugzilla.gnome.org">
          http://bugzilla.gnome.org
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-bugzilla-gimp">
      <abbrev>BUGZILLA-GIMP</abbrev>
      <title>Bugzilla-GIMP</title>
      <releaseinfo>
        <ulink url="http://bugzilla.gnome.org/browse.cgi?product=GIMP">
          http://bugzilla.gnome.org/browse.cgi?product=GIMP
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-cairo">
      <abbrev>CAIRO</abbrev>
      <title>Cairo</title>
      <releaseinfo>
        <ulink url="http://www.cairographics.org">
          http://www.cairographics.org
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-darwinports">
      <abbrev>DARWINORTS</abbrev>
      <title>Darwin Ports Package Manager for OS X</title>
      <releaseinfo>
        <ulink url="http://darwinports.org">http://darwinports.org</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-eci">
      <abbrev>ECI</abbrev>
      <title>ECI (European Color Initiative) Profiles</title>
      <releaseinfo>
        <ulink url="http://www.eci.org/eci/en/060_downloads.php">
          http://www.eci.org/eci/en/060_downloads.php
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-fdl-translation">
      <abbrev>FDL-TRANSLATION</abbrev>
      <title>
        Unofficial translation of the GNU Free Documentation License
      </title>
    </biblioentry>
    <biblioentry id="bibliography-online-fink">
      <abbrev>FINK</abbrev>
      <title>Fink Package Manager for OS X</title>
      <releaseinfo>
        <ulink url="http://fink.sf.net">http://fink.sf.net</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-freetype">
      <abbrev>FREETYPE</abbrev>
      <title>Freetype 2 home page</title>
      <releaseinfo>
        <ulink url="http://www.freetype.org/freetype2/index.html">
          http://www.freetype.org/freetype2/index.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gegl">
      <abbrev>GEGL</abbrev>
      <title>GEGL (Generic Graphics Library)</title>
      <releaseinfo>
        <ulink url="http://gegl.org">http://gegl.org</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-georgiev">
      <abbrev>GEORGIEV01</abbrev>
      <title>Image Reconstruction Invariant to Relighting</title>
      <author>
        <firstname>Todor</firstname>
        <surname>Georgiev</surname>
      </author>
      <copyright>
        <year>2005</year>
        <holder>Todor Georgiev</holder>
      </copyright>
      <releaseinfo>
        <ulink url="http://www.tgeorgiev.net/Invariant.pdf">
          http://www.tgeorgiev.net/Invariant.pdf
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-ghostscript">
      <abbrev>GHOSTSCRIPT</abbrev>
      <title>Ghostscript project page on Sourceforge.net</title>
      <releaseinfo>
        <ulink url="http://sourceforge.net/projects/ghostscript">
          http://sourceforge.net/projects/ghostscript
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp">
      <abbrev>GIMP</abbrev>
      <title>GIMP - The Gnu Image Manipulation Program</title>
      <releaseinfo>
        <ulink url="http://gimp.org">http://gimp.org</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-dev">
      <abbrev>GIMP-DEV</abbrev>
      <title>GIMP Development</title>
      <releaseinfo>
        <ulink url="http://developer.gimp.org">
          http://developer.gimp.org
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-dev-plugin">
      <abbrev>GIMP-DEV-PLUGIN</abbrev>
      <title>GIMP Plugin Development</title>
      <releaseinfo>
        <ulink url="http://developer.gimp.org/plug-ins.html">
          http://developer.gimp.org/plug-ins.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-docs">
      <abbrev>GIMP-DOCS</abbrev>
      <title>GIMP Documentation project page</title>
      <releaseinfo>
        <ulink url="http://docs.gimp.org">
          http://docs.gimp.org
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-fonts">
      <abbrev>GIMP-FONTS</abbrev>
      <title>Fonts in GIMP 2.0</title>
      <releaseinfo>
        <ulink url="http://gimp.org/unix/fonts.html">
          http://gimp.org/unix/fonts.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-dev-new">
      <abbrev>GIMP-NEWSYM26</abbrev>
      <title>List of new symbols in GIMP 2.6</title>
      <releaseinfo>
        <ulink 
          url="http://developer.gimp.org/api/2.0/libgimp/libgimp-index-new-in-2-6.html">
          libgimp-index-new-in-2-6.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-plugin-registry">
      <abbrev>GIMP-REGISTRY</abbrev>
      <title>GIMP-Plugin Registry</title>
      <releaseinfo>
        <ulink url="http://registry.gimp.org">http://registry.gimp.org</ulink>
      </releaseinfo>
    </biblioentry>
    <!--
    <biblioentry id="bibliography-online-gimp-wiki-compile-windows">
      <abbrev>GIMP-WIKI-MS</abbrev>
      <title>GIMP-Wiki - How to compile for Windows</title>
      <releaseinfo>
        <ulink url="http://wiki.gimp.org/gimp/HowToCompileGimp/MicrosoftWindows">
          http://wiki.gimp.org/gimp/HowToCompileGimp/MicrosoftWindows
        </ulink>
      </releaseinfo>
    </biblioentry>
    -->
    <biblioentry id="bibliography-online-grokking-gimp">
      <abbrev>GROKKING01</abbrev>
      <title>Grokking the GIMP</title>
      <releaseinfo>
        <ulink url="http://gimp-savvy.com/BOOK/index.html">
          http://gimp-savvy.com/BOOK/index.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-grokking-gimp-imagemap">
      <abbrev>GROKKING02</abbrev>
      <title>Grokking the GIMP (9.2 Clickable Image Maps)</title>
      <releaseinfo>
        <ulink url="http://gimp-savvy.com/BOOK/index.html?node81.html">
          http://gimp-savvy.com/BOOK/index.html?node81.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gunther">
      <abbrev>GUNTHER04</abbrev>
      <title>Making shapes in GIMP</title>
      <author>
        <firstname>Gunther</firstname>
        <surname>Dale</surname>
      </author>
      <copyright>
        <year>2004</year>
        <holder>Dale (Gunther)</holder>
      </copyright>
      <releaseinfo>
        <ulink url="http://gug.criticalhit.dk/tutorials/gunther1/">
          http://gug.criticalhit.dk/tutorials/gunther1
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-icc">
      <abbrev>ICC</abbrev>
      <title>INTERNATIONAL COLOR CONSORTIUM</title>
      <releaseinfo>
        <ulink url="http://www.color.org/">http://www.color.org/</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-iccsrgb">
      <abbrev>ICCsRGB</abbrev>
      <title>ICC sRGB PROFILES</title>
      <releaseinfo>
        <ulink url="http://www.color.org/srgbprofiles.html">
          http://www.color.org/srgbprofiles.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gpl">
      <abbrev>GPL</abbrev>
      <title>General Public License (GPL)</title>
      <releaseinfo>
        <ulink url="http://www.fsf.org/licensing/licenses/gpl.html">
          http://www.fsf.org/licensing/licenses/gpl.html
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gqview">
      <abbrev>GQVIEW</abbrev>
      <title>Homepage of GQview, an image browser</title>
      <releaseinfo>
        <ulink url="http://gqview.sourceforge.net">
          http://gqview.sourceforge.net
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gthumb">
      <abbrev>GTHUMB</abbrev>
      <title>
        gThumb - An Image Viewer and Browser for the GNOME Desktop
      </title>
      <releaseinfo>
        <ulink url="http://gthumb.sourceforge.net">
          http://gthumb.sourceforge.net
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-inkscape">
      <abbrev>INKSCAPE</abbrev>
      <title>Inkscape is an Open Source vector graphics editor</title>
      <releaseinfo>
        <ulink url="http://www.inkscape.org">http://www.inkscape.org</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-jimmac01">
      <abbrev>JIMMAC01</abbrev>
      <title>Alternative icon theme for GIMP 2.4</title>
      <releaseinfo>
        <ulink url="http://jimmac.musichall.cz/zip/GIMP-Greyscale-tools-0.1.tar.bz2">
          http://jimmac.musichall.cz/zip/GIMP-Greyscale-tools-0.1.tar.bz2
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-lprof">
      <abbrev>LPROF</abbrev>
      <title>LPROF ICC Profiler</title>
      <releaseinfo>
        <ulink url="http://lprof.sourceforge.net/">
          http://lprof.sourceforge.net/
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-microsoft-kb294714">
      <abbrev>MSKB-294714</abbrev>
      <title>Microsoft Knowledge Base Article 294714</title>
      <releaseinfo>
        <ulink url="http://support.microsoft.com/kb/294714">
            http://support.microsoft.com/kb/294714
          </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-microsoft-srgb">
      <abbrev>MsRGB</abbrev>
      <title>Microsoft sRVB Workspace</title>
      <releaseinfo>
        <ulink url="http://www.microsoft.com/whdc/device/display/color/default.mspx">
            http://www.microsoft.com/whdc/device/display/color/default.mspx
          </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-openclipart-gradients">
      <abbrev>OPENCLIPART-GRADIENT</abbrev>
      <title>Open Clipart - Gradients</title>
      <releaseinfo>
        <ulink url="http://openclipart.org/">http://openclipart.org/</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-openicc">
      <abbrev>OPENICC</abbrev>
      <title>The OpenICC project</title>
      <releaseinfo>
        <ulink url="http://freedesktop.org/wiki/OpenIcc/">
          http://freedesktop.org/wiki/OpenIcc
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-plugin-exifbrowser">
      <abbrev>PLUGIN-EXIF</abbrev>
      <title>GIMP-Plugin Exif Browser</title>
      <releaseinfo>
        <ulink url="http://registry.gimp.org/plugin?id=4153">
          http://registry.gimp.org/plugin?id=4153
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-gimp-plugin-flames">
      <abbrev>PLUGIN-FLAMES</abbrev>
      <title>GIMP-Plugin Flames</title>
      <releaseinfo><ulink url="http://draves.org/gimp/flame.html">
          http://draves.org/gimp/flame.html
        </ulink>;
        <ulink url="http://flam3.com/">http://flam3.com/</ulink></releaseinfo>
    </biblioentry>
    <!--
    <biblioentry id="bibliography-online-gimp-plugin-plasma2">
      <abbrev>PLUGIN-PLASMA2</abbrev>
      <title>GIMP-Plugin Plasma2 at the Registry</title>
      <releaseinfo>
        <ulink url="http://registry.gimp.org/plugin?id=501">
          http://registry.gimp.org/plugin?id=501
        </ulink>
      </releaseinfo>
    </biblioentry>
    -->
    <biblioentry id="bibliography-online-gimp-plugin-redeye">
      <abbrev>PLUGIN-REDEYE</abbrev>
      <title>
        A plugin to quickly remove <quote>redeye</quote> caused by camera
        flash
      </title>
      <releaseinfo>
        <ulink url="http://registry.gimp.org/plugin?id=4212">
          http://registry.gimp.org/plugin?id=4212
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-plugin-resynthesizer">
      <abbrev>PLUGIN-RESYNTH</abbrev>
      <title>Resynthesizer is a Gimp plug-in for texture synthesis</title>
      <releaseinfo>
        <ulink url="http://www.logarithmic.net/pfh/resynthesizer">
          http://www.logarithmic.net/pfh/resynthesizer
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-plugin-retinex">
      <abbrev>PLUGIN-RETINEX</abbrev>
      <title>A plugin providing the Retinex algorithm for GIMP</title>
      <releaseinfo>
        <ulink url="http://www-prima.inrialpes.fr/pelisson/MSRCR.php">
          http://www-prima.inrialpes.fr/pelisson/MSRCR.php
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-plugin-separate">
      <abbrev>PLUGIN-SEPARATE</abbrev>
      <title>A plugin providing rudimentary CMYK support for GIMP</title>
      <releaseinfo>
        <ulink url="http://www.blackfiveservices.co.uk/separate.shtml">
          http://www.blackfiveservices.co.uk/separate.shtml
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-python">
      <abbrev>PYTHON</abbrev>
      <title>Python Programming Language</title>
      <releaseinfo>
        <ulink url="http://www.python.org">http://www.python.org</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-scale2x">
      <abbrev>SCALE2X</abbrev>
      <title>Scale2x</title>
      <releaseinfo>
        <ulink url="http://scale2x.sourceforge.net/">
          http://scale2x.sourceforge.net/
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-scribus">
      <abbrev>SCRIBUS</abbrev>
      <title>Scribus :: Open Source Desktop Publishing</title>
      <releaseinfo>
        <ulink url="http://www.scribus.net/">http://www.scribus.net/</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-siox">
      <abbrev>SIOX</abbrev>
      <title>Simple Interactive Object Extraction</title>
      <releaseinfo>
        <ulink url="http://www.siox.org/">http://www.siox.org/</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-tutorial01">
      <abbrev>TUT01</abbrev>
      <title>Tutorial: How to draw straight lines</title>
      <author>
        <firstname>Seth</firstname>
        <surname>Burgess</surname>
      </author>
      <copyright>
        <year>2002</year>
        <holder>Seth Burgess</holder>
      </copyright>
      <releaseinfo>
        <ulink url="http://www.gimp.org/tutorials/Straight_Line/">
          http://www.gimp.org/tutorials/Straight_Line
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-tutorial02">
      <abbrev>TUT02</abbrev>
      <title>Tutorial: GIMPLite Quickies</title>
      <author>
        <firstname>Carol</firstname>
        <surname>Spears</surname>
        <email>carolNOSPAM@gimp.org</email>
      </author>
      <copyright>
        <year>2004</year>
        <holder>Carol Spears</holder>
      </copyright>
      <releaseinfo>
        <ulink url="http://next.gimp.org/tutorials/Lite_Quickies/">
          http://next.gimp.org/tutorials/Lite_Quickies/
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-unicode">
      <abbrev>UNICODE</abbrev>
      <title>Unicode</title>
      <releaseinfo>
        <ulink url="http://www.unicode.org">http://www.unicode.org</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wikipedia">
      <abbrev>WIKIPEDIA</abbrev>
      <title>Wikipedia</title>
      <author>
        <othername>Wikipedia Foundation</othername>
      </author>
      <copyright>
        <year>2004</year>
        <holder>Wikipedia Foundation Inc.</holder>
      </copyright>
      <releaseinfo>
        <ulink url="http://www.wikipedia.org">http://www.wikipedia.org</ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-alpha">
      <abbrev>WKPD-ALPHA</abbrev>
      <title>Wikipedia - Alpha channel</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Alpha_channel">
          http://en.wikipedia.org/wiki/Alpha_channel
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-bezier">
      <abbrev>WKPD-BEZIER</abbrev>
      <title>Wikipedia - B&eacute;zier curve</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Bezier_curve">
          http://en.wikipedia.org/wiki/Bezier_curve
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-bumpmap">
      <abbrev>WKPD-BUMP</abbrev>
      <title>Wikipedia - Bumpmap</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Bump_Mapping">
          http://en.wikipedia.org/wiki/Bump_Mapping
        </ulink>
      </releaseinfo>
    </biblioentry>
    <!-- identical with "bibliography-online-wkpd-dodge -->
    <biblioentry id="bibliography-online-wkpd-burn">
      <abbrev>WKPD-BURN</abbrev>
      <title>Wikipedia - Burning</title>
      <releaseinfo lang="de">
        <ulink url="http://en.wikipedia.org/wiki/Dodging_and_burning">
          http://en.wikipedia.org/wiki/Dodging_and_burning
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-cellular-automata">
      <abbrev>WKPD-CA</abbrev>
      <title>Wikipedia - Cellular Automata</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Bump_Mapping">
          http://en.wikipedia.org/wiki/Cellular_Automata
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-cmyk">
      <abbrev>WKPD-CMYK</abbrev>
      <title>Wikipedia - CMYK</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/CMYK">
          http://en.wikipedia.org/wiki/CMYK
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-colorspace">
      <abbrev>WKPD-COLORSPACE</abbrev>
      <title>Wikipedia - Colorspace</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Colorspace">
          http://en.wikipedia.org/wiki/Colorspace
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-deflate">
      <abbrev>WKPD-DEFLATE</abbrev>
      <title>Wikipedia - Deflate</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/deflate">
          http://en.wikipedia.org/wiki/deflate
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-deinterlace">
      <abbrev>WKPD-DEINTERLACE</abbrev>
      <title>Wikipedia - Deinterlace</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Deinterlace">
          http://en.wikipedia.org/wiki/Deinterlace
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-dithering">
      <abbrev>WKPD-DITHERING</abbrev>
      <title>Wikipedia - Dithering</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Dithering">
          http://en.wikipedia.org/wiki/Dithering
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-dodge">
      <abbrev>WKPD-DODGE</abbrev>
      <title>Wikipedia - Dodging</title>
      <releaseinfo lang="de">
        <ulink url="http://en.wikipedia.org/wiki/Dodging_and_burning">
          http://en.wikipedia.org/wiki/Dodging_and_burning
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-exif">
      <abbrev>WKPD-EXIF</abbrev>
      <title>Wikipedia - EXIF</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/EXIF">
          http://en.wikipedia.org/wiki/EXIF
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-fileformat">
      <abbrev>WKPD-FILEFORMAT</abbrev>
      <title>Wikipedia - Fileformat</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Image_file_format">
          http://en.wikipedia.org/wiki/Image_file_format
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-gamut">
      <abbrev>WKPD-GAMUT</abbrev>
      <title>Wikipedia - Gamut</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Gamut">
          http://en.wikipedia.org/wiki/Gamut
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-gif">
      <abbrev>WKPD-GIF</abbrev>
      <title>Wikipedia - GIF</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/GIF">
          http://en.wikipedia.org/wiki/GIF
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-gnu">
      <abbrev>WKPD-GNU</abbrev>
      <title>Wikipedia - GNU</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/GNU">
          http://en.wikipedia.org/wiki/GNU
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-histogram">
      <abbrev>WKPD-HISTOGRAM</abbrev>
      <title>Wikipedia - Histogram</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Image_histogram">
          http://en.wikipedia.org/wiki/Image_histogram
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-hsv">
      <abbrev>WKPD-HSV</abbrev>
      <title>Wikipedia - HSV</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/HSL_and_HSV">
          http://en.wikipedia.org/wiki/HSL_and_HSV
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-icc">
      <abbrev>WKPD-ICC</abbrev>
      <title>Wikipedia - ICC Profile</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/ICC_Profile">
          http://en.wikipedia.org/wiki/ICC_Profile
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-interpolation">
      <abbrev>WKPD-INTERPOL</abbrev><!--Police?-->
      <title>Wikipedia - Interpolation</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Interpolation">
          http://en.wikipedia.org/wiki/Interpolation
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-jpeg">
      <abbrev>WKPD-JPEG</abbrev>
      <title>Wikipedia - JPEG</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/JPEG">
          http://en.wikipedia.org/wiki/JPEG
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-lab">
      <abbrev>WKPD-LAB</abbrev>
      <title>Wikipedia - L*a*b</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Lab_color_space">
          http://en.wikipedia.org/wiki/Lab_color_space
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-lzw">
      <abbrev>WKPD-LZW</abbrev>
      <title>Wikipedia - LZW</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/LZW">
          http://en.wikipedia.org/wiki/LZW
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-moire">
      <abbrev>WKPD-MOIRE</abbrev>
      <title>Wikipedia - Moire</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Moire">
          http://en.wikipedia.org/wiki/Moire
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-packbits">
      <abbrev>WKPD-PACKBITS</abbrev>
      <title>Wikipedia - PackBits</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/PackBits">
          http://en.wikipedia.org/wiki/PackBits
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-png">
      <abbrev>WKPD-PNG</abbrev>
      <title>Wikipedia - PNG</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Portable_Network_Graphics">
          http://en.wikipedia.org/wiki/Portable_Network_Graphics
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-rastergfx">
      <abbrev>WKPD-RASTER</abbrev>
      <title>Wikipedia - Raster Graphics</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Raster_graphics">
          http://en.wikipedia.org/wiki/Raster_graphics
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-rendering">
      <abbrev>WKPD-RI</abbrev>
      <title>Wikipedia - Rendering Intent</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Rendering_intent">
          http://en.wikipedia.org/wiki/Rendering_intent
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-retina">
      <abbrev>WKPD-RETINA</abbrev>
      <title>Wikipedia - Retina</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Retina">
          http://en.wikipedia.org/wiki/Retina
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-sepia">
      <abbrev>WKPD-SEPIA</abbrev>
      <title>Wikipedia - Sepia</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Sepia">
          http://en.wikipedia.org/wiki/Sepia
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-subsampling">
      <abbrev>WKPD-SUBSAMPLING</abbrev>
      <title>Wikipedia - Chroma subsampling</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Chroma_Subsampling">
          http://en.wikipedia.org/wiki/Chroma_Subsampling
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-svg">
      <abbrev>WKPD-SVG</abbrev>
      <title>Wikipedia - SVG</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Scalable_Vector_Graphics">
          http://en.wikipedia.org/wiki/Scalable_Vector_Graphics
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-uri">
      <abbrev>WKPD-URI</abbrev>
      <title>Wikipedia - URI</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Uniform_Resource_Identifier">
          http://en.wikipedia.org/wiki/Uniform_Resource_Identifier
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-url">
      <abbrev>WKPD-URL</abbrev>
      <title>Wikipedia - URL</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Uniform_Resource_Locator">
          http://en.wikipedia.org/wiki/Uniform_Resource_Locator
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-Web-colors">
      <abbrev>WKPD-Web-colors</abbrev>
      <title>Wikipedia - Web-colors</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/Web_colors">
          http://en.wikipedia.org/wiki/Web_colors
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-ycbcr">
      <abbrev>WKPD-YCBCR</abbrev>
      <title>Wikipedia - YCbCr</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/YCbCr">
          http://en.wikipedia.org/wiki/YCbCr
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-wkpd-yuv">
      <abbrev>WKPD-YUV</abbrev>
      <title>Wikipedia - YUV</title>
      <releaseinfo>
        <ulink url="http://en.wikipedia.org/wiki/YUV">
          http://en.wikipedia.org/wiki/YUV
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-xds">
      <abbrev>XDS</abbrev>
      <title>Direct Save Protocol (XDS)</title>
      <releaseinfo>
        <ulink url="http://freedesktop.org/wiki/Specifications/XDS">
          http://freedesktop.org/wiki/Specifications/XDS
        </ulink>
      </releaseinfo>
    </biblioentry>
    <biblioentry id="bibliography-online-xnview">
      <abbrev>XNVIEW</abbrev>
      <title>XnView</title>
      <releaseinfo>
        <ulink url="http://perso.orange.fr/pierre.g/xnview/enhome.html">
          http://perso.orange.fr/pierre.g/xnview/enhome.html
        </ulink>
      </releaseinfo>
    </biblioentry>
  </bibliodiv>
</bibliography>
-#-#-
<appendix id="gimp-introduction-bugs">
  <title>Reporting Bugs and Requesting Enhancements</title>

  <indexterm>
    <primary>GIMP</primary>
    <secondary>Bugs</secondary>
  </indexterm>
  <indexterm>
    <primary>Bugs</primary>
  </indexterm>

  <para>
    Sad to say, no version of <acronym>GIMP</acronym>
    has yet been absolutely perfect. Even sadder, it is likely that no version
    ever will be. In spite of all efforts to make everything work, a program
    as complicated as <acronym>GIMP</acronym>
    is bound to screw things up occasionally, or even crash.
  </para>
  <para>
    But the fact that bugs are unavoidable does not mean that they should be
    passively accepted. If you find a bug in <acronym>GIMP</acronym>, the
    developers would like to know about it so they can at least try to fix it.
  </para>
  <para>
    Suppose, then, that you have found a bug, or at least think you have: you
    try to do something, and the results are not what you expect. What should
    you do? How should you report it?
  </para>
  <tip>
    <para>
      The procedure for making an <emphasis>enhancement
      request</emphasis>&mdash;that is, for asking the developers to add a
      missing feature&mdash;is nearly the same as the procedure for reporting
      a bug. The only thing you do differently is to mark the report as an
      <quote>enhancement</quote> at the appropriate stage, as described below.
    </para>
  </tip>
  <para>
    In common with many other free software projects,
    <acronym>GIMP</acronym> uses a bug-reporting mechanism called
    <emphasis>Bugzilla</emphasis>.
    This is a very powerful web-based system, capable of managing thousands
    of bug reports without losing track. In fact, <acronym>GIMP</acronym>
    shares its Bugzilla database with the entire Gnome project. At the time
    this is being written, Gnome Bugzilla contains 148632 bug reportsâ€“no, make
    that 148633.
  </para>

  <sect1 id="gimp-bug-confirm">
    <title>Making sure it's a Bug</title>
    <para>
      The first thing you should do, before reporting a bug, is to make
      an effort to verify that what you are seeing really
      <emphasis>is</emphasis> a bug.  It is hard to give a method for
      doing this that applies to all situations, but reading the
      documentation will often be useful, and discussing the question on
      IRC or a mailing list may also be quite helpful.  If you are
      seeing a <emphasis>crash</emphasis>, as opposed to mere
      misbehavior, the odds that it is a true bug are pretty high: well
      written software programs are not designed to crash under
      <emphasis>any</emphasis> circumstances.  In any case, if you have
      made an conscientious effort to decide whether it is really a bug,
      and at the end still aren't sure, then please go ahead and report
      it:  the worst that can happen is that you will waste a bit of
      time for the development team.
    </para>
    <note>
      <para>
        Actually there are a few things that are known to cause
        <acronym>GIMP</acronym> to crash but have turned out to be too
        inconvenient to be worth fixing.  One of them is asking
        <acronym>GIMP</acronym> to do something that requires vast amounts of
        memory, such as creating an image one million pixels on a side.
      </para>
    </note>
    <para>
      You should also make sure that you are using an up-to-date version
      of <acronym>GIMP</acronym>: reporting bugs that have already been
      fixed is just a waste of everybody's time.  (<acronym>GIMP</acronym> 1
      is no longer maintained, so if you use it and find bugs, either
      upgrade to <acronym>GIMP</acronym> 2 or live with
      them.)  Particularly if you are using the development version of
      <acronym>GIMP</acronym>, make sure that you can see the bug in the
      latest release before filing a report.
    </para>
    <para>
      If after due consideration you still think you have a legitimate
      bug report or enhancement request, the next step is to go to
      <acronym>GIMP</acronym>'s bugzilla query page
      (<ulink url="http://bugzilla.gnome.org/query.cgi"/>),
      and try to see whether somebody else has already reported the same
      thing.
    </para>
    <para>
      There are two forms you can use for searching bugs: a simple form to
      <quote>Find a Specific Bug</quote>, and an <quote>Advanced
      Search</quote>.
    </para>

    <simplesect id="bugzilla-find-specific-bug">
      <title>Find a Specific Bug</title>
      <figure>
        <title>Bugzilla: Find a Specific Bug</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/misc/bugzilla/find-specific-bug.png"/>
          </imageobject>
          <caption>
            <para>Searching for bugs using the simple bug search form</para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        Using this form, you first should select the
        <guilabel>Product</guilabel> <quote>GIMP</quote> (classified as
        <quote>Other</quote>) using the drop down list. Then you just have to
        enter some (space separated) search terms, e.g.
        <blockquote>
          <para>
          <userinput>filter&nbsp;crash</userinput>
          </para>
        </blockquote>
        in the text box and click on <guibutton>Search</guibutton>.
      </para>
    </simplesect>

    <simplesect id="bugzilla-advanced-search">
      <title>The Advanced Bug Search Form</title>
      <para>
        The alternative form, the advanced query page, allows you to search
        the bug database in a variety of ways:
      </para>
      <figure>
        <title>Bugzilla: Advanced Search</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/misc/bugzilla/advanced-search.png"/>
          </imageobject>
          <caption>
            <para>
              Searching for bugs using the advanced bug search form
            </para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        Unfortunately this page is a bit more <quote>complicated</quote> to
        use than it really ought to be (at least, some items are hyperlinks
        leading to detailed help), but here is basically what you should do:
      </para>
      <variablelist>
        <varlistentry>
          <term>Summary</term>
          <listitem>
            <para>
              Set this to <quote>contains any of the words/strings</quote>.
            </para>
            <para>
              In the adjoining text box, give one or more words that somebody
              would be likely to use in writing a one-sentence summary of a
              bug similar to yours. For example, if the problem is that
              zooming too much causes <acronym>GIMP</acronym> to crash, the
              word <quote>zoom</quote> would be good.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Classification</term>
          <listitem>
            <para>
              Other (since <acronym>GIMP</acronym> is not part of the GNOME
              Desktop suite).
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Product</term>
          <listitem>
            <para>
              Set this to <quote>GIMP</quote> (or <quote>GEGL</quote>,
              <quote>GIMP-manual</quote> etc., if appropriate).
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Component, Version, Target Milestone</term>
          <listitem>
            <para>Don't do anything for these.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Comment, Whiteboard, Keywords</term>
          <listitem>
            <para>
              For now, leave this alone. If your search does not turn up
              anything, it might be worth entering your search terms in the
              <quote>Comment</quote> area here, but this often turns out to
              give you either great masses of stuff or nothing.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Status</term>
          <listitem>
            <para>
              This field encodes the status of a bug report: whether it is
              still open, has been resolved, etc. You want to see all relevant
              bug reports, regardless of status, so you should hold down the
              mouse and sweep it across all entries. Leaving it alone will not
              work.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Resolution, Severity, Priority, OS</term>
          <listitem>
            <para>
              Usually you shouldn't touch these items.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>(Any other items)</term>
          <listitem>
            <para>Don't do anything for these.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
        When you have set these things up, click on the <quote>Search</quote>
        button at either the top or bottom; they both do the same thing. The
        result is either a list of bug reports &ndash; hopefully not too long
        &ndash; or a message saying <quote>Zarro boogs found</quote>. If you
        don't find a related bug report by doing this, it may be worth trying
        another search with different terms. If in spite of your best efforts,
        you file a bug report and it ends up being resolved as
        <quote>Duplicate</quote>, don't be too upset: it has happened
        repeatedly to the author of this documentation, who works with
        <acronym>GIMP</acronym> Bugzilla nearly every day.
      </para>
      <tip>
        <para>
          Depending on your browser configuration (i.e. whether JavaScript is
          enabled), you may see a link
          <guilabel>Give&nbsp;me&nbsp;some&nbsp;help</guilabel>. If you click
          on this link, the page will be reloaded and then moving the mouse
          pointer over an input widget produces a little help popup.
        </para>
      </tip>
    </simplesect>
  </sect1>

  <sect1 id="gimp-bug-report">
    <title>Reporting the Bug</title>
    <para>
      Okay, so you have done everything you could to make sure, and you still
      think it's probably a bug. You should then go ahead and file a bug
      report on the Bugzilla page.
    </para>
    <note>
      <para>
        The first time you file a bug report, you will be asked to create a
        Bugzilla account. The process is easy and painless, and you probably
        won't even get any spam as a result.
      </para>
    </note>
    <procedure>
      <step>
        <title>Bugzilla: Select Classification</title>
        <para>
          Go to <ulink url="http://bugzilla.gnome.org/enter_bug.cgi"/>, and
          select the classification <quote>Other</quote>.
        </para>
        <!-- IMHO a screenshot is not useful here (ude 2009-08-25) -->
        <para>
          If you are not logged in, you are automatically redirected to the
          login page. After entering your user name (login) and password,
          you get back to the <quote>Select Classification</quote> page.
        </para>
      </step>

      <step>
        <title>Bugzilla: Pick Product</title>
        <para>
          Scroll down the next page until you can select the product
          <quote>GIMP</quote>.
        </para>
        <!-- IMHO a screenshot is not useful here (ude 2009-08-25) -->
        <tip>
          <para>
            You can skip the above steps and go directly to
           <ulink url="http://bugzilla.gnome.org/enter_bug.cgi?product=GIMP"/>
           (You still have to login, of course.)
          </para>
        </tip>
      </step>

      <step>
        <title>Bugzilla: Enter Bug: <acronym>GIMP</acronym></title>
        <para>
          Selecting <quote>GIMP</quote> as product takes you to the
          following bug report form, which you should fill out as follows.
          Note that most of the information you enter can be changed later
          by the developers if you get it wrong, so try to get it right but
          don't be obsessive about it.
        </para>
        <screenshot>
          <screeninfo>2009-08-25</screeninfo>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/misc/bugzilla/enter-bug.png"/>
            </imageobject>
            <caption>
              <para>Enter Bug: <acronym>GIMP</acronym></para>
            </caption>
          </mediaobject>
        </screenshot>
        <variablelist>
          <varlistentry>
            <term>Component</term>
            <listitem>
              <para>
                Set this to the part of <acronym>GIMP</acronym> that the bug
                affects. Note that you get a short
                <quote>Component&nbsp;Description</quote> in the text box next
                to the list when you select a component.
              </para>
              <para>
                You have to pick something here, but if you aren't sure, make
                a guess and don't worry about it.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Version</term>
            <listitem>
              <para>
                Set this to the version of <acronym>GIMP</acronym> that you
                are using. You always find the version in the menu of the
                image window:
                <menuchoice>
                  <guimenu>Help</guimenu>
                  <guimenuitem>About</guimenuitem>
                </menuchoice>.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Severity</term>
            <listitem>
              <para>
                In most cases you should either leave this as
                <quote>Normal</quote> or set it to <quote>Enhancement</quote>,
                if it is an enhancement request rather than a malfunction. The
                maintainers will adjust the severity if they think it is
                warranted.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>OS (Operating System)</term>
            <listitem>
              <para>
                Set this to your OS unless you have a very good reason for
                thinking that the bug applies to all operating systems.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Summary</term>
            <listitem>
              <para>
                Give a one-sentence summary that is descriptive enough so that
                somebody searching for similar bugs would find your bug report
                on the basis of the words this summary contains.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Description</term>
            <listitem>
              <para>
                Describe the problem. Be as specific as you can, and include
                all information that you think might possibly be relevant.
                The classic totally useless bug report is, <quote>GIMP
                crashes. This program sucks</quote>. There is no hope that the
                developers can solve a problem if they can't tell what it is.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
        <para>
          There are more fields which are hidden by default. (Click
          <quote>Show Advanced Fields</quote> to show them.) You can ignore
          them, so we won't describe these fields here.
        </para>
        <para>
          Sometimes it is very helpful to augment a bug report with a
          screenshot or some other type of data. If you need to do this, click
          on the button <guibutton>Add&nbsp;an&nbsp;attachment</guibutton>,
          and follow the directions. But please don't do this unless you think
          the attachment is really going to be useful&mdash;and if you need to
          attach a screenshot, don't make it any larger than necessary. Bug
          reports are likely to remain on the system for years, so there is no
          sense in wasting memory.
        </para>
        <para>
          When you have filled out all of these things, press the
          <guibutton>Commit</guibutton> button and your bug report will be
          submitted. It will be assigned a number, which you may want to make
          note of; you will, however, be emailed any time somebody makes a
          comment on your bug report or otherwise alters it, so you will
          receive reminders in any case. You can see the current state of your
          bug report at any time by going to
          <ulink url="http://bugzilla.gnome.org"/>, entering the bug number in
          one of the entry boxes and pressing the
          <guibutton>Find</guibutton> or <guibutton>Quick Search</guibutton>
          button.
        </para>
      </step>
    </procedure>
  </sect1>

  <sect1 id="gimp-bug-submitted">
    <title>What Happens to a Bug Report after you Submit it</title>
    <para>
      At any time after it is submitted, a bug report has a
      <quote>Status</quote>
      that describes how it is currently being handled.  Here are the
      possible values of <emphasis>Status</emphasis> and what they mean:
    </para>
    <variablelist>
      <varlistentry>
        <term>Unconfirmed</term>
        <listitem>
          <para>
            This is the initial status of a bug report, from the time it is
            submitted until one of the maintainers reads it and decides
            whether it is really a valid bug report. Sometimes the maintainers
            aren't sure, and in the meantime leave the status as
            <quote>Unconfirmed</quote>. In the worst cases, a bug report can
            stay
            unconfirmed for a year or longer, but this is considered a bad
            thing and does not happen very often.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>New</term>
        <listitem>
          <para>
            This means that the bug report has been read by one of the
            maintainers, and is considered, for the moment at least, to be
            valid. It does not necessarily mean that anything is going to be
            done about it immediately: some bug reports, especially
            enhancement requests, may be perfectly valid and still go for a
            long time before anybody is able to deal with them. Many bugs, on
            the other hand, are fixed within hours of being reported.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Assigned</term>
        <listitem>
          <para>
            This means that a specific person has agreed to work on the bug.
            It does not, this world being the kind of world that it is, mean
            that that person will actually <emphasis>do</emphasis>
            anything in particular, so for practical purposes this status
            means nearly the same thing as <quote>New</quote>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reopened</term>
        <listitem>
          <para>
            This means that the bug report was at some point considered by the
            maintainers to be resolved (i.e., finished), but new information
            came in that caused them to change their minds: most likely, a
            change that was intended to fix the problem did not completely
            work.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Needinfo</term>
        <listitem>
          <para>
            This is a status you should pay particular attention to. It means
            that you did not supply enough information in your bug report to
            enable anything to be done about it. In most cases, no further
            action will be taken on the bug report until you supply additional
            information (by adding a comment). If too much time goes by
            without any input from you, the bug report will eventually be
            resolved as <quote>Incomplete</quote>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Resolved</term>
        <listitem>
          <para>
            This means that the maintainers believe that they have finished
            dealing with the bug report. If you disagree, you can re-open it,
            but since you cannot force anybody to work on a bug against their
            will, you should have a good reason for doing so. Bugs can be
            resolved in a variety of ways. Here are the possible values of
            <emphasis>Resolution</emphasis> and what they mean:
          </para>
          <variablelist>
            <varlistentry>
              <term>Fixed</term>
              <listitem>
                <para>
                  The bug report is considered valid, and
                  <acronym>GIMP</acronym> has been
                  changed in a way that is considered to fix it.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Wontfix</term>
              <listitem>
                <para>
                  The maintainers agree that the bug report is valid, but it
                  would take so much effort to fix, in relation to its
                  importance, that it is not worth the trouble.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Duplicate</term>
              <listitem>
                <para>
                  This means that the same bug has already been reported by
                  somebody else. If you see this resolution, you will also see
                  a pointer to the earlier bug report, which will often give
                  you a lot of useful information.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Notabug</term>
              <listitem>
                <para>
                  This means that the behavior described in the bug
                  report is intentional. It may seem like a bug to you
                  (and there may be many people who agree with you), but
                  the program is working the way it was intended to
                  work,  and the developers don't want to change it.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>NotGnome</term>
              <listitem>
                <para>
                  The bug report is valid, but it can't be addressed by
                  changing <acronym>GIMP</acronym>. Problems in operating
                  systems, window managers, or libraries that
                  <acronym>GIMP</acronym> depends on will often be
                  given this resolution. Sometimes the next appropriate step
                  is to file a bug report for the software that is really at
                  fault.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Incomplete</term>
              <listitem>
                <para>
                  The bug report did not contain enough information for
                  anything to be done about it, and the reporter did not
                  respond to requests for more information. Usually a bug
                  report will be open for at least a month or two before it is
                  resolved in this way.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Invalid</term>
              <listitem>
                <para>
                  Something is wrong with the form of the bug report: most
                  commonly, the reporter has accidentally submitted the same
                  bug report multiple times. (This can easily happen by
                  mistake with some web browsers.) Bug reports that
                  incorrectly describe how the program behaves may also be
                  resolved as Invalid.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <note>
            <para>
              If you disagree with the resolution of a bug report, you are
              always free to add your comments to it. Any comment added to any
              bug report, resolved or not, causes email to be sent to the
              <acronym>GIMP</acronym>
              Bugzilla mailing list, so it will at least be seen by the
              maintainers. This does not, of course, mean that they will
              necessarily respond to it.
            </para>
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
</appendix>
-#-#-
<appendix id="legal">
  <title>GNU Free Documentation License</title>
  <subtitle>Version 1.2, November 2002</subtitle>
  <anchor id="gfdl"/>

  <!--
     NOTE TO TRANSLATORS:

     Replace the text in the msgid with the text here below.
     Do NOT translate the content of the para tags, neither 
     the text here below.
     This text must not be translated but kept in english as it is, 
     only the <YOUR LANGUAGE> tags should be changed, but not translated, 
     to fit your own language:

     "This is an unofficial translation of the GNU Free Documentation
     License into <YOUR LANGUAGE>. It was not published by the Free
     Software Foundation, and does not legally state the distribution terms
     for software that uses the GNU FDL-only the <ulink
     url="../en/legal.html">original English text of the GNU FDL</ulink>
     does that. However, we hope that this translation will help <YOUR
     LANGUAGE> speakers understand the GNU FDL better."
  -->
  <para>
     Note that any translations of the GNU Free Documentation License are not
     published by the Free Software Foundation, and do not legally state the
     distribution terms for software that uses the GNU FDL-only the
     original English text of the GNU FDL does that.
  </para>
  <!--
     NOTE TO TRANSLATORS:

     Replace the text in the msgid with the translation of this piece 
     of text:

     "This is an unofficial translation of the GNU Free Documentation
     License into <YOUR LANGUAGE>. It was not published by the Free
     Software Foundation, and does not legally state the distribution terms
     for software that uses the GNU FDL-only the <ulink
     url="../en/legal.html">original English text of the GNU FDL</ulink>
     does that. However, we hope that this translation will help <YOUR
     LANGUAGE> speakers understand the GNU FDL better."
  -->
  <para>
     The <acronym>GIMP</acronym> Documentation Team
  </para>
  <blockquote id="fsf-copyright">
    <para>
      Copyright (C) 2000,2001,2002 Free Software Foundation, Inc. 59 Temple
      Place, Suite 330, Boston, MA 02111-1307 USA. Everyone is permitted to
      copy and distribute verbatim copies of this license document, but
      changing it is not allowed.
    </para>
  </blockquote>

  <sect1 id="gfdl-0" role="NotInToc">
    <title>PREAMBLE</title>
    <para>
      The purpose of this License is to make a manual, textbook, or other
      functional and useful document <quote>free</quote>
      in the sense of freedom: to assure everyone the effective freedom to
      copy and redistribute it, with or without modifying it, either
      commercially or noncommercially. Secondarily, this License preserves for
      the author and publisher a way to get credit for their work, while not
      being considered responsible for modifications made by others.
    </para>
    <para>
      This License is a kind of <quote>copyleft</quote>,
      which means that derivative works of the document must themselves be
      free in the same sense. It complements the GNU General Public License,
      which is a copyleft license designed for free software.
    </para>
    <para>
      We have designed this License in order to use it for manuals for free
      software, because free software needs free documentation: a free program
      should come with manuals providing the same freedoms that the software
      does. But this License is not limited to software manuals; it can be
      used for any textual work, regardless of subject matter or whether it is
      published as a printed book. We recommend this License principally for
      works whose purpose is instruction or reference.
    </para>
  </sect1>
  <sect1 id="gfdl-1" role="NotInToc">
    <title>APPLICABILITY AND DEFINITIONS</title>
    <para id="gfdl-doc">
      This License applies to any manual or other work, in any medium, that
      contains a notice placed by the copyright holder saying it can be
      distributed under the terms of this License. Such a notice grants a
      world-wide, royalty-free license, unlimited in duration, to use that
      work under the conditions stated herein. The <quote>Document</quote>,
      below, refers to any such manual or work. Any member of the public is
      a licensee, and is addressed as <quote>you</quote>.
      You accept the license if you copy, modify or distribute the work in a
      way requiring permission under copyright law.
    </para>
    <para id="gfdl-mod-ver">
      A <quote>Modified Version</quote>
      of the Document means any work containing the Document or a portion of
      it, either copied verbatim, or with modifications and/or translated into
      another language.
    </para>
    <para id="gfdl-secnd-sect">
      A <quote>Secondary Section</quote>
      is a named appendix or a front-matter section of the Document that deals
      exclusively with the relationship of the publishers or authors of the
      Document to the Document's overall subject (or to related matters) and
      contains nothing that could fall directly within that overall subject.
      (Thus, if the Document is in part a textbook of mathematics, a Secondary
      Section may not explain any mathematics.) The relationship could be a
      matter of historical connection with the subject or with related
      matters, or of legal, commercial, philosophical, ethical or political
      position regarding them.
    </para>
    <para id="gfdl-inv-sect">
      The <quote>Invariant Sections</quote>
      are certain Secondary Sections whose titles are designated, as being
      those of Invariant Sections, in the notice that says that the Document
      is released under this License. If a section does not fit the above
      definition of Secondary then it is not allowed to be designated as
      Invariant. The Document may contain zero Invariant Sections. If the
      Document does not identify any Invariant Sections then there are none.
    </para>
    <para id="gfdl-cov-text">
      The <quote>Cover Texts</quote> are certain short passages of text that
      are listed,
      as Front-Cover Texts or Back-Cover Texts, in the notice that says
      that the Document is released under this License.  A Front-Cover Text
      may be at most 5 words, and a Back-Cover Text may be at most 25
      words.
    </para>
    <para id="gfdl-transparent">
      A <quote>Transparent</quote>
      copy of the Document means a machine-readable copy, represented in a
      format whose specification is available to the general public, that is
      suitable for revising the document straightforwardly with generic text
      editors or (for images composed of pixels) generic paint programs or
      (for drawings) some widely available drawing editor, and that is
      suitable for input to text formatters or for automatic translation to a
      variety of formats suitable for input to text formatters. A copy made in
      an otherwise Transparent file format whose markup, or absence of markup,
      has been arranged to thwart or discourage subsequent modification by
      readers is not Transparent. An image format is not Transparent if used
      for any substantial amount of text. A copy that is not
      <quote>Transparent</quote> is called <quote>Opaque</quote>.
    </para>
    <para>
      Examples of suitable formats for Transparent copies include plain ASCII
      without markup, Texinfo input format, LaTeX input format, SGML or XML
      using a publicly available DTD, and standard-conforming simple HTML,
      PostScript or PDF designed for human modification. Examples of
      transparent image formats include PNG, XCF and JPG. Opaque formats
      include proprietary formats that can be read and edited only by
      proprietary word processors, SGML or XML for which the DTD and/or
      processing tools are not generally available, and the machine-generated
      HTML, PostScript or PDF produced by some word processors for output
      purposes only.
    </para>
    <para id="gfdl-title-page">
      The <quote>Title Page</quote> means, for a printed book, the title
      page itself,
      plus such following pages as are needed to hold, legibly, the
      material this License requires to appear in the title page.  For
      works in formats which do not have any title page as such,
      <quote>Title Page</quote>
      means the text near the most prominent appearance of the work's
      title, preceding the beginning of the body of the text.
    </para>
    <para id="gfdl-entitled">
      A section <quote>Entitled XYZ</quote> means a named subunit of the
      Document whose title either is precisely XYZ or contains XYZ in
      parentheses following text that translates XYZ in another language.
      (Here XYZ stands for a specific section name mentioned below, such as
      <quote>Acknowledgements</quote>, <quote>Dedications</quote>,
      <quote>Endorsements</quote>, or <quote>History</quote>.) To
      <quote>Preserve the Title</quote> of such a section when you modify
      the Document means that it remains a section
      <quote>Entitled XYZ</quote> according to this definition.
    </para>
    <para>
      The Document may include Warranty Disclaimers next to the notice which
      states that this License applies to the Document. These Warranty
      Disclaimers are considered to be included by reference in this License,
      but only as regards disclaiming warranties: any other implication that
      these Warranty Disclaimers may have is void and has no effect on the
      meaning of this License.
    </para>
  </sect1>
  <sect1 id="gfdl-2" role="NotInToc">
    <title>VERBATIM COPYING</title>
    <para>
      You may copy and distribute the Document in any medium, either
      commercially or noncommercially, provided that this License, the
      copyright notices, and the license notice saying this License applies to
      the Document are reproduced in all copies, and that you add no other
      conditions whatsoever to those of this License. You may not use
      technical measures to obstruct or control the reading or further copying
      of the copies you make or distribute. However, you may accept
      compensation in exchange for copies. If you distribute a large enough
      number of copies you must also follow the conditions in <link
      linkend="gfdl-3">section 4</link>.
    </para>
    <para>
      You may also lend copies, under the same conditions stated above, and
      you may publicly display copies.
    </para>
  </sect1>
  <sect1 id="gfdl-3" role="NotInToc">
    <title>COPYING IN QUANTITY</title>
    <para>
      If you publish printed copies (or copies in media that commonly have
      printed covers) of the Document, numbering more than 100, and the
      Document's license notice requires Cover Texts, you must enclose the
      copies in covers that carry, clearly and legibly, all these Cover Texts:
      Front-Cover Texts on the front cover, and Back-Cover Texts on the back
      cover. Both covers must also clearly and legibly identify you as the
      publisher of these copies. The front cover must present the full title
      with all words of the title equally prominent and visible. You may add
      other material on the covers in addition. Copying with changes limited
      to the covers, as long as they preserve the title of the Document and
      satisfy these conditions, can be treated as verbatim copying in other
      respects.
    </para>
    <para>
      If the required texts for either cover are too voluminous to fit
      legibly, you should put the first ones listed (as many as fit
      reasonably) on the actual cover, and continue the rest onto adjacent
      pages.
    </para>
    <para>
      If you publish or distribute Opaque copies of the Document numbering
      more than 100, you must either include a machine-readable Transparent
      copy along with each Opaque copy, or state in or with each Opaque copy a
      computer-network location from which the general network-using public
      has access to download using public-standard network protocols a
      complete Transparent copy of the Document, free of added material. If
      you use the latter option, you must take reasonably prudent steps, when
      you begin distribution of Opaque copies in quantity, to ensure that this
      Transparent copy will remain thus accessible at the stated location
      until at least one year after the last time you distribute an Opaque
      copy (directly or through your agents or retailers) of that edition to
      the public.
    </para>
    <para>
      It is requested, but not required, that you contact the authors of the
      Document well before redistributing any large number of copies, to give
      them a chance to provide you with an updated version of the Document.
    </para>
  </sect1>
  <sect1 id="gfdl-4" role="NotInToc">
    <title>MODIFICATIONS</title>
    <para>
      You may copy and distribute a Modified Version of the Document under the
      conditions of sections <link linkend="gfdl-2">3</link> and <link
      linkend="gfdl-3">4</link> above, provided that you release the
      Modified Version under precisely this License, with the Modified Version
      filling the role of the Document, thus licensing distribution and
      modification of the Modified Version to whoever possesses a copy of it.
      In addition, you must do these things in the Modified Version:
    </para>
    <orderedlist id="gfdl-modif-cond" numeration="upperalpha">
      <title/>
      <listitem>
        <simpara>
          Use in the Title Page (and on the covers, if any) a title distinct
          from that of the Document, and from those of previous versions
          (which should, if there were any, be listed in the History section
          of the Document). You may use the same title as a previous version
          if the original publisher of that version gives permission.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          List on the Title Page, as authors, one or more persons or entities
          responsible for authorship of the modifications in the Modified
          Version, together with at least five of the principal authors of the
          Document (all of its principal authors, if it has fewer than five),
          unless they release you from this requirement.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          State on the Title page the name of the publisher of the Modified
          Version, as the publisher.
        </simpara>
      </listitem>
      <listitem>
        <simpara>Preserve all the copyright notices of the Document.</simpara>
      </listitem>
      <listitem>
        <simpara>
          Add an appropriate copyright notice for your modifications adjacent
          to the other copyright notices.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          Include, immediately after the copyright notices, a license notice
          giving the public permission to use the Modified Version under the
          terms of this License, in the form shown in the
          <link linkend="gfdl-addendum">Addendum</link>
          below.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          Preserve in that license notice the full lists of Invariant Sections
          and required Cover Texts given in the Document's license notice.
        </simpara>
      </listitem>
      <listitem>
        <simpara>Include an unaltered copy of this License.</simpara>
      </listitem>
      <listitem>
        <simpara>
          Preserve the section Entitled <quote>History</quote>,
          Preserve its Title, and add to it an item stating at least the
          title, year, new authors, and publisher of the Modified Version as
          given on the Title Page. If there is no section Entitled
          <quote>History</quote>
          in the Document, create one stating the title, year, authors, and
          publisher of the Document as given on its Title Page, then add an
          item describing the Modified Version as stated in the previous
          sentence.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          Preserve the network location, if any, given in the Document for
          public access to a Transparent copy of the Document, and likewise
          the network locations given in the Document for previous versions it
          was based on. These may be placed in the
          <quote>History</quote>
          section. You may omit a network location for a work that was
          published at least four years before the Document itself, or if the
          original publisher of the version it refers to gives permission.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          For any section Entitled
          <quote>Acknowledgements</quote> or <quote>Dedications</quote>,
          Preserve the Title of the section, and preserve in the section all
          the substance and tone of each of the contributor acknowledgements
          and/or dedications given therein.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          Preserve all the Invariant Sections of the Document, unaltered in
          their text and in their titles. Section numbers or the equivalent
          are not considered part of the section titles.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          Delete any section Entitled <quote>Endorsements</quote>.
          Such a section may not be included in the Modified Version.
        </simpara>
      </listitem>
      <listitem>
        <simpara>
          Do not retitle any existing section to be Entitled
          <quote>Endorsements</quote>
          or to conflict in title with any Invariant Section.
        </simpara>
      </listitem>
      <listitem>
        <simpara>Preserve any Warranty Disclaimers.</simpara>
      </listitem>
    </orderedlist>
    <para>
      If the Modified Version includes new front-matter sections or
      appendices that qualify as Secondary Sections and contain no material
      copied from the Document, you may at your option designate some or
      all of these sections as invariant.  To do this, add their titles to
      the list of Invariant Sections in the Modified Version's license
      notice.  These titles must be distinct from any other section titles.
    </para>
    <para>
      You may add a section Entitled <quote>Endorsements</quote>, provided it
      contains nothing but endorsements of your Modified Version by various
      parties-for example, statements of peer review or that the text has been
      approved by an organization as the authoritative definition of a
      standard.
    </para>
    <para>
      You may add a passage of up to five words as a Front-Cover Text, and
      a passage of up to 25 words as a Back-Cover Text, to the end of the
      list of Cover Texts in the Modified Version.  Only one passage of
      Front-Cover Text and one of Back-Cover Text may be added by (or
      through arrangements made by) any one entity.  If the Document
      already includes a cover text for the same cover, previously added by
      you or by arrangement made by the same entity you are acting on
      behalf of, you may not add another; but you may replace the old one,
      on explicit permission from the previous publisher that added the old
      one.
    </para>
    <para>
      The author(s) and publisher(s) of the Document do not by this License
      give permission to use their names for publicity for or to assert or
      imply endorsement of any Modified Version.
    </para>
  </sect1>
  <sect1 id="gfdl-5" role="NotInToc">
    <title>COMBINING DOCUMENTS</title>
    <para>
      You may combine the Document with other documents released under this
      License, under the terms defined in <link linkend="gfdl-4">section 5
      </link> above for modified versions, provided that you include in the
      combination all of the Invariant Sections of all of the original
      documents, unmodified, and list them all as Invariant Sections of
      your combined work in its license notice, and that you preserve all
      their Warranty Disclaimers.
    </para>
    <para>
      The combined work need only contain one copy of this License, and
      multiple identical Invariant Sections may be replaced with a single
      copy. If there are multiple Invariant Sections with the same name but
      different contents, make the title of each such section unique by adding
      at the end of it, in parentheses, the name of the original author or
      publisher of that section if known, or else a unique number. Make the
      same adjustment to the section titles in the list of Invariant Sections
      in the license notice of the combined work.
    </para>
    <para>
      In the combination, you must combine any sections Entitled
      <quote>History</quote> in the various original documents, forming one
      section Entitled <quote>History</quote>; likewise combine any sections
      Entitled <quote>Acknowledgements</quote>, and any sections Entitled
      <quote>Dedications</quote>. You must delete all sections Entitled
      <quote>Endorsements</quote>.
    </para>
  </sect1>
  <sect1 id="gfdl-6" role="NotInToc">
    <title>COLLECTIONS OF DOCUMENTS</title>
    <para>
      You may make a collection consisting of the Document and other documents
      released under this License, and replace the individual copies of this
      License in the various documents with a single copy that is included in
      the collection, provided that you follow the rules of this License for
      verbatim copying of each of the documents in all other respects.
    </para>
    <para>
      You may extract a single document from such a collection, and distribute
      it individually under this License, provided you insert a copy of this
      License into the extracted document, and follow this License in all
      other respects regarding verbatim copying of that document.
    </para>
  </sect1>
  <sect1 id="gfdl-7" role="NotInToc">
    <title>AGGREGATION WITH INDEPENDENT WORKS</title>
    <para>
      A compilation of the Document or its derivatives with other separate
      and independent documents or works, in or on a volume of a storage or
      distribution medium, is called an <quote>aggregate</quote> if the
      copyright resulting from the compilation is not used to limit the legal
      rights of the compilation's users beyond what the individual works
      permit. When the Document is included in an aggregate, this License
      does not apply to the other works in the aggregate which are not
      themselves derivative works of the Document.
    </para>
    <para>
      If the Cover Text requirement of <link linkend="gfdl-3">section 4</link>
      is applicable to these copies of the Document, then if the Document is
      less than one half of the entire aggregate, the Document's Cover Texts
      may be placed on covers that bracket the Document within the aggregate,
      or the electronic equivalent of covers if the Document is in electronic
      form. Otherwise they must appear on printed covers that bracket the
      whole aggregate.
    </para>
  </sect1>
  <sect1 id="gfdl-8" role="NotInToc">
    <title>TRANSLATION</title>
    <para>
      Translation is considered a kind of modification, so you may distribute
      translations of the Document under the terms of <link
      linkend="gfdl-4">section 5</link>. Replacing
      Invariant Sections with translations requires special permission from
      their copyright holders, but you may include translations of some or all
      Invariant Sections in addition to the original versions of these
      Invariant Sections. You may include a translation of this License, and
      all the license notices in the Document, and any Warranty Disclaimers,
      provided that you also include the original English version of this
      License and the original versions of those notices and disclaimers. In
      case of a disagreement between the translation and the original version
      of this License or a notice or disclaimer, the original version will
      prevail.
    </para>
    <para>
      If a section in the Document is Entitled
      <quote>Acknowledgements</quote>, <quote>Dedications</quote>, or
      <quote>History</quote>, the requirement (<link linkend="gfdl-4">section
      5</link>) to Preserve its Title (<link linkend="gfdl-1">section
      2</link>) will typically require changing the actual title.
    </para>
  </sect1>
  <sect1 id="gfdl-9" role="NotInToc">
    <title>TERMINATION</title>
    <para>
      You may not copy, modify, sublicense, or distribute the Document except
      as expressly provided for under this License. Any other attempt to copy,
      modify, sublicense or distribute the Document is void, and will
      automatically terminate your rights under this License. However, parties
      who have received copies, or rights, from you under this License will
      not have their licenses terminated so long as such parties remain in
      full compliance.
    </para>
  </sect1>
  <sect1 id="gfdl-10" role="NotInToc">
    <title>FUTURE REVISIONS OF THIS LICENSE</title>
    <para>
      The Free Software Foundation may publish new, revised versions of the
      GNU Free Documentation License from time to time. Such new versions will
      be similar in spirit to the present version, but may differ in detail to
      address new problems or concerns. See
      <ulink
      url="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</ulink>.
    </para>
    <para>
      Each version of the License is given a distinguishing version number.
      If the Document specifies that a particular numbered version of this
      License <quote>or any later version</quote> applies to it, you have
      the option of following the terms and conditions either of that
      specified version or of any later version that has been published (not
      as a draft) by the Free Software Foundation. If the Document does not
      specify a version number of this License, you may choose any version
      ever published (not as a draft) by the Free Software Foundation.
    </para>
  </sect1>
  <sect1 id="gfdl-addendum" role="NotInToc">
    <title>ADDENDUM: How to use this License for your documents</title>
    <para>
      To use this License in a document you have written, include a copy of
      the License in the document and put the following copyrightand license
      notices just after the title page:
    </para>
    <blockquote id="gfdl-copyright-sample">
      <para>
        Copyright (c) YEAR YOUR NAME. Permission is granted to copy,
        distribute and/or modify this document under the terms of the GNU Free
        Documentation License, Version 1.2 or any later version published by
        the Free Software Foundation; with no Invariant Sections, no
        Front-Cover Texts, and no Back-Cover Texts. A copy of the license is
        included in the section entitled
        <quote>GNU Free Documentation License</quote>.
      </para>
    </blockquote>
    <para>
      If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
      replace the <quote>with...Texts.</quote> line with this:
    </para>
    <blockquote id="gfdl-inv-cover-sample">
      <para>
        with the Invariant Sections being LIST THEIR TITLES, with the
        Front-Cover Texts being LIST, and with the Back-Cover Texts being
        LIST.
      </para>
    </blockquote>
    <para>
      If you have Invariant Sections without Cover Texts, or some other
      combination of the three, merge those two alternatives to suit the
      situation.
    </para>
    <para>
      If your document contains nontrivial examples of program code, we
      recommend releasing these examples in parallel under your choice of free
      software license, such as the GNU General Public License, to permit
      their use in free software.
    </para>
  </sect1>
</appendix>
-#-#-
<sect1 id="gimp-introduction-history-2-0">
  <title>Version 2.0</title>

  <para>
    First, a statistic: the <acronym>GIMP</acronym> code base
    contains about 230,000 lines of C code, and
    most of these lines were rewritten in the
    evolution from 1.2 to 2.0. From the user's point of view, however,
    <acronym>GIMP</acronym> 2 is fundamentally similar to
    <acronym>GIMP</acronym> 1; the features are similar enough that
    <acronym>GIMP</acronym> 1 users won't be lost. As part of the
    restructuring work, the developers cleaned up the code greatly, an
    investment that, while not directly visible to the user, will ease
    maintenance and make future additions less painful. Thus, the
    <acronym>GIMP</acronym>
    2 code base is significantly better organized and more
    maintainable than was the case for <acronym>GIMP</acronym> 1.2.
  </para>
  <variablelist>
    <varlistentry>
      <term>Basic tools</term>
      <listitem>
        <para>
          The basic tools in <acronym>GIMP</acronym> 2 are not very
          different from their predecessors in
          <acronym>GIMP</acronym> 1. The
          <quote>Select Regions by Color</quote> tool
          is now shown in the <acronym>GIMP</acronym> toolbox, but
          was already included in <acronym>GIMP</acronym> 1 as a
          menu option in the Select menu. The Transform
          tool has been divided into several specialized tools:
          Rotation, Scale, Shearing and Perspective. Color operations
          are now associated with layers in the menu
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Colors</guisubmenu>
          </menuchoice>,
          but this is merely a cleanup: they were already present in
          the Image menu (illogically, since they are layer
          operations). Thus no completely new tools appear in this
          release, but two of the tools have been totally revamped
          compared to the older versions: the Text tool and the Path
          tool. More on this below.
        </para>
        <para>
          The user interface for tools has also changed significantly.
          The <quote>Tool Options</quote> dialog box was modified to
          not resize
          itself when a new tool is chosen. Most users felt that the
          window changing size when a new tool was selected was
          annoying. Now, by default the <quote>Tool Options</quote>
          dialog is
          constantly open and docked under the toolbox, where it can
          easily be found.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Tool options</term>
      <listitem>
        <para>
          The <quote>Tool Options</quote> for many tools have new
          possibilities that weren't available in
          <acronym>GIMP</acronym> 1. Without being exhaustive,
          here are the most noticeable improvements.
        </para>
        <para>
          All selection tools now have mode buttons: Replace, Add,
          Subtract and Intersect. In <acronym>GIMP</acronym> 1 the
          only way to change the
          selection mode was to use the
          <keycap>Ctrl</keycap> or <keycap>Shift</keycap>
          buttons, which
          could get very confusing because those buttons also had
          other functions. For example, pressing and holding the
          <keycap>Shift</keycap>
          key while using the Rectangle selection tool forces the
          rectangle to be a square. Thus, to add a square selection
          you would first press <keycap>Shift</keycap>, then click
          the mouse, then release <keycap>Shift</keycap>, then press
          <keycap>Shift</keycap> again, then sweep out the
          selection with the mouse, then release <keycap>Shift</keycap>.
          It can now be done more easily.
        </para>
        <para>
          For transformation tools, buttons now control which object
          (layer, selection or path) is affected by the
          transformation. You can for example transform a rectangular
          selection to various quadrilateral shapes. Path
          transformation in particular is now easier than it was
          before.
        </para>
        <para><quote>Fade out</quote> and
          <quote>Paint Using Gradient</quote> are now available for
          all drawing tools. In fact, all drawing tools now have their
          own individual brush, gradient and pattern settings, in
          contrast to <acronym>GIMP</acronym> 1 where there was a
          single global setting
          that applied to all drawing tools. Now you can select
          different brushes for the Pencil and the Paint Brush, or
          different patterns for the Clone and Fill tools. You can
          change these setting by using your mouse wheel over the
          relevant resource button (this is most useful for quickly
          and easily choosing a brush).
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>User Interface</term>
      <listitem>
        <para>
          The most visible changes in <acronym>GIMP</acronym> 2
          concern the user interface. <acronym>GIMP</acronym> now
          uses the <acronym>GTK2+</acronym> graphical toolkit in
          place of <acronym>GTK+</acronym>. One of the nice features
          brought by the new
          libraries is dockable dialogs, and tab navigation between
          dialogs docked in the same window â€” a feature present in
          several popular web browsers. <acronym>GIMP</acronym> 1
          was famous for opening dialogs anywhere on your screen;
          <acronym>GIMP</acronym> 2 can be told to use
          fixed boxes. Dialogs now include a little tab-customization
          menu, which provides maximum flexibility in organizing your
          workspace.
        </para>
        <para>
          The Image window has some interesting new features. These
          are not necessarily activated by default, but they can be
          checked as options in the
          <menuchoice>
            <guimenu>Preferences</guimenu>
            <guisubmenu>Interface</guisubmenu>
            <guisubmenu>Image Windows</guisubmenu>
          </menuchoice>
          menu. <quote>Show Brush Outline</quote>, for example,
          allows you
          to see the outline of the brush when using drawing tools. In
          the <quote>Appearance</quote> sub-section, you can toggle
          whether a menu
          bar is present at the top of image windows. You can set an
          option to work with the new fullscreen mode. Viewing options
          are also available from all image windows using right click
          to bring up the menu, then selecting <quote>View</quote>.
          The so-called <quote>image</quote> menu is also available
          by clicking on a little
          triangle in the top left corner of the drawing space. The
          setting you choose in the <quote>Preferences</quote>
          dialog is used as
          the default value, and options you set from an image are
          used only for that image. (You can also toggle fullscreen
          mode by using the <keycap>F11</keycap> key; the
          <keycap>Esc</keycap> key also exits fullscreen mode).
        </para>
        <para>
          <acronym>GIMP</acronym>
          2 features keyboard accelerators to ease menu access. If you
          find that navigating through menus using your mouse is
          onerous, the solution may be to use the keyboard. For
          example, if the menu bar is present, to create a new image
          just hit
          <keycombo>
            <keycap>Alt</keycap>
            <keycap>F</keycap>
            <keycap>N</keycap>
          </keycombo>. Without the menu bar, hit
          <keycombo><keycap>Shift</keycap><keycap>F10</keycap></keycombo>
          to open the top-left menu, and use direction keys or
          <keycap>F</keycap> then <keycap>N</keycap>
          to create the new image. Keyboard accelerators are different
          from shortcuts: accelerators are useful to navigate through
          menus, whereas shortcuts call a specific menu item directly.
          For example,
          <keycombo><keycap>Ctrl</keycap><keycap>N</keycap></keycombo>
          is a shortcut, and the quickest way to open a new image.
        </para>
        <para>
          To ease access to your most commonly used menu items, the
          <acronym>GIMP</acronym> has provided dynamic shortcuts for
          many years. When a
          menu is open, you can hover over the desired menu item and
          hold down your shortcut combination. This feature is still
          present, but is deactivated by default in the
          <acronym>GIMP</acronym> 2.0, to
          avoid accidental re-assigning of existing shortcuts.
        </para>
        <para>
          The <acronym>GIMP</acronym> also ships with a number of
          sets of key-bindings
          for its menus. If you would like to replace the default
          <acronym>GIMP</acronym>
          keybindings by Photoshop bindings, for example, you can move
          the file <filename>menurc</filename> in your user data
          directory to <filename>oldmenurc</filename>, rename
          <filename>ps-menurc</filename> to
          <filename>menurc</filename> and restart
          <acronym>GIMP</acronym>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Handling Tabs and Docks</term>
      <listitem>
        <para>
          The <acronym>GIMP</acronym>
          2.0 introduces a system of tabbed dialogs to allow you to make your
          workspace look the way you want it to be. Almost all dialogs can be
          dragged to another dialog window and dropped to make a tabbed dialog
          set.
        </para>
        <para>
          Furthermore, at the bottom of each dialog, there is a dockable area:
          drag and drop tabs here to attach dialogs beneath the bottom tab
          group.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Scripting</term>
      <listitem>
        <para><quote>Python-fu</quote> is now the standard external
          scripting interface for <acronym>GIMP</acronym> 2. This
          means that you can now use <acronym>GIMP</acronym>
          functions in Python scripts, or
          conversely use Python to write
          <acronym>GIMP</acronym> plug-ins. Python
          is relatively easy to understand even for a
          beginner, especially in comparison to the
          Lisp-like Scheme
          language used for Script-Fu in <acronym>GIMP</acronym> 1.
          The Python bindings
          are augmented by a set of classes for common operations, so
          you are not forced to search through the complete
          <acronym>GIMP</acronym>
          Procedural Database in order to carry out basic operations.
          Moreover, Python has integrated
          development environments and
          a gigantic library, and runs not only on
          Linux but also on
          Microsoft Windows and Apples Mac OS X. The biggest drawback,
          for <acronym>GIMP</acronym> 2.0, is that the standard user
          interface offered in
          Python-fu does not use the complete power of the
          Python
          language. The interface is currently designed to support
          simple scripts, but a more sophisticated version is a goal
          of future development.
        </para>
        <para>
          <acronym>GIMP</acronym>-Perl is no longer distributed with
          the standard <acronym>GIMP</acronym> 2
          distribution, but is available as a separate package.
          Currently, <acronym>GIMP</acronym>-Perl is supported only
          on Unix-like
          operating systems. It includes both a simple scripting
          language, and the ability to code more polished interfaces
          using the <acronym>Gtk2</acronym> perl module. Direct
          pixel manipulation is
          available through the use of <acronym>PDL</acronym>.
        </para>
        <para>
          Script-Fu, based on <quote>Scheme</quote>,
          has the same drawbacks as before: not intuitive, hard to use
          and lacking a real development environment. It does, however,
          have one major advantage compared to Python-fu: Script-Fu
          scripts are directly interpreted by <acronym>GIMP</acronym>
          and do not require any additional software installation.
          Python-fu requires that you install a package for the Python
          language.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>The Text Tool</term>
      <listitem>
        <para>
          The big problem with the standard text tool in
          <acronym>GIMP</acronym>
          1 was that text could not be modified after it was rendered.
          If you wanted to change anything about the text, all you could
          do was <quote>undo</quote>
          and try again (if you were lucky enough to have sufficient
          undo history available, and then of course you would also undo
          any other work you had done in the meantime). In
          <acronym>GIMP</acronym> 1.2 there was also a
          <quote>dynamic text</quote>
          plug-in that allowed you to create special text layers and
          keep them around indefinitely, in a modifiable form, but it
          was buggy and awkward to use. The second generation Text tool
          is an enhanced combination of the old Text tool and the
          Dynamic Text plugin. Now all options are available in the
          <quote>Tool Options</quote>
          : font, font size, text color, justify, antialiasing, indent,
          spacing. To create a new text item, click in the image and a
          little editor pops up. Text appears on the image while you are
          editing (and carriage returns are handled properly!). A new
          dedicated layer is created; this layer resizes dynamically to
          match the text you key in. You can import plain text from a
          file, and you can even do things like writing from right to
          left in Arabic. If you select a text layer, clicking on it
          opens the editor, and you can then modify your text.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>The Path Tool</term>
      <listitem>
        <para>
          The second generation Path tool has a completely new interface. The
          first major difference you notice is that paths are no longer
          required to be closed. A path can be made up of a number of disjoint
          curve segments. The next major difference is that now the path tool
          has three different modes, Design, Edit and Move.
        </para>
        <para>
          In Design mode, you can create a path, add nodes to an
          existing path and modify the shape of a curve either by
          dragging edges of the curve or dragging the
          <quote>handles</quote> of a node.
        </para>
        <para>
          In Edit mode, you can add nodes in the middle of curve edges, and
          remove nodes or edges, as well as change the shape of the curve. You
          can also connect two path components.
        </para>
        <para>
          The third mode, Move, is, as you might expect, used to move
          path components. If your path has several components, you
          can move each path component separately. To move all
          components at once, use the <keycap>Shift</keycap> key.
        </para>
        <para>
          Two other path-related features are new in the
          <acronym>GIMP</acronym> 2.0. The <acronym>GIMP</acronym>
          can not only import an SVG image as a raster image, but
          can also keep SVG paths intact as <acronym>GIMP</acronym>
          paths. This means that the <acronym>GIMP</acronym> is now
          more able than ever to complement your
          favorite vector drawing tool. The other feature which has
          made the path tool much better is the introduction of
          vector-based stroking. In previous versions, stroking paths
          and selections was a matter of drawing a brush-stroke along
          the path. This mode is still available, but it is now
          possible to stroke a curve accurately, using the vector
          library <acronym>libart</acronym>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Other improvements</term>
      <listitem>
        <para>Some other improvements in brief:</para>
        <itemizedlist>
          <listitem>
            <para>
              Higher-quality antialiasing in some places â€” most notibly in the
              Text tool.
            </para>
          </listitem>
          <listitem>
            <para>
              Icons and menus are skinnable. You can create your own
              icon set and apply it to the toolbox using the
              <menuchoice>
                <guimenu>Preference</guimenu>
                <guisubmenu>Interface</guisubmenu>
              </menuchoice>
              menu option. A theme called <quote>small</quote> is
              included with the standard distribution.
            </para>
          </listitem>
          <listitem>
            <para>
              An image can be saved as a template and used to create new
              images.
            </para>
          </listitem>
          <listitem>
            <para>
              There are four new combination modes for layers that lie
              one on top of another within an image:
              <quote>Hard Light</quote>, <quote>Soft Light</quote>,
              <quote>Grain Extract</quote> and
              <quote>Grain Merge</quote>.
            </para>
          </listitem>
          <listitem>
            <para>
              If there is an active selection, you can crop the image
              directly to the selection size using image menu
              <menuchoice>
                <guimenu>Image</guimenu>
                <guisubmenu>Crop</guisubmenu>
              </menuchoice>.
            </para>
          </listitem>
          <listitem>
            <para>
              As well as being able to create guides, there's now a grid
              functionality in <acronym>GIMP</acronym>.
              It is complementary to the guides functionality and makes it
              easier to position objects so that they align perfectly.
            </para>
          </listitem>
          <listitem>
            <para>
              The Layers dialog is more coherent, in that there are no more
              hidden functions accessed only with right click on the miniature
              image of the layer that appears there. You can now handle layer
              operations directly from the image menu: Layer Mask,
              Transparency, Transformation and Layer Color operations are
              directly in the Layer submenu.
            </para>
          </listitem>
          <listitem>
            <para>
              Color display filters are now available from the image
              menu
              <menuchoice>
                <guimenu>View</guimenu>
                <guisubmenu>Display Filters</guisubmenu>
              </menuchoice>.
              Using them, you can
              simulate different gamma values, different contrasts, or
              even color deficient vision, without altering your
              original image. This actually has been a feature of the
              <acronym>GIMP</acronym> developer versions for a long
              time, but it has never been stable enough to appear in
              a stable version of the <acronym>GIMP</acronym> before.
            </para>
          </listitem>
          <listitem>
            <para>
              The color selection dialog has a new CMYK mode, associated with
              the printer icon.
            </para>
          </listitem>
          <listitem>
            <para>
              Data stored in <acronym>EXIF</acronym>
              tags by digital cameras are now handled in read and write mode
              for JPEG files.
            </para>
          </listitem>
          <listitem>
            <para>
              MNG animations are now supported. The MNG file format can be
              considered as animated PNG. It has all the advantages of PNG
              over GIF, such as more colors, 256 levels of transparency, and
              perhaps most importantly, lack of patent encumbrance. The format
              is a web standard and all recent popular web browsers support
              it.
            </para>
          </listitem>
          <listitem>
            <para>
              The <acronym>GIMP</acronym> Animation package now does
              onion-skinning, a
              bluescreen feature was added as well as audio support.
            </para>
          </listitem>
          <listitem>
            <para>
              A channel mixer filter, previously available from the web as an
              add-on, appears in
              <menuchoice>
                <guimenu>Filters</guimenu>
                <guisubmenu>Colors</guisubmenu>
              </menuchoice>.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>
-#-#-
<sect1 id="gimp-introduction-history-2-2">
  <title>What's New in GIMP 2.2?</title>

  <para>
    Here is a brief summary of some of the most important new features
    introduced in <acronym>GIMP</acronym>
    2.2. There are many other smaller changes that long-time users will notice
    and appreciate (or complain about!). There are also important changes at
    the level of plug-in programming and script-fu creating that are not
    covered here.
  </para>
  <variablelist>
    <varlistentry>
      <term>Interoperability and Standards Support</term>
      <listitem>
        <itemizedlist>
          <listitem>
            <para>
              You can drag-and-drop or copy-and-paste image data from the
              <acronym>GIMP</acronym> to
              any application which supports image/png drops (currently
              <application>Abiword</application> and
              <application>Kword</application> at least) and image/xml+svg drops
              (<application>Inkscape</application>
              supports this one). So you can copy-and-paste curves into the
              <acronym>GIMP</acronym>
              from <application>Inkscape</application>, and then drag a
              selection into <application>Abiword</application> to include it
              inline in your document.
            </para>
          </listitem>
          <listitem>
            <para>
              Patterns can now be any supported <classname>GtkPixbuf</classname>
              format, including png, jpeg, xbm and others.
            </para>
          </listitem>
          <listitem>
            <para>
              <acronym>GIMP</acronym> can load gradients from SVG files, and
              palettes from ACT and RIFF files.
            </para>
          </listitem>
          <listitem>
            <para>
              Drag-and-drop support has been extended. You can now drop
              files and URIs onto an image window, where they will be opened
              in the existing image as new layers.
            </para>
            <note>
              <para>
                Please note, that Drag and Drop will not work for Apple Mac OS X
                between GIMP and the finder. This is due to a lack of
                functionality on Apples X11.app
              </para>
            </note>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Shortcut Editor</term>
      <listitem>
        <para>
          You can now edit your shortcuts in a dedicated dialog, as well as
          continue to use the little-known dynamic shortcuts feature (which has
          been there since 1.2).
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Plug-in Previews</term>
      <listitem>
        <para>
          We have provided a standard preview widget for plug-in authors which
          greatly reduces the amount of code required to support previews. David
          Odin has integrated this widget into all the current filters, so that
          now many more filters in the <acronym>GIMP</acronym> include a preview
          which updates in
          real time, and the various previews behave much more consistently.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Real-Time Previews of Transform Operations</term>
      <listitem>
        <para>
          The transform tools (shear, scale, perspective and rotate) can
          now show a real-time preview of the result of the operation when
          the tool is in <quote>Traditional</quote> mode.  Previously, only a
          transforming grid was shown.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>GNOME Human Interface Guide Conformance</term>
      <listitem>
        <para>
          A lot of work has been done on making the <acronym>GIMP</acronym>'s
          interface simpler and
          more usable for newcomers. Most dialogs now follows the
          <acronym>GNOME</acronym> HIG to
          the best of our knowledge. In addition, dialogs have separated out or
          removed many <quote>Advanced</quote> options, and replaced them with
          sane defaults or hidden them in an expander.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>GTK+ 2.4 Migration</term>
      <listitem>
        <itemizedlist>
          <listitem>
            <para>
              Menus use the <classname>GtkUIManager</classname> to
              generate menu structure dynamically from XML data files.
            </para>
          </listitem>
          <listitem>
            <para>
              A completely revamped File Chooser is used everywhere in the
              <acronym>GIMP</acronym>
              for opening or saving files. The best thing about it is that it
              lets you create a set of <quote>bookmarks</quote>, making it
              possible to
              navigate quickly and easily to commonly used directories.
            </para>
          </listitem>
          <listitem>
            <para><acronym>GIMP</acronym> now supports fancy ARGB cursors when they
              are available on the system.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Basic Vector Support</term>
      <listitem>
        <para>
          Using the GFig plug-in, the <acronym>GIMP</acronym> now supports the
          basic functionality
          of vector layers. The GFig plug-in supports a number of vector
          graphics features such as gradient fills, Bezier curves and curve
          stroking. It is also the easiest way to create regular or irregular
          polygons in the <acronym>GIMP</acronym>. In the
          <acronym>GIMP</acronym> 2.2, you can create GFig layers, and
          re-edit these layers in GFig afterwards. This level of vector support
          is still quite primitive, however, in comparison to dedicated
          vector-graphics programs such as <application>Inkscape</application>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Also . . .</term>
      <listitem>
        <para>
          There are many other smaller user-visible features. A rapid-fire list
          of some of those features is below.
        </para>
        <itemizedlist>
          <listitem>
            <para>
              It is now possible to run the <acronym>GIMP</acronym> in batch
              mode without an X server.
            </para>
          </listitem>
          <listitem>
            <para>
              We have a <acronym>GIMP</acronym> binary
              (<acronym>GIMP</acronym>-console) which is not linked to GTK+
              at all.
            </para>
          </listitem>
          <listitem>
            <para>Improved interface for extended input devices</para>
          </listitem>
          <listitem>
            <para>
              Editable toolbox: You can now decide which tools should be shown
              in the Toolbox, and their order. In particular, you can add any or
              all of the Color Tools to the Toolbox if you wish to.
            </para>
          </listitem>
          <listitem>
            <para>
              Histogram overlays R, G and B histograms on the Value histogram, and
              calculates the histogram only for the contents of the selection.
            </para>
          </listitem>
          <listitem>
            <para>
              Shortcuts are now shared across all <acronym>GIMP</acronym> windows.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>
-#-#-
<sect1 id="gimp-introduction-history-2-4">
  <title>What's New in GIMP 2.4?</title>

  <variablelist>
    <varlistentry>
      <term>Refreshed Look</term>
      <listitem>
        <para>
          A whole new default icon theme has been created for 2.4. The icons
          comply with the Tango style guidelines so GIMP doesn't feel out of
          place on any of the supported platforms. Regardless of whether you
          run GIMP under Microsoft Windows, Mac OS X or Linux (GNOME, KDE or
          Xfce), GIMP provides a polished, consistent look.
        </para>
        <figure>
          <title>New Look of the toolbox in GIMP 2.4</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/24-refreshed-look.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          Additionally the icons also have enhanced usability on dark widget
          themes, which is a common setting among digital artists.
        </para>
        <para>
          For artists preferring more desaturated color theme for their icons
          is an alternative icon theme available for download
          <xref linkend="bibliography-online-jimmac01"/>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Scalable Brushes</term>
      <listitem>
        <para>
          The tool options now include a brush size slider that affects both
          the parametric and bitmap brushes. This has been an oft-requested
          feature from both digital painters and photo editors.
        </para>
        <figure>
          <title>Scalable brushes in GIMP 2.4</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/24-scalable-brushes.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          Unlike previous versions of GIMP, regardless of whether you're using
          a bitmap brush, parametric brush or even a picture tube (multiple
          bitmaps), you can easily set the brush size with either the tool
          options dock slider or an external device such as a MIDI slider or
          knob or a USB device like the Griffin Powermate.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Selection Tools</term>
      <listitem>
        <para>
          The selection tools have been rewritten from scratch to allow
          resizing of existing selections. Additionally the rectangular
          selection tool includes a setting for creating rounded corners as
          this has been identified as a very common task among web designers.
        </para>
        <figure>
          <title>Selection tools in GIMP 2.4</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/24-selection-tools.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          The learning curve for the tools has been flattened as the key
          functionality is available without obscure shortcuts that confused
          GIMP beginners. Most of the existing shortcuts still work, but the
          functionality is either available through the tool options or made
          obsolete due to the interactive move and resize on canvas.
        </para>
        <para>
          While the tools have been redesigned to make them easier to
          understand for the newbies, all the former functionality is there.
          You can still constrain aspect ratios or specific sizes.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Foreground Select Tool</term>
      <listitem>
        <para>
          Selecting individual objects on images is easier now with a new
          <link linkend="gimp-tool-foreground-select">foreground select
          tool</link>. It is done in two steps. First, you make select region
          of interest which contains the entire object. Then you
          paint over selected area with a brush, not crossing objectâ€™s border.
          Release mouse button when youâ€™re done and look, if there are dark
          blue spots on your objects. If there are some, paint with a brush
          over them again and release to refine selection. When there are no
          more blue areas inside the object, press Enter and there you have a
          perfectly selected object.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Align Tool</term>
      <listitem>
        <para>
          While GIMP has provided a grid and guideline functionality, the
          actual alignment of objects had to be done manually. A new tool
          comes at rescue <link linkend="gimp-tool-align">...</link>
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Changes in menus</term>
      <listitem>
        <para>
          Most notable is the new top-level Color menu that accumulates most
          tools, plug-ins and scripts that adjust colors in RGB/Grayscale mode
          and color palettes in Indexed mode. So now you can reach functions
          like Levels or Curves much faster than before, unless you define
          your own keyboard shortcuts for them using the improved keyboard
          shortcuts manager.
        </para>
        <para>
          In the new version of GIMP, some menu entries have changed their
          names and position. It was done mostly to simplify learning curve
          and improve user experience. After all, "HSV Noise" and "RGB Noise"
          sound more meaningful than "Scatter HSV" and "Scatter RGB", don't
          they? And status bar hints for all plug-ins and scripts are quite
          helpful too.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Support for file formats</term>
      <listitem>
        <itemizedlist>
          <listitem>
            <para>Support for Photoshop ABR brush format;</para>
          </listitem>
          <listitem>
            <para>Improved reading/writing EXIF in JPEG;</para>
          </listitem>
          <listitem>
            <para>Importing clipping paths in TIFF;</para>
          </listitem>
          <listitem>
            <para>Layer masks can be saved to PSD;</para>
          </listitem>
          <listitem>
            <para>
              16/32 bit bitmaps and alpha-channel support in BMP;
            </para>
          </listitem>
          <listitem>
            <para>
              24 bit and Vista icons can be opened and saved.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Fullscreen Editing</term>
      <listitem>
        <para>
          The fullscreen mode has been improved to not only allow getting a
          full scale preview of the artwork, but also allow comfortable
          editing. The artist has maximum screen estate available while all
          functionality is quickly accessible by pressing the
          <keycap>Tab</keycap> key (toggles
          visibility of all docks) when working fullscreen.
        </para>
        <para>
          Whether painting or touching up photos, fullscreen editing keeps all
          the distracting elements out of sight on a key press. It's like
          observing stars in a field as opposed to a light-polluted city.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Color Management and Soft-proofing</term>
      <listitem>
        <para>
          GIMP now provides full support for color profiles allowing precise
          color modification throughout the whole
          <quote>digital darkroom</quote> process.
        </para>
        <figure>
          <title>Color management in GIMP 2.4</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/24-color-management.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>New Crop Tool</term>
      <listitem>
        <para>
          Just like the selection tools, the new crop tool has been enhanced
          since the last release. The resize handles actually resize the crop
          rectangle instead of providing both resize and move functionality.
          The tool behaves more naturally and consistently with other GIMP
          tools. For details see <xref linkend="gimp-tool-crop"/>.
        </para>
        <para>
          To move, simply drag the rectangle clicking within the area.
          Resizing is possible in one or two axes at the same time dragging
          the handle-bars on the sides and corners. The outside area is
          darkened with a nice passepartout effect to better get the idea of
          how the final crop will look like.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Red Eye Removal</term>
      <listitem>
        <para>
          While numerous red-eye workflows exist already, GIMP now features a
          very convenient auto-magic filter to remove red eye from your shots.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Healing Brush</term>
      <listitem>
        <para>
          The healing brush is a new tool, similar in the working of the
          clone tool, that permits to quickly fix small defects or
          imperfections due to scratching or dust. In fact the tool is smart
          enough to being able to <emphasis>understand</emphasis> where and
          how to modify an image to cure these defects based on image color
          context.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Perspective Clone</term>
      <listitem>
        <para>
          Here is another clone-like new tool that is able to adapt the
          destination geometry, instead of color as does the healing brush,
          based on preselected distortion settings. As the name suggests,
          perfect when copying images blocks with some type of prospective
          changes.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Lens Distortion</term>
      <listitem>
        <para>
          A very common problem exposing itself especially when using cheaper
          lenses is barrel distortion and vignetting. Luckily GIMP provides a
          brand new filter to compensate for both problems. Saving
          photographer's pocket is our mission!
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Various Other Improvements</term>
      <listitem>
        <para>
          In addition to all the above, GIMP has been improved in other areas
          such as:
        </para>
        <itemizedlist>
          <listitem>
            <para>
              Better status information for tools in the window status bar.
            </para>
          </listitem>
          <listitem>
            <para>
              Various speedups in composing functions and gradient drawing.
            </para>
          </listitem>
          <listitem>
            <para>Zoomable preview widget for plugins.</para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>
-#-#-
<sect1 id="gimp-introduction-history-2-6">
  <title>What's New in GIMP 2.6? </title>

  <para>
    GIMP 2.6 is an important release from a development point of view. It
    features changes to the user interface addressing some often received
    complaints, and a tentative integration of GEGL, the graph based image
    processing library that will eventually bring high bit-depth and
    non-destructive editing to GIMP.
  </para>

  <variablelist>
    <title>User Interface</title>

    <varlistentry>
      <term>Toolbox Menubar removed</term>
      <listitem>
        <para>
          The toolbox menubar has been removed and merged with the image
          window menubar. To be able to do this a window called the empty
          image window has been introduced. It hosts the menubar and keeps
          the application instance alive when no images are opened. It also
          acts as a drag and drop target. When opening the first image the
          empty image window is transformed into a normal image window, and
          when closing the last image, that window becomes the empty image
          window.
        </para>
        <figure>
          <title>New Look of the image window in GIMP 2.6</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/empty-image-window.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Toolbox and docks are utility windows</term>
      <listitem>
        <para>
          With the empty image window acting as a natural main window, the
          Toolbox and Docks windows are now utility windows rather than main
          windows. This enables window managers to do a much better
          job of managing the GIMP windows, including omitting the Toolbox
          and Docks from the taskbar and ensuring that the Toolbox and Docks
          always are above image windows.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Ability to scroll beyond image border</term>
      <listitem>
        <para>
          The Navigation dialog now allows panning beyond the image border;
          so it is no longer a problem to use a brush on the edge of
          an image that fills the entire display window. Also, if a utility
          window covers the image, you can pan the image to view or edit the
          portion covered by the utility window.
        </para>
        <figure>
          <title>Scrolling beyond border</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                    fileref="images/using/scroll-beyond-border.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Minor changes</term>
      <listitem>
      <itemizedlist>
        <listitem>
          <para>
            Renamed Dialogs menu to Windows.
          </para>
        </listitem>
        <listitem>
          <para>
            Keep a list of recently closed Docks and allow reopening them.
          </para>
        </listitem>
        <listitem>
          <para>
            Make opening images in already running GIMP instances work better
            on Windows.
          </para>
        </listitem>
        <listitem>
          <para>
            You can now enter the image zoom ratio directly in the status bar.
          </para>
        </listitem>
        <listitem>
          <para>
            Added support for using online help instead of a locally
            installed GIMP Help package.
          </para>
        </listitem>
        <listitem>
          <para>
            Make it possible to lock tabs in docks to prevent accidental
            moving.
          </para>
        </listitem>
      </itemizedlist>
    </listitem>
    </varlistentry>
  </variablelist>

  <variablelist>
    <title>Tools, Filters and Plug-ins</title>
    <varlistentry>
      <term>Improved Free Select Tool</term>
      <listitem>
        <para>
          The freehand select tool has been enhanced to support polygonal
          selections. It also allows mixing free hand segments with polygonal
          segments, editing of existing segments, applying angle-constraints
          to segments, and of course the normal selection tool operations
          like add and subtract. Altogether this ends up making the Free
          Select Tool a very versatile, powerful and easy-to-use selection
          tool.
        </para>
        <figure>
          <title>Polygonal Selection</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/new-free-select-tool.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Brush Dynamics</term>
      <listitem>
        <para>
          Brush dynamics uses an input dynamic such as pressure, velocity, or
          random, to modify brush parameters such as opacity, hardness, size,
          or color; every brush supports size and opacity, most support more.
          Velocity and random are usable with a mouse. The Ink tool, that
          supported velocity, has been overhauled to better handle
          velocity-dependent painting.
        </para>
        <figure>
          <title>Brush Dynamics</title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/brush-dynamics.jpg"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          Brush dynamics have enabled a new feature in stroking paths. There
          is now a check box under the <quote>paint tool</quote> option, for
          emulating brush dynamics if you stroke using a paint tool. What this
          means is that when your stroke is painted, GIMP tells
          the brush that the pressure and velocity are varying along the
          length of the stroke. Pressure starts with no pressure, ramps up to
          full pressure, and then ramps down again to no pressure.
          Velocity starts from zero and ramps up to full speed by the end of
          the stroke.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Minor changes</term>
      <listitem>
        <itemizedlist>
          <listitem>
            <para>
              Added a bounding box for the Text Tool that supports automatic
              wrapping of text within that bounding box.
            </para>
            <figure>
              <title>Text tool bounding box</title>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/text-tool.png"/>
                </imageobject>
              </mediaobject>
            </figure>
          </listitem>
          <listitem>
            <para>
              Move handles for rectangle based tools like Crop and Rectangle
              Select to the outside of the rectangle when the rectangle is
              narrow.
            </para>
            <figure>
              <title>Rectangle handles</title>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/rectangle-handles.png"/>
                </imageobject>
              </mediaobject>
            </figure>
          </listitem>
          <listitem>
            <para>
              Added motion constraints to the Move Tool.
            </para>
          </listitem>
          <listitem>
            <para>
              Improved event smoothing for paint tools.
            </para>
          </listitem>
          <listitem>
            <para>
              Mark the center of rectangles while they are moved, and snap
              the center to grid and rulers.
            </para>
          </listitem>
          <listitem>
            <para>
              Enable brush scaling for the Smudge tool.
            </para>
          </listitem>
          <listitem>
            <para>
              Added ability to save presets in all color tools for color
              adjustments you use frequently.
            </para>
          </listitem>
          <listitem>
            <para>
              Allow to transfer settings from <emphasis>Brightness-Contrast
              </emphasis> to <emphasis>Levels</emphasis>, and from
              <emphasis>Levels</emphasis> to <emphasis>Curves</emphasis>.
            </para>
          </listitem>
          <listitem>
            <para>
              Allow changing opacity on transform tool previews.
            </para>
          </listitem>
          <listitem>
            <para>
              The Screenshot plug-in has been given the ability to capture
              the mouse cursor (using Xfixes).
            </para>
          </listitem>
          <listitem>
            <para>
              Display aspect ratio of the Crop and Rectangle Select Tool
              rectangles in the status bar.
            </para>
          </listitem>
          <listitem>
            <para>
              Desaturate has been given an on-canvas preview.
            </para>
          </listitem>
          <listitem>
            <para>
              The Flame plug-in has been extended with 22 new variations.
            </para>
          </listitem>
          <listitem>
            <para>
              Data file folders like brush folders are searched recursively
              for files.
            </para>
          </listitem>
          <listitem>
            <para>
              Replaced the PSD import plug-in with a rewritten version that
              does what the old version did plus some other things, for
              example reading of ICC color profiles.
            </para>
          </listitem>
          <listitem>
            <para>Several displays use Cairo library.</para>
            <figure id="gimp-cairo-2-4-vs-2-6">
              <title>Comparing 2.6 display vs 2.4</title>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/gimp-curves-tool-2-4-vs-2-6.png"/>
                </imageobject>
              </mediaobject>
            </figure>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
  </variablelist>

  <variablelist>
    <title>Under the Hood</title>
    <varlistentry>
      <term>GEGL</term>
      <listitem>
        <para>
          Important progress towards high bit-depth and non-destructive
          editing in GIMP has been made. Most color operations in GIMP are
          now ported to the powerful graph based image processing framework
          GEGL <xref linkend="bibliography-online-gegl"/>, meaning that the
          internal processing is done in 32bit floating point linear
          light RGBA. By default the legacy 8bit code paths are still used,
          but a curious user can turn on the use of GEGL for the color
          operations with <link linkend="gimp-config-use-gegl">Colors / Use
          GEGL</link>.
        </para>
        <para>
          In addition to porting color operations to GEGL, an experimental
          GEGL Operation tool has been added, found in the Tools menu. It
          enables applying GEGL operations to an image and it gives on-canvas
          previews of the results. The screenshot below shows this
          for a Gaussian Blur.
        </para>
        <figure>
          <title>GEGL operation</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/experimental-gegl-tool.png"/>
            </imageobject>
          </mediaobject>
            </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Minor changes</term>
      <listitem>
        <para>
          Ported many widgets to use the 2D graphics library cairo
          <xref linkend="bibliography-online-cairo"/> for drawing. See this
          <link linkend="gimp-cairo-2-4-vs-2-6">comparison</link> for an
          example of how much better this looks.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>

  <variablelist>
    <title>Miscellaneous</title>
    <varlistentry>
      <term>Plug-in Development</term>
      <listitem>
        <para>
          There are new things for a plug-in developer to enjoy as well.
          For example, procedures can now give a detailed error
          description in case of an error, and the error can be propagated
          to the user.
        </para>
        <para>
          GIMP 2.6 also further enhances its scripting abilities. In
          particular there is now a much richer API for the creation and
          manipulation of text layers. Here is a list of new symbols in GIMP
          2.6: <xref linkend="bibliography-online-gimp-dev-new"/>.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Backwards Compatibility</term>
      <listitem>
        <para>
          Some old scripts could not be used with GIMP-2.4. This has been
          improved and 2.6 should run 2.0 and 2.2 scripts.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Known Problems</term>
      <listitem>
      <itemizedlist>
        <listitem>
          <para>
            The Utility window hint is currently only known to work well in
            the Linux GNOME desktop environment and on Windows starting with
            GIMP 2.6.1.
          </para>
        </listitem>
        <listitem>
          <para>
            Using the Text Tool is currently not an optimal experience.
            Making it work better is a goal for GIMP 2.8.
          </para>
        </listitem>
        <listitem>
          <para>
            If you build GIMP yourself and don't have GVfs support on your
            platform you need to explicitly pass
            <option>--without-gvfs</option> to <command>configure</command>,
            otherwise opening remote files will not work properly.
          </para>
        </listitem>
      </itemizedlist>
    </listitem>
    </varlistentry>
  </variablelist>
</sect1>
-#-#-
<appendix xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-introduction-history">
  <title>GIMP History</title>

  <indexterm>
    <primary>GIMP</primary>
    <secondary>History</secondary>
  </indexterm>

  <sect1 id="gimp-introduction-history-beginning">
    <title>The Very Beginning</title>
    <para>
      According to Peter Mattis and Spencer Kimball, the original creators of
      <acronym>GIMP</acronym>, in their announcement of <acronym>GIMP</acronym>
      0.54:
    </para>
    <para>
      The <acronym>GIMP</acronym> arose from the ashes of a hideously
      crafted CS164 (compilers)
      class project. The setting: early morning. We were both weary from lack
      of sleep and the terrible strain of programming a compiler in
      LISP. The limits of our patience had long been
      exceeded, and yet still the dam held.
    </para>
    <para>
      And then it happened. Common LISP
      messily dumped core when it could not allocate the 17 MB it needed to
      generate a parser for a simple grammar using <application>yacc</application>.
      An unbelieving moment passed, there was one shared look of disgust,
      and then our project was vapor. We had to write something...
      <emphasis>ANYTHING</emphasis> ... useful. Something in
      C. Something that did not rely on nested lists to
      represent a bitmap. Thus, the <acronym>GIMP</acronym> was born.
    </para>
    <para>
      Like the phoenix, glorious, new life sprung out of the burnt remnants of
      LISP and <application>yacc</application>. Ideas went
      flying, decisions were made, the
      <acronym>GIMP</acronym> began to take form.
    </para>
    <para>
      An image manipulation program was the consensus. A program that would at
      the very least lessen the necessity of using commercial software under
      <quote>Windoze</quote> or on the <quote>Macintoy</quote>. A program
      that would provide the features missing from the other
      X painting and imaging tools. A program
      that would help maintain the long tradition of excellent and free
      UNIX applications.
    </para>
    <para>
      Six months later, we've reached an early beta stage. We want to release
      now to start working on compatibility issues and cross-platform
      stability. Also, we feel now that the program is actually usable and
      would like to see other interested programmers developing plug-ins and
      various file format support.
    </para>
  </sect1>

  <sect1 id="gimp-introduction-history-early-days">
    <title>The Early Days of GIMP</title>
    <variablelist>
      <varlistentry>
        <term>Version 0.54</term>
        <listitem>
          <para>
            Version 0.54 was released in February 1996, and had a major impact
            as the first truly professional free image manipulation program.
            This was the first free program that could compete with the big
            commercial image manipulation programs.
          </para>
          <para>
            Version 0.54 was a beta release, but it was so stable that you
            could use it for daily work. However, one of the major drawbacks
            of 0.54 was that the toolkit (the slidebars, menus, dialog boxes,
            etc.) was built on Motif, a commercial
            toolkit. This was a big drawback for systems like
            <quote>Linux</quote>, because you had to buy
            Motif if you wanted to use the faster,
            dynamically linked <acronym>GIMP</acronym>. Many
            developers were also students running Linux,
            who could not afford to buy Motif.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Version 0.60</term>
        <listitem>
          <para>
            When 0.60 was released in July 1996, it had been under S and P
            (Spencer and Peter) development for four months. Main programming
            advantages were the new toolkits, <acronym>GTK</acronym>
            (<acronym>GIMP</acronym> Toolkit) and <acronym>gdk</acronym>
            (<acronym>GIMP</acronym> Drawing Kit), which eliminated the
            reliance on Motif. For the
            graphic artist, 0.60 was full of new features like: basic layers;
            improved painting tools (sub-pixel sampling, brush spacing); a
            better airbrush; paint modes; etc.
          </para>
          <para>
            Version 0.60 was only a developer's release, and was not intended
            for widespread use. It served as a workbench for 0.99 and the
            final 1.0 version, so functions and enhancement could be tested
            and dropped or changed. You can look at 0.60 as the alpha version
            of 0.99.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Version 0.99</term>
        <listitem>
          <para>
            In February 1997, 0.99 came on the scene. Together with other
            developers, S and P had made several changes to
            <acronym>GIMP</acronym> and added
            even more features. The main difference was the new API
            (Application Programming Interface) and the
            <quote>PDB</quote>, which made it possible to write scripts;
            Script-Fus (or
            macros) could now automate things that you would normally do by
            hand. <acronym>GTK/gdk</acronym> had also changed and was now
            called <acronym>GTK+</acronym>. In
            addition, 0.99 used a new form of tile-based memory handling that
            made it possible to load huge images into <acronym>GIMP</acronym>
            (loading a 100 MB image into <acronym>GIMP</acronym> is no
            problem). Version 0.99 also introduced a new
            native <acronym>GIMP</acronym> file format called XCF.
          </para>
          <para>
            The new API made it really easy to write extensions and plug-ins
            for <acronym>GIMP</acronym>. Several new plug-ins and extensions
            emerged to make <acronym>GIMP</acronym>
            even more useful (such as <acronym>SANE</acronym>, which enables
            scanning directly into <acronym>GIMP</acronym>).
          </para>
          <para>
            In the summer of 1997, <acronym>GIMP</acronym> had reached
            version 0.99.10, and S and
            P had to drop most of their support since they had graduated and
            begun jobs. However, the other developers of
            <acronym>GIMP</acronym> continued under
            the orchestration of Federico Mena to make
            <acronym>GIMP</acronym> ready for prime time.
          </para>
          <para>
            <acronym>GTK+</acronym> was separated from
            <acronym>GIMP</acronym> in September 1997.
            <acronym>GTK+</acronym> had been
            recognized as an excellent toolkit, and other developers began
            using it to build their own applications.
          </para>
          <para>
            <acronym>GIMP</acronym> went into feature freeze in October
            1997. This meant that no
            new features would be added to the <acronym>GIMP</acronym>
            core libraries and program. <acronym>GUM</acronym> (GIMP Users
            Manual) version 0.5 was also released early in October 1997.
            The developing work continued to make <acronym>GIMP</acronym>
            stable and ready for version 1.0.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 id="gimp-introduction-history-1-0">
    <title>The One to Change the World</title>
    <variablelist>
      <varlistentry>
        <term>Version 1.0</term>
        <listitem>
          <para>
            <acronym>GIMP</acronym> version 1.0 was released on June 5,
            1998. Finally, <acronym>GIMP</acronym> was
            considered stable enough to warrant a worldwide announcement and
            professional use.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Version 1.2</term>
        <listitem>
          <para>
            <acronym>GIMP</acronym> version 1.2.0 was released on
            December 25, 2000.
            Compared to the version 1.0, it included mostly fixes
            and improvements of the user interface.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <xi:include href="history-20.xml"/>
  <xi:include href="history-22.xml"/>
  <xi:include href="history-24.xml"/>
  <xi:include href="history-26.xml"/>
</appendix>
-#-#-
  <sect1 xmlns:xi="http://www.w3.org/2001/XInclude"
id="gimp-concepts-main-windows">

  <title>Main Windows</title>
  <anchor id="gimp-concepts-usage"/>

  <indexterm>
    <primary>Basic Setup</primary>
  </indexterm>
          
  <para>
    The GIMP user interface is now available in two modes:
    <itemizedlist>
      <listitem>
        <para>
          multi-window mode,
        </para>
      </listitem>
      <listitem>
        <para>
          single window mode.
        </para>
      </listitem>
    </itemizedlist>
  </para>
  <para>
    When you open GIMP for the first time, it opens in multi-window mode by
    default. You can enable single-window mode through
    <menuchoice>
      <guimenu>Windows</guimenu>
      <guimenuitem>>Single-Window Mode</guimenuitem>
    </menuchoice>) in the image menu bar.
    After quitting GIMP with this option enabled, GIMP will start in
    single-window mode next time.
  </para>

  <variablelist>
    <varlistentry id="multi-window-mode">
      <term>Multi-Window Mode</term>
      <listitem>
        <figure>
          <title>
            A screenshot illustrating the multi-window mode.
          </title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                        fileref="images/using/multi-window.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <orderedlist>
          <para>
            The screenshot above shows the most basic arrangement of
            <acronym>GIMP</acronym> windows that can be used effectively.
          </para>
          <para>
            You can notice two panels, left and right, and an image window in
            middle. A second image is partially masked. The left panel collects
            Toolbox and Tool Options dialog together. The right panel collects
            layers, channels, paths, undo history dialogs together in a
            multi-tab dock, brushes, patterns and gradients dialogs
            together in another dock below. You can move these panels on
            screen. You can also mask them using the <keycap>Tab</keycap> key. 
          </para>
          <listitem>
            <!--1-->
            <para>
              <emphasis>The Main Toolbox:</emphasis>
              Contains a set of icon buttons used to select tools.
              By default, it also contains the foreground and background colors.
              You can add brush, pattern, gradient and active image icons.
              Use
              <menuchoice>
              <guimenu>Edit</guimenu>
              <guisubmenu>Preferences</guisubmenu>
              <guisubmenu>Toolbox</guisubmenu>
            </menuchoice>
            to enable, or disable the extra items.
            </para>
          </listitem>
          <listitem>
            <!--2-->
            <para>
              <emphasis>Tool options:</emphasis>
              Docked below the main Toolbox is a Tool Options dialog, showing
              options for the currently selected tool (in this case, the
              Move tool).
            </para>
          </listitem>
          <listitem>
            <!--3-->
            <para>
              <emphasis>Image windows:</emphasis>
              Each image open in <acronym>GIMP</acronym> is displayed in a
              separate window. Many images can be open at the same time, limited
              by only the system resources. Before you can do anything useful in
              <acronym>GIMP</acronym>, you need to have at least	one image
              window open. The image window holds the Menu of the main commands
              of <acronym>GIMP</acronym> (File, Edit, Select...), which you can
              also get by right-clicking on the window.
            </para>
            <para>
              An image can be bigger than the image window. In that case, GIMP
              displays the image in a reduced zoom level which allows to see the
              full image in the image window. If you turn to the 100% zoom
              level, scroll bars appear, allowing you to pan across the image.
            </para>
          </listitem>
          <listitem>
            <!--4-->
            <para>
              The <emphasis>Layers, Channels, Paths, Undo History</emphasis>
              dock &mdash; note that the dialogs in the dock are tabs.
              The Layers tab is open : it shows the layer structure of
              the currently
              active image, and allows it to be manipulated in a variety of
              ways. It is possible to do a few very basic things without using
              the Layers dialog, but even moderately sophisticated
              <acronym>GIMP</acronym> users find it indispensable to have the
              Layers dialog available at all times.
            </para>
          </listitem>
          <listitem>
            <!--5-->
            <para>
              <emphasis>Brushes/Patterns/Gradients:</emphasis>
              The docked dialog below the layer dialog shows the dialogs (tabs)
              for managing brushes, patterns and gradients.
            </para>
          </listitem>
        </orderedlist>
        <para>
          Dialog and dock managing is described in
          <xref linkend="gimp-concepts-docks"/>.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry id="single-window-mode">
      <term>Single Window Mode</term>

      <listitem>
        <figure>
          <title>
            A screenshot illustrating the single-window mode.
          </title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                        fileref="images/using/single-window.png"/>
            </imageobject>
          </mediaobject>
        </figure>

        <para>
          You find the same elements, with differences in their management:
          <itemizedlist>
            <listitem>
              <para>
                Left and right panels are fixed; you can't move them. But you
                can decrease or increase their width. If you reduce the width of
                a multi-tab dock, there may be not enough place for all tabs;
                then arrow-heads appear allowing you to scroll through tabs.
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                              fileref="images/using/scroll-through-tabs.png"/>
                  </imageobject>
                </mediaobject>
              </para>
              <para>
                As in multi-window mode, you can mask these panels using the
                <keycap>Tab</keycap> key.
              </para>                  
            </listitem>
            <listitem>
              <para>
                The image window occupies all space between both panels.
              </para>
              <para>
                When several images are open, a new bar appears above the image
                window, with a tab for every image. You can navigate between
                images by clicking on tabs or either using
                <keycombo><keycap>Ctrl</keycap><keycap>PageUp or
                PageDown</keycap></keycombo> or
<keycombo><keycap>Alt</keycap><keycap>Number</keycap></keycombo>.
                <quote>Number</quote> is tab number; you must use the number
                keys of the upper line of your keyboard, not that of keypad
                (Alt-shift necessary for some national keyboards).
              </para>
            </listitem>
          </itemizedlist>
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
    
    <para>
      This is a minimal setup. There are over a dozen other types of dialogs
      used by <acronym>GIMP</acronym> for various purposes, but users typically
      open them when they need them and close them when they are done.
      Knowledgeable users generally keep the Toolbox (with Tool Options) and
      Layers dialog open at all times. The Toolbox is essential to many
      <acronym>GIMP</acronym> operations. The Tool Options section is actually
      a separate dialog, shown docked to the Main Toolbox in the screenshot.
      Knowledgeable users almost always have it set up this way: it is very
      difficult to use tools effectively without being able to see how their
      options are set. The Layers dialog comes into play when you work with an
      image with multiple layers: after you advance beyond the most basic stages
      of <acronym>GIMP</acronym> expertise, this means
      <emphasis>almost always</emphasis>.
      And of course it helps to display the images you're editing on the screen;
      if you close the image window before saving your work,
      <acronym>GIMP</acronym> will ask you whether you want to close the file.
    </para>
    <note>
      <para>
        If your <acronym>GIMP</acronym> layout is lost, your arrangement
        is easy to recover using
        <menuchoice>
          <guimenu>Windows</guimenu>
          <guisubmenu>Recently Closed Docks</guisubmenu>
        </menuchoice>
        ; the Windows menu command is only available while an image is open.
        To add, close, or detach a tab from a dock, click
        <guiicon>
          <inlinemediaobject>
            <imageobject>
              <imagedata fileref="images/using/tab-icon.png"/>
            </imageobject>
          </inlinemediaobject>
        </guiicon>
        in the upper right corner of a dialog. This opens the Tab menu. Select
        <guimenuitem>Add Tab</guimenuitem>,<guimenuitem> Close Tab
        </guimenuitem>, or <guimenuitem>Detach Tab</guimenuitem>.
      </para>
    </note>

    <para>
      The following sections walk you through the components of each of the
      windows shown in the screenshot, explaining what they are and how they
      work. Once you have read them, plus the section describing the basic
      structure of <acronym>GIMP</acronym> images, you should have learned
      enough to use <acronym>GIMP</acronym> for a
      wide variety of basic image manipulations. You can then look through the
      rest of the manual at your leisure (or just experiment) to learn the
      almost limitless number of more subtle and specialized things that are
      possible. Have fun!
    </para>
  
  <xi:include href="toolbox.xml"/>
  <xi:include href="imagewindow.xml"/>
  <xi:include href="docks.xml"/>
</sect1>
-#-#-
<sect1 id="gimp-concepts-brushes">
  <title>Brushes</title>

  <indexterm>
    <primary>Brushes</primary>
    <secondary>Introduction</secondary>
  </indexterm>

  <figure>
    <title>Brush strokes example</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/brush-examples.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          A number of examples of brushstrokes painted using different brushes
          from the set supplied with <acronym>GIMP</acronym>. All were
          painted using the Paintbrush tool.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    A <emphasis>brush</emphasis>
    is a pixmap or set of pixmaps used for painting. <acronym>GIMP</acronym>
    includes a set of
    10 <quote>paint tools</quote>, which not only perform operations that you
    would normally think of as painting, but also operations such as erasing,
    copying, smudging, lightening or darkening, etc. All of the paint tools,
    except the ink tool, use the same set of brushes. The brush pixmaps
    represent the marks that are made by single <quote>touches</quote> of the
    brush to the image. A brush stroke, usually made by moving the pointer
    across the image with the mouse button held down, produces a series of
    marks spaced along the trajectory, in a  way specified by the
    characteristics of the brush and the paint tool being used.
  </para>
  <para>
    Brushes can be selected by clicking on an icon in the
    <link linkend="gimp-brush-dialog">Brushes dialog</link>.
    <acronym>GIMP</acronym>'s
    <emphasis>current brush</emphasis> is shown in the
    Brush/Pattern/Gradient area of the Toolbox.  Clicking on the brush
    symbol there is one way of activating the Brushes dialog.
  </para>
  <para>
    When you install <acronym>GIMP</acronym>, it comes with a number of basic
    brushes, plus a few bizarre ones that serve mainly to give you examples of
    what is possible (i. e., the "green pepper" brush in the illustration).
    You can also create new brushes, or download them and install them so that
    <acronym>GIMP</acronym> will recognize them.
  </para>
  <para>
    <acronym>GIMP</acronym> can use several different types of brushes. All of
    them, however, are
    used in the same way, and for most purposes you don't need to worry about
    the differences when you paint with them. Here are the available types of
    brushes:
  </para>
  <variablelist>
    <varlistentry>
      <term>Ordinary brushes</term>
      <listitem>
        <indexterm>
          <primary>Brushes</primary>
          <secondary>Ordinary</secondary>
        </indexterm>
        <para>
          Most of the brushes supplied with <acronym>GIMP</acronym> fall into
          this category. They
          are represented in the Brushes dialog by grayscale pixmaps. When you
          paint using them, the current foreground color (as shown in the
          Color Area of the Toolbox) is substituted for black, and the pixmap
          shown in the brushes dialog represents the mark that the brush makes
          on the image.
        </para>
        <para>
          To create such a brush: Create a small image in gray levels using
          zoom. Save it with the .gbr extension. Click on Refresh button in
          the Brush Dialog to get it in preview without it being necessary to
          restart <acronym>GIMP</acronym>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Color brushes</term>
      <listitem>
        <indexterm>
          <primary>Brushes</primary>
          <secondary>Color</secondary>
        </indexterm>
        <para>
	  Brushes in this category are represented by colored images in the
	  Brushes dialog. They can be pictures or text.  When you paint with
	  them, the colors are used as shown; the current foreground color
	  does not come into play.  Otherwise they work the same way as
	  ordinary brushes.
        </para>
        <para>
	  To create such a brush: Create a small RGBA image. For this, open
	  New Image, select RGB for image type and Transparent for fill type.
	  Draw your image and and firs save it as a .xcf file to keep its
	  properties. Then save it in <emphasis>.gbr</emphasis> format. Click
	  on the <emphasis>Refresh</emphasis> button in Brush Dialog to get
	  your brush without it being necessary to restart <acronym>GIMP</acronym>.
        </para>
        <tip>
          <para>
            When you do a Copy or a Cut on a selection, you see the contents
	    of the clipboard (that is the selection) at the first position in
	    the brushes dialog.  And you can use it for painting.
          </para>
        </tip>
        <figure>
          <title>Selection to Brush after Copy or Cut</title>
          <mediaobject>
            <imageobject>
              <!-- This image is internationalized -->
              <imagedata format="PNG"
                fileref="images/using/select-to-brush.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Image hoses / Image pipes</term>
      <listitem>
        <indexterm>
          <primary>Brushes</primary>
          <secondary>Animated brushes</secondary>
          <tertiary>Introduction</tertiary>
        </indexterm>
        <indexterm>
          <primary>Image hoses</primary>
        </indexterm>
        <para>
          Brushes in this category can make more than one kind of mark on an
          image. They are indicated by small red triangles at the lower right
          corner of the brush symbol in the Brushes dialog. They are sometimes
          called "animated brushes" because the marks change as you trace out
          a brushstroke. In principle, image hose brushes can be very
          sophisticated, especially if you use a tablet, changing shape as a
          function of pressure, angle, etc. These possibilities have never
          really been exploited, however; and the ones supplied with
          <acronym>GIMP</acronym> are relatively simple (but still
          quite useful).
        </para>
        <para>
          You will find an example on how to create such brushes in
          <link linkend="gimp-using-brushes">Animated brushes</link>
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Parametric brushes</term>
      <listitem>
        <indexterm>
          <primary>Brushes</primary>
          <secondary>Parametric</secondary>
        </indexterm>
        <para>
          These are brushes created using the
          <link linkend="gimp-brush-editor-dialog">Brush Editor</link>, which
          allows you to generate a wide variety of brush shapes by using a
          simple graphical interface.  A nice feature of parametric brushes
          is that they are <emphasis>resizable</emphasis>. It is possible,
          using the <guimenu>Preferences</guimenu> dialog, to make key
          presses or mouse wheel rotations cause the current brush to
          become larger or smaller, if it is a parametric brush.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>
    Now, all brushes have a variable size. In fact, in the option box of all
    painting tools there is a slider to enlarge or reduce the size of the
    active brush. You can do this directly in the image window if you have
    set correctly your mouse wheel; see
    <link linkend="gimp-using-variable-size-brush">Varying brush size</link>.
<!--     One category that GIMP does not have is full-fledged
    <emphasis>procedural</emphasis>
    brushes: brushes whose marks are calculated procedurally, instead of being
    taken from a fixed pixmap. (Actually this is not quite correct: the Ink
    tool uses a procedural brush, but it is the only one available in GIMP.) A
    more extensive implementation of procedural brushes is a goal of future
    development for GIMP.
 -->  </para>
  <para>
    In addition to the brush pixmap, each <acronym>GIMP</acronym> brush has
    one other important
    property: the brush <emphasis>Spacing</emphasis>.
    This represents the distance between consecutive brush-marks when a
    continuous brushstroke is painted. Each brush has an assigned default
    value for this, which can be modified using the Brushes dialog.
  </para>
</sect1>
-#-#-
<sect1 id="gimp-concepts-color-management">
  <title>Color Management in GIMP</title>

  <indexterm>
    <primary>Color</primary>
  </indexterm>
  <indexterm>
    <primary>ICC profile</primary>
  </indexterm>

  <para>
    Many devices you use in your design or photography workflow, like digital
    photo cameras, scanners, displays, printers etc., have their own color
    reproduction characteristics. If those are not taken into account during
    opening, editing and saving, harmful adjustments can be done to images.
    With <acronym>GIMP</acronym> you can have reliable output for both Web
    and print.
  </para>
  <figure>
    <title>Image Processing Workflow</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/using/colormanagement-workflow1.png"/>
      </imageobject>
      <caption>
        <para>Workflow without Color management</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/using/colormanagement-workflow2.png"/>
      </imageobject>
      <caption>
        <para>Process with Color management</para>
      </caption>
    </mediaobject>
  </figure>

  <sect2>
    <title>Problems of a non Color Managed Workflow</title>
    <para>
      The basic problem of image manipulation without color management is that
      you do simply not see what you do. This affects two different areas:
    </para>
    <orderedlist>
      <listitem>
        <para>
          There are differences in Colors caused by different color
          characteristics of different devices like cameras, scanners,
          displays or printers
        </para>
      </listitem>
      <listitem>
        <para>
          There are differences in Colors caused by the limitations of the
          colorspace a specific device is able to handle
        </para>
      </listitem>
    </orderedlist>
    <para>
      The main purpose of color management is to avoid such problems. The
      approach taken to do so involves the addition of a description of the
      color characteristic to an image or devices.
    </para>
    <para>
      These descriptions are called <emphasis>color profile</emphasis>. A
      color profile is basically a look-up table to translate the specific
      color characteristic of a device to a device-independent color space -
      the so called working-space. All the image manipulation is then done to
      images in the working-space. In addition to that the color profile of a
      device can be used to simulate how colors would look on that device.
    </para>
    <para>
      The creation of color profiles is most often done by the manufacturer
      of the devices themselves. To make these profiles usable independent of
      platform and operating system, the ICC (International Color Consortium)
      created a standard called ICC-profile that describes how color profiles
      are stored to files and embedded into images.
    </para>
  </sect2>

  <sect2 id="plug-in-icc-profile-set">
    <title>Introduction to a Color Managed Workflow</title>
    <tip>
      <para>
        Most of the parameters and profiles described here can be set in the
        <acronym>GIMP</acronym> preferences. Please see
        <xref linkend="gimp-prefs-color-management"/> for details.
      </para>
    </tip>

    <sect3 id="plug-in-icc-profile-apply">
      <title>Input</title>
      <para>
        Most digital cameras embed a color profile to individual photo files
        without user interaction. Digital scanners usually come with a color
        profile, which they also attach to the scanned images.
      </para>
      <figure>
        <title>Applying the ICC-profile</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/using/icc-apply.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        When opening an image with an embedded color profile,
        <acronym>GIMP</acronym> offers to
        convert the file to the RGB working color space. This is sRGB by
        default and it is recommended that all work is done in that color
        space. Should you however decide to keep the embedded color profile,
        the image will however still be displayed correctly.
      </para>
      <para>
        In case for some reason a color profile is not embedded in the image
        and you know (or have a good guess) which one it should be, you can
        manually assign it to that image.
      </para>
    </sect3>

    <sect3 id="gimp-concepts-cm-display">
      <title>Display</title>
      <para>
        For the best results, you need a color profile for your monitor. If a
        monitor profile is configured, either system-wide or in the Color
        Management section of the <acronym>GIMP</acronym> Preferences dialog,
        the image colors will be displayed most accurately.
      </para>
      <para>
        One of the most important <acronym>GIMP</acronym> commands to work
        with color management is described in
        <xref linkend="gimp-display-filter-dialog"/>.
      </para>
      <para>
        If you do not have a color profile for your monitor, you can
        create it using hardware calibration and measurement tools. On
        UNIX systems you will need
        <productname>Argyll Color Management System</productname>
        <xref linkend="bibliography-online-argyllcms"/> and/or
        <productname>LProf</productname>
        <xref linkend="bibliography-online-lprof"/>
        to create color profiles.
      </para>

      <sect4 id="gimp-concepts-cm-display-profiling">
        <title>Display Calibration and Profiling</title>
        <indexterm>
          <primary>Color management</primary>
        </indexterm>
        <indexterm>
          <primary>Color profile</primary>
        </indexterm>
        <para>
          For displays there are two steps involved. One is called calibration
          and the other is called profiling. Also, calibration generally
          involves two steps. The first involves adjusting external monitor
          controls such as Contrast, Brightness, Color Temperature, etc, and
          it is highly dependent on the specific monitor. In addition there
          are further adjustments that are loaded into the video card memory
          to bring the monitor as close to a standard state as possible. This
          information is stored in the monitor profile in the so-called vgct
          tag. Probably under Windows XP or Mac OS, the operating system loads
          this information (LUT) in the video card in the process of starting
          your computer. Under Linux, at present you have to use an external
          program such as xcalib or dispwin. (If one just does a simple visual
          calibration using a web site such as that of Norman Koren, one might
          only use xgamma to load a gamma value.)
        </para>
        <para>
          The second step, profiling, derives a set of rules which allow
          <acronym>GIMP</acronym>
          to translate RGB values in the image file into appropriate colors on
          the screen. This is also stored in the monitor profile. It doesn't
          change the RGB values in the image, but it does change which values
          are sent to the video card (which already contains the vgct LUT).
        </para>
      </sect4>
    </sect3>

    <sect3>
      <title>Print Simulation</title>
      <para>
        Using <acronym>GIMP</acronym>, you can easily get a preview of what
        your image will look
        like on paper. Given a color profile for your printer, the display can
        be switched into Soft Proof mode. In such a simulated printout, colors
        that cannot be reproduced will optionally be marked with neutral gray
        color, allowing you to correct such mistakes before sending your
        images to the printer.
      </para>
    </sect3>
  </sect2>
</sect1>
-#-#-

<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-concepts-basic">
  <title>Basic Concepts</title>

  <indexterm>
    <primary>Concepts</primary>
  </indexterm>

  <figure>
    <title>Wilber, the GIMP mascot</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG" fileref="images/using/wilber.png" />
      </imageobject>
      <caption>
        <para>
          The Wilber_Construction_Kit (in src/images/) allows you to give the
          mascot a different appearance. It is the work of Tuomas Kuosmanen
          (tigertATgimp.org).
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    This section provides a brief introduction to the basic concepts and
    terminology used in <acronym>GIMP</acronym>. The concepts presented here
    are explained in
    much greater depth elsewhere. With a few exceptions, we have avoided
    cluttering this section with a lot of links and cross-references:
    everything mentioned here is so high-level that you can easily
    locate it in the index.
  </para>
  <variablelist>
    <varlistentry>
      <term>Images</term>
      <listitem>
        <para>
          Images are the basic entities used by <acronym>GIMP</acronym>.
          Roughly speaking, an <quote>image</quote> corresponds to a single
          file, such as a TIFF or JPEG file. You can also think of an image
          as corresponding to a single display window (although in truth it
          is possible to have multiple windows all displaying the same image).
          It is not possible to have a single window display more than one
          image, though, or for an image to have no window displaying it.
        </para>
        <para>
          A <acronym>GIMP</acronym> image may be quite a complicated thing.
          Instead of thinking of it as a sheet of paper with a
          picture on it, think of it as more like a stack of sheets, called
          <quote>layers</quote>. In addition to a stack of layers, a
          <acronym>GIMP</acronym> image may contain a selection mask, a set of
          channels, and a set of paths. In fact, <acronym>GIMP</acronym>
          provides a mechanism for attaching arbitrary pieces of data, called
          <quote>parasites</quote>, to an image.
        </para>
        <para>
          In <acronym>GIMP</acronym>, it is possible to have many images open
          at the same time. Although large images may use many megabytes of
          memory, <acronym>GIMP</acronym> uses a sophisticated
          tile-based memory management system that allows
          <acronym>GIMP</acronym> to handle very large images gracefully.
          There are limits, however, and having more memory available
          may improve system performance.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Layers</term><!--Modified 2011-02-26-->
      <listitem>
        <para>
          If a simple image can be compared to a single sheet of paper, an
          image with layers is likened to a sheaf of transparent papers
          stacked one on top of the other. You can draw on each paper, but
          still see the content of the other sheets through the transparent
          areas. You can also move one sheet in relation to the others.
          Sophisticated <acronym>GIMP</acronym> users often deal with images
          containing many layers, even dozens of them. Layers need not be
          opaque, and they need not cover the entire extent of an image, so
          when you look at an image's display, you may see more than just the
          top layer: you may see elements of many layers.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <phrase>Resolution</phrase><!--Added 2011-02-26-->
        <indexterm>
          <primary>Resolution</primary>
        </indexterm>
      </term>
      <listitem>
        <para>
          Digital images comprise of a grid of square elements of varying
          colors, called pixels. Each image has a pixel size, such as 900
          pixels wide by 600 pixels high. But pixels don't have a set size in
          physical space. To set up an image for printing, we use a value
          called resolution, defined as the ratio between an image's size in
          pixels and its physical size (usually in inches) when it is printed
          on paper. Most file formats (but not all) can save this value, which
          is expressed as ppi &mdash; pixels per inch. When printing a file,
          the resolution value determines the size the image will have on
          paper, and as a result, the physical size of the pixels. The same
          900x600 pixel image may be printed as a small 3x2" card with barely
          noticeable pixels &mdash; or as a large poster with large, chunky
          pixels.  Images imported from cameras and mobile devices tend to
          have a resolution value attached to the file. The value is usually
          72 or 96ppi. It is important to realize that this value is arbitrary
          and was chosen for historic reasons. You can always change the
          resolution value inside <acronym>GIMP</acronym> &mdash; this has no
          effect on the actual image pixels. Furthermore, for uses such as
          displaying images on line, on mobile devices, television or video
          games &mdash; in short, any use that is not print &mdash; the
          resolution value is meaningless and is ignored, and instead the
          image is usually displayed so that each image pixel conforms to one
          screen pixel.
        </para>
      </listitem>
    </varlistentry>
   <varlistentry id="gimp-concepts-channels" xreflabel="Channels">
      <term>
        <phrase>Channels</phrase>
        <indexterm>
          <primary>Channel</primary>
        </indexterm>
      </term>
      <listitem>
        <!--TRANSLATORS: this is the modified text from glossary.xml, so
        you should check po/LANG/glossary.po for an old translation-->
        <para>
          A Channel is a single component of a pixel's color. For a colored
          pixel in <acronym>GIMP</acronym>, these components are usually Red,
          Green, Blue and sometimes transparency (Alpha). For a
          <link linkend="glossary-graylevel">Grayscale</link> image, they are
          Gray and Alpha and for an
          <link linkend="glossary-indexedcolors">Indexed</link> color image,
          they are Indexed and Alpha.
        </para>
        <para>
          The entire rectangular array of any one of the color components for
          all of the pixels in an image is also referred to as a Channel. You
          can see these color channels with the
          <link linkend="gimp-channel-dialog">Channels dialog</link>.
        </para>
        <para>
          When the image is displayed, <acronym>GIMP</acronym> puts these
          components together to form the pixel colors for the screen,
          printer, or other output device. Some output devices may use
          different channels from Red, Green and Blue. If they do,
          <acronym>GIMP</acronym>'s channels are converted into the
          appropriate ones for the device when the image is displayed.
        </para>
        <para>
          Channels can be useful when you are working on an image which needs
          adjustment in one particular color. For example, if you want to
          remove <quote>red eye</quote> from a photograph, you might work on
          the Red channel.
        </para>
        <para>
          You can look at channels as masks which allow or restrict the output
          of the color that the channel represents. By using Filters on the
          channel information, you can create many varied and subtle effects
          on an image. A simple example of using a Filter on the color
          channels is the
          <link linkend="plug-in-colors-channel-mixer">Channel Mixer</link>
          filter.
        </para>
        <para>
          In addition to these channels, <acronym>GIMP</acronym> also allows
          you to create other channels (or more correctly, Channel Masks),
          which are displayed in the lower part of the Channels dialog. You
          can create a <link linkend="gimp-channel-new">New Channel</link> or
          save a <link linkend="gimp-selection-to-channel">selection to a
          channel (mask)</link>.
          See the glossary entry on
          <link linkend="glossary-masks">Masks</link> for more information
          about Channel Masks.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Selections</term>
      <listitem>
        <para>
          Often when modify an image, you only want a part of the image
          to be affected. The <quote>selection</quote>
          mechanism makes this possible. Each image has its own selection,
          which you normally see as a moving dashed line separating the
          selected parts from the unselected parts (the so-called
          <quote>marching ants</quote> ). Actually this is a bit misleading:
          selection in <acronym>GIMP</acronym>
          is graded, not all-or-nothing, and really the selection is
          represented by a full-fledged grayscale channel. The dashed line
          that you normally see is simply a contour line at the 50%-selected
          level. At any time, though, you can visualize the selection channel
          in all its glorious detail by toggling the
          <link linkend="gimp-image-window-qmask-button">QuickMask</link>
          button.
        </para>
        <para>
          A large component of learning how to use <acronym>GIMP</acronym>
          effectively is acquiring the art of making good
          selectionsâ€”selections that contain exactly what you need and nothing
          more. Because selection-handling is so centrally important,
          <acronym>GIMP</acronym> provides many tools for doing
          it: an assortment of selection-making tools, a menu of selection
          operations, and the ability to switch to Quick Mask mode, in which
          you can treat the selection channel as though it were a color
          channel, thereby <quote>painting the selection</quote>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Undoing</term>
      <listitem>
        <para>
          When you make mistakes, you can undo them. Nearly everything you can
          do to an image is undoable. In fact, you can usually undo a
          substantial number of the most recent things you did, if you decide
          that they were misguided. <acronym>GIMP</acronym> makes this
          possible by keeping a history of your actions. This history consumes
          memory, though, so undoability is not infinite. Some actions use
          very little undo memory, so that you can do dozens of them before
          the earliest ones are deleted from this history; other types of
          actions require massive amounts of undo memory. You can configure
          the amount of memory <acronym>GIMP</acronym> allows for the undo
          history of each image, but in any situation, you should always be
          able to undo at least your 2-3 most recent actions. (The most
          important action that is not undoable is closing an image. For this
          reason, <acronym>GIMP</acronym> asks you to confirm that you really
          want to close the image if you have made any changes to it.)
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Plug-ins</term>
      <listitem>
        <para>
          Many, probably most, of the things that you do to an image in
          <acronym>GIMP</acronym> are done by the <acronym>GIMP</acronym>
          application itself. However, <acronym>GIMP</acronym> also makes
          extensive use of <quote>plug-ins</quote>, which are external programs
          that interact very closely with <acronym>GIMP</acronym>, and are
          capable of manipulating images and other <acronym>GIMP</acronym>
          objects in very sophisticated ways. Many important plug-ins are
          bundled with <acronym>GIMP</acronym>, but there are also
          many available by other means. In fact, writing
          plug-ins (and scripts) is the easiest way for people not on the
          <acronym>GIMP</acronym> development team to add new capabilities to
          <acronym>GIMP</acronym>.
        </para>
        <para>
          All of the commands in the Filters menu, and a substantial number of
          commands in other menus, are actually implemented as plug-ins.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Scripts</term>
      <listitem>
        <para>
          In addition to plug-ins, which are programs written in the C
          language, <acronym>GIMP</acronym> can also make use of scripts. The
          largest number of
          existing scripts are written in a language called Script-Fu, which
          is unique to <acronym>GIMP</acronym> (for those who care, it is a
          dialect of the
          Lisp-like language called Scheme). It is also possible to write
          <acronym>GIMP</acronym>
          scripts in Python or Perl. These languages are more flexible and
          powerful than Script-Fu; their disadvantage is that they depend on
          software that does not automatically come packaged with
          <acronym>GIMP</acronym>, so
          they are not guaranteed to work correctly in every
          <acronym>GIMP</acronym>
          installation.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>
-#-#-
<sect2 id="gimp-concepts-docks">
  <title>Dialogs and Docking</title>

  <indexterm>
    <primary>Docking</primary>
  </indexterm>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Docking</secondary>
  </indexterm>

  <sect3 id="gimp-dockable-dock-bars">
    <title>Organizing Dialogs</title>

    <para>
      <acronym>GIMP</acronym> has great flexibility for arranging dialog on
      your screen. A <quote>dialog</quote> is a moving window which
      contains options for a tool or is dedicated to a special task. A
      <quote>dock</quote> is a container which can hold a collection of
      persistent dialogs, such as the Tool Options dialog, Brushes dialog,
      Palette dialog, etc. Docks cannot, however, hold non-persistent dialogs
      such as the Preferences dialog or an Image window.
    </para>
    <para>
      <acronym>GIMP</acronym> has three default docks:
      <itemizedlist>
        <listitem>
          <para>
            the Tool Options dock under the Toolbox in the left panel,
          </para>
        </listitem>
        <listitem>
          <para>
            the Layers, Channels, Paths and Undo dock in the upper part of the
            right panel,
          </para>
        </listitem>
        <listitem>
          <para>
            the Brushes, Patterns and Gradients dock in the lower part of the
            right panel.
          </para>
        </listitem>
      </itemizedlist>
      In these docks, each dialog is in its own tab.
    </para>
    <para>
      In multi-window mode, the Toolbox is a <emphasis>utility
      window</emphasis> and not a dock. In single-window mode, it belongs to
      the single window.
    </para>
    <para>
      Use
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guisubmenu>Dockable Dialogs</guisubmenu>
      </menuchoice>
      to view a list of dockable dialogs. Select a dockable dialog from
      the list to view the dialog. If the dialog is available in a dock,
      then it is made visible. If the dialog is not in a dock, the behavior
      is different in multi and single window modes:
      <itemizedlist>
        <listitem>
          <para>
            In multi-window mode, a new window, containing the dialog, appears
            on the screen.
          </para>
        </listitem>
        <listitem>
          <para>
            In single-window mode, the dialog is automatically docked to the
            Layers-Undo dock as a tab.
          </para>
        </listitem>
      </itemizedlist>
    </para>

    <para>
      You can click-and-drag a tab and drop it in the wanted place:
      <itemizedlist>
        <listitem>
          <para>
            either in the tab bar of a dock, to integrate it in the dialog
            group,
          </para>
        </listitem>
        <listitem>
          <para>
            or on a docking bar that appears as a blue line when the mouse     
            pointer goes over a dock border, to anchor the dialog to the dock.
          </para>
        </listitem>
      </itemizedlist>
    </para>

    <para>
      In multi-window mode, you can also click on the dialog title and drag it
      to the wanted place.
    </para>

    <figure>
      <title>Integrating a new dialog in a dialog group</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/dock-integrate-dialog.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Here, in multi-window mode, the Histogram dialog was dragged to the
            tab bar of the Layers-Undo dock.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      More simple: the <command>Add tab</command> command in the Tab menu <xref
      linkend="gimp-dockable-menu"/>.
    </para>

    <figure>
      <title>Anchoring a dialog to a dock border</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/dock-anchor-dialog.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The Histogram dialog dragged to the left vertical docking bar of
            the right panel and the result: the dialog anchored to
            the left border of the right panel. This dialog now belongs to the
            right panel.
          </para>
          <para>
            So, you can arrange dialogs in a <emphasis>multi-column</emphasis>
            display, interesting if you work with two screens, one for dialogs,
            the other for images.
          </para>
        </caption>
      </mediaobject>
    </figure>

    <tip>
      <para>
        Press <keycap>TAB</keycap> in an Image window to toggle the
        visibility of the docks. This is useful if the docks hide a portion
        of the image Window. You can quickly hide all the docks,
        do your work, then display all the docs again.
        Pressing <keycap>TAB</keycap> inside a dock to navigate
        through the dock.
      </para>
    </tip>
  </sect3>

  <sect3 id="gimp-dockable-menu">
    <title>Tab Menu</title>

    <indexterm>
      <primary>Docks</primary>
      <secondary>Tab menu</secondary>
    </indexterm>

    <figure>
      <title>A dialog in a dock, with the Tab menu button highlighted.</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/dialog-highlight-tabmenu.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      In each dialog, you can access a special menu of tab-related operations by
      pressing the Tab Menu button, as highlighted in the figure above. Exactly
      which commands are shown in the menu depends on the active dialog, but
      they always include operations for creating new tabs, closing or
      detaching tabs.
    </para>
    <figure>
      <title>The Tab menu of the Layers dialog.</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/tab-menu.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Tab menu gives you access to the following commands:
    </para>
    <variablelist>
      <varlistentry>
        <term>Context Menu</term>
        <listitem>
          <indexterm>
            <primary>Docks</primary>
            <secondary>Context Menu</secondary>
          </indexterm>
          <para>
            At the top of each Tab menu, an entry opens the
            dialog's context menu, which contains operations specific to that
            particular type of dialog. For example, the context menu for the
            Layers tab is <guilabel>Layers Menu</guilabel>, which contains
            a set of operations for manipulating layers.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-tab-add">
        <term>Add Tab</term>
        <listitem>
          <!--anchor id="gimp-dock-tab-add"/-->
          <indexterm>
            <primary>Docks</primary>
            <secondary>Add Tab</secondary>
          </indexterm>
          <para>
            <guilabel>Add Tab</guilabel> opens into a submenu allowing you to
            add a large variety of dockable dialogs as new tabs.
          </para>
          <figure>
            <title><quote>Add tab</quote> sub-menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/using/tab-menu-add-tab.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-tab-close">
        <term>Close Tab</term>
        <listitem>
          <!--anchor id="gimp-dock-tab-close"/-->
          <indexterm>
            <primary>Docks</primary>
            <secondary>Close tab</secondary>
          </indexterm>
          <para>
            Close the dialog. Closing the last dialog in a dock
            causes the dock itself to close.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-tab-detach">
        <term>Detach Tab</term>
        <listitem>
          <!--anchor id="gimp-dock-tab-detach"/-->
          <indexterm>
            <primary>Docks</primary>
            <secondary>Detach tab</secondary>
          </indexterm>
          <para>
            Detach the dialog from the dock, creating a new dock
            with the detached dialog as its only member. It has the same
            effect as dragging the tab out of the dock and releasing it at a
            location where it cannot be docked.
          </para>
          <para>
            It's a way to create a paradoxical new window in single-window mode!
          </para>
          <para>
            If the tab is <link linkend="gimp-dock-tab-lock">locked</link>,
            this menu item is insensitive and grayed out.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-tab-lock">
        <term>Lock Tab to Dock</term>
        <listitem>
          <indexterm>
            <primary>Docks</primary>
            <secondary>Lock tab</secondary>
          </indexterm>
          <para>
            Prevent the dialog from being moved or detached. When activated,
            <guimenuitem>Detach Tab</guimenuitem> is insensitive and grayed
            out.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-preview-size">
        <term>Preview Size</term>
        <listitem>
          <indexterm>
            <primary>Previews</primary>
            <secondary>Tab preview size</secondary>
          </indexterm>
          <indexterm>
            <primary>Layer</primary>
            <secondary>Preview size</secondary>
          </indexterm>
          <figure>
            <title>Preview Size submenu of a Tab menu.</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/using/tab-menu-preview-size.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <indexterm>
            <primary>Docks</primary>
            <secondary>Preview size</secondary>
          </indexterm>
          <para>
            Many, but not all, dialogs have Tab menus containing a
            <guilabel>Preview Size</guilabel>
            option, which opens into a submenu giving a list of sizes for the
            items in the dialog (see the figure above).
            For example, the Brushes dialog shows pictures of all available
            brushes: the Preview Size determines how large the pictures are.
            The default is <guilabel>Medium</guilabel>.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-tab-style">
        <term>Tab Style</term>
        <listitem>
          <figure>
            <title>Tab Style submenu of a Tab menu.</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/using/tab-menu-tab-style.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <indexterm>
            <primary>Docks</primary>
            <secondary>Tab style</secondary>
          </indexterm>
          <para>
            Available only when multiple dialogs are in the same dock,
            <guilabel>Tab Style</guilabel> opens a submenu allowing you
            to choose the appearance of the tabs at the top (see the figure
            above). There are five choices, not all are available for every
            dialog:
          </para>
          <para>
            <variablelist>
              <varlistentry>
                <term>Icon</term>
                <listitem>
                  <para>
                    Use an icon to represent the dialog type.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Current Status</term>
                <listitem>
                  <para>
                    Is only available for dialogs that allows you
                    to select something, such as a brush, pattern,
                    gradient, etc. <guilabel>Current Status</guilabel>
                    shows a representation of the currently selected
                    item in the tab top.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Text</term>
                <listitem>
                  <para>
                    Use text to display the dialog type.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Icon and Text</term>
                <listitem>
                  <para>
                    Using both an icon and text results in wider tabs.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Status and Text</term>
                <listitem>
                  <para>
                    Show the currently selected item and text with the dialog
                    type.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </para>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-view-as-list">
        <term>View as List; View as Grid</term>
        <listitem>
          <anchor id="gimp-dock-view-as-grid" xreflabel="View as Grid"/>
          <indexterm>
            <primary>Docks</primary>
            <secondary>View as List/Grid</secondary>
          </indexterm>
          <indexterm><primary>List search field</primary></indexterm>
          <para>
            These entries are shown in dialogs that allow you to select an
            item from a set: brushes, patterns, fonts, etc. You can choose
            to view the items as a vertical list, with the name of
            each beside it, or as a grid, with representations of the items
            but no names. Each has its advantages: viewing as a list gives you
            more information, but viewing as a grid allows you to see
            more possibilities at once. The default for this varies across
            dialogs: for brushes and patterns, the default is a grid; for most
            other things, the default is a list.
          </para>

          <para>
            When the tree-view is <guilabel>View as List</guilabel>, you can
            use tags. Please see <xref linkend="gimp-tagging"/>.
          </para>
          
          <para>
            You can also use a list search field:
            <figure>
              <title>The list search field.</title>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                            fileref="images/using/list-search-field.png"/>
                </imageobject>
                <caption>
                  <para>
                    Use
                    <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>
                    to open the list search field. An item must be selected for
                    this command to be effective.
                  </para>
                </caption>
              </mediaobject>
            </figure>
          </para>
          <para>
            The list search field automatically closes after five seconds
            if you do nothing.
          </para>
          <note>
            <para>
              The search field shortcut is also available for the tree-view you
              get in the <quote>Brush</quote>, <quote>Font</quote> or
              <quote>Pattern</quote> option of several tools.
            </para>
          </note>
        </listitem>
      </varlistentry>

      <varlistentry id="gimp-dock-show-button-bar">
        <term>Show Button Bar</term>
        <listitem>
          <para>
            Some dialogs display a button bar on the bottom of the dialog; for
            example, the Patterns, Brushes, Gradients, and Images dialogs.
            This is a toggle. If it is checked, then the Button Bar is
            displayed.
          </para>
          <figure>
            <title>Button Bar on the Brushes dialog.</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                            fileref="images/using/dialog-button-bar.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Show Image Selection</term>
        <listitem>
          <para>
            This option is available in multi-window mode only.
            This is a toggle. If it is checked, then an Image Menu is shown at
            the top of the dock:
            <figure id="figure-highlight-imagemenu">
              <title>A dock with an Image Menu highlighted.</title>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/dialog-highlight-imagemenu.png"/>
                </imageobject>
              </mediaobject>
            </figure>
            It is not available for dialogs docked below the Toolbox. This
            option is interesting only if you have several open images on your
            screen.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Auto Follow Active Image</term>
        <listitem>
          <para>
            This option is available in multi-window mode only.
            This option is also interesting only if you have several images
            open on your screen. Then, the information displayed in a dock
            is always that of the selected image in the Image Selection
            drop-down list. If the <guilabel>Auto Follow Active Image
            </guilabel> is disabled, the image can be selected only in the
            Image Selection. If enabled, you  can also select it by
            activating the image directly (clicking on its title bar).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 id="gimp-concepts-text">
  <title>Text and Fonts</title>

  <indexterm>
    <primary>Fonts and Texts</primary>
    <secondary>Overview</secondary>
  </indexterm>

  <figure>
    <title>Example of a text item</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/text-example.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          Example of a text item, showing the boundary of the text layer.
          (Font: Utopia Bold)
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    The Text tool is progressively improved.
    One of the greatest improvements of <acronym>GIMP</acronym> 2.0 over
    <acronym>GIMP</acronym> 1.2 is in the
    handling of text. In <acronym>GIMP</acronym> 2.0 and 2.2, each text item
    goes in a separate
    Text layer, and you can come back later to the layer and edit the text in
    it. You can also move the text around in the image, or change the font, or
    the font size. You can use any font available on your system. You can
    control justification, indentation, and line spacing.
  </para>
  <para>
    With <acronym>GIMP</acronym>-2.6, you can draw a bounding box (a
    rectangular frame) for the text on your image and you can adjust this
    rectangle in the same way as a rectangular selection. The text goes on
    being edited in the Text Editor, but it is automatically wrapped within
    this box.
  </para>
  <para>
    Actually, you can operate on a text layer in the same ways as any other
    layer, but doing so often means giving up the ability to edit the text
    without losing the results of your work.
  </para>
  <figure>
    <title>GIMP text editor</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/tool-dialog-text.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    To understand some of the idiosyncrasies of text handling, it may help for
    you to realize that a text layer contains more information than the pixel
    data that you see: it also contains a representation of the text in a
    text-editor format. You can see this in the text-editor window that pops
    up while you are using the Text tool. Every time you alter the text, the
    image layer is redrawn to reflect your changes.
  </para>
  <para>
    Now suppose you create a text layer, and then operate on it in some way
    that does not involve the Text tool: rotate it, for example. Suppose you
    then come back and try to edit it using the Text tool. As soon as you edit
    the text, the Text tool will redraw the layer, wiping out the results of
    the operations you performed in the meantime.
  </para>
  <para>
    Because this danger is not obvious, the Text tool tries to protect you
    from it. If you operate on a text layer, and then later try to edit the
    text, a message pops up, warning you that your alterations will be undone,
    and giving you three options:
  </para>
  <itemizedlist>
    <listitem>
      <para>edit the text anyway;</para>
    </listitem>
    <listitem>
      <para>cancel;</para>
    </listitem>
    <listitem>
      <para>
        create a new text layer with the same text as the existing layer,
        leaving the existing layer unchanged.
      </para>
    </listitem>
  </itemizedlist>
  <figure>
    <title>Warning lose modifications</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/text-warning.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
</sect1>
-#-#-
<sect1 id="gimp-concepts-gradients">
  <title>Gradients</title>
  <indexterm>
    <primary>Gradient</primary>
    <secondary>Overview</secondary>
  </indexterm>
  <figure>
    <title>Some examples of GIMP gradients. </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/gradient-examples.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          Gradients from top to bottom: FG to BG (RGB); Full saturation
          spectrum; Nauseating headache; Browns; Four bars
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    A <emphasis>gradient</emphasis>
    is a set of colors arranged in a linear order. The most basic use of
    gradients is by the <link linkend="gimp-tool-blend">Blend tool</link>,
    sometimes known as the <quote>gradient tool</quote> or <quote>gradient
    fill tool</quote>: it works
    by filling the selection with colors from a gradient. You have many
    options to choose from for controlling the way the gradient colors are
    arranged within the selection. There are also other important ways to use
    gradients, including:
  </para>
  <variablelist>
    <varlistentry>
      <term>Painting with a gradient</term>
      <listitem>
        <para>
          Each of <acronym>GIMP</acronym>'s basic painting tools allows you
          the option of using
          colors from a gradient. This enables you to create brushstrokes that
          change color from one end to the other.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>The Gradient Map filter</term>
      <listitem>
        <para>
           This filter is now in the Colors menu, and allows you to
           <quote>colorize</quote>
           an image, using the color intensity of each point with the
           corresponding color from the active gradient (the intensity 0, very
           dark, is replaced by the color at most left end of the gradient,
           progressively until the intensity is 255, very light, replaced by
           the most right color of the gradient. See
           <xref linkend="plug-in-gradmap"/> for more information.
         </para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>
    When you install <acronym>GIMP</acronym>, it comes presupplied with a
    large number of
    interesting gradients, and you can add new ones that you create or
    download from other sources. You can access the full set of available
    gradients using the
    <link linkend="gimp-gradient-dialog">Gradients dialog</link>,
    a dockable dialog that you can either activate when you need it, or keep
    around as a tab in a dock. The <quote>current gradient</quote>, used in
    most gradient-related operations, is shown in the Brush/Pattern/Gradient
    area of the Toolbox. Clicking on the gradient symbol in the Toolbox is an
    alternative way of bringing up the Gradients dialog.
  </para>
  <para>
    Many quickly examples of working with gradient (for more information
    see <link linkend="gimp-tool-blend">Blend Tool</link>):
  </para>
  <itemizedlist>
    <listitem>
      <para>Put a gradient in a selection:</para>
      <procedure>
        <step>
          <para>Choose a gradient.</para>
        </step>
        <step>
          <para>
            With the Blend Tool click and drag with the mouse between
            two points of a selection.
          </para>
        </step>
        <step>
          <para>
            Colors will distributed perpendicularly to the direction
            of the drag of the mouse and according to the length
            of it.
          </para>
        </step>
      </procedure>
      <figure>
        <title>How to use rapidly a gradient in a selection</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/using/gradient-draw.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </figure>
    </listitem>
    <listitem>
      <para>Painting with a gradient:</para>
      <para>
        You can also use a gradient with the Pencil, Paintbrush or Airbrush
        tools if you choose the dynamics <guilabel>Color From Gradient</guilabel>.
        In the next step choose a suitable gradient from
        <guilabel>Color options</guilabel> and in the
        <guilabel>Fade options</guilabel> set the gradients length
        and the style of the repeating. The chapter
        <xref linkend="gimp-tool-dynamic-options"/> describes these
        parameters in more detail.
        </para>
        <para>
        The following example shows the impact on the Pencil tool.
        You see in the upper side of the figure the necessary settings
        and the lower side of the figure shows the resulting succession
        of the gradients colors.
      </para>
      <figure>
        <title>How to use rapidly a gradient with a drawing tool</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/color-gradient-pencil.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        To use the Paint tools with the same settings as they were known
        as option <guilabel>Use color from gradient</guilabel> in GIMP
        up to version 2.6 open the
        <link linkend="gimp-presets-dialog">Tool Presets Dialog</link>.
        Then choose one of the items <guilabel>Airbrush (Color From
        Gradient)</guilabel>,
        <guilabel>Paintbrush (Color From Gradient)</guilabel> or
        <guilabel>Pencil (Color From Gradient)</guilabel> from it.
      </para>
    </listitem>
    <listitem>
      <para>Different productions with the same gradient:</para>
      <figure>
        <title>Gradient usage</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/using/gradient-usage.png" format="PNG"/>
          </imageobject>
          <caption>
            <para>
              Four ways of using the Tropical Colors gradient: a linear gradient
              fill, a shaped gradient fill, a stroke painted using colors from a
              gradient, and a stroke painted with a fuzzy brush then colored
              using the <link linkend="plug-in-gradmap">Gradient Map</link>
              filter.
            </para>
          </caption>
        </mediaobject>
      </figure>
    </listitem>
  </itemizedlist>
  <para>A few useful things to know about <acronym>GIMP</acronym>'s
  gradients:</para>
  <itemizedlist>
    <listitem>
      <para>
        The first four gradients in the list are special:  they use the
        Foreground and Background colors from the Toolbox Color Area,
        instead of being fixed. <guilabel>FG to BG (RGB)</guilabel> is the
        RGB representation of the gradient from the Foreground color to the
        Background color in Toolbox. <guilabel>FG to BG (HSV
        counter-clockwise) </guilabel> represents the hue succession in
        Color Circle from the selected hue to 360Â°. <guilabel>FG to BG
        (HSV clockwise</guilabel> represents the hue succession in Color
        Circle from the selected hue to 0Â°. With <guilabel>FG to transparent
        </guilabel>, the selected hue becomes more and more transparent. You
        can modify these colors by using the Color Selector. Thus, by
        altering the foreground and background colors, you can make these
        gradients transition smoothly between any two colors you want.
      </para>
    </listitem>
    <listitem>
      <para>
        Gradients can involve not just color changes, but also changes in
        opacity. Some of the gradients are completely opaque; others include
        transparent or translucent parts. When you fill or paint with a
        non-opaque gradient, the existing contents of the layer will show
        through behind it.
      </para>
    </listitem>
    <listitem>
      <para>
        You can create new <emphasis>custom</emphasis> gradients,
        using the <link linkend="gimp-gradient-editor-dialog">Gradient
        Editor</link>.  You cannot modify the gradients that are
        supplied with <acronym>GIMP</acronym>, but you can duplicate them or
        create new ones, and then edit those.
      </para>
    </listitem>
  </itemizedlist>
  <para>
    The gradients that are supplied with <acronym>GIMP</acronym> are stored in
    a system <filename>gradients</filename> folder.  By default, gradients
    that you create are stored in a folder called
    <filename>gradients</filename> in your personal <acronym>GIMP</acronym>
    directory. Any gradient files (ending with the extension
    <filename>.ggr</filename>) found in one of these folders, will
    automatically be loaded when you start <acronym>GIMP</acronym>.  You can
    add more
    directories to the gradient search path, if you want to, in the
    Gradients tab of the <link linkend="gimp-prefs-folders-data">Data
    Folders</link> pages of the Preferences dialog.
  </para>
  <para>
    New in <acronym>GIMP</acronym> 2.2 is the ability to load gradient files
    in SVG format, used
    by many vector graphics programs. To make <acronym>GIMP</acronym> load an
    SVG gradient file,
    all you need to do is place it in the <filename>gradients</filename>
    folder of your personal <acronym>GIMP</acronym> directory, or any other
    folder in your gradient search path.
  </para>
  <tip>
    <para>
      You can find a large number of interesting SVG gradients on the web, in
      particular at OpenClipArt Gradients
      <xref linkend="bibliography-online-openclipart-gradients"/>.
      You won't be able to see what these gradients look like unless your
      browser supports SVG, but that won't prevent you from downloading them.
    </para>
  </tip>
</sect1>
-#-#-
<sect1 id="gimp-concepts-image-grid-and-guides">
  <title>Grids and Guides</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Grid and guides</secondary>
  </indexterm>
  <indexterm>
    <primary>Grid</primary>
    <secondary>Overview</secondary>
  </indexterm>
  <indexterm>
    <primary>Guides</primary>
    <secondary>Overview</secondary>
  </indexterm>

  <para>
    You will probably have it happen many times that you need to place
    something in an image very precisely, and find that it is not easy to do
    using a mouse. Often you can get better results by using the arrow keys on
    the keyboard (which move the affected object one pixel at a time, or 25
    pixels if you hold down the <keycap>Shift</keycap>
    key), but <acronym>GIMP</acronym> also provides you with two other aids to
    make positioning easier: grids and guides.
  </para>
  <figure>
    <title>Image used for examples below</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/wilber-simple-nogrid.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect2 id="gimp-concepts-image-grid">
    <title>The Image Grid</title>
    <figure>
      <title>Image with default grid</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/wilber-simple-defaultgrid.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Each image has a grid. It is always present, but by default it is not
      visible until you activate it by toggling
      <menuchoice>
        <guimenu>View</guimenu>
        <guimenuitem>Show Grid</guimenuitem>
      </menuchoice>
      in the image menu. If you want grids to be present more often than not,
      you can change the default behavior by checking "Show grid" in the
      <link linkend="gimp-prefs-image-window-appearance">
        Image Window Appearance
      </link>
      page of the Preferences dialog. (Note that there are separate settings
      for Normal Mode and Fullscreen Mode.)
    </para>
    <para>
      The default grid appearance, set up when you install
      <acronym>GIMP</acronym>, consists of
      plus-shaped black crosshairs at the grid line intersections, with grid
      lines spaced every 10 pixels both vertically and horizontally. You can
      customize the default grid using the
      <link linkend="gimp-prefs-default-grid">Default Image Grid</link>
      page of the Preferences dialog. If you only want to change the grid
      appearance for the current image, you can do so by choosing
      <menuchoice>
        <guimenu>Image</guimenu>
        <guimenuitem>Configure Grid</guimenuitem>
      </menuchoice>
      from the image menu: this brings up the
      <link linkend="gimp-configure-grid-dialog">Configure Grid</link> dialog.
    </para>
    <figure>
      <title>A different grid style</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/wilber-simple-othergrid.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Not only can a grid be helpful for judging distances and spatial
      relationships, it can also permit you to align things exactly with
      the grid, if you toggle
      <menuchoice>
        <guimenu>View</guimenu>
        <guimenuitem>Snap to Grid</guimenuitem>
      </menuchoice>
      in the image menu:  this causes the pointer to "warp" perfectly to
      any grid line located within a certain distance.  You can
      customize the snap distance threshold by setting "Snap distance"
      in the <link linkend="gimp-prefs-tool-options">Tool Options</link>
      page of the Preferences dialog, but most people seem to be happy
      with the default value of 8 pixels.  (Note that it is perfectly
      possible to snap to the grid even if the grid is not visible.  It
      isn't easy to imagine why you might want to do this, though.)
    </para>
  </sect2>

  <sect2 id="gimp-concepts-image-guides">
    <title>Guides</title>
    <figure>
      <title>Image with four guides</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/wilber-simple-guides.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      In addition to the image grid, <acronym>GIMP</acronym> also gives you a
      more flexible type of positioning aid: <emphasis>guides</emphasis>.
      These are horizontal or vertical lines you can temporarily display on an
      image while you are working on it.
    </para>
    <para>
      To create a guide, simply click on one of the rulers in the image window
      and pull out a guide, while holding the
      <mousebutton>mouse&nbsp;button</mousebutton> pressed. The guide is then
      displayed as a blue, dashed line, which follows the pointer. As soon as
      you create a guide, the <quote>Move</quote> tool is activated and the
      mouse pointer changes to the Move icon.
    </para>
    <para>
      You can also create a guide with the
      <link linkend="script-fu-guide-new">New Guide</link> command, which
      allows you to precisely place the guide on the image, the
      <link linkend="script-fu-guide-new-percent">New Guide (by
      Percent)</link> command, or the
      <link linkend="script-fu-guides-from-selection">New Guides from
      Selection</link> command.
    </para>
    <para>
      You can create as many guides as you like, positioned wherever you like.
      To move a guide after you have created it, activate the Move tool in the
      Toolbox (or press the <keycap>M</keycap> key), you can then click and
      drag a guide. To delete a guide, simply drag it outside the image.
      Holding down the <keycap>Shift</keycap> key, you can move everything but
      a guide, using the guides as an effective alignment aid.
    </para>

    <para>
      The behavior of the guides depends upon the <guilabel>Move</guilabel>
      (Affect) mode of the <quote>Move</quote> tool. When
      <emphasis>Layer</emphasis> mode is selected, the mouse pointer turns
      into a small hand as soon as it gets close to a guide. Then the guide is
      activated and it turns red, and you can move the guide or delete it by
      moving it back into the ruler. If <emphasis>Selection</emphasis> mode is
      selected, you can position a guide, but you cannot move it after that.
    </para>
    <para>
      As with the grid, you can cause the pointer to snap to nearby
      guides, by toggling
      <menuchoice>
        <guimenu>View</guimenu>
        <guimenuitem>Snap to Guides</guimenuitem>
      </menuchoice>
      in the image menu. If you have a number of guides and they are
      making it difficult for you to judge the image properly, you can
      hide them by toggling
      <menuchoice>
        <guimenu>View</guimenu>
        <guimenuitem>Show Guides</guimenuitem>
      </menuchoice>.
      It is suggested that you only do this momentarily, otherwise you
      may get confused the next time you try to create a guide and
      don't see anything happening.
    </para>
    <para>
      If it makes things easier for you, you can change the default behavior
      for guides in the
      <link linkend="gimp-prefs-image-window-appearance">Image Windows
      Appearance</link> page of the Preferences dialog. Disabling 
      <guilabel>Show&nbsp;guides</guilabel> is probably a bad idea, though,
      for the reason just given.
    </para>
    <para>
      You can remove the guides with the
      <menuchoice>
        <guimenu>Image</guimenu>
        <guisubmenu>Guides</guisubmenu>
        <guimenuitem>Remove all Guides</guimenuitem>
      </menuchoice>
      command.
    </para>
    <note>
      <para>
        Another use for guides: the
        <link linkend="plug-in-guillotine">Guillotine</link> plugin can use
        guides to slice an image into a set of sub-images.
      </para>
    </note>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-concepts-image-types">
  <title>Image Types</title>
  <indexterm>
    <primary>Images</primary>
    <secondary>Types</secondary>
  </indexterm>
  <para>
    It is tempting to think of an <emphasis>image</emphasis> as
    something that corresponds with a single display window, or to a
    single file such as a <link linkend="file-jpeg-load">JPEG</link>
    file. In reality, however, a <acronym>GIMP</acronym> image is a
    a complicated structure,
    containing a stack of layers plus several other types of objects:
    a selection mask, a set of channels, a set of paths, an "undo"
    history, etc.  In this section we take a detailed
    look at the components of a <acronym>GIMP</acronym> image,
    and the things that you can do with them.
  </para>
  <para>
    The most basic property of an image is its
    <emphasis>mode</emphasis>.  There are three possible modes: RGB,
    grayscale, and indexed. RGB stands
    for Red-Green-Blue, and indicates that each point in the image
    is represented by a <quote>red</quote> level, a <quote>green</quote>
    level, and a <quote>blue</quote>
    level; representing a full-color image.
    Each color channel has 256 possible intensity
    levels. More details in <link linkend="glossary-colormodel">
    Color Models</link>
  </para>
  <para>
    In a grayscale image, each point is represented by a brightness
    value, ranging from 0 (black) to 255 (white), with intermediate
    values representing different levels of gray.
  </para>
  <figure>
    <title>Components of the RGB and CMY Color Model</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/glossary/color-model-additive.png"/>
      </imageobject>
      <caption>
        <para>
          In the RGB Color Model, mixing Red, Green and Blue gives White,
          which is what happens on your screen.
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/glossary/color-model-subtractive.png"/>
      </imageobject>
      <caption>
        <para>
          In the CMY(K) color model, mixing Cyan, Magenta and Yellow gives
          Black, which is what happens when you print on a white paper. The
          printer will actually use the black cartridge for economical
          reasons and better color rendering.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    Conceptually, the difference between a grayscale image and an RGB
    image is the number of <quote>color channels</quote>: a grayscale image
    has one; an RGB image has three.  An RGB image can be thought of as
    three superimposed grayscale images, one colored red, one green,
    and one blue.
  </para>
  <para>
    Actually, both RGB and grayscale images have one additional
    color channel called the <emphasis>alpha</emphasis> channel, which
    represents opacity.  When the alpha value at a given location
    in a given layer is zero, the layer is completely transparent
    (you can see through it),
    and the color at that location is determined by what lies
    underneath.  When alpha is maximal (255), the layer is opaque
    (you cannot see through it), and the
    color is determined by the color of the layer.  Intermediate
    alpha values correspond to varying degrees of transparency / opacity:
    the
    color at the location is a proportional mixture of color from the
    layer and color from underneath.
  </para>
  <figure>
    <title>Example of an image in RGB and Grayscale mode</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG" fileref="images/using/wilber-channel-rgb.png"/>
      </imageobject>
      <caption>
        <para>
          An image in RGB mode, with the channels corresponding to Red,
          Green and Blue.
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/wilber-channel-gray.png"/>
      </imageobject>
      <caption>
        <para>
          An image in Grayscale mode, with the channel corresponding to
          Luminosity.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    In <acronym>GIMP</acronym>, every color channel, including the alpha
    channel, has a range
    of possible values from 0 to 255; in computing terminology, a depth of 8
    bits. Some digital cameras can produce image files with a depth of 16
    bits per color channel. <acronym>GIMP</acronym> cannot load such a file
    without losing
    resolution. In most cases the effects are too subtle to be detected by
    the human eye, but in some cases, mainly where there are large areas
    with slowly varying color gradients, the difference may be perceptible.
  </para>
  <figure>
    <title>Example of an image with alpha channel</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/wilber-channels-red.png"/>
      </imageobject>
      <caption>
        <para>Red channel</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/wilber-channels-green.png"/>
      </imageobject>
      <caption>
        <para>Green channel</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/wilber-channels-blue.png"/>
      </imageobject>
      <caption>
        <para>Blue channel</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/wilber-channels-alpha.png"/>
      </imageobject>
      <caption>
        <para>
          The Alpha channel shows the image area which is transparent.
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/wilber-channels-combined.png"/>
      </imageobject>
      <caption>
        <para>
          A color image in RGB mode with an Alpha channel.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    The third type, <emphasis>indexed</emphasis>
    images, is a bit more complicated to understand. In an indexed image,
    only a limited set of discrete colors are used, usually 256 or less.
    These colors form the <quote>colormap</quote> of the image, and each
    point in the image is assigned a color from the colormap. Indexed images
    have the advantage that they can be represented inside a computer in a
    way which consumes relatively little memory, and back in the dark ages
    (say, ten years ago), they were very commonly used. As time goes on, they
    are used less and less, but they are still important enough to be worth
    supporting in <acronym>GIMP</acronym>. (Also, there are a few important
    kinds of image
    manipulation that are easier to implement with indexed images than with
    continuous-color RGB images.)
  </para>
  <para>
    Some very commonly used types of files (including
    <link linkend="file-gif-load">GIF</link> and
    <link linkend="file-png-load">PNG</link>) produce
    indexed images when they are opened in <acronym>GIMP</acronym>.  Many of
    <acronym>GIMP</acronym>'s
    tools don't work very well on indexed imagesâ€“and many filters
    don't work at allâ€“because of the limited number of colors
    available.  Because of this, it is usually best to convert an
    image to RGB mode before working on it.  If necessary, you can
    convert it back to indexed mode when you are ready to save it
  </para>
  <para>
    <acronym>GIMP</acronym> makes it easy to convert from one image type to
    another,
    using the <link linkend="gimp-image-mode">Mode</link> command in
    the Image menu.  Some types of conversions, of course (RGB to
    grayscale or indexed, for example) lose information that cannot
    be regained by converting back in the other direction.
  </para>
  <note>
    <para>
      If you are trying to use a filter on an image, and it appears grayed out
      in the menu, usually the cause is that the image (or, more specifically,
      the layer) you are working on is the wrong type. Many filters can't be
      used on indexed images. Some can be used only on RGB images, or only on
      grayscale images. Some also require the presence or absence of an alpha
      channel. Usually the fix is to convert the image to a different type,
      most commonly RGB.
    </para>
  </note>
</sect1>
-#-#-
<sect1 id="gimp-using-fileformats-opening">
  <title>Opening Files</title>

  <indexterm>
    <primary>Files</primary>
    <secondary>Open</secondary>
  </indexterm>

  <para>
    There are several ways of opening an existing image in
    <acronym>GIMP</acronym>:
  </para>

  <sect2 id="gimp-using-open-file">
    <title>Open File</title>
    <para>
      The most obvious way to open an existing image is the menu.
      Use 
      <menuchoice>
        <guimenu>File</guimenu>
        <guimenuitem>Open</guimenuitem>
      </menuchoice>
      to open the <guilabel>Open Image</guilabel> dialog,allowing you
      to navigate to the file and click on its name. This method works well
      if you know the name and location of the file you want to open.
      Although the <guilabel>Open Image</guilabel> dialog does have a
      preview pane, it is not convenient (easy) to find an image based on
      a thumbnail.
    </para>
    <note>
      <para>
        While opening a file, <acronym>GIMP</acronym> must determine the file
        type. Unfortunately, the file extension, such as 
        <filename class="extension">.jpg</filename>, is not
        reliable: file extensions vary from system to
        system; any file can be renamed to have any extension; and there are
        many reasons why a file name might lack an extension.
        <acronym>GIMP</acronym>
        first tries to recognize a file by examining its contents: most of the
        commonly used file formats have <quote>magic headers</quote> that permit
        them to be recognized. Only if the magic yields no result does
        <acronym>GIMP</acronym> resort to using the extension.        
      </para>
    </note>
    <figure>
      <title>The <quote>Open Image</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/file-open-dialog.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      <acronym>GIMP</acronym>
      2.2 introduced a new <guilabel>Open Image</guilabel> dialog that
      provides several features to help
      you navigate quickly to a file. Perhaps the most
      important is the ability to create <quote>bookmarks</quote>, or
      <guilabel>Places</guilabel>, 
      for folders that you use often. Your list of bookmarks appears on the
      left side of the dialog. The ones at the top, such as
      <quote>Desktop</quote>, are provided automatically. Use the
      the <guilabel>Add</guilabel> button to add the current directory to
      the list. Use the <guilabel>Remove</guilabel> button to remove the
      selected bookmark. Double-click on a bookmark to navigate directly 
      to that directory.
    </para>
    <para>
      The center of the dialog contains a listing of the contents of the
      selected directory. Subdirectories are shown at the top of the list,
      files below them. By default, all files in the directory are listed, but
      you can restrict the listing to image files of a specific type using the
      File Type selection menu that appears beneath the directory listing.
    </para>
    <para>
      When you select an image file entry in the listing, a
      preview appears on the right side of the dialog, along with some
      basic information about the image. Note that previews
      are cached when they are generated, and there are some things you can do
      that may cause a preview to be incorrect. If you suspect that this may
      be happening, you can force a new preview to be generated by holding
      down the <keycap>Ctrl</keycap> key and clicking in the Preview area.
    </para>
    <para>
      By default, a <guilabel>Location</guilabel> text box is present in the
      File Open dialog. It may be absent: the
      <keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo> key
      combination toggles this text box. Alternatively, you can click on
      the icon of the paper and pencil in the upper left corner to toggle the
      text box.
    </para>
    <note>
      <para>
        If you select a file name from the
        list, and click the <quote>Open</quote> button in the lower right
        corner or the dialog, it is almost always true that 
        <acronym>GIMP</acronym> will automatically
        determine the file type for you.  On rare occasions, mainly if the
        file type is unusual and the name lacks a meaningful extension,
        <acronym>GIMP</acronym> may fail to correctly identify the file
        type. Use <guilabel>Select File Type</guilabel> at the bottom
        of the dialog to manually specify the file type if this is required.
        More commonly, though, if <acronym>GIMP</acronym> fails to open an
        image file, it is either corrupt or not a supported format.
      </para>
    </note>
  </sect2>

  <sect2 id="gimp-using-open-location">
    <title>Open Location</title>
    <para>
      If instead of a file name, you have a <acronym>URI</acronym>
      (i.e., a web address) for the image, you can open it using the
      menu, by choosing
      <menuchoice>
        <guimenu>File</guimenu>
        <guimenuitem>Open Locationâ€¦</guimenuitem>
      </menuchoice>
      from an image menu.  This brings up a small dialog that allows you to
      enter (or paste) the <acronym>URI</acronym>.
    </para>
    <figure>
      <title>The <quote>Open Location</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/file/open-location.png"/>
        </imageobject>
        <caption>
          <para>
            The <quote>Open Location</quote> dialog.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect2>

  <sect2 id="gimp-using-open-recent">
    <title>Open Recent</title>
    <para>
      The easiest way to open an image that was recently open in
      <acronym>GIMP</acronym>, may be using
      <menuchoice>
        <guimenu>File</guimenu>
        <guimenuitem>Open Recent</guimenuitem>
      </menuchoice>.
      This displays a scrollable list of the mostly recently opened
      images with icons beside them.
      Select and open the desired image.
    </para>
  </sect2>

  <sect2 id="gimp-using-external-programs">
    <title>Using External Programs</title>
    <para>
      <acronym>GIMP</acronym> uses plugins for reading and writing all
      file formats except XCF. These plugins may use external libraries or
      programs. For example, <acronym>GIMP</acronym> does not directly support
      <link linkend="glossary-postscript">PostScript</link>. Instead,
      for reading (or writing) PostScript files (file extension
      <filename class="extension">.ps</filename> or
      <filename class="extension">.eps</filename>), <acronym>GIMP</acronym>
      requires a powerful free software program called
      <application>Ghostscript</application>.
    </para>
    <simplesect>
      <title>
        Installing <application>Ghostscript</application>
      </title>
      <para>
        Linux distributions almost always come with Ghostscript already
        installed (not necessarily the most recent version). For other
        operating systems, you may have to install it yourself. Here are
        instructions for installing it on Windows:
      </para>
      <itemizedlist>
        <listitem>
          <para>
            Go to the Ghostscript project page on Sourceforge
            <xref linkend="bibliography-online-ghostscript"/>.
          </para>
        </listitem>
        <listitem>
          <!--PENDING DocBook 4.4.: replace <application> with <package>-->
          <para>
            Look for the package <application>gnu-gs</application> or
            <application>ghostscript</application> (for non-commercial
            use only) and go to the download section.
          </para>
        </listitem>
        <listitem>
          <para>
            Download one of the prepared Windows distributions, such as
            <filename>gs650w32.exe</filename> or
            <filename>gs700w32.exe</filename>.
          </para>
        </listitem>
        <listitem>
          <para>
            Start the executable and follow the instructions for the
            installation procedure.
          </para>
        </listitem>
        <listitem>
          <para>
            Set the <envar>GS_PROG</envar> environment variable to the full
            file name of the gswin32c binary (e.g.
            <filename role="html">C:\gs\gsX.YY\bin\gswin32c.exe</filename><filename role="tex">C:\\gs\\gsX.YY\\bin\\gswin32c.exe</filename>).
          </para>
        </listitem>
      </itemizedlist>
      <para>
        Now you should be able to read PostScript files with
        <acronym>GIMP</acronym>. Please note that you must not move the
        Ghostscript directories once the installation is complete. The
        installation creates registry entries which allow Ghostscript to find
        its libraries. (These instructions courtesy of
        http://www.kirchgessner.net.)
      </para>
    </simplesect>
  </sect2>

  <sect2 id="gimp-using-file-manager">
    <title>File Manager</title>
    <para>
      If you have associated an image file type with
      <acronym>GIMP</acronym>,
      either when you installed <acronym>GIMP</acronym> or later, then you
      can navigate to the file using a file manager (such as Nautilus or
      Konqueror in Linux, or Windows Explorer in Windows), and once you
      have found it, double-click on the file.  If properly configured,
      the image will open in <acronym>GIMP</acronym>.
    </para>
  </sect2>

  <sect2 id="gimp-using-drag-and-drop">
    <title>Drag and Drop</title>
    <para>
      Drag and drop a file onto the <acronym>GIMP</acronym> Toolbox
      to open the file. Drag an image into an open
      <acronym>GIMP</acronym> image to add dropped file as a new
      layer, or set of layers, to the already open image.
    </para>
    <para>
      Many applications support dragging and dropping an image into
      <acronym>GIMP</acronym>; for example, drag an image from
      <application>Firefox</application> and drop it onto
      <acronym>GIMP</acronym>'s toolbox.
    </para>
  </sect2>

  <sect2 id="gimp-using-open-copy-and-paste">
    <title>Copy and Paste</title>
    <para>
      Use
      <menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guimenuitem>From Clipboard</guimenuitem>
      </menuchoice>
      to create a new image from the clipboard; alternatively, you can use
      <menuchoice>
        <guimenu>Edit</guimenu>
        <guisubmenu>Past as</guisubmenu>
        <guimenuitem>New image</guimenuitem>
      </menuchoice>.
      Many applications support copying an image to the clipboard that can
      then be pasted into <acronym>GIMP</acronym>. Many operating systems
      support copying screens to the clipboard. 
      <keycap>Print Screen</keycap> typically copies the screen to the
      clipboard, and
      <keycombo><keycap>ALT</keycap><keycap>Print Screen</keycap></keycombo>
      copies only the active window. Print screen is not universally
      supported, and just because your operating system can copy an image to
      the clipboard, does not mean that <acronym>GIMP</acronym> can use
      the image from the clipboard. Your best bet is to try it and see
      if it works.
    </para>
  </sect2>

  <sect2  id="gimp-using-image-browser">
    <title>Image Browser</title>
    <para>
      Linux supports an image-management application named
      <application>gThumb</application>. Besides being an excellent
      image browser, you can right click an image, choose 
      <guilabel>Open with</guilabel>, then select
      <acronym>GIMP</acronym> from the list of options. You can also
      drag an image from <application>gThumb</application> onto the
      <acronym>GIMP</acronym> toolbox.
      See the gThumb home page <xref linkend="bibliography-online-gthumb"/>
      for more information. Other similar applications are : GQview
      <xref linkend="bibliography-online-gqview"/>, and XnView
      <xref linkend="bibliography-online-xnview"/>.
    </para>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-fileformats-creating">
  <title>Creating new Files</title>

  <indexterm>
    <primary>Tutorials</primary>
    <secondary>Create image</secondary>
  </indexterm>
  <indexterm>
    <primary>File</primary>
    <secondary>New image</secondary>
  </indexterm>

  <para>
    Use
    <menuchoice>
      <guimenu>File</guimenu>
      <guimenuitem>New</guimenuitem>
    </menuchoice>
    to open the <guilabel>Create a new image</guilabel> dialog.
    Modify the initial width and height of the file or
    use the standard values, then create a new image file.
    More information about the <guilabel>Create a new image</guilabel> dialog
    can be found in <xref linkend="gimp-file-new"/>.
  </para>
</sect1>
-#-#-
<sect2 id="gimp-image-window">
  <title>Image Window</title>

  <indexterm>
    <primary>Image windows</primary>
    <secondary>Description</secondary>
  </indexterm>
  <indexterm>
    <primary>Status bar</primary>
    <secondary>Image window</secondary>
  </indexterm>
  <indexterm>
    <primary>Navigation preview</primary>
  </indexterm>
  <indexterm>
    <primary>Preview</primary>
    <secondary>Navigation preview</secondary>
  </indexterm>

  <para>
    GIMP user interface is now available in two modes: multi-window mode
    (default), and single-window mode (optional, through
    <menuchoice>
      <guimenu>Windows</guimenu>
      <guimenuitem>>Single-Window Mode</guimenuitem>
    </menuchoice>.
    But, if you quit GIMP with this option enabled, GIMP will open in single
    mode next time).
  </para>
  <para>
    In single-window mode, no new window is added: images and dialogs are added
    in tabs. Please see <xref linkend="single-window-mode"/>.
  </para>
  <para>
    When you start <acronym>GIMP</acronym> without any image open, the image
    window seems to be absent in single-window mode, while, in multi-window
    mode, an image window exists, even if no image is open.
  </para>

  <para>
    We will begin with a brief description of the components that are
    present by default in an ordinary image window. Some of the
    components can be removed by using commands in the
    <link linkend="gimp-view-menu">View</link> menu.
  </para>
  <figure>
    <title>The Image Window in Multi-Window Mode</title>
    <mediaobject>
      <imageobject>
	<imagedata format="PNG"
		  fileref="images/using/image-window-multi.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  
  <figure>
    <title>The Image Area in Single-Window Mode</title>
    <mediaobject>
      <imageobject>
	<imagedata format="PNG"
		  fileref="images/using/image-window-single.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <note>
    <para>
      Despite <emphasis>Single</emphasis>-window Mode, we will use
      <quote>image window</quote> for <quote>image area</quote>.
    </para>
  </note>
    
  <orderedlist>
    <listitem>
      <!--1-->
      <para>
        <emphasis>Title Bar:</emphasis>
        The Title Bar in an image window without an image displays
        <quote>GNU Image Manipulating Program</quote>.
        An image window with an image displays the image name
        and its specifications in the title bar according to the settings
        in <link linkend="gimp-prefs-dialog">Preference Dialog</link>.
        The Title Bar is provided by the operating system, not by
        <acronym>GIMP</acronym>, so its appearance is likely to vary with
        the operating system, window manager, and/or theme &mdash; in Linux 
        systems, this title bar has a button to display the image
        window on all your desktops. You also have this button in toolbox window
        and layer window.
      </para>
      <para>
        If you have opened a non-xcf image, it is <quote>(imported)</quote>
        as a .xcf file and its original name appears in the status bar at the
        bottom of the image window.
      </para>
      <para>
        When an image is modified, an asterisk appears in front of title.
      </para>      
    </listitem>
    
    <listitem>
      <!--2-->
      <para>
        <emphasis>Image Menu:</emphasis>
        Directly below the Title Bar appears the Menu bar (unless it has
        been suppressed). The Image Menu provides access to nearly every
        operation you can perform on an image. You can also right-click
        on an image to display a pop-up image menu,
        <footnote><para>
            Users with an Apple Macintosh and a one button mouse can use
            <keycombo>
              <keycap>Ctrl</keycap>
              <mousebutton>mousebutton</mousebutton>
            </keycombo> instead.
          </para></footnote>,
        or by left-clicking on the little <quote>arrow-head</quote> symbol in
        the upper left corner, called <emphasis>Menu Button</emphasis>,
        described just below.
        Many menu commands are also associated with keyboard
        <emphasis>shortcuts</emphasis> as shown in the menu.
        You can define your own custom shortcuts for menu actions, if
        you enable <link linkend="gimp-prefs-interface"> Use Dynamic Keyboard
        Shortcuts</link> in the Preferences dialog.
      </para>
    </listitem>
    <listitem>
      <!--3-->
      <anchor id="gimp-image-window-origin"/>
      <para>
        <emphasis>Menu Button:</emphasis>
        Click the Menu Button to display the Image Menu in a column,(essential
        in full screen mode).
        If you like to use keyboard shortcuts, use
        <keycombo><keycap>Shift</keycap><keycap>F10</keycap></keycombo>
        to open the menu.
      </para>
    </listitem>
    <listitem>
      <!--4-->
      <anchor id="gimp-image-window-ruler"/>
      <para>
        <emphasis>Ruler:</emphasis>
        In the default layout, rulers are shown above and to the left of the
        image. Use the rulers to determine coordinates within the image.
        The default unit for rulers is pixels; use the settings
        described below to use a unit other than pixels.
      </para>
      <para>
        One of the most important uses of rulers is to create
        <emphasis>guides</emphasis>.
        Click and drag a ruler into the image to create a guide.
        A guide is a line that helps you accurately position
        things&mdash;or verify that another line is truly horizontal
        or vertical.
        Click and drag a guide to move it. Drag a guide out of the
        image to delete it; you can always drag another guide into the
        image. You can even use multiple guides at the same time.
      </para>
      <para>
	In ruler area, the mouse pointer position is marked with two small 
	arrow-heads pointing vertically and horizontally.
      </para>
    </listitem>
    <listitem>
      <!--5-->
      <anchor id="quick-mask-toggle"/>
      <para>
        <emphasis>QuickMask Toggle:</emphasis>
        The small button in the lower left corner of the image toggles the
        Quick Mask on and off. When the Quick Mask is on, the button is
        outlined in red. See <link linkend="gimp-qmask">QuickMask</link>
        for more details on this highly useful tool.
      </para>
    </listitem>
    <listitem>
      <!--6-->
      <para>
        <emphasis>Pointer Coordinates:</emphasis>
        When the pointer (mouse cursor, if you are using a mouse) is
        within the image boundaries, the rectangular area in the lower
        left corner of the window displays the current pointer
        coordinates. The units are the same as for the rulers.
      </para>
    </listitem>
    <listitem>
      <!--7-->
      <para>
        <emphasis>Units Menu:</emphasis>
        Use the Units Menu to change the units used for rulers and several
        other purposes. The default unit is pixels, but you can quickly
        change to inches, cm, or several other possibilities using this menu.
        Note that the setting of
        <quote>Dot for dot</quote> in the View menu affects how the display is
        scaled: see <link linkend="gimp-view-dot-for-dot">Dot for Dot</link>
        for more information.
      </para>
    </listitem>
    <listitem>
      <!--8-->
      <anchor id="gimp-image-window-zoom"/>
      <para>
        <emphasis>Zoom Button:</emphasis>
        There are a number of ways to zoom the image in or out, but the Zoom
        Button is perhaps the simplest. You can directly enter a zoom level in
        the text box for precise control.
      </para>
    </listitem>
    <listitem>
      <!--9-->
      <anchor id="gimp-image-window-status-bar"/>
      <para>
        <emphasis>Status Area:</emphasis>
        The Status Area is at the bottom of the image window.
        By default, the Status Area displays the original name of the image.xcf
        file, and the amount of system memory used by the image. Please use
        <menuchoice>
          <guimenu>Edit</guimenu>
          <guisubmenu>Preferences</guisubmenu>
          <guimenuitem>Image Windows</guimenuitem>
          <guimenuitem>Title &amp; Status</guimenuitem>
        </menuchoice>
        to customize the information displayed in the Status Area.
        During time-consuming operations, the status area temporarily
        shows the running operation and how complete the operation is.
      </para>
      <note>
        <para>
          Note that the memory used by the image is very
          different from the image file size. For instance, a 70Kb .PNG
          image may occupy 246Kb in RAM when displayed.
          There are two primary reasons the difference in memory usage.
          First, a .PNG file is compressed format, and the image is
          reconstituted in RAM in uncompressed form.
          Second, <acronym>GIMP</acronym> uses extra memory, and copies
          of the image, for use by the Undo command.
        </para>
      </note>
    </listitem>
    <listitem>
      <!--10-->
      <para>
        <emphasis>Cancel Button:</emphasis>
        During complex time-consuming operations, usually a plug-in,
        a Cancel button temporarily appears in the lower right corner
        of the window. Use the Cancel button to stop the operation.
      </para>
      <note>
        <para>
          A few plug-ins respond badly to being canceled, sometimes
          leaving corrupted pieces of images behind.
        </para>
      </note>
    </listitem>
    <listitem>
      <!--11-->
      <anchor id="gimp-image-window-nav-button"/>
      <indexterm>
        <primary>Navigation</primary>
        <secondary>Navigation button</secondary>
      </indexterm>
      <para>
        <emphasis>Navigation Control:</emphasis>
        This is a small cross-shaped button at the lower right corner of the
        image display. Click and hold (do not release the mouse button)
        on the navigation control to display the Navigation Preview.
        The Navigation Preview has a miniature view of the image
        with the displayed area outlined. Use the Navigation Preview
        to quickly pan to a different part of the
        image&mdash;move the mouse while keeping the button pressed.
        The Navigation Window is often the most convenient way to
        quickly navigate around a large image with only a small portion
        displayed. (See
        <link linkend="gimp-navigation-dialog">Navigation Dialog</link>
        for other ways to access the Navigation Window). (If your mouse has a
        middle-button, click-drag with it to pan across the image).
      </para>
    </listitem>
    <listitem>
      <!--12-->
      <para>
        <emphasis>Inactive Padding Area:</emphasis>
        When the image dimensions are smaller than the image window, this
        padding area separates the active image display and the inactive
        padding area, so you're able to distinguish between them. You cannot
        apply any Filters or Operations in general to the inactive area.
      </para>
    </listitem>
    <listitem>
      <!--13-->
      <anchor id="imagewindow-display"/>
      <para>
        <emphasis>Image Display:</emphasis>
        The most important part of the image window is, of course, the image
        display or canvas. It occupies the central area of the window,
        surrounded by a yellow dotted line showing the image boundary, against
        a neutral gray background. You can change the zoom level of the image
        display in a variety of ways, including the Zoom setting described
        below.
      </para>
    </listitem>
    <listitem>
      <!--14-->
      <anchor id="gimp-image-window-zoom-follow-button"/>
      <para>
        <emphasis>Image Window Resize Toggle:</emphasis>
        Without enabling this feature, if you change the size of the image
        window by click-and-dragging border limits, the image size and zoom 
        does not change. If you make the
        window larger, for example, then you will see more of the image.
        If this button is pressed, however, the image resizes when the window
        resizes so that (mostly) the same portion of the image is displayed
        before and after the window is resized.
      </para>
    </listitem>
  </orderedlist>
    
  <tip>
    <para>
      Drag and drop an image into the Toolbox window from a file browser to 
      open the image in its own Image window or tab.
    </para>
    <para>
      Dragging an image file into the Layer dialog adds it to the image as a
      new layer.
    </para>
  </tip>

  <para>
    Image size and image window size can be different. You can make image fit
    window, and vice versa, using two keyboard shortcuts:
    <itemizedlist>
      <listitem>
        <para>
          <keycombo><keycap>Ctrl</keycap><keycap>J</keycap></keycombo>: this
          command keeps the zoom level; it adapts window size to image size.
          The Shrink Wrap command does the same.
        </para>
      </listitem>
      <listitem>
        <para>
          <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap>
          <keycap>J</keycap></keycombo>: this command modifies the zoom level
          to adapt the image display to the window.
        </para>
      </listitem>
    </itemizedlist>
  </para>
   
</sect2>
-#-#-
<sect1 id="gimp-concepts-running">
  <title>Running GIMP</title>
  <indexterm>
    <primary>Running GIMP</primary>
  </indexterm>
  <para>
    Most often, you start <acronym>GIMP</acronym> either by clicking on an
    icon (if your system
    is set up to provide you with one), or by typing <command>gimp</command>
    on a command line. If you have multiple versions of
    <acronym>GIMP</acronym> installed,
    you may need to type <command>gimp-2.8</command>
    to get the latest version. You can, if you want, give a list of image
    files on the command line after the program name, and they will
    automatically be opened by <acronym>GIMP</acronym> as it starts. It is
    also possible, though, to open files from within
    <acronym>GIMP</acronym> once it is running.
  </para>
  <para>
    Most operating systems support file associations, which associates a
    class of files (as determined by their filename extension, such as .jpg)
    with a corresponding application (such as <acronym>GIMP</acronym>).
    When image files are properly <quote>associated</quote> to
    <acronym>GIMP</acronym>, you can double click on an image to open it
    in <acronym>GIMP</acronym>.
  </para>

  <sect2 id="introduction-platforms">
    <title>Known Platforms</title>
    <para>
      The <acronym>GIMP</acronym> is the most widely supported image
      manipulation available today. The platforms on which 
      <acronym>GIMP</acronym> is known to work include:
    </para>
    <para>
      <productname><acronym>GNU</acronym>/Linux</productname>,
      <productname>Apple Mac OS X</productname>,
      <productname>Microsoft Windows</productname>,
      <productname>OpenBSD</productname>, <productname>NetBSD</productname>,
      <productname>FreeBSD</productname>, <productname>Solaris</productname>,
      <productname>SunOS</productname>, <productname>AIX</productname>,
      <productname>HP-UX</productname>, <productname>Tru64</productname>,
      <productname>Digital UNIX</productname>,
      <productname>OSF/1</productname>, <productname>IRIX</productname>,
      <productname>OS/2</productname>, and
      <productname>BeOS</productname>.
    </para>
    <para>
      The <acronym>GIMP</acronym> is easily ported to other
      operating systems because of its source code availability. For further
      information visit the <acronym>GIMP</acronym> developers homepage.
      <xref linkend="bibliography-online-gimp-dev"/>.
    </para>
  </sect2>

  <sect2 id="gimp-concepts-running-language">
    <title>Language</title>
    <indexterm>
      <primary>Languages</primary>
    </indexterm>
    <para>
      <acronym>GIMP</acronym> automatically detects and uses the system
      language. In the unlikely event that language detection fails, or if
      you just want to use a different language, since
      <acronym>GIMP</acronym>-2.8, you can do so through:
      <menuchoice>
        <guimenu>Edit</guimenu>
        <guisubmenu>Preferences</guisubmenu>
        <guimenuitem>Interface</guimenuitem>
      </menuchoice>.
    </para>

    <para>
      You can also use:
    </para>
    <variablelist>
      <varlistentry>
        <term>Under Linux</term>
        <listitem>
          <para>
            <emphasis>In LINUX</emphasis>: in console mode,
            type <userinput>LANGUAGE=en gimp</userinput> or
            <userinput>LANG=en gimp</userinput>
            replacing en by fr, de, ... according to the language you
            want. Background: Using <userinput>LANGUAGE=en</userinput>
            sets an environment variable for the executed
            program <userinput>gimp</userinput>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Under Windows XP</term>
        <listitem>
          <para>
            <menuchoice>
              <guimenu>Control Panel</guimenu>
              <guisubmenu>System</guisubmenu>
              <guisubmenu>Advanced</guisubmenu>
              <guimenuitem>Environment</guimenuitem>
            </menuchoice>
            button in <quote>System Variables</quote> area:
            <guibutton>Add</guibutton> button: Enter LANG for Name and fr or
            de... for Value. Watch out! You have to click on three successive
            <guibutton>OK</guibutton> to validate your choice.
          </para>
          <para>
            If you change languages often, you can create a batch file to
            change the language. Open NotePad. Type the following
            commands (for french for instance):
            <!--do not reformat the following lines (literallayout)-->
            <literallayout><userinput>set lang=fr
start gimp-2.8.exe</userinput></literallayout>
            Save this file as <filename>GIMP-FR.BAT</filename> (or another
            name, but always with a
            <filename class="extension">.BAT</filename> extension). Create
            a shortcut and drag it to your desktop.
          </para>
          <para>
            Another possibility:
            <menuchoice>
              <guimenu>Start</guimenu>
              <guisubmenu>Programs</guisubmenu>
              <guimenuitem>GTK Runtime Environment</guimenuitem>
            </menuchoice>
            Then <guimenuitem>Select language</guimenuitem> and select the
            language you want in the drop-down list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Under Apple Mac OS X</term>
        <listitem>
          <para>
            From System Preferences, click on the International icon. In
            the Language tab, the desired language should be the first in the
            list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Another GIMP instance</term>
        <listitem>
          <indexterm>
            <primary>New instance</primary>
          </indexterm>
          <para>
            Use <userinput>-n</userinput> to run multiple instances of GIMP.
            For example, use <userinput>gimp-2.8</userinput> to start GIMP
            in the default system language, and
            <userinput>LANGUAGE=en gimp-2.8 -n</userinput> to start another
            instance of <acronym>GIMP</acronym> in English; this is very
            useful for translators.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>

  <sect2 id="gimp-concepts-running-command-line">
    <title>Command Line Arguments</title>
    <indexterm>
      <primary>Command line Arguments</primary>
    </indexterm>
    <para>
      Although arguments are not required when starting
      <acronym>GIMP</acronym>, the most
      common arguments are shown below. On a Unix system, you can use
      <userinput>man gimp</userinput>for a complete list.
    </para>
    <para>
      Command line arguments must be in the command line that you use
      to start <acronym>GIMP</acronym> as
      <command>gimp-2.8 [OPTION...] [FILE|URI...]</command>.
    </para>
    <variablelist>
      <varlistentry>
        <term>-?, --help</term>
        <listitem>
          <para>Display a list of all commandline options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--help-all</term>
        <listitem>
          <para>Show all help options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--help-gtk</term>
        <listitem>
          <para>Show GTK+ Options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>-v, --version</term>
        <listitem>
          <para>
            Print the <acronym>GIMP</acronym> version and exit.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--license</term>
        <listitem>
          <para>Show license information and exit.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--verbose</term>
        <listitem>
          <para>Show detailed start-up messages.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>-n, --new-instance</term>
        <listitem>
          <para>Start a new <acronym>GIMP</acronym> instance.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>-a, --as-new</term>
        <listitem>
          <para>Open images as new.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>-i, --no-interface</term>
        <listitem>
          <para>Run without a user interface.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>-d, --no-data</term>
        <listitem>
          <para>
            Do not load patterns, gradients, palettes, or brushes. Often
            useful in non-interactive situations where start-up time is to be
            minimized.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>-f, --no-fonts</term>
        <listitem>
          <para>Do not load any fonts. This is useful to load
          <acronym>GIMP</acronym>
          faster for scripts that do not use fonts, or to find problems
          related to malformed fonts that hang <acronym>GIMP</acronym>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>-s, --no-splash</term>
        <listitem>
          <para>Do not show the splash screen while starting.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--no-shm</term>
        <listitem>
          <para>Do not use shared memory between <acronym>GIMP</acronym> and
          plugins. <!-- maybe useful if you do not trust a plugin code? --></para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--no-cpu-accel</term>
        <listitem>
          <para>Do not use special CPU acceleration
          functions. Useful for finding or disabling buggy accelerated
          hardware or functions.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--session=<replaceable>name</replaceable></term>
        <listitem>
          <para>
            Use a different <filename>sessionrc</filename> for this
            <acronym>GIMP</acronym>
            session. The given session name is appended to the default
            <filename>sessionrc</filename> filename.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--gimprc=<filename>filename</filename></term>
        <listitem>
          <para>
            Use an alternative <filename>gimprc</filename> instead of the
            default one. The <filename>gimprc</filename> file contains a
            record of your preferences.  Useful in cases where plugins paths
            or machine specs may be different.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--system-gimprc=<replaceable>filename</replaceable></term>
        <listitem>
          <para>Use an alternate system gimprc file.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          -b, --batch=<replaceable>commands</replaceable>
        </term>
        <listitem>
          <para>
            Execute the set of commands non-interactively. The set of commands
            is typically in the form of a script that can be executed by one
            of the <acronym>GIMP</acronym> scripting extensions.
            When the command is <userinput>-</userinput>, commands
            are read from standard input.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--batch-interpreter=<replaceable>proc</replaceable></term>
        <listitem>
          <para>Specify the procedure to use to process batch commands.
          The default procedure is Script-Fu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--console-messages</term>
        <listitem>
          <para>
            Do not popup dialog boxes on errors or warnings. Print the
            messages on the console instead.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--pdb-compat-mode=<replaceable>mode</replaceable></term>
        <listitem>
          <para>PDB compatibility mode (off|on|warn).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--stack-trace-mode=<replaceable>mode</replaceable></term>
        <listitem>
          <para>Debug in case of a crash (never|query|always).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--debug-handlers</term>
        <listitem>
          <para>Enable non-fatal debugging signal
          handlers. Useful for <acronym>GIMP</acronym> debugging.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--g-fatal-warnings</term>
        <listitem>
          <para>Make all warnings fatal. Useful for debug.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--dump-gimprc</term>
        <listitem>
          <para>Output a gimprc file with default
          settings. Useful if you messed up the gimprc file.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>--display=<replaceable>display</replaceable></term>
        <listitem>
          <para>
            Use the designated X display (does not apply to all platforms).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
-#-#-

<sect1 id="gimp-layer-groups">
  <title>Layer Groups</title>

  <para>
    This possibility appeared with <acronym>GIMP-2.8</acronym>.
  </para>

  <para>
    You can group layers that have similarities in a tree-like way. So, the
    layer list becomes easier to manage.
  </para>

  <mediaobject>
    <imageobject>
      <imagedata format="PNG"
        fileref="images/dialogs/layer-group.png"/>
    </imageobject>
  </mediaobject>

  <variablelist>
    <varlistentry>
      <term>Create a Layer Group</term>
      <listitem>
        <para>
          You can create a layer group by clicking on the
          <guibutton>Create a new layer group</guibutton><guiicon></guiicon>
          button at the bottom of the layer dialog,
        </para>
        <para>
          through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>New Layer Group</guimenuitem>
          </menuchoice>,
          or through the layer dialog context menu.
        </para>
        <para>
          This empty layer group appears just above the current layer. It is
          important to give it an evocative name (double-click or
          <keycap>F2</keycap> on the name, or use <command>Edit Layer
          Attributes</command> in the context menu you get by right clicking the
          Layer dialog, to edit it), else you will get confused when several
          ones are created.
        </para>
        <para>
          You can create several layer groups and you can
          <emphasis role= "bold">embbed</emphasis> them, that is include a
          layer group in another one.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Adding Layers to a Layer Group</term>
      <listitem>
        <para>
          You can add <emphasis>existing layers</emphasis> to a layer group
          by click-and-dragging them.
          <note>
            <para>
              The hand representing the mouse pointer must turn smaller
              before releasing the mouse button.
            </para>
            <para>
              A thin horizontal line marks where the layer will be laid
              down.
            </para>
          </note>
        </para>
        <para>
          To add a <emphasis>new layer</emphasis> to the current layer
          group,
          click on the <guibutton>Create a new layer</guibutton> at the
          bottom of the layer dialog, or use the
          <guimenuitem>New Layer</guimenuitem> command in the image menu.
        </para>
        <para>
          When a layer group is not empty, a small <quote>></quote> icon
          appears. By clicking on it, you can fold/unfold the layer list.
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/dialogs/fold-unfold.png"/>
            </imageobject>
          </mediaobject>
        </para>
        <para>
          You can put layers to be added together to a layer group by making
          them, them only, visible, and using the <quote>New From Visible
          </quote> command. All visible layers, outside and inside layer
          groups, will be added to the active layer group.
        </para>
        <para>
          Layers that belong to a layer group are slightly indented to the
          right, allowing you know easily which layers are part of the
          group.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Raise and Lower Layer Groups</term>
      <listitem>
        <para>
          You can raise and lower layer groups in the layer dialog as you do
          with normal layers: click-and-dragging, using arrow up and down
          keys at the bottom of the layer dialog.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Duplicate a Layer Group</term>
      <listitem>
        <para>
          You can duplicate a layer group: click on the
          <guibutton>Create a duplicate of the layer</guibutton> button or
          right-click and select the <command>Duplicate Layer</command>
          command in the pop up context menu.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Move Layer Groups</term>
      <listitem>
        <para>
          You can <emphasis role="bold">move a layer group to another image
          </emphasis> by click-and-dragging.
          You can also copy-paste it using Ctrl-C and Ctrl-V: then, you get
          a floating selection that you must anchor (anchor button at the
          bottom of the layer dialog).
        </para>
        <para>
          You can also <emphasis role="bold">move a layer group to the
          canvas</emphasis>: this duplicates the group <emphasis>in</emphasis>
          the group. Chain all layers in the duplicated layer group, activate
          the Move tool, then, in the image, move the layer. That's a way to
          multiply multi-layer objects in an image.
        </para>
      </listitem>
    </varlistentry>
    
    <varlistentry>
      <term>Delete a Layer Group</term>
      <listitem>
        <para>
          To delete a layer group, click on the red cross button at the
          bottom of the layer dialog or right-click and select <command>
          Delete layer</command>.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Embed Layer Groups</term>
      <listitem>
        <para>
          When a layer group is activated, you can add another group inside
          it with the <quote>Add New Layer Group</quote> command. There
          seems to be no limit, excepted memory, to the number of embedded
          layer groups.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Layer Modes and Groups</term>
      <listitem>
        <para>
          A layer mode applied to a layer group acts on layers that are in this
          group only. A layer mode above a layer group acts on all layers
underneath,
          outside and inside the layer groups.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/dialogs/layer-group-original.png"/>
          </imageobject>
          <caption>
            <para>
              Original image
            </para>
          </caption>
        </mediaobject>
        <figure>
          <title>Layer Mode in or out Layer Group</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/dialogs/layer-group-merge-in.png"/>
            </imageobject>
            <caption>
              <para>
                We added a white layer <emphasis>in</emphasis> the layer group
                with saturation mode: only square and triangle are grayed out.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/dialogs/layer-group-merge-out.png"/>
            </imageobject>
            <caption>
              <para>
                We added a white layer <emphasis>out</emphasis> of the layer
                group with saturation mode: all layers underneath are grayed
                out, background layer also.
              </para>
            </caption>
          </mediaobject>
        </figure>        
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Opacity</term>
      <listitem>
        <para>
          When a layer group is activated, opacity changes are applied to all
          the layers of the group.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Layer Mask</term>
      <listitem>
        <para>
           You cannot add a layer mask to a layer group (the corresponding
           option is grayed out). But, as with normal layers, you can add a layer
           mask to a layer in the group to mask a part of the layer.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/dialogs/layer-group-mask.png"/>
          </imageobject>
          <caption>
            <para>
              We added a white (Full opacity) layer mask to the triangle layer.
            </para>
          </caption>
        </mediaobject>
      </listitem>
    </varlistentry>
  </variablelist>

</sect1>


-#-#-
<sect1 id="gimp-concepts-layer-modes">
  <title>Layer Modes</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Modes</secondary>
  </indexterm>
  <indexterm>
    <primary>Modes of layers</primary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Merging layer Modes</secondary>
  </indexterm>

  <para>
    <acronym>GIMP</acronym> has twenty-one layer modes. Layer modes are also
    sometimes called <quote>blending modes</quote>.
    Selecting a layer mode changes the appearance of the layer or image,
    based on the layer or layers beneath it. If there is only one layer, the
    layer mode has no effect. There must therefore be at least two layers in
    the image to be able to use layer modes.
  </para>
  <para>
    You can set the layer mode in the <guilabel>Mode</guilabel>
    menu in the Layers dialog. <acronym>GIMP</acronym>
    uses the layer mode to determine how to combine each pixel in the top
    layer with the pixel in the same location in the layer below it.
  </para>
  <note>
    <para>
      There is a drop-down list in the Toolbox options box which contains
      modes that affect the painting tools in a similar way to the layer
      modes. You can use all of the same modes for painting that are available
      for layers, and there are two additional modes just for the painting
      tools. See <xref linkend="gimp-tools-brush"/>.
    </para>
  </note>
  <para>
    Layer modes permit complex color changes in the image. They are often used
    with a new layer which acts as a kind of mask. For example, if you put a
    solid white layer over an image and set the layer mode of the new layer to
    <quote>Saturation</quote>, the underlying visible layers will appear in
    shades of gray.
  </para>

  <figure>
    <title>Images (masks) for layer mode examples</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/layer-mode-mask1.jpg" format="JPG"/>
      </imageobject>
      <caption>
        <para>Mask 1</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/layer-mode-mask2.jpg" format="JPG"/>
      </imageobject>
      <caption>
        <para>Mask 2</para>
      </caption>
    </mediaobject>
  </figure>

  <figure>
    <title>Images (backgrounds) for layer mode examples</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/keyfob_orig.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>Key fob</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/duck_orig.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>Ducks</para>
      </caption>
    </mediaobject>
  </figure>

  <para>
    In the descriptions of the layer modes below, the equations are also
    shown. This is for those who are curious about the mathematics of the
    layer modes. You do not need to understand the equations in order to use
    the layer modes effectively, however.
  </para>
  <para>
    The equations are in a shorthand notation. For example, the equation
  </para>
  <equation>
    <title>Example</title>
    <alt role="latex">$$E = M + I$$</alt>
    <graphic fileref="images/math/layer-mode-example.png" format="PNG"/>
  </equation>
  <para>
    means,
    <quote>
      For each pixel in the upper (<emphasis>M</emphasis>ask)and lower
      (<emphasis>I</emphasis>mage) layer, add each of the
      corresponding color components together to form the
      <emphasis>E</emphasis> resulting pixel's color.
    </quote>
    Pixel color components must always be between 0 and 255.
  </para>
  <note>
    <!-- cf. bug #544965 (2008-07-27) -->
    <para>
      Unless the description below says otherwise, a negative color component
      is set to 0 and a color component larger than 255 is set to 255.
    </para>
  </note>
  <para>
    The examples below show the effects of each of the modes.
  </para>
  <para>
    Since the results of each mode vary greatly depending upon the colors on
    the layers, these images can only give you a general idea of how the modes
    work. You are encouraged to try them out yourself. You might start with
    two similar layers, where one is a copy of the other, but slightly
    modified (by being blurred, moved, rotated, scaled, color-inverted, etc.)
    and seeing what happens with the layer modes.
  </para>

  <variablelist>
    <varlistentry>
      <term>Normal</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Normal</secondary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Normal</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-normal-50.jpg"/>
            </imageobject>
            <caption>
              <para>
                Both images are blended into each other with the same
                intensity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-normal-100.jpg"/>
            </imageobject>
            <caption>
              <para>
                With 100% opacity only the upper layer is shown when blending
                with <quote>Normal</quote>.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Normal</guilabel>
          mode is the default layer mode. The layer on top covers the layers
          below it. If you want to see anything below the top layer when you
          use this mode, the layer must have some transparent areas.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Normal</quote></title>
          <alt role="latex">$$E = M$$</alt>
          <graphic fileref="images/math/layer-mode-normal.png" format="PNG"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Dissolve</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Dissolve</secondary>
        </indexterm>
        <indexterm>
          <primary>Dissolve</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Dissolve</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-dissolve-50.jpg"/>
            </imageobject>
            <caption>
              <para>
                Both images are blended into each other with the same
                intensity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-dissolve-100.jpg"/>
            </imageobject>
            <caption>
              <para>
                With 100% opacity only the upper layer is shown when blending
                with <quote>dissolve</quote>.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Dissolve</guilabel>
          mode dissolves the upper layer into the layer beneath it by drawing
          a random pattern of pixels in areas of partial transparency. It is
          useful as a layer mode, but it is also often useful as a painting
          mode.
        </para>
        <para>
          This is especially visible along the edges within an image. It is
          easiest to see in an enlarged screenshot. The image on the left
          illustrates <quote>Normal</quote> layer mode (enlarged) and the
          image on the right shows the same two layers in
          <quote>Dissolve</quote>
          mode, where it can be clearly seen how the pixels are dispersed.
        </para>
        <figure>
          <title>Enlarged screenshots</title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-dissolve-nbig.jpg"/>
            </imageobject>
            <caption>
              <para>Normal mode.</para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-dissolve-dbig.jpg"/>
            </imageobject>
            <caption>
              <para>Dissolve mode.</para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry id="layer-mode-multiply">
      <term>Multiply</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Multiply</secondary>
        </indexterm>
        <indexterm>
          <primary>Multiply</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Multiply</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-multiply-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-multiply-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Multiply</guilabel>
          mode multiplies the pixel values of the upper layer with those of
          the layer below it and then divides the result by 255. The result is
          usually a darker image. If either layer is white, the resulting
          image is the same as the other layer (1 * I = I). If either layer
          is black, the resulting image is completely black (0 * I = 0).
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Multiply</quote></title>
          <alt role="latex">$$E = \frac{M \times I}{255}$$</alt>
          <graphic fileref="images/math/layer-mode-multiply.png" format="PNG"/>
        </equation>
        <para>
          The mode is commutative; the order of the two layers doesn't matter.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Divide</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Divide</secondary>
        </indexterm>
        <indexterm>
          <primary>Divide</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Divide</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-divide-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-divide-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Divide</guilabel>
          mode multiplies each pixel value in the lower layer by 256 and then
          divides that by the corresponding pixel value of the upper layer
          plus one. (Adding one to the denominator avoids dividing by zero.)
          The resulting image is often lighter, and sometimes looks
          <quote>burned out</quote>.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Divide</quote></title>
          <alt role="latex">$$E = \frac{256 \times I}{M + 1}$$</alt>
          <graphic fileref="images/math/layer-mode-divide.png" format="JPG"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Screen</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Screen</secondary>
        </indexterm>
        <indexterm>
          <primary>Screen</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Screen</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-screen-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-screen-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Screen</guilabel>
          mode inverts the values of each of the visible pixels in the two
          layers of the image. (That is, it subtracts each of them from 255.)
          Then it multiplies them together, divides by 255 and inverts
          this value again. The resulting image is usually brighter, and
          sometimes <quote>washed out</quote>
          in appearance. The exceptions to this are a black layer, which does
          not change the other layer, and a white layer, which results in a
          white image. Darker colors in the image appear to be more
          transparent.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Screen</quote></title>
          <alt role="latex">
            $$E = 255 - \frac{(255-M)\times (255-I)}{255}$$
          </alt>
          <graphic fileref="images/math/layer-mode-screen.png"/>
        </equation>
        <para>
          The mode is commutative; the order of the two layers doesn't matter.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry id="layer-mode-overlay">
      <term>Overlay</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Overlay</secondary>
        </indexterm>
        <indexterm>
          <primary>Overlay</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Overlay</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-overlay-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-overlay-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Overlay</guilabel>
          mode inverts the pixel value of the lower layer, multiplies it by
          two times the pixel value of the upper layer, adds that to the
          original pixel value of the lower layer, divides by 255, and then
          multiplies by the pixel value of the original lower layer and
          divides by 255 again. It darkens the image, but not as much as with
          <quote>Multiply</quote> mode.
        </para>
        <para>
          The equation is:
          <footnote id="gimp-layer-mode-bug162395">
            <para>
              The equation is the *theoretical* equation. Due to
              <ulink url="http://bugzilla.gnome.org/show_bug.cgi?id=162395"> Bug
              #162395 </ulink>, the actual equation is equivalent to Soft
              light. It is difficult to fix this bug without changing the
              appearance of existing images.
            </para>
          </footnote>
        </para>
        <equation>
          <title>Equation for layer mode <quote>Overlay</quote></title>
          <alt role="latex">
            $$E = \frac{I}{255} \times
              \left(I + \frac{2\times M}{255} \times (255 - I)\right)$$
          </alt>
          <graphic fileref="images/math/layer-mode-overlay.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Dodge</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Dodge</secondary>
        </indexterm>
        <indexterm>
          <primary>Dodge</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Dodge</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-dodge-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-dodge-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Dodge</guilabel>
          mode multiplies the pixel value of the lower layer by 256, then
          divides that by the inverse of the pixel value of the top layer. The
          resulting image is usually lighter, but some colors may be inverted.
        </para>
        <para>
          In photography, dodging is a technique used in a darkroom to
          decrease the exposure in particular areas of the image. This brings
          out details in the shadows. When used for this purpose, dodge may
          work best on Grayscale images and with a painting tool, rather than
          as a layer mode.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Dodge</quote></title>
          <alt role="latex">$$E = \frac{256\times I}{(255 - M) + 1}$$</alt>
          <graphic fileref="images/math/layer-mode-dodge.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Burn</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Burn</secondary>
        </indexterm>
        <indexterm>
          <primary>Burn</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Burn</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-burn-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-burn-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Burn</guilabel>
          mode inverts the pixel value of the lower layer, multiplies it by
          256, divides that by one plus the pixel value of the upper layer,
          then inverts the result. It tends to make the image darker, somewhat
          similar to <quote>Multiply</quote> mode.
        </para>
        <para>
          In photography, burning is a technique used in a darkroom to
          increase the exposure in particular areas of the image. This brings
          out details in the highlights. When used for this purpose, burn may
          work best on Grayscale images and with a painting tool, rather than
          as a layer mode.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Burn</quote></title>
          <alt role="latex">$$E = 255 - \frac{256\times(255 - I)}{M + 1}$$</alt>
          <graphic fileref="images/math/layer-mode-burn.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Hard light</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Hard light</secondary>
        </indexterm>
        <indexterm>
          <primary>Hard light</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Hard light</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-hard-light-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-hard-light-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Hard light</guilabel>
          mode is rather complicated because the equation consists of two
          parts, one for darker colors and one for brighter colors. If the
          pixel color of the upper layer is greater than 128, the layers are
          combined according to the first formula shown below. Otherwise, the
          pixel values of the upper and lower layers are multiplied together
          and multiplied by two, then divided by 256. You might use this mode
          to combine two photographs and obtain bright colors and sharp edges.
        </para>
        <para>
          The equation is complex and different according to
          the value &gt;128 or &le; 128:</para>
        <equation>
          <title>
            Equation for layer mode <quote>Hard light</quote>, M &gt; 128
          </title>
          <alt role="latex">
            $$E = 255 - \frac{\big(255 - 2\times (M-128)\big)\times (255 - I)}
              {256}, \qquad M > 128$$
          </alt>
          <graphic fileref="images/math/layer-mode-hard-light1.png"/>
        </equation>
        <equation>
          <title>
            Equation for layer mode <quote>Hard light</quote>, M &le; 128
          </title>
          <alt role="latex">
            $$E = \frac{2 \times M \times I}{256}, \qquad M \le 128$$
          </alt>
          <graphic fileref="images/math/layer-mode-hard-light2.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Soft light</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Soft light</secondary>
        </indexterm>
        <indexterm>
          <primary>Soft light</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Soft light</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-soft-light-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-soft-light-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Soft light</guilabel> is not related to
          <quote>Hard light</quote> in anything but the name, but it
          does tend to make the edges softer and the colors not so
          bright. It is similar to <quote>Overlay</quote> mode. In some
          versions of <acronym>GIMP</acronym>, <quote>Overlay</quote>
          mode and <quote>Soft light</quote> mode are identical.
        </para>
        <para>The equation is complicated. It needs Rs, the
          result of Screen mode :
        </para>
        <equation>
          <title>Equation for layer mode <quote>Screen</quote></title>
          <alt role="latex">
              $$R_{s} = 255 - \frac{(255-M)\times(255-I)}{255}$$
            </alt>
          <graphic fileref="images/math/layer-mode-soft-light1.png"/>
        </equation>
        <equation>
          <title>Equation for layer mode <quote>Soft light</quote></title>
          <alt role="latex">
            $$E = \frac{(255-I)\times M + R_{s}}{255} \times I$$
          </alt>
          <graphic fileref="images/math/layer-mode-soft-light2.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Grain extract</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Grain extract</secondary>
        </indexterm>
        <indexterm>
          <primary>Grain extract</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Grain extract</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-grain-extract-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-grain-extract-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Grain extract</guilabel>
          mode is supposed to extract the <quote>film grain</quote>
          from a layer to produce a new layer that is pure grain, but it can
          also be useful for giving images an embossed appearance. It
          subtracts the pixel value of the upper layer from that of the lower
          layer and adds 128.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Grain extract</quote></title>
          <alt role="latex">$$E = I - M + 128$$</alt>
          <graphic fileref="images/math/layer-mode-grainextract.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Grain merge</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Grain merge</secondary>
        </indexterm>
        <indexterm>
          <primary>Grain merge</primary>
        </indexterm>
        <para>
          There are two more layer modes, but these are available only for
          painting tools. See
          <link linkend="gimp-tool-painting-modes">Painting Modes</link>
          for detailed information.
        </para>
        <figure>
          <title>Example for layer mode <quote>Grain merge</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-grain-merge-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-grain-merge-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Grain merge</guilabel> mode merges a grain layer
          (possibly one created from the <quote>Grain extract</quote>
          mode) into the current layer, leaving a grainy version of the
          original layer. It does just the opposite of
          <quote>Grain extract</quote>. It adds the pixel values of the
          upper and lower layers together and subtracts 128.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Grain merge</quote></title>
          <alt role="latex">$$E = I + M - 128$$</alt>
          <graphic fileref="images/math/layer-mode-grainmerge.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry id="layer-mode-difference">
      <term>Difference</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Difference</secondary>
        </indexterm>
        <indexterm>
          <primary>Difference</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Difference</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-difference-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-difference-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Difference</guilabel>
          mode subtracts the pixel value of the upper layer from that of the
          lower layer and then takes the absolute value of the result. No
          matter what the original two layers look like, the result looks
          rather odd. You can use it to invert elements of an image.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Difference</quote></title>
          <alt role="latex">$$E = |I - M|$$</alt>
          <graphic fileref="images/math/layer-mode-difference.png"/>
        </equation>
        <para>
          The mode is commutative; the order of the two layers doesn't matter.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Addition</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Addition</secondary>
        </indexterm>
        <indexterm>
          <primary>Addition</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Addition</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-addition-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-addition-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Addition</guilabel>
          mode is very simple. The pixel values of the upper and lower layers
          are added to each other. The resulting image is usually lighter. The
          equation can result in color values greater than 255, so some of the
          light colors may be set to the maximum value of 255.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Addition</quote></title>
          <alt role="latex">$$E = \min\bigl( (M + I), 255\bigr)$$</alt>
          <graphic fileref="images/math/layer-mode-addition.png"/>
        </equation>
        <para>
          The mode is commutative; the order of the two layers doesn't matter.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Subtract</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Subtract</secondary>
        </indexterm>
        <indexterm>
          <primary>Subtract</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Subtract</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-subtract-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-subtract-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Subtract</guilabel>
          mode subtracts the pixel values of the upper layer from the pixel
          values of the lower layer. The resulting image is normally darker.
          You might get a lot of black or near-black in the resulting image.
          The equation can result in negative color values, so some of the
          dark colors may be set to the minimum value of 0.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Subtraction</quote></title>
          <alt role="latex">$$E = \max\bigl( (I - M), 0\bigr)$$</alt>
          <graphic fileref="images/math/layer-mode-subtract.png"/>
        </equation>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Darken only</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Darken only</secondary>
        </indexterm>
        <indexterm>
          <primary>Darken only</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Darken only</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-darken-only-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-darken-only-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guimenuitem>Darken only</guimenuitem>
          mode compares each component of each pixel in the upper layer with
          the corresponding one in the lower layer and uses the smaller value
          in the resulting image. Completely white layers have no effect on
          the final image and completely black layers result in a black image.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Darken only</quote></title>
          <alt role="latex">$$E = \min(M, I)$$</alt>
          <graphic fileref="images/math/layer-mode-darken.png"/>
        </equation>
        <para>
          The mode is commutative; the order of the two layers doesn't matter.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Lighten only</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Lighten only</secondary>
        </indexterm>
        <indexterm>
          <primary>Lighten only</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Lighten only</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-lighten-only-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-lighten-only-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guimenuitem>Lighten only</guimenuitem>
          mode compares each component of each pixel in the upper layer with
          the corresponding one in the lower layer and uses the larger value
          in the resulting image. Completely black layers have no effect on
          the final image and completely white layers result in a white image.
        </para>
        <para>The equation is:</para>
        <equation>
          <title>Equation for layer mode <quote>Lighten only</quote></title>
          <alt role="latex">$$E = \max(M, I)$$</alt>
          <graphic fileref="images/math/layer-mode-lighten.png"/>
        </equation>
        <para>
          The mode is commutative; the order of the two layers doesn't matter.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Hue</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Hue</secondary>
        </indexterm>
        <indexterm>
          <primary>Hue</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Hue</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-hue-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-hue-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Hue</guilabel>
          mode uses the hue of the upper layer and the saturation and value of
          the lower layer to form the resulting image. However, if the
          saturation of the upper layer is zero, the hue is taken from the
          lower layer, too.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Saturation</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Saturation</secondary>
        </indexterm>
        <indexterm>
          <primary>Saturation</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Saturation</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-saturation-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-saturation-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Saturation</guilabel>
          mode uses the saturation of the upper layer and the hue and value of
          the lower layer to form the resulting image.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Color</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Color</secondary>
        </indexterm>
        <indexterm>
          <primary>Color</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Color</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-color-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-color-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Color</guilabel>
          mode uses the hue and saturation of the upper layer and the value of
          the lower layer to form the resulting image.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Value</term>
      <listitem>
        <indexterm>
          <primary>Layer Modes</primary>
          <secondary>Value</secondary>
        </indexterm>
        <indexterm>
          <primary>Value</primary>
        </indexterm>
        <figure>
          <title>Example for layer mode <quote>Value</quote></title>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-value-mask1.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 1 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/using/layer-mode-value-mask2.jpg"/>
            </imageobject>
            <caption>
              <para>
                Mask 2 is used as upper layer with 100% opacity.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          <guilabel>Value</guilabel>
          mode uses the value of the upper layer and the saturation and hue of
          the lower layer to form the resulting image. You can use this mode
          to reveal details in dark and light areas of an image without
          changing the saturation.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para>
    Each layer in an image can have a different layer mode. (Of course, the
    layer mode of the bottom layer of an image has no effect.) The effects of
    these layer modes are cumulative. The image shown below has three layers.
    The top layer consists of Wilber surrounded by transparency and has a
    layer mode of <quote>Difference</quote>.
    The second layer is solid light blue and has a layer mode of
    <quote>Addition</quote>. The bottom layer is filled with the
    <quote>Red Cubes</quote> pattern.
  </para>
  <figure>
    <title>Multi layer example</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/glossary/modes-multilayer.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    <acronym>GIMP</acronym> also has similar modes which are used for the
    painting tools. These are the same twenty-one modes as the layer modes,
    plus additionally two modes which are specific to the painting tools. You
    can set these modes from the <guilabel>Mode</guilabel> menu in the Tools
    option dialog. In the equations shown above, the layer you are painting on
    is the <quote>lower layer</quote> and the pixels painted by the tool are
    the <quote>upper layer</quote>. Naturally, you do not need more than one
    layer in the image to use these modes, since they only operate on the
    current layer and the selected painting tool.
  </para>
  <para>
    See <xref linkend="gimp-paint-mode-examples"/> for a description of the
    two additional painting modes.
  </para>
</sect1>
-#-#-
<sect1 id="gimp-concepts-layers">
  <title>Introduction to Layers</title>

  <indexterm>
    <primary>Layers</primary>
  </indexterm>

  <para>
    A good way to visualize a <acronym>GIMP</acronym> image is as a stack of
    transparencies: in <acronym>GIMP</acronym> terminology, each
    individual transparency is called a
    <emphasis>layer</emphasis>. There is no limit, in principle, to the number
    of layers an image can have: only the amount of memory available on the
    system. It is not uncommon for advanced users to work with images
    containing dozens of layers.
  </para>
  <para>
    The organization of layers in an image is shown by the Layers dialog,
    which is the second most important type of dialog window in
    <acronym>GIMP</acronym>, after
    the Main Toolbox. The appearance of the Layers dialog is shown in the
    adjoining illustration. How it works is described in detail in the
    <link linkend="gimp-layer-dialog">Layers Dialog</link>
    section, but we will touch on some aspects of it here, in relation to the
    layer properties that they display.
  </para>
  <para>
    <indexterm><primary>Drawable</primary></indexterm>
    Each open image has at any time a single
    <emphasis>active drawable</emphasis>. A <quote>drawable</quote>
    is a <acronym>GIMP</acronym> concept that includes layers, but also
    several other types of
    things, such as channels, layer masks, and the selection mask. (Basically,
    a <quote>drawable</quote>
    is anything that can be drawn on with painting tools). If a layer is
    currently active, it is shown highlighted in the Layers dialog, and its
    name is shown in the status area of the image window. If not, you can
    activate it by clicking on it. If none of the layers are highlighted, it
    means the active drawable is something other than a layer.
  </para>
  <para>
    In the menubar above an image window, you can find a menu called
    <guimenu>Layer</guimenu>, containing a number of commands that
    affect the active layer of the image.  The same menu can be
    accessed by right-clicking in the Layers dialog.
  </para>

  <sect2 id="gimp-layer-properties">
    <title>Layer Properties</title>

    <para>
      Each layer in an image has a number of important attributes:
    </para>

    <variablelist>
      <varlistentry>
        <term>Name</term>
        <listitem>
          <para>
            Every layer has a name. This is assigned automatically when the
            layer is created, but you can change it. You can change the name
            of a layer either by double-clicking on it in the Layers dialog,
            or by right-clicking there and then selecting the top entry in the
            menu that appears,
            <guimenuitem>Edit Layer Attributes</guimenuitem>.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Presence or absence of an alpha channel</term>
        <listitem>
          <indexterm>
            <primary>Background layer</primary>
          </indexterm>
          <indexterm>
            <primary>Transparency</primary>
            <secondary>Background layer transparency</secondary>
          </indexterm>
          <para>
            An alpha channel encodes information about how transparent a layer
            is at each pixel. It is visible in the Channel Dialog: white is
            complete opacity, black is complete transparency and grey levels
            are partial transparencies.
          </para>
          <para>
            The background layer is particular. If you have just created a
            new image, it has still only one layer which is a background
            layer. If the image has been created with an opaque Fill type,
            this one layer has no Alpha channel. If you add a new layer,
            even with an opaque Fill type, an Alpha channel is automatically
            created, which applies to all layers apart from the background
            layer. To get a background layer with transparency, either you
            create your new image with a transparent Fill type, or you use
            the
            <link linkend="gimp-layer-alpha-add">Add an Alpha Channel</link>.
          </para>
          <para>
            Every layer other than the bottom layer of an image has
            automatically an Alpha channel, but you can't see a grayscale
            representation of the alpha values. See
            <link linkend="glossary-alpha">Alpha</link> in Glossary for
            more information.
          </para>
          <formalpara id="alpha-channel-example">
            <title>Example for Alpha channel</title>
            <indexterm>
              <primary>Alpha Channel</primary>
            </indexterm>
            <para>
              <figure>
                <title>Alpha channel example: Basic image</title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/glossary/alpha-channel-0.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      This image has three layers painted with pure 100% opaque
                      Red, Green, and Blue. In the Channel Dialog, you can see
                      that an alpha Channel has been added. It is white because
                      the image is not transparent since there is at least one
                      100% opaque layer. The current layer is the red one : since
                      it is painted with pure red, there is no green and no blue
                      and the corresponding channels are black.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
              <figure>
                <title>Alpha channel example: One transparent layer</title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/glossary/alpha-channel-1.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      The left part of the first layer has been made transparent
                      (Rectangular selection, Edit/Clear). The second layer,
                      green, is visible. The Alpha channel is still white, since
                      there is an opaque layer in this part of the image.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
              <figure>
                <title>Alpha channel example: Two transparent layers</title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/glossary/alpha-channel-2.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      The left part of the second layer has been made
                      transparent. The third layer, blue, is visible through the
                      first and second layers. The Alpha channel is still white,
                      since there is an opaque layer in this part of the image.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
              <figure>
                <title>Alpha channel example: Three transparent layers</title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/glossary/alpha-channel-3a.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      The left part of the third layer has been made transparent.
                      The Alpha channel is still white and the left part of the
                      layer is white, opaque! The background layer has
                      no Alpha channel. In this case, the Clear command works
                      like the Eraser and uses the Background color of Toolbox.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
              <figure>
                <title>
                  Alpha channel example: Alpha channel added to the Background
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/glossary/alpha-channel-3b.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      We used the
                      <menuchoice>
                        <guimenu>Layer</guimenu>
                        <guimenuitem>Transparency</guimenuitem>
                        <guisubmenu>Add Alpha Channel</guisubmenu>
                      </menuchoice>
                      command, on the Background layer.
                      Now, the left part of the image is fully transparent and
                      has the color of the page the image is lying on. The left
                      part of the Alpha Channel thumbnail is black (transparent)
                      in the Channel Dialog.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
            </para>
          </formalpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Layer type</term>
        <listitem>
          <indexterm>
            <primary>Layer</primary>
            <secondary>Type</secondary>
          </indexterm>
          <para>
            The layer type is determined by the image type (see previous
            section) and the presence or absence of an alpha channel. These
            are the possible layer types:
          </para>
          <itemizedlist>
            <listitem><para>RGB</para></listitem>
            <listitem><para>RGBA</para></listitem>
            <listitem><para>Gray</para></listitem>
            <listitem><para>GrayA</para></listitem>
            <listitem><para>Indexed</para></listitem>
            <listitem><para>IndexedA</para></listitem>
          </itemizedlist>
          <para>
            The main reason this matters is that most filters (in the
            <guimenu>Filters</guimenu>
            menu) only accept a subset of layer types, and appear grayed out
            in the menu if the active layer does not have an acceptable type.
            Often you can rectify this either by changing the mode of the
            image or by adding or removing an alpha channel.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/stock-eye-20.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          Visibility
        </term>
        <listitem>
          <indexterm>
            <primary>Visibility</primary>
            <secondary>Icon</secondary>
          </indexterm>
          <para>
            It is possible to remove a layer from an image,
            without destroying it, by clicking on the symbol in the Layers
            dialog. This is called <quote>toggling the visibility</quote>
            of the layer. Most operations on an image treat toggled-off layers
            as if they did not exist. When you work with images containing
            many layers, with varying opacity, you often can get a better
            picture of the contents of the layer you want to work on by hiding
            some of the other layers.
          </para>
          <tip>
            <para>
              If you <emphasis>Shift</emphasis>-click on the eye symbol, this
              will cause all layers <emphasis>except</emphasis>
              the one you click on to be hidden.
            </para>
          </tip>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/stock-vchain-24.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          Linkage to other layers
        </term>
        <listitem>
          <indexterm>
            <primary>Layers</primary>
            <secondary>Linkage</secondary>
          </indexterm>
          <indexterm>
            <primary>Chain icon</primary>
          </indexterm>
          <para>
            If you click between the eye icon and the layer thumbnail, you get
            a chain icon, which enables you to group layers for operations on
            multiple layers (for example with the Move tool or a transform
            tool).
          </para>
          <figure>
            <title>Layer Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/link-visibility.png"/>
              </imageobject>
              <caption>
                <para>
                  Red: Linkage to others layers. Green: Visibility.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Size and boundaries</term>
        <listitem>
          <indexterm>
            <primary>Layer</primary>
            <secondary>Size</secondary>
          </indexterm>
          <indexterm>
            <primary>Layer</primary>
            <secondary>Boundaries</secondary>
          </indexterm>
          <para>
            In <acronym>GIMP</acronym>, the boundaries of a layer do not
            necessarily match the
            boundaries of the image that contains it. When you create text,
            for example, each text item goes into its own separate layer, and
            the layer is precisely sized to contain the text and nothing more.
            Also, when you create a new layer using cut-and-paste, the new
            layer is sized just large enough to contain the pasted item. In
            the image window, the boundaries of the currently active layer are
            shown outlined with a black-and-yellow dashed line.
          </para>
          <para>
            The main reason why this matters is that you cannot do anything to
            a layer outside of its boundaries: you can't act on what doesn't
            exist. If this causes you problems, you can alter the dimensions
            of the layer using any of several commands that you can find near
            the bottom of the <guimenu>Layer</guimenu> menu.
          </para>
          <note>
            <para>
              The amount of memory that a layer consumes is determined by its
              dimensions, not its contents. So, if you are working with large
              images or images that contain many layers, it might pay off to
              trim layers to the minimum possible size.
            </para>
          </note>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            The opacity of a layer determines the extent to which it lets
            colors from layers beneath it in the stack show through. Opacity
            ranges from 0 to 100, with 0 meaning complete transparency, and
            100 meaning complete opacity.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Mode</term>
        <listitem>
          <para>
            The Mode of a layer determines how colors from the layer are
            combined with colors from the underlying layers to produce a
            visible result. This is a sufficiently complex, and sufficiently
            important, concept to deserve a section of its own, which follows.
            See <xref linkend="gimp-concepts-layer-modes"/>.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Layer mask</term>
        <listitem>
          <indexterm>
            <primary>Masks</primary>
            <secondary>Layer mask</secondary>
            <tertiary>Overview</tertiary>
          </indexterm>
          <para>
            In addition to the alpha channel, there is another way to control
            the transparency of a layer: by adding a
            <emphasis>layer mask</emphasis>,
            which is an extra grayscale drawable associated with the layer.
            A layer does not have a layer mask by default: it must be added
            specifically. Layer masks, and how to work with them, are
            described much more extensively in the
            <link linkend="gimp-layer-mask">Layer Mask</link> section.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><quote>Lock alpha channel</quote> setting</term>
        <listitem>
          <para>
            In the upper left corner of the Layers dialog appears a small
            checkbox that controls the <quote>Lock</quote>
            setting for the transparency of the layer (see the figure below).
            If this is checked, then the alpha channel for the layer is
            locked, and no manipulation has any effect on it. In particular,
            nothing that you do to a transparent part of the layer will have
            any effect.
          </para>
          <figure>
            <title>Lock Alpha channel</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/lock-alpha.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-concepts-palettes">
  <title>Palettes</title>
  <indexterm>
    <primary>Palette</primary>
    <secondary>Introduction</secondary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Palettes (color map)</secondary>
  </indexterm>
  <indexterm>
    <primary>Indexed palette</primary>
  </indexterm>

  <para>
    A <emphasis>palette</emphasis> is a set of discrete colors. In
    <acronym>GIMP</acronym>, palettes are used mainly for two purposes:
  </para>
  <itemizedlist>
    <listitem>
      <para>
        They allow you to paint with a selected set of colors, in the same way
        an oil painter works with colors from a limited number of tubes.
      </para>
    </listitem>
    <listitem>
      <para>
        They form the colormaps of indexed images. An indexed image can use a
        maximum of 256 different colors, but these can be any colors. The
        colormap of an indexed image is called an "indexed palette" in
        <acronym>GIMP</acronym>.
      </para>
    </listitem>
  </itemizedlist>

  <para>
    Actually neither of these functions fall very much into the mainstream of
    <acronym>GIMP</acronym> usage: it is possible to do rather sophisticated
    things in <acronym>GIMP</acronym>
    without ever dealing with palettes. Still, they are something that an
    advanced user should understand, and even a less advanced user may need to
    think about them in some situations, as for example when working with GIF
    files.
  </para>

  <figure>
    <title>The Palettes dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/palettes-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    When you install <acronym>GIMP</acronym>, it comes supplied with several
    dozen predefined
    palettes, and you can also create new ones. Some of the predefined
    palettes are commonly useful, such as the <quote>Web</quote> palette,
    which contains the set of colors considered <quote>web safe</quote>;
    many of the palettes seem to have been chosen more or less whimsically.
    You can access all of the available palettes using the
    <link linkend="gimp-palette-dialog">Palettes dialog</link>.
    This is also the starting point if you want to create a new palette.
  </para>

  <figure>
    <title>The Palette Editor</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/palette-editor.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    Double-clicking on a palette in the Palettes dialog brings up the
    <link linkend="gimp-palette-editor-dialog">Palette Editor</link>,
    showing the colors from the palette you clicked on. You can use this to
    paint with the palette: clicking on a color sets <acronym>GIMP</acronym>'s
    foreground to that
    color, as shown in the Color Area of the Toolbox. Holding down the
    <keycap>Ctrl</keycap> key while clicking, on the other hand, sets
    <acronym>GIMP</acronym>'s
    background color to the color you click on.
  </para>
  <para>
    You can also, as the name implies, use the Palette Editor to change the
    colors in a palette, so long as it is a palette that you have created
    yourself. You cannot edit the palettes that are supplied with
    <acronym>GIMP</acronym>;
    however you can duplicate them and then edit the copies.
  </para>
  <para>
    When you create palettes using the Palette Editor, they are automatically
    saved as soon as you exit <acronym>GIMP</acronym>, in the
    <filename>palettes</filename>
    folder of your personal <acronym>GIMP</acronym> directory. Any palette
    files in this
    directory, or in the system <filename>palettes</filename>
    directory created when <acronym>GIMP</acronym> is installed, are
    automatically loaded and
    shown in the Palettes dialog the next time you start
    <acronym>GIMP</acronym>. You can also
    add other folders to the palette search path using the
    <link linkend="gimp-prefs-folders-data">Palette Folders</link>
    page of the Preferences dialog.
  </para>
  <para>
    <acronym>GIMP</acronym> palettes are stored using a special file format,
    in files with the
    extension <filename>.gpl</filename>.
    It is a very simple format, and they are ASCII files, so if you happen
    to obtain palettes from another source, and would like to use them in
    <acronym>GIMP</acronym>, it probably won't be very hard to convert them:
    just take a look at
    any <filename>.gpl</filename> and you will see what to do.
  </para>

  <sect2>
    <title>Colormap</title>
    <para>
      Confusingly, <acronym>GIMP</acronym> makes use of two types of palettes.
      The more
      noticeable are the type shown in the Palettes dialog: palettes that
      exist independently of any image. The second type,
      <emphasis>indexed palettes</emphasis>,
      form the colormaps of indexed images. Each indexed image has its own
      private indexed palette, defining the set of colors available in the
      image: the maximum number of colors allowed in an indexed palette is
      256. These palettes are called <quote>indexed</quote> because each
      color is associated with an index number. (Actually, the colors in
      ordinary palettes are numbered as well, but the numbers have no
      functional significance.)
    </para>
    <figure>
      <title>The Colormap dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/dialogs/colormap-dialog.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The colormap of an indexed image is shown in the
      <link linkend="gimp-indexed-palette-dialog">Indexed Palette
      dialog</link>,
      which should not be confused with the Palettes dialog. The Palettes
      dialog shows a list of all of the palettes available; the Colormap
      dialog shows the colormap of the currently active image, if it is an
      indexed image &ndash; otherwise it shows nothing.
    </para>
    <para>
      You can, however, create an ordinary palette from the colors in an
      indexed image&mdash;actually from the colors in any image. To do this,
      choose <guimenuitem>Import Palette</guimenuitem>
      from the right-click popup menu in the Palettes dialog: this pops up a
      dialog that gives you several options, including the option to import
      the palette from an image. (You can also import any of
      <acronym>GIMP</acronym>'s gradients
      as a palette.) This possibility becomes important if you want to create
      a set of indexed images that all use the same set of colors.
    </para>
    <para>
      When you convert an image into indexed mode, a major part of the process
      is the creation of an indexed palette for the image. How this happens is
      described in detail in <xref linkend="gimp-image-convert-indexed"/>.
      Briefly, you have several methods to choose from, one of which is to
      use a specified palette from the Palettes dialog.
    </para>
    <para>
      Thus, to sum up the foregoing, ordinary palettes can be turned into
      indexed palettes when you convert an image into indexed mode; indexed
      palettes can be turned into ordinary palettes by importing them into the
      Palettes dialog.
    </para>
    <figure>
      <title>Colormap dialog (1) and Palette dialog (2)</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/palettes.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-concepts-patterns">
  <title>Patterns</title>

  <indexterm>
    <primary>Patterns</primary>
    <secondary>Introduction</secondary>
  </indexterm>

  <para>
    A <emphasis>pattern</emphasis> is an image, usually small, used
    for filling regions by <emphasis>tiling</emphasis>, that is, by
    placing copies of the pattern side by side like ceramic tiles.  A
    pattern is said to be <emphasis>tileable</emphasis> if copies of
    it can be adjoined left-edge-to-right-edge and
    top-edge-to-bottom-edge without creating obvious seams.  Not all
    useful patterns are tileable, but tileable patterns are nicest for
    many purposes.  (A <emphasis>texture</emphasis>, by the way, is
    the same thing as a pattern.)
  </para>
  <figure>
    <title>Pattern usage</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/patterns-usage.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          Three ways of using the <quote>Leopard</quote> pattern:
          bucket-filling a selection, painting with the Clone tool, and
          stroking an elliptical selection with the pattern.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>In GIMP there are three main uses for patterns:</para>
  <itemizedlist>
    <listitem>
      <para>
        With the <link linkend="gimp-tool-bucket-fill">Bucket
        Fill</link> tool, you can choose to fill a region with a
        pattern instead of a solid color.
      </para>
      <figure>
        <title>The checked box for use a pattern</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/pattern-checked.png"/>
          </imageobject>
          <caption>
            <para>
              The box for pattern fill is checked and a click on the pattern
              shows you all patterns in grid mode.
            </para>
          </caption>
        </mediaobject>
      </figure>
    </listitem>
    <listitem>
      <para>
        With the <link linkend="gimp-tool-clone">Clone</link> tool,
        you can paint using a pattern, with a wide variety of
        paintbrush shapes.
      </para>
    </listitem>
    <listitem>
      <para>
        When you <emphasis>stroke</emphasis> a path or selection, you
        can do it with a pattern instead of a solid color.  You can
        also use the Clone tool as your choice if you stroke the
        selection using a painting tool.
      </para>
    </listitem>
  </itemizedlist>
  <tip>
    <para>
      Note: Patterns do not need to be opaque. If you fill or paint using a
      pattern with translucent or transparent areas, then the previous
      contents of the area will show through from behind it. This is one of
      many ways of doing <quote>overlays</quote> in GIMP.
    </para>
  </tip>
  <para>
    When you install GIMP, it comes presupplied with a few dozen
    patterns, which seem to have been chosen more or less randomly.
    You can also add new patterns, either ones you create yourself, or
    ones you download from the vast number available online.
  </para>
  <para>
    GIMP's <emphasis>current pattern</emphasis>,
    used in most pattern-related operations, is shown in the
    Brush/Pattern/Gradient area of the Toolbox. Clicking on the pattern symbol
    brings up the <link linkend="gimp-pattern-dialog">Patterns dialog</link>,
    which allows you to select a different pattern. You can also access the
    Patterns dialog by menu, or dock it so that it is present continuously.
  </para>
  <para>
    To add a new pattern to the collection, so that it shows up in the
    Patterns dialog, you need to save it in a format GIMP can use, in a folder
    included in GIMP's pattern search path. There are several file formats you
    can use for patterns:
  </para>

  <variablelist>
    <varlistentry>
      <term>PAT</term>
      <listitem>
        <para>
          The <filename class="extension">.pat</filename> format is used for
          patterns which were created specifically for GIMP. You can convert
          any image into a <filename class="extension">.pat</filename> file by
          opening it in GIMP and then saving it using a file name ending in
          <filename class="extension">.pat</filename>.
        </para>
        <caution>
          <!-- see bug #573828 -->
          <para>
            Do not confuse <acronym>GIMP</acronym>-generated
            <filename class="extension">.pat</filename> files with files
            created by other programs (e.g.
            <application>Photoshop</application>) &ndash; after all,
            <filename class="extension">.pat</filename> is just a part of an
            (arbitrary) file name.
          </para>
          <para>
            (However, <acronym>GIMP</acronym> <emphasis>does</emphasis>
            support <application>Photoshop</application>
            <filename class="extension">.pat</filename> files until a certain
            version.)
          </para>
        </caution>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>PNG, JPEG, BMP, GIF, TIFF</term>
      <listitem>
        <para>
          Since GIMP 2.2 you can use
          <filename class="extension">.png</filename>,
          <filename class="extension">.jpg</filename>,
          <filename class="extension">.bmp</filename>,
          <filename class="extension">.gif</filename>, or
          <filename class="extension">.tiff</filename> files as patterns.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para>
    To make a pattern available, you place it in one of the folders in GIMP's
    pattern search path. By default, the pattern search path includes two
    folders, the system <filename>patterns</filename> folder, which you should
    not use or alter, and the <filename>patterns</filename>
    folder inside your personal GIMP directory. You can add new folders to the
    pattern search path using the
    <link linkend="gimp-prefs-folders-data">Pattern Folders</link>
    page of the Preferences dialog. Any PAT file (or, in GIMP 2.2, any of the
    other acceptable formats) included in a folder in the pattern search path
    will show up in the Patterns dialog the next time you start GIMP.
  </para>
  <para>
    There are countless ways of creating interesting patterns in GIMP, using
    the wide variety of available tools and filters -- particularly the
    rendering filters. You can find tutorials for this in many locations,
    including the GIMP home page <xref linkend="bibliography-online-gimp"/>.
    Some of the filters have options that allows you to make their results
    tileable. Also, see <xref linkend="script-fu-tile-blur"/>, this
    filter allows you to blend the edges of an image in order to make it more
    smoothly tileable.
  </para>
  <figure>
    <title>Pattern script examples</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/pattern-script-examples.png"/>
      </imageobject>
      <caption>
        <para>
          Examples of patterns created using six of the Pattern Script-Fu's
          that come with GIMP. Default settings were used for everything
          except size. (From left to right: 3D Truchet; Camouflage; Flatland;
          Land; Render Map; Swirly)
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    Also of interest are a set of pattern-generating scripts that come with
    GIMP: you can find them in the menu bar, through
    <menuchoice>
      <guimenu>File</guimenu>
      <guisubmenu>Create</guisubmenu>
      <guimenuitem>Patterns</guimenuitem>
    </menuchoice>.
    Each of the scripts creates a new image filled with a particular type of
    pattern: a dialog pops up that allows you to set parameters controlling
    the details of the appearance. Some of these patterns are most useful for
    cutting and pasting; others serve best as
    <link linkend="glossary-bumpmapping">bumpmaps</link>.
  </para>
  <figure>
    <title>How to create new patterns</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/pattern-create.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
</sect1>
-#-#-
<sect1 id="gimp-concepts-plugins">
  <title>Plugins</title>
  <indexterm>
    <primary>Plugins</primary>
    <secondary>Introduction</secondary>
  </indexterm>
  <sect2>
    <title>Introduction</title>
    <para>
      One of the nicest things about <acronym>GIMP</acronym> is how easily its
      functionality can be extended, by using plugins.
      <acronym>GIMP</acronym> plugins are external programs that run under the
      control of the main <acronym>GIMP</acronym> application and interact
      with it very closely. Plugins can manipulate images in almost any way
      that users can. Their advantage is that it is much easier to add a
      capability to <acronym>GIMP</acronym> by writing a small plugin than by
      modifying the huge mass of complex code that makes up the
      <acronym>GIMP</acronym> core. Many valuable plugins have C source code
      that only comes to 100-200 lines or so.
    </para>
    <para>
      Several dozen plugins are included in the main <acronym>GIMP</acronym>
      distribution, and installed automatically along with
      <acronym>GIMP</acronym>. Most of them can be accessed through the
      <guimenu>Filters</guimenu> menu (in fact, everything in that menu is a
      plugin), but a number are located in other menus. In many cases you can
      use one without ever realizing that it is a plugin: for example, the
      "Normalize" function for automatic color correction is actually a
      plugin, although there is nothing about the way it works that would tell
      you this.
    </para>
    <para>
      In addition to the plugins included with <acronym>GIMP</acronym> , many
      more are available on the net. A large number can be found at the
      <acronym>GIMP</acronym> Plugin Registry
      <xref linkend="bibliography-online-gimp-plugin-registry"/>,
      a web site whose purpose is to provide a central repository for
      plugins. Creators of plugins can upload them there; users in search of
      plugins for a specific purpose can search the site in a variety of ways.
    </para>
    <para>
      Anybody in the world can write a <acronym>GIMP</acronym> plugin and make
      it available over the web, either via the Registry or a personal web
      site, and many very valuable plugins can be obtained in this way Â­ some
      are described elsewhere in the User's Manual. With this freedom from
      constraint comes a certain degree of risk, though: the fact that anybody
      can do it means that there is no effective quality control. The plugins
      distributed with <acronym>GIMP</acronym> have all been tested and tuned
      by the developers, but many that you can download were just hacked
      together in a few hours and then tossed to the winds. Some plugin
      creators just don't care about robustness, and even for those who do,
      their ability to test on a variety of systems in a variety of situations
      is often quite limited. Basically, when you download a plugin, you are
      getting something for free, and sometimes you get exactly what you pay
      for. This is not said in an attempt to discourage you, just to make sure
      you understand reality.
    </para>
    <warning>
      <para>
        Plugins, being full-fledged executable programs, can do any of the
        things that any other program can do, including install back-doors on
        your system or otherwise compromise its security. Don't install a
        plugin unless it comes from a trusted source.
      </para>
    </warning>
    <para>
      These caveats apply as much to the Plugin Registry as to any other
      source of plugins. The Registry is available to any plugin creator who
      wants to use it:  there is no systematic oversight. Obviously if the
      maintainers became aware that something evil was there, they would
      remove it. (That hasn't happened yet.)  There is, however, for
      <acronym>GIMP</acronym> and its plugins the same warranty as for any
      other free software: namely, none.
    </para>
    <caution>
      <para>
        Plugins have been a feature of <acronym>GIMP</acronym> for many
        versions. However, plugins written for one version of
        <acronym>GIMP</acronym> can hardly ever be used successfully with
        other versions. They need to be ported: sometimes this is easy,
        sometimes not. Many plugins are already available in several
        versions. Bottom line: before trying to install a plugin, make sure
        that it is written for your version of <acronym>GIMP</acronym>.
      </para>
    </caution>
  </sect2>

  <sect2>
    <title>Using Plugins</title>
    <para>
      For the most part you can use a plugin like any other
      <acronym>GIMP</acronym> tool, without needing to be aware that it is a
      plugin. But there are a few things about plugins that are useful to
      understand.
    </para>
    <para>
      One is that plugins are generally not as robust as the
      <acronym>GIMP</acronym> core. When <acronym>GIMP</acronym> crashes, it
      is considered a very serious thing: it can cost the user a lot of
      trouble and headache. When a plugin crashes, the consequences are
      usually not so serious.  In most cases you can just continuing working
      without worrying about it.
    </para>
    <note>
      <para>
        Because plugins are separate programs, they communicate with the
        <acronym>GIMP</acronym> core in a special way: The
        <acronym>GIMP</acronym> developers call it <quote>talking over a
          wire</quote>. When a plugin crashes, the communication breaks down,
        and you will see an error message about a <quote>wire read
          error</quote>.
      </para>
    </note>
    <tip>
      <para>
        When a plugin crashes, <acronym>GIMP</acronym> gives you a very
        ominous-looking message telling you that the plugin may have left
        <acronym>GIMP</acronym> in a corrupted state, and you should consider
        saving your images and exiting. Strictly speaking, this is quite
        correct, because plugins have the power to alter almost anything in
        <acronym>GIMP</acronym>, but for practical purposes, experience has
        shown that corruption is actually quite rare, and many users just
        continue working and don't worry about it. Our advice is that you
        simply think about how much trouble it would cause you if something
        went wrong, and weigh it against the odds.
      </para>
    </tip>
    <para>
      Because of the way plugins communicate with <acronym>GIMP</acronym>,
      they do not have any mechanism for being informed about changes you make
      to an image after the plugin has been started. If you start a plugin,
      and then alter the image using some other tool, the plugin will often
      crash, and when it doesn't will usually give a bogus result. You should
      avoid running more than one plugin at a time on an image, and avoid
      doing anything to the image until the plugin has finished working on it.
      If you ignore this advice, not only will you probably screw up the
      image, you will probably screw up the undo system as well, so that you
      won't even be able to recover from your foolishness.
    </para>
  </sect2>

  <sect2 id="gimp-plugins-install">
    <title>Installing New Plugins</title>
    <indexterm>
      <primary>Plugins</primary>
      <secondary>Install</secondary>
    </indexterm>
    <para>
      The plugins that are distributed with <acronym>GIMP</acronym> don't
      require any special installation. Plugins that you download yourself do.
      There are several scenarios, depending on what OS you are using and how
      the plugin is structured. In Linux it is usually pretty easy to install
      a new plugin; in Windows, it is either easy or very hard. In any case,
      the two are best considered separately.
    </para>
    <sect3>
      <title>Linux / Unix-sytem like systems</title>
      <para>
        Most plugins fall into two categories: small ones whose source
        code is distributed as a single .c file, and larger ones whose
        source code is distributed as a directory containing multiple
        files including a <filename>Makefile</filename>.
      </para>
      <para>
        For a simple one-file plugin, call it <filename>borker.c</filename>,
        installing it is just a matter of running the command
        <command>gimptool-2.0 --install borker.c</command>.   This command
        compiles the plugin and installs it in your personal plugin directory,
        <filename>~/gimp-2.4/plugins</filename> unless you have changed it.
        This will cause it to be loaded automatically the next time you start
        <acronym>GIMP</acronym>. You don't need to be root to do these things;
        in fact, you shouldn't be. If the plugin fails to compile, well, be
        creative.
      </para>
      <para><!-- changed 11-10-2004 -->
        Once you have installed the plugin, how do you activate it? The menu
        path is determined by the plugin itself, so to answer this you need to
        either look at the documentation for the plugin (if there is any), or
        launch the Plugin Description dialog (from Xtns/Plugins Details)
        search the plug-in by its name and look of the
        <guilabel>Tree view</guilabel>
        tab. If you still don't find, finally explore the menus or look at the
        source code in the Register section -- whichever is easiest.
      </para>
      <para>
        For more complex plugins, organized as a directory with multiple
        files, there ought to be a file inside called either
        <filename>INSTALL</filename> or <filename>README</filename>, with
        instructions. If not, the best advice is to toss the plugin in the
        trash and spend your time on something else:  any code written with so
        little concern for the user is likely to be frustrating in myriad
        ways.
      </para>
      <para>
        Some plugins (specifically those based on the <acronym>GIMP</acronym>
        Plugin Template) are designed to be installed in the main system
        <acronym>GIMP</acronym> directory, rather than your home directory.
        For these, you will need to be root to perform the final stage of
        installation (when issuing the <command>make install</command>
        command).
      </para>
      <para>
        If you install in your personal plugin directory a plugin that has the
        same name as one in the system plugin directory, only one can be
        loaded, and it will be the one in your home directory. You will
        receive messages telling you this each time you start
        <acronym>GIMP</acronym>. This is probably a situation best avoided.
      </para>
    </sect3>

    <sect3>
      <title>Windows</title>
      <para>
        Windows is a much more problematic environment for building software
        than Linux. Every decent Linux distribution comes fully supplied with
        tools for compiling software, and they are all very similar in the way
        they work, but Windows does not come with such tools. It is possible
        to set up a good software-building environment in Windows, but it
        requires either a substantial amount of money or a substantial amount
        of effort and knowledge.
      </para>
      <para>
        What this means in relation to <acronym>GIMP</acronym> plugins is the
        following: either you have an environment in which you can build
        software, or you don't. If you don't, then your best hope is to find a
        precompiled version of the plugin somewhere (or persuade somebody to
        compile it for you), in which case you simply need to put it into your
        personal plugin directory. If you do have an environment in which you
        can build software (which for present purposes means an environment in
        which you can build <acronym>GIMP</acronym>), then you no doubt
        already know quite a bit about these things, and just need to follow
        the Linux instructions.
      </para>
      <!--
      <para>
        If you would like to set up a build environment, and are ready for the
        heroism involved, you can find a reasonably recent description of how
        to go about it in the <acronym>GIMP</acronym> Wiki, at
        HowToCompileGimp/MicrosoftWindows
        <xref linkend="bibliography-online-gimp-wiki-compile-windows"/>.
        Since it is a Wiki, anybody is free to edit it, so please keep it up
        to date by adding advice based on your own experiences.
      </para>
      -->
    </sect3>

    <sect3>
      <title>Apple Mac OS X</title>
      <para>
        How you install plugins on OS X mostly depends on how you installed
        <acronym>GIMP</acronym> itself. If you were one of the brave and
        installed <acronym>GIMP</acronym>
        through one of the package managers like fink
        <xref linkend="bibliography-online-darwinports"/> or darwinports,
        <xref linkend="bibliography-online-fink"/> the
        plugin installation works exactly the way it is described for the
        Linux platform already. The only difference is, that a couple of
        plugins might be even available in the repository of you package
        manager, so give it a try.
      </para>
      <para>
        If you on the other hand are one of the Users that preferred to grab a
        prebuild <acronym>GIMP</acronym> package like GIMP.app, you most
        probably want to stick
        to that prebuild stuff. So you can try to get a prebuild version of
        the plugin of you dreams from the author of the plugin, but I'd not
        want to bet on this. Building your own binaries unfortunately involves
        installing <acronym>GIMP</acronym> through one of the package managers
        mentioned above.
      </para>
    </sect3>
  </sect2>

  <sect2 id="plugins-write">
    <title>Writing Plugins</title>
    <indexterm>
      <primary>Plugins</primary>
      <secondary>Write</secondary>
    </indexterm>
    <para>
      If you want to learn how to write a plugin, you can find plenty of help
      at the <acronym>GIMP</acronym> Developers web site
      <xref linkend="bibliography-online-gimp-dev-plugin"/>.
      <acronym>GIMP</acronym> is a complex
      program, but the development team has made strenuous efforts to flatten
      the learning curve for plugin writing:  there are good instructions and
      examples, and the main library that plugins use to interface with
      <acronym>GIMP</acronym> (called <quote>libgimp</quote>) has a
      well-documented <acronym>API</acronym>.  Good programmers, learning by
      modifying existing plugins, are often able to accomplish interesting
      things after just a couple of days of work.
    </para>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-image-window-qmask-button">
  <title>The QuickMask</title>

  <indexterm>
    <primary>QuickMask</primary>
  </indexterm>

  <figure>
    <title>Image with QuickMask enabled</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/channel-quickmask.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The usual <link linkend="gimp-tools-selection">selection tools</link>
    involve tracing an outline around an area of interest, which does not
    work well for some complex selections. The QuickMask, however, allows
    you to paint a selection instead of just tracing its outline.
  </para>

  <sect2 id="gimp-image-window-qmask-overview">
    <title>Overview</title>
    <para>
      Normally, a selection in <acronym>GIMP</acronym> is represented by
      <quote>marching ants</quote> that trace the selection outline, but there
      may be more to a selection than the marching ants show. A
      <acronym>GIMP</acronym> selection is actually a full-fledged grayscale
      channel, covering the image, with pixel values ranging from 0
      (unselected) to 255 (fully selected). The marching ants are drawn along
      a contour of half-selected pixels. Thus, what the marching ants show you
      as either inside or outside the boundary is really just a slice through
      a continuum.
    </para>
    <para>
      The QuickMask is <acronym>GIMP</acronym>'s way of showing the full
      structure of the selection.
      QuickMask also provides the ability to interact with the
      selection in new, and substantially more powerful, ways.
      Click the small outlined button at the lower left of the image window to
      toggle QuickMask on and off. The button switches between QuickMask
      mode, and marching ants mode.
      You can also use
      <menuchoice>
        <guimenu>Select</guimenu>
        <guimenuitem>Toggle QuickMask</guimenuitem>
      </menuchoice>, or
      <keycombo><keycap>Shift</keycap><keycap>Q</keycap></keycombo>,
      to toggle between QuickMask and marching ants mode.
    </para>
    <para>
      In QuickMask mode, the selection is shown as a
      translucent screen overlying the image, whose transparency at each pixel
      indicates the degree to which that pixel is selected. By default the
      mask is shown in red, but you can change this if another mask color
      is more convenient. The less a pixel is selected, the more it is
      obscured by the mask. Fully selected pixels are shown completely clear.
    </para>
    <para>
      In QuickMask mode, many image manipulations act on the
      selection channel rather than the image itself. This includes, in
      particular, paint tools. Painting with white selects pixels, and
      painting with black unselects pixels.
      You can use any of the paint tools, as well as the bucket
      fill and gradient fill tools, in this way. Advanced users of
      <acronym>GIMP</acronym> learn that <quote>painting the selection</quote>
      is the easiest and most effective way to delicately manipulate the
      image.
    </para>
    <tip>
      <para>
        To save a QuickMask selection to a new channel; Make
        sure that there is a selection and that QuickMask mode is not
        active in the image window. Use
        <menuchoice>
          <guimenu>Select</guimenu>
          <guimenuitem>Save to Channel</guimenuitem>
        </menuchoice>.
        to create a new channel in the channel dialog called
        <quote>SelectionMask copy</quote> (repeating this command
        creates <quote>..copy#1</quote>, <quote>...copy#2</quote> and
        so on...).
      </para>
    </tip>
    <tip>
      <para>
        In QuickMask mode, Cut and Paste act on the selection rather
        than the image. You can sometimes make use of this as the most
        convenient way of transferring a selection from one image to another.
      </para>
    </tip>
    <para>
      You can learn more on
      <link linkend="gimp-channel-mask">Selection masks</link> in the
      section dedicated to the channel dialog.
    </para>
  </sect2>

  <sect2 id="gimp-image-window-qmask-properties">
    <title>Properties</title>
    <para>
        There are two QuickMask properties you can change by right-clicking
        on the QuickMask button.
      </para>
    <itemizedlist>
      <listitem>
        <para>
          Normally the QuickMask shows unselected areas <quote>fogged over
          </quote> and selected areas <quote>in clear</quote>, but you can
          reverse this by choosing <quote>Mask Selected Areas</quote> instead
          of the default <quote>Mask Unselected Areas</quote>.
        </para>
      </listitem>
      <listitem>
        <para>
          Use <quote>Configure Color and Opacity</quote> to open
          a dialog that allows you to set these to values other
          than the defaults, which are red at 50% opacity.
        </para>
      </listitem>
    </itemizedlist>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-concepts-script-fu">
  <title>Using Script-Fu Scripts</title>

  <indexterm>
    <primary>Script-Fu</primary>
    <secondary>Introduction</secondary>
  </indexterm>

  <sect2>
    <title>Script-Fu? </title>
    <para>
      Script-Fu is what the Windows world would call "macros" But Script-Fu is
      more powerful than that. Script-Fu is based on an interpreting language
      called Scheme, and works by using querying functions to the
      <acronym>GIMP</acronym>
      database. You can do all kinds of things with Script-Fu, but an ordinary
      <acronym>GIMP</acronym> user will probably use it for automating things
      that:
    </para>
    <itemizedlist>
      <listitem>
        <para>You want to do frequently.</para>
      </listitem>
      <listitem>
        <para>Are really complicated to do, and hard to remember.</para>
      </listitem>
    </itemizedlist>
    <para>
      Remember that you can do a whole lot with Script-Fu. The scripts that
      come with <acronym>GIMP</acronym> can be quite useful, but they can also
      serve as models
      for learning Script-Fu, or at least as a framework and source of
      modification when you make your own script. Read the Script-Fu Tutorial
      in the next section if you want to learn more about how to make scripts.
    </para>
    <para>
      We will describe some of the most useful scripts in this chapter, but we
      won't cover them all. There are simply too many scripts. Some of the
      scripts are also very simple and you will probably not need any
      documentation to be able to use them.
    </para>
    <para>
      Script-Fu (a dialect of Scheme) isn't the only scripting language
      available for <acronym>GIMP</acronym>. But Script-Fu is the only
      scripting language that is
      installed by default. Other available scripting extensions are Perl and
      Tcl. You can download and install both extensions at the
      <acronym>GIMP</acronym> Plugin
      Registry <xref linkend="bibliography-online-gimp-plugin-registry"/>.
    </para>
  </sect2>

  <sect2 id="install-script-fu">
    <title>Installing Script-Fus</title>
    <indexterm>
      <primary>Script-Fu</primary>
      <secondary>Install</secondary>
    </indexterm>
    <para>
      One of the great things about Script-Fu is that you can share your
      script with all your <acronym>GIMP</acronym> friends. There are many
      scripts that come with <acronym>GIMP</acronym> by default, but
      there are also vast quantities of scripts that are
      available for download all around the Internet.
    </para>
    <procedure>
      <step>
        <para>
          If you have downloaded a script, copy or move it to your
          scripts directory. It can be found in the
          <link linkend="gimp-prefs-folders">Preferences</link>:
          <menuchoice>
            <guimenu>Folders</guimenu>
            <guimenuitem>Scripts</guimenuitem>
          </menuchoice>.
        </para>
      </step>
      <step>
        <para>
          Do a refresh by using
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guisubmenu>Script-Fu</guisubmenu>
            <guimenuitem>Refresh Scripts</guimenuitem>
          </menuchoice>
          from the image menubar.
          The script will now appear in one of your menus.
          If you don't find it, look for it under the root file menu
          filters. If it doesn't appear at all, something was wrong with
          the script (e.g. it contains syntax errors).
        </para>
      </step>
    </procedure>
  </sect2>

  <sect2 id="common-script-fu-errors">
    <title>Do's and Don'ts</title>
    <para>
      A common error when you are dealing with Script-Fus is that you simply
      bring them up and press the OK button. When nothing happens, you
      probably think that the script is broken or buggy, but there is most
      likely nothing wrong with it.
    </para>
  </sect2>

  <sect2 id="kinds-of-script-fu">
    <title>Different Kinds Of Script-Fus</title>
    <para>
      There are two kinds of Script-Fus:
    </para>
    <variablelist>
      <varlistentry>
        <term>Standalone Script-Fus</term>
        <listitem>
          <para>
            You will find the standalone variants under
            <menuchoice>
              <guimenu>File</guimenu>
              <guisubmenu>Create</guisubmenu>
              <guisubmenu>Type of Script</guisubmenu>
            </menuchoice>
            in the image menubar (see the figure below).
          </para>
          <figure>
            <title>Script-Fus by category</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/using/script-fu-exts.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Image-dependent Script-Fus</term>
        <listitem>
          <para>
            Menus have been reorganized. A new Colors-menu appears. It groups
            together all scripts that work on colors, for example tools that
            adjust hue, saturation, lightness..., filters...etc. Filters-menu
            and Script-Fu-menu are merged in one Filters-menu and it is
            organized according to new categories. Image-dependent Plug-ins and
            Script-Fus are now disseminated in the image-menus. For example,
            Color to Alpha filter is in Colors-menu. At the beginning, it's
            disconcerting, but you finish to get used to this because it's more
            logical.
          </para>
          <para>
            The figure below show where you can find them in the image-menu.
          </para>
          <figure>
            <title>Where find Image-dependent scripts</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/using/script-fu-image.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>

  <sect2 id="standalone-script-fu">
    <title>Standalone Scripts</title>
    <indexterm>
      <primary>Script-Fu</primary>
      <secondary>Standalone</secondary>
    </indexterm>
    <indexterm>
      <primary>Patterns</primary>
      <secondary>Script-Fu-generated</secondary>
    </indexterm>

    <para>
      We will not try to describe every script in depth. Most Script-Fus are
      very easy to understand and use. At the time of this writing, the
      following types are installed by default:
    </para>
    <itemizedlist>
      <listitem>
        <para>Patterns</para>
      </listitem>
      <listitem>
        <para>Web page themes</para>
      </listitem>
      <listitem>
        <para>Logos</para>
      </listitem>
      <listitem>
        <para>Buttons</para>
      </listitem>
    </itemizedlist>
    <variablelist>
      <varlistentry>
        <term>Patterns</term>
        <listitem>
          <para>
            You will find all kinds of pattern-generating scripts here.
            Generally, they are quite useful because you can add many
            arguments to your own patterns.
          </para>
          <para>
            We'll take a look at the Land script. In this script you have to
            set the image/pattern size, and specify what levels of random to
            use for your land creation. The colors used to generate the land
            map are taken from the currently selected gradient in the gradient
            editor. You must also supply values for the level of detail, land
            and sea height/depth and the scale. Scale refers to the scale of
            your map, just as in an ordinary road map, 1:10 will be typed as
            10.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Web Page Themes</term>
        <listitem>
          <para>
            Here is clearly a practical use for scripts. By creating a script
            for making custom text, logos, buttons arrows, etc., for your web
            site, you will give them all the same style and shape. You will
            also be saving a lot of time, because you don't have to create
            every logo, text or button by hand.
          </para>
          <para>
            Most of the scripts are quite self-explanatory, but here are some
            hints:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                Leave all strange characters like ' and " intact.
              </para>
            </listitem>
            <listitem>
              <para>
                Make sure that the pattern specified in the script exists.
              </para>
            </listitem>
            <listitem>
              <para>
                Padding refers to the amount of space around your text.
              </para>
            </listitem>
            <listitem>
              <para>
                A high value for bevel width gives the illusion of a higher
                button.
              </para>
            </listitem>
            <listitem>
              <para>
                If you type TRUE for "Press", the button will look pushed
                down.
              </para>
            </listitem>
            <listitem>
              <para>
                Choose transparency if you don't want a solid background. If
                you choose a solid background, make sure it is the same color
                as the web page background.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Logos</term>
        <listitem>
          <indexterm>
            <primary>Script-Fu</primary>
            <secondary>Logo</secondary>
          </indexterm>
          <indexterm>
            <primary>Logo</primary>
            <secondary>Script-Fu-generated</secondary>
          </indexterm>
          <para>
            Here you will find all kinds of logo-generating scripts. This is
            nice, but use it with care, as people might recognize your logo as
            being made by a known <acronym>GIMP</acronym> script. You should
            rather regard it as
            a base that you can modify to fit your needs. The dialog for
            making a logo is more or less the same for all such scripts:
          </para>
          <orderedlist>
            <listitem>
              <para>
                In the Text String field, type your logo name, like
                Frozenriver.
              </para>
            </listitem>
            <listitem>
              <para>
                In the Font Size text field, type the size of your logo in
                pixels.
              </para>
            </listitem>
            <listitem>
              <para>
                In the Font text field, type the name of the font that you
                want to use for your logo.
              </para>
            </listitem>
            <listitem>
              <para>
                To choose the color of your logo, just click on the color
                button. This brings up a color dialog.
              </para>
            </listitem>
            <listitem>
              <para>
                If you look at the current command field, you can watch the
                script run.
              </para>
            </listitem>
          </orderedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Make Buttons</term>
        <listitem>
          <indexterm>
            <primary>Script-Fu</primary>
            <secondary>Button</secondary>
          </indexterm>
          <indexterm>
            <primary>Button</primary>
            <secondary>Script-Fu-generated</secondary>
          </indexterm>
          <para>
            Under this headline you'll find two scripts that makes rectangular
            beveled buttons, with or without round corners (Round Button or
            Simple Beveled Button). They have a dozen parameters or so, and
            most of them are similar to those in the logo scripts. You can
            experiment with different settings to come up with a button you
            like.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>

  <sect2 id="image-independent-script-fu">
    <title>Image-Dependent Scripts</title>
    <para>
      Now, scripts and filters that perform operations on an existing image are
      accessible directly by the appropriate menu. For example, the script
      <guimenu>New Brush</guimenu> (script-fu-paste-as-brush)
      is integrated in the <guimenu>Edit</guimenu> image menu
      (<menuchoice>
        <guimenu>Edit</guimenu>
        <guimenuitem>Paste as...</guimenuitem>
        <guimenuitem>New Brush</guimenuitem>
      </menuchoice>),
      that is more logical.
    </para>
    <para>
      Furthermore, a new <guimenu>Color</guimenu> menu has been created that
      regroups together all that concern works on colors, the hue or level color
      adjustment tools, etc...
    </para>
    <para>
      <guimenu>Filters</guimenu> menu and <guimenu>Scripts-Fu</guimenu> menu are
      regrouped in one <guimenu>Filters</guimenu> menu and organised according
      to new categories. Now if a plugin and a filter works similarly, they are
      nearby in the menu.
    </para>
    <para>
      The <guimenu>Scripts-Fu</guimenu> menu only appears if you have loaded
      additional scripts: for example the gimp-resynthesizer pack corresponding
      to your Linux distribution (<filename class="extension">.deb</filename>,
      <filename class="extension">.rpm</filename>,
      <filename class="extension">.gz</filename> ...).
    </para>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-concepts-selection">
  <title>The Selection</title>

  <indexterm>
    <primary>Selections</primary>
    <secondary>Concepts</secondary>
  </indexterm>

  <para>
    Often when you operate on an image, you only want part of it to be
    affected. In <acronym>GIMP</acronym>, you make this happen by
    <emphasis>selecting</emphasis>
    that part. Each image has a <emphasis>selection</emphasis>
    associated with it. Most, but not all, <acronym>GIMP</acronym> operations
    act only on the selected portions of the image.
  </para>
  <figure>
    <title>How would you isolate the tree?</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/fog-tree-example.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    There are many, many situations where creating just the right selection is
    the key to getting the result you want, and often it is not easy to
    do. For example, in the above image, suppose I want to cut the tree out
    from its background, and paste it into a different image. To do
    this, I need to create a selection that contains the tree and nothing but
    the tree. It is difficult because the tree has a complex shape, and
    in several spots is hard to distinguish from the objects behind it.
  </para>
  <figure>
    <title>Selection shown as usual with dashed line.</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/select-outline.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    Now here is a very important point, and it is crucial to understand this.
    Ordinarily when you create a selection, you see it as a dashed line
    enclosing a portion of the image. The common, not entirely accurate, 
    idea you could get from this, is that
    the selection is a sort of container, with the selected parts of the image
    inside, and the unselected parts outside. Although this concept of
    selection is okay for many purposes, it is not entirely correct.
  </para>
  <para>
    Actually the selection is implemented as a <emphasis>channel</emphasis>.
    In terms of its internal structure, it is identical to the red, green,
    blue, and alpha channels of an image. Thus, the selection has a value
    defined at each pixel of the image, ranging between 0 (unselected) and 255
    (fully selected). The advantage of this approach is that it allows some
    pixels to be <emphasis>partially selected</emphasis>,
    by giving them intermediate values between 0 and 255. As you will see,
    there are many situations where it is desirable to have smooth transitions
    between selected and unselected regions.
  </para>
  <para>
    What, then, is the dashed line that appears when you create a selection?
  </para>
  <para>
    The dashed line is a <emphasis>contour line</emphasis>, dividing areas
    that are more
    than half selected from areas that are less than half selected.
  </para>
  <figure>
    <title>Same selection in QuickMask mode.</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/select-outline-qmask.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    While looking at the dashed line that represents the selection, always
    remember that the line tells only part of the story. If you
    want to see the selection in complete detail, the easiest way is to click
    the QuickMask button in the lower left corner of the image window. This
    causes the selection to be shown as a translucent overlay atop the image.
    Selected areas are unaffected; unselected areas are reddened. The more
    completely selected an area is, the less red it appears.
  </para>
  <para>
    Many operations work differently in QuickMask mode, as mentioned in the
    <link linkend="gimp-image-window-qmask-overview"
    >QuickMask overview</link>.
    Use the QuickMask button in the lower left corner of the image window to
    toggle QuickMask mode on and off.
  </para>
  <figure>
    <title>Same selection in QuickMask mode after feathering.</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/select-outline-qmask-feather.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect2 id="gimp-concepts-selection-feathering">
    <title>Feathering</title>
    <para>
      With the default settings, the basic selection tools, such as the
      Rectangle Select tool, create sharp selections. Pixels inside the dashed
      line are fully selected, and pixels outside completely unselected. You
      can verify this by toggling QuickMask: you see a clear rectangle with
      sharp edges, surrounded by uniform red.
      Use the <quote>Feather edges</quote> checkbox in the Tool Options to
      toggle between graduated selections and sharp selections.
      The feather radius, which
      you can adjust, determines the distance over which the transition
      occurs.
    </para>
    <para>
      If you are following along, try this with the Rectangle Select tool,
      and then toggle QuickMask. You will see that the clear rectangle has
      a fuzzy edge.
    </para>
    <para>
      Feathering is particularly useful when you are cutting and pasting, so
      that the pasted object blends smoothly and unobtrusively with its
      surroundings.
    </para>
    <para>
      It is possible to feather a selection at any time, even if it
      was originally created as a sharp selection. Use 
      <menuchoice>
        <guimenu>Select</guimenu>
        <guimenuitem>Feather</guimenuitem>
      </menuchoice>
      from the image menu to open the Feather Selection dialog. Set the
      feather radius and click <guibutton>OK</guibutton>. Use
      <menuchoice>
        <guimenu>Select</guimenu>
        <guimenuitem>Sharpen</guimenuitem>
      </menuchoice>
      to do the opposite&mdash;sharpen a graduated selection into an
      all-or-nothing selection.
    </para>
    <note>
      <para>
        For technically oriented readers: feathering works by applying a
        Gaussian blur to the selection channel, with the specified blurring
        radius.
      </para>
    </note>
  </sect2>

  <sect2 id="gimp-concepts-selection-transparent">
    <title>Making a Selection Partially Transparent</title>
    <para>
      You can set layer opacity, but you cannot do that directly for a
      selection. It is quite useful to make the image of a glass
      transparent. Use the following methods to set the layer opacity:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          For simple selections, use the Eraser tool with the desired opacity.
        </para>
      </listitem>
      <listitem>
        <para>
          For complex selections: use
          <menuchoice>
            <guimenu>Selection</guimenu>
            <guimenuitem>Floating</guimenuitem>
          </menuchoice>
          to create a floating selection. This creates a new layer with
          the selection called <quote>Floating Selection</quote>.

          Set the opacity slider in the Layer Dialog to the desired opacity.
          Then anchor the selection: outside the selection, the mouse pointer
          includes an anchor. When you click while the mouse pointer includes
          the anchor, the floating selection
          disappears from the Layer Dialog and the selection is at the right
          place and partially transparent (anchoring works this way only if a
          selection tool is activated : you can also use the Anchor Layer
          command in the context menu by right clicking on the selected layer
          in the layer dialog).
        </para>
        <para>
          And, if you use this function frequently:
          <keycombo action="press">
            <keycap>Ctrl</keycap>
            <keycap>C</keycap>
          </keycombo> to copy the selection,
          <keycombo action="press">
            <keycap>Ctrl</keycap>
            <keycap>V</keycap>
          </keycombo> to paste the clipboard as a floating selection, and
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>New Layer</guimenuitem>
          </menuchoice> to turn the selection into a new layer.
          You can adjust the opacity before, or after creating the new layer.
        </para>
      </listitem>
      <listitem>
        <para>
          Another way: use
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Add Layer Mask</guimenuitem>
          </menuchoice>
          to add a layer mask to the layer with the
          selection, initializing it with the selection. Then use a brush with
          the desired opacity to paint the selection with black, i.e. paint it
          with transparency. Then Layer/Mask/Apply Layer Mask. See
          <xref linkend="gimp-layer-mask"/>.
        </para>
      </listitem>
      <listitem>
        <para>
          To <emphasis>make the solid background of an image
          transparent</emphasis>, add an Alpha channel, and use the Magic
          Wand to select the background. Then, use the Color Picker
          tool to select the background color, which becomes the foreground
          color in Toolbox. Use the Bucket Fill tool with the selected color.
          Set the Bucket Fill mode to <quote>Color Erase</quote>, which erases
          pixels with the selected color; other pixels are partially erased
          and their color is changed.
        </para>
        <para>
          The simplest method is to use 
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Clear</guimenuitem>
          </menuchoice>, which gives complete transparency to a selection.
        </para>
      </listitem>
    </itemizedlist>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-concepts-setup">
  <title>Starting GIMP the first time</title>

  <indexterm>
    <primary>Setup</primary>
  </indexterm>

  <para>
    When first run, <acronym>GIMP</acronym> performs a series of steps to
    configure options and directories. The configuration process creates a
    subdirectory in your home directory called
    <filename class="directory">.gimp-2.8</filename>. All of the
    configuration information is stored in this directory. If you remove
    or rename the directory, <acronym>GIMP</acronym> will repeat the initial
    configuration process, creating a new
    <filename class="directory">.gimp-2.8</filename>
    directory. Use this capability to explore different configuration
    options without destroying your existing installation, or to recover if
    your configuration files are damaged.
  </para>

  <sect2>
    <title>Finally . . . </title>
    <para>
      Just a couple of suggestions before you start, though:
      First, <acronym>GIMP</acronym> provides tips you can read at any time
      using the menu command
      <menuchoice>
        <guimenu>Help</guimenu>
        <guimenuitem>Tip of the Day</guimenuitem>
      </menuchoice>.
      The tips provide information that is considered useful, but not easy to
      learn by experimenting; so they are worth reading. Please read the tips
      when you have the time.
      Second, if at some point you are trying to do something, and
      <acronym>GIMP</acronym>
      seems to have suddenly stopped functioning, the section
      <link linkend="gimp-using-getting-unstuck">Getting Unstuck</link>
      may help you out. Happy Gimping!
    </para>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-text-management">
  <title>Text Management</title>

  <indexterm>
    <primary>Text</primary>
    <secondary>Editing text</secondary>
  </indexterm>

  <!--FOR TRANSLATORS: this file is a reshaping of the old
    concepts/fonts-and-text.xml file. A large part can be copy-pasted-->

  <para>
    Text is managed with the Text tool. This tool creates a new layer containing
    the text, above the current layer in the layer dialog, with the size of the
    text box. Its name is the beginning of the text.
  </para>

  <figure>
    <title>Example of a text item</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/text-example.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          Example of a text item, showing the boundary of the text layer.
          (Font: Utopia Bold)
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/text-example-2.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          The layer dialog, with the text layer above the layer which was
          current.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <para>
    The Text tool is progressively improved. With <acronym>GIMP</acronym>-2.8,
    you can now edit text directly on canvas. A text tool box has been added
    which overlays the canvas above the text box.
  </para>

  <mediaobject>
    <imageobject>
      <imagedata fileref="images/using/text-toolbar.png" format="PNG"/>
    </imageobject>
    <caption>
      <para>
        As soon as you click on the canvas with the Text tool, you get a closed
        text box and a semi-transparent tool box just above.
      </para>
    </caption>
  </mediaobject>

  <para>
    Text tool options are described in <xref linkend="gimp-tool-text"/>.
  </para>

  <para>
    The default box mode is <quote>Dynamic</quote>, and you can start typing
    text at once. The text box will enlarge gradually. Press
    <keycap>Enter</keycap> to add a new line.
  </para>
  <para>
    You can also <emphasis role="bold">enlarge the text box</emphasis> by
    click-and-dragging, as you do with selections. Note that box mode
    turns to "Fixed". You also have to press <keycap>Enter</keycap> to add
    a new line.
  </para>
  <para>
    To <emphasis role="bold">edit text</emphasis>, you must, first, select the
    part you want to edit by click-and-drag, or
    <keycombo><keycap>Shift</keycap><keycap>arrow key</keycap></keycombo> and
    then use the options of the <xref linkend="gimp-text-tool-box"/>.
  </para>

  <para>
    Instead of using the on-canvas text editing, you can use the text editor 
    dialog described in <xref linkend="gimp-text-editor-dialog"/>.
  </para>

  <para>
    You can <emphasis role="bold">move the text</emphasis> on the image using
    the Move tool: you must click on a character, not on the background.
  </para>

  <para>
    You can get <emphasis role="bold">Unicode characters</emphasis> with
    <keycombo>
      <keycap>Ctrl</keycap><keycap>Shift</keycap><keycap>U</keycap>
    </keycombo>
    plus hexadecimal Unicode code of the desired char. Please see <xref
    linkend="gimp-text-editor-dialog"/>.
  </para>

  <para>
    You can <emphasis role="bold">edit the text later</emphasis>, if the text
    layer still exists and has not been modified by another tool (see below):
    make the text layer active in the<link linkend="gimp-layer-dialog">Layer
    dialog</link>, select the Text tool and click on the text in the image
    window.
  </para>

 <variablelist>
   <varlistentry>
     <term>Managing Text Layer</term>
     <listitem>
       <para>
         You can operate on a text layer in the same ways as any other layer,
         but doing so often means giving up the ability to edit the text
         without losing the results of your work.
        </para>
        <para>
          To understand some of the idiosyncrasies of text handling, it may help
          for you to realize that a text layer contains more information than
          the  pixel data that you see: it also contains a representation of the
          text in a text-editor format. You can see this in the text-editor
          window that pops  up while you are using the Text tool. Every time you
          alter the text, the image layer is redrawn to reflect your changes.
        </para>
        <para>
          Now suppose you create a text layer, and then operate on it in some
          way that does not involve the Text tool: rotate it, for example.
          Suppose you then come back and try to edit it using the Text tool. As
          soon as you  edit the text, the Text tool will redraw the layer,
          wiping out the results of the operations you performed in the
          meantime.
        </para>
        <para>
          Because this danger is not obvious, the Text tool tries to protect you
          from it. If you operate on a text layer, and then later try to edit
          the text, a message pops up, warning you that your alterations will be
          undone, and giving you three options:
        </para>
        <itemizedlist>
          <listitem>
            <para>edit the text anyway;</para>
          </listitem>
          <listitem>
            <para>cancel;</para>
          </listitem>
          <listitem>
            <para>
              create a new text layer with the same text as the existing layer,
              leaving the existing layer unchanged.
            </para>
          </listitem>
        </itemizedlist>
        <figure>
          <title>Warning lose modifications</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/text-warning.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Text Editing Context Menu</term>
      <listitem>
        <figure>
          <title>Text Editing Context Menu</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/toolbox/text-editing-context-menu.png"/>
            </imageobject>
          </mediaobject>
        </figure>

        <para>
          You get this menu by right-clicking on text. It is somewhat different
          from that of the Text Editor dialog.
        </para>
      
        <itemizedlist>
          <!--Options migrated from old text.xml-->
          <listitem>
            <para>
              <guilabel>Cut, Copy, Paste, Delete</guilabel>: these options
              concern a selected text. They remain grayed out as long as no text
              is selected. <quote>Paste</quote> is activated if the clipboard is
              full of text.
            </para>
          </listitem>
          <listitem>
            <para>
              <guilabel>Open text file</guilabel>: this command opens a file
              browser where you can find the wanted text file.
            </para>
          </listitem>
          <listitem>
            <para>
              <guilabel>Clear</guilabel>: this command deletes all the text,
              selected or not.
            </para>
          </listitem>
          <listitem>
            <para id="text-to-path">
              <guilabel>Path from text</guilabel>: this command creates a
              path from the outlines of the current text. The result is not
              evident. You have to open the Path dialog and make path visible.
              Then select the Path tool and click on the text. Every letter
              is  now surrounded with a path component. So you can modify
              the shape of letters by moving path control points.
            </para>
            <para>
              This command is similar to
              <menuchoice>
                <guimenu>Layer</guimenu>
                <guisubmenu>Text to Path</guisubmenu>
              </menuchoice>.
            </para>
          </listitem>
          <listitem>
            <para id="text-along-path">
              <guilabel>Text along path</guilabel>:
              <indexterm>
                <primary>Text along Path</primary>
              </indexterm>
            </para>
            <para>
              This option is enabled only if a
              <link linkend="gimp-using-paths">path</link> exists. When your
              text is created, then create or import a path and make it active.
              If you create your path before the text, the path becomes
              invisible and you have to make it visible in the Path Dialog.
            </para>
            <para>
              This command is also available from the <quote>Layer</quote> menu:
            </para>
            <figure>
              <title>
                The Text along Path command among text commands in the Layer
                menu
              </title>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/menus/layer/text-commands.png"/>
                </imageobject>
                <caption>
                  <para>
                    This group of options appears only if a text layer exists.
                  </para>
                </caption>
              </mediaobject>
            </figure>

            <para>
              Click on the <guibutton>Text along Path</guibutton> button. The
              text is bent along the path. Letters are represented with their
              outline. Each of them is a component of the new path that
              appears in the <link linkend="gimp-path-dialog">Path
              dialog</link>. All path options should apply to this new path.
            </para>
            <figure>
              <title><quote>Text along Path</quote> example</title>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/toolbox/text-along-path.png"
                  format="PNG"/>
                </imageobject>
              </mediaobject>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/toolbox/text-path.png"
                  format="PNG"/>
                </imageobject>
              </mediaobject>
            </figure>
          </listitem>
          <listitem>
            <para>
              <guilabel>From Left to Right / From Right to Left</guilabel>: fix
              the writing direction of your language.
            </para>
          </listitem>
          <listitem>
            <para id="gimp-input-methods">
              <guilabel>Input Methods</guilabel>: methods are available for some
              languages. For example, selecting <quote>Inuktitut</quote>
              transforms your keyboard into an Inuktitut keyboard, temporarily.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>-#-#-
<sect2 id="gimp-concepts-toolbox">
  <title>The Toolbox</title>
  <indexterm>
    <primary>Toolbox</primary>
    <secondary>Introduction</secondary>
  </indexterm>

  <figure>
    <title>Screenshot of the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/toolbox-description.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Toolbox is the heart of <acronym>GIMP</acronym>. 
    Here is a quick tour of what you will find there.
  </para>
  <tip>
    <para>
      In the Toolbox, as in most parts of <acronym>GIMP</acronym>, moving the
      mouse over something and letting it rest for a moment, usually displays
      a <quote>tooltip</quote> that describes the thing. Short cut keys are
      also frequently shown in the tooltip. In many cases, you can hover the
      mouse over an item and press the <keycap>F1</keycap> key to get help
      about the thing that is underneath the mouse.
    </para>
  </tip>
  <para>
    By default, only the Foreground-background icon is visible. You can add
    Brush-Pattern-Gradient icons and Active Image icon through
    <menuchoice>
      <guimenu>Edit</guimenu>
      <guisubmenu>Preferences</guisubmenu>
      <guimenuitem>Toolbox</guimenuitem>
    </menuchoice>:
    <xref linkend="prefs-tools-config"/>.
  </para>
  <orderedlist>
    <listitem>
      <para>
        <emphasis>Tool icons:</emphasis> These icons are buttons which
        activate tools for a wide variety of purposes: selecting parts of
        images, painting an image, transforming an image, etc.
        <xref linkend="gimp-toolbox"/> gives an overview of how to work with
        tools, and each tool is described systematically in the
        <link linkend="gimp-tools">Tools</link> chapter.
      </para>
    </listitem>
    <listitem>
      <para>
        <emphasis>Foreground/Background colors:</emphasis>
        The color areas here show you <acronym>GIMP</acronym>'s current
        foreground and background
        colors, which come into play in many operations. Clicking on either
        one of them brings up a color selector dialog that allows you to
        change to a different color. Clicking on the double-headed arrow swaps
        the two colors, and clicking on the small symbol in the lower left
        corner resets them to black and white.
      </para>
    </listitem>
    <listitem>
      <para>
        <emphasis>Brush/Pattern/Gradient:</emphasis>
        The symbols here show you <acronym>GIMP's</acronym>
        current selections for: the Paintbrush, used by all tools that allow
        you to paint on the image (<quote>painting</quote> includes
        operations like erasing and smudging, by the way); for the Pattern,
        which is used in filling selected areas of an image; and for the
        Gradient, which comes into play whenever an operation requires a
        smoothly varying range of colors. Clicking on any of these symbols
        brings up a dialog window that allows you to change it.
      </para>
    </listitem>
    <listitem>
      <para>
        <emphasis>Active Image:</emphasis> In <acronym>GIMP</acronym>, you
        can work with many images at once, but at any given moment, only one
        image is the <quote>active image</quote>. Here you find a small
        iconic representation of the active image. Click the icon to display
        a dialog with a list of the currently open images, click an
        image in the dialog to make it active. Usually, you click an
        image window in multi-window mode, or an image tab in single-window
        mode, to make it the active image.
      </para>
      <para>
        <indexterm>
          <primary>XDS</primary>
        </indexterm>
        You can <quote>Drop to an XDS file manager to save
        the image</quote>. <acronym>XDS</acronym> is an acronym for <quote>X
        Direct Save Protocol</quote>: an additional feature for the X Window
        System graphical user interface for Unix-like operating systems.
      </para>
    </listitem>
  </orderedlist>
  <note>
    <para>
      At every start, <acronym>GIMP</acronym> selects a tool (the brush), a
      color, a brush and a pattern by default, always the same. If you
      want <acronym>GIMP</acronym> to select the
      last tool, color, brush and pattern you used when quitting your
      previous session, check the
      <guilabel>Save input device settings on exit</guilabel> in
      <link linkend="gimp-prefs-input-devices">Preferences/Input
      Devices</link>.
    </para>
  </note>
  <tip>
    <para>
      The Toolbox window displays <quote>Wilber's eyes</quote> along the top
      of the dialog. You can get rid of the <quote>Wilber's eyes</quote>
      by adding the following line to your <filename>gimprc</filename>
      file:
      <code>(toolbox-wilber&nbsp;no)</code>.
      It only affects the toolbox. The eyes in the Image window are only
      visible when you do not have an open image.
    </para>
  </tip>
  <tip>
    <para>
      Drag and drop an image from a file browser into the Toolbox window to open
      the image in its own Image window or tab.
    </para>
  </tip>
</sect2>
-#-#-

<sect1 id="gimp-tools-presets">
  <title>Presets</title>

  <indexterm>
    <primary>Presets</primary>
    <secondary>Introduction</secondary>
  </indexterm>

  <para>
    If you often use tools with particular settings, presets are for you. You
    can save these settings and get them back when you want.
  </para>

  <para>
    Paint tools, which are normally in Toolbox, have a preset system that have
    been much improved with <acronym>GIMP</acronym>-2.8. Color tools (except
    Posterize and Desaturate), which are not normally in Toolbox, have their
    own preset system.
  </para>

  <para>
    Four buttons at the bottom of all tools options dialogs allow you to save,
    restore, delete or reset presets.
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/presets-buttons.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </para>

  <para>
    Paint tool presets are described in <xref linkend="gimp-presets-dialog"/>.
  </para>

  <para>
    Color tool presets are described in <xref linkend="color-tool-presets"/>.
  </para>

</sect1>




    

  
-#-#-
<sect1 id="gimp-concepts-undo">
  <title>Undoing</title>
  <indexterm>
    <primary>Undo</primary>
  </indexterm>

  <para>
    Almost anything you do to an image in <acronym>GIMP</acronym> can be
    undone.  You can undo the most recent action by choosing
    <menuchoice>
      <guimenu>Edit</guimenu>
      <guimenuitem>Undo</guimenuitem>
    </menuchoice>
    from the image menu, but this is done so frequently that you
    really should memorize the keyboard shortcut,
    <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo>.
  </para>
  <para>
    Undoing can itself be undone. After having undone an action, you
    can <emphasis>redo</emphasis> it by choosing
    <menuchoice>
      <guimenu>Edit</guimenu>
      <guimenuitem>Redo</guimenuitem>
    </menuchoice>
    from the image menu, or use the keyboard shortcut,
    <keycombo><keycap>Ctrl</keycap><keycap>Y</keycap></keycombo>.
    It is often helpful to judge the effect of an action by repeatedly
    undoing and redoing it.  This is usually very quick, and does not
    consume any extra resources or alter the undo history, so there is
    never any harm in it.
  </para>
  <caution>
    <para>
      If you undo one or more actions and then operate on the image in any way
      except by using Undo or Redo, it will no longer be possible to redo
      those actions: they are lost forever. The solution to this, if it
      creates a problem for you, is to duplicate the image and then test on
      the copy. ( Do <emphasis>Not</emphasis> test the original, because the
      undo/redo
      history is not copied when you duplicate an image.)
    </para>
  </caution>
  <para>
    If you often find yourself undoing and redoing many steps at a time, it
    may be more convenient to work with the
    <link linkend="gimp-undo-dialog">Undo History dialog</link>,
    a dockable dialog that shows you a small sketch of each point in the
    Undo History, allowing you to go back or forward to that point by
    clicking.
  </para>
  <para>
    Undo is performed on an image-specific basis: the "Undo History" is one of
    the components of an image. <acronym>GIMP</acronym> allocates a certain
    amount of memory to
    each image for this purpose. You can customize your Preferences to
    increase or decrease the amount, using the
    <link linkend="gimp-prefs-environment">Environment</link>
    page of the Preferences dialog. There are two important variables: the
    <emphasis>minimal number of undo levels</emphasis>,
    which <acronym>GIMP</acronym> will maintain regardless of how much memory
    they consume, and
    the <emphasis>maximum undo memory</emphasis>, beyond which
    <acronym>GIMP</acronym> will
    begin to delete the oldest items from the Undo History.
  </para>
  <note>
    <para>
      Even though the Undo History is a component of an image, it is not saved
      when you save the image using <acronym>GIMP</acronym>'s native XCF
      format, which preserves
      every other image property. When the image is reopened, it will have an
      empty Undo History.
    </para>
  </note>
  <para>
    <acronym>GIMP</acronym>'s implementation of Undo is rather sophisticated.
    Many
    operations require very little Undo memory (e.g., changing visibility of a
    layer), so you can perform long sequences of them before they drop out of
    the Undo History. Some operations, such as changing layer visibility,
    are <emphasis>compressed</emphasis>,
    so that doing them several times in a row produces only a single point
    in the Undo History. However, there are other operations that may consume
    a lot of undo memory. Most filters are implemented by plug-ins, so the
    <acronym>GIMP</acronym> core has no efficient way of
    knowing what changed. As such, there is no way to implement Undo except
    by memorizing the entire contents of the affected layer before and after
    the operation. You might only be able to perform a few such operations
    before they drop out of the Undo History.
  </para>
  <sect2>
    <title>Things That Cannot be Undone</title>
    <para>
      Most actions that alter an image can be undone. Actions that do not
      alter the image generally cannot be undone. Examples include
      saving the image to a file, duplicating the image, copying part of the
      image to the clipboard, etc. It also includes most actions that affect
      the image display without altering the underlying image data. The most
      important example is zooming. There are, however, exceptions: toggling
      QuickMask on or off can be undone, even though it does not alter the
      image data.
    </para>
    <para>
      There are a few important actions that do alter an image but
      cannot be undone:
    </para>
    <variablelist>
      <varlistentry>
        <term>Closing the image</term>
        <listitem>
          <para>
            The Undo History is a component of the image, so when the image is
            closed and all of its resources are freed, the Undo History is
            gone. Because of this, unless the image has not been modified
            since the last time it was saved, <acronym>GIMP</acronym> always
            asks you to confirm that you really want to close the image.
            (You can disable this in the
            <link linkend="gimp-prefs-environment">Environment</link>
            page of the Preferences dialog; if you do, you are assuming
            responsibility for thinking about what you are doing.)
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reverting the image</term>
        <listitem>
          <para><quote>Reverting</quote>
            means reloading the image from the file.
            <acronym>GIMP</acronym> actually implements this
            by closing the image and creating a new image, so the Undo History
            is lost as a consequence. Because of this, if the image is
            unclean, <acronym>GIMP</acronym> asks you to confirm that
            you really want to revert the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><quote>Pieces</quote> of actions</term>
        <listitem>
          <para>
            Some tools require you to perform a complex series of
            manipulations before they take effect, but only allow you to undo
            the whole thing rather than the individual elements. For example,
            the Intelligent Scissors require you to create a closed path by
            clicking at multiple points in the image, and then clicking inside
            the path to create a selection. You cannot undo the individual
            clicks: undoing after you are finished takes you all the way back
            to the starting point. For another example, when you are working
            with the Text tool, you cannot undo individual letters, font
            changes, etc.: undoing after you are finished removes the newly
            created text layer.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      Filters, and other actions performed by plugins or scripts, can be
      undone just like actions implemented by the <acronym>GIMP</acronym>
      core, but this requires
      them to make correct use of <acronym>GIMP</acronym>'s Undo functions. If
      the code is not
      correct, a plugin can potentially corrupt the Undo History, so that not
      only the plugin but also previous actions can no longer properly be
      undone. The plugins and scripts distributed with <acronym>GIMP</acronym>
      are all believed
      to be set up correctly, but obviously no guarantees can be given for
      plugins you obtain from other sources. Also, even if the code is
      correct, canceling a plugin while it is running may corrupt the
      Undo History, so it is best to avoid this unless you have
      accidentally done something whose consequences are going to be very
      harmful.
    </para>
  </sect2>
</sect1>
-#-#-
<sect2 id="gimp-brush-dialog">
  <title>Brushes Dialog</title>

  <indexterm>
    <primary>Brushes</primary>
  </indexterm>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Brushes</secondary>
  </indexterm>
  <indexterm>
    <primary>Brushes</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <figure>
    <title>The Brushes dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/brushes-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <quote>Brushes</quote> dialog is used to select a brush, for use with
    painting tools:
    see the <link linkend="gimp-concepts-brushes">Brushes</link>
    section for basic information on brushes and how they are used in GIMP.
    The dialog also gives you access to several functions for manipulating
    brushes. You can select a brush by clicking on it in the list: it will
    then be shown in the Brush/Pattern/Gradient area of the Toolbox. GIMP
    comes now with 56 brushes, different from each other, because the
    size, the ratio and the angle of every brush can be set in the tool
    options dialog. You can also create custom brushes using the Brush Editor,
    or by saving images in a special brush file format.
  </para>

  <sect3 id="gimp-brush-dialog-activate">
    <title>Activating the Dialog</title>
    <para>
      The <quote>Brushes</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the Toolbox, by clicking on the brush symbol in
          Brush/Pattern/Gradient area.
        </para>
      </listitem>
      <listitem>
        <para>
          From an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Brushes</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Brushes</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tool Options dialog for any of the paint tools, by
          clicking on the Brush icon button, you get a popup with similar
          functionality that permits you to quickly choose a brush from the
          list; if you click on the button present on the right bottom of
          the popup, you open the real brush dialog.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/dialogs/brushes-dialog-simple.png" format="PNG"/>
          </imageobject>
          <caption>
            <para>The simplified <quote>Brushes</quote> dialog</para>
          </caption>
        </mediaobject>
        <itemizedlist>
          <para>
            This window has five buttons, clearly explained by help pop-ups:
          </para>
          <listitem>
            <para>Smaller previews</para>
          </listitem>
          <listitem>
            <para>Larger previews</para>
          </listitem>
          <listitem>
            <para>View as list</para>
          </listitem>
          <listitem>
            <para>View as Grid</para>
          </listitem>
          <listitem>
            <para>Open the brush selection dialog</para>
          </listitem>
        </itemizedlist>
        <para>
          Note that, depending on your Preferences, a brush selected with the
          popup may only apply to the currently active tool, not to other
          paint tools. See the <link linkend="gimp-prefs-tool-options">Tool
          Option Preferences</link> section for more information.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="gimp-brush-dialog-using">
    <title>Using the <quote>Brushes</quote> dialog</title>

    <sect4>
      <title>Grid/List mode</title>
      <para>
        In the Tab menu, you can choose between <guimenuitem>View as
        Grid</guimenuitem> and <guimenuitem>View as List</guimenuitem>. In
        Grid mode, the brush shapes are laid out in a rectangular array,
        making it easy to see many at once and find the one you are looking
        for. In List mode, the shapes are lined up in a list, with the names
        beside them.
      </para>
      <para>
        In the Tab menu, the option <guilabel>Preview Size</guilabel> allows
        you to adapt the size of brush previews to your liking.
      </para>
      <figure>
        <title>Grid/List view</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
                       fileref="images/dialogs/brushes-grid-view.png"/>
          </imageobject>
          <caption>
            <para>View as Grid</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
                       fileref="images/dialogs/brushes-list-view.png"/>
          </imageobject>
          <caption>
            <para>View as List</para>
          </caption>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Grid mode</term>
          <listitem>
            <para>
              At the top of the dialog appears the name of the currently
              selected brush, and its size in pixels.
            </para>
            <para>
              In the center a grid view of all available brushes appears, with
              the currently selected one outlined.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>List mode</term>
          <listitem>
            <para>
              For the most part, the dialog works the same way in List mode as
              in Grid mode, with one exception:
            </para>
            <para>
              If you double-click on the <emphasis>name</emphasis> of a
              brush, you will be able to edit it. Note, however, that you
              are only allowed to change the names of brushes that you have
              created or installed yourself, not the ones that come
              pre-installed with GIMP. If you try to rename a pre-installed
              brush, you will be able to edit the name, but as soon as you
              hit return or click somewhere else, the name will revert to
              its original value. It is a general rule that you cannot
              alter the resources that GIMP pre-installs for you: brushes,
              patterns, gradients, etc; only ones that you create yourself.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4 id="gimp-brush-dialog-previews">
      <title>Brush previews</title>
      <figure>
        <title>The <quote>Brushes</quote> dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/dialogs/brushes-dialog.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
      When you click on a brush preview, it becomes the current brush and
      it gets selected in the brush area of Toolbox and the Brush option of
      painting tools. When you double-click on a brush preview, you will
      activate the
      <link linkend="gimp-brush-editor-dialog">BrushÂ Editor</link>. You can also
      click on buttons at the bottom of the dialog to perform various actions.
    </para>
      <para>
      Meaning of the small symbols at the bottom right corner of every brush
      preview:
    </para>
      <itemizedlist>
        <listitem>
          <para>
          A blue corner is for brushes in normal size. You can duplicate them.
        </para>
        </listitem>
        <listitem>
          <para>
          A small cross means that the brush preview is in a reduced size. You
          can get it in normal size by maintaining left click on it.
        </para>
        </listitem>
        <listitem>
          <para>
          A red corner is for animated brushes. If you maintain left click on
          the thumbnail, the animation is played.
        </para>
        </listitem>
      </itemizedlist>
    </sect4>

    <sect4 id="gimp-brush-dialog-tags">
      <title>Tagging</title>
      <para>
        You can use tags to reorganize the brushes display.
        See <xref linkend="gimp-tagging"/>.
      </para>
    </sect4>

    <sect4 id="gimp-brush-dialog-buttons">
      <title>Buttons at the bottom</title>
      <para>
        At the bottom of the dialog you find a slider and some buttons:
      </para>
      <variablelist>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
                       fileref="images/dialogs/brushes-buttons.png"/>
          </imageobject>
        </mediaobject>
        <varlistentry>
          <term>Spacing</term>
          <listitem>
            <para>
              This slider lets you set the distance between consecutive brush
              marks when you trace out a brushstroke with the mouse pointer.
              Spacing is a percentage of the brush width.
            </para>
          </listitem>
        </varlistentry>
          
        <varlistentry>
          <term>Edit Brush</term>
          <listitem>
            <para>
              This activates the
              <link linkend="gimp-brush-editor-dialog">Brush Editor</link>.
              Pressing the button will open the Editor for any brush. It
              only works, however, for parametric brushes: for any other type,
              the Editor will show you the brush but not allow you to do
              anything with it.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>New Brush</term>
          <listitem>
            <anchor id="gimp-brush-new"/>
            <para>
              This creates a new parametric brush, initializes it with a small
              fuzzy round shape, and opens the Brush Editor so that you can
              modify it. The new brush is automatically saved in your personal
              <filename>brushes</filename> folder.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Duplicate Brush</term>
          <listitem>
            <anchor id="gimp-brush-duplicate"/>
            <para>
              This button is only enabled if the currently selected brush is a
              parametric brush. If so, the brush is duplicated, and the Brush
              Editor is opened so that you can modify the copy. The result is
              automatically saved in your personal
              <filename>brushes</filename> folder.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Delete Brush</term>
          <listitem>
            <anchor id="gimp-brush-delete"/>
            <para>
              This option is active for parametric brushes only.
							This removes all traces of the brush, both from the dialog and
              the folder where its file is stored, if you have permission to
              do so. It asks for confirmation before doing anything.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Refresh Brushes</term>
          <listitem>
            <anchor id="gimp-brush-refresh"/>
            <para>
              If you add brushes to your personal <filename>brushes</filename>
              folder or any other folder in your brush search path, by some
              means other than the Brush Editor, this button causes the list
              to be reloaded, so that the new entries will be available in the
              dialog.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
        The functions performed by these buttons can also be accessed from the
        dialog pop-up menu, activated by right-clicking anywhere in the brush
        grid/list, or by choosing the top item,
        <guisubmenu>Brushes menu</guisubmenu>, from the dialog Tab menu.
      </para>
    </sect4>

    <sect4>
      <title>The <quote>Brushes</quote> context menu</title>
      <para>
        <figure>
          <title>The <quote>Brushes</quote> context menu</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                         fileref="images/dialogs/brushes-context-menu.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </para>
      <para>
        Right clicking on a brush preview opens a context menu. This menu
        has now some options which let you create elliptical
        and rectangular brushes. These brushes can be feathered, but they
        are not parametric brushes.
      </para>
      <para>
        The other commands of this submenu are described with the Buttons,
        except for <guilabel>Copy Brush Location</guilabel> which allows to
        copy brush path into clipboard. By using the
        <menuchoice>
          <guimenu>File</guimenu>
          <guimenuitem>Open Location</guimenuitem>
        </menuchoice>,
        command, you can open the brush as a new image.
      </para>
    </sect4>
  </sect3>

  <sect3 id="gimp-brush-editor-dialog">
    <title>Brush Editor</title>
    <figure>
      <title>The <quote>Brushes</quote> Editor dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/dialogs/brushes-editor-dialog.png"/>
        </imageobject>
        <caption>
          <para>
            The Brush Editor, activated for a new brush.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Brush Editor allows you to view the brush parameters of a
      brush supplied by GIMP, and you can't change them. You can also create
      a custom brush: click on the <guilabel>New Brush</guilabel> button to
      activate the functions of the brush editor; you can select a
      geometrical shape, a circle, a square or a diamond. This editor has
      several elements:
    </para>
    <para><emphasis>The dialog bar</emphasis>:
      As with all dialog windows, a click on the small triangle prompts a
      menu allowing you to set the aspect of the Brush Editor.
    </para>
    <para><emphasis>The title bar</emphasis>: To give a name to your brush.
    </para>
    <para><emphasis>The preview area</emphasis>: Brush changes appear in real
      time in this preview.
    </para>
    <variablelist>
      <para><emphasis>Settings</emphasis>:</para>
      <varlistentry>
        <term>Shape</term>
        <listitem>
          <para>
            A circle, a square and a diamond are available. You will modify
            them by using the following options:
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Radius</term>
        <listitem>
          <para>
            Distance between brush center and edge, in the width direction. A
            square with a 10 pixels radius will have a 20 pixels side. A
            diamond with a 5 pixels radius will have a 10 pixels width.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spikes</term>
        <listitem>
          <para>
            This parameter is useful only for square and diamond. With a
            square, increasing spikes results in a polygon. With a diamond,
            you get a star.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Hardness</term>
        <listitem>
          <para>
            This parameter controls the feathering of the brush border. Value
            = 1.00 gives a brush with a sharp border (0.00-1.00).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Aspect ratio</term>
        <listitem>
          <para>
            This parameter controls the brush Width/Height ratio. A diamond
            with a 5 pixels radius and an Aspect Ratio = 2, will be flattened
            with a 10 pixels width and a 5 pixels height (1.0-20.0).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>
            This angle is the angle between the brush width direction, which
            is normally horizontal, and the horizontal direction,
            counter-clock-wise. When this value increases, the brush width
            turns counter-clock-wise (0Â° to 180Â°).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spacing</term>
        <listitem>
          <para>
            When the brush draws a line, it actually stamps the brush icon
            repeatedly. If brush stamps are very close, you get the impression
            of a solid line: you get that with Spacing = 1. (1.00 to 200.0).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="clipboard-brush">
    <title>The Clipboard Brush</title>
    <indexterm>
      <primary>Clipboard Brush</primary>
    </indexterm>
    <indexterm>
      <primary>Brushes</primary>
      <secondary>Clipboard brush</secondary>
    </indexterm>
    <para>
      When you use the Copy or Cut command on an image or a selection of it,
      a copy appears as a new brush in the upper left corner of the
      <quote>Brushes</quote> dialog. This brush will persist until you use
      the Copy command again. It disappears when you close GIMP.
    </para>
    <figure>
      <title>A new <quote>Clipboard Brush</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/dialogs/brushes-dialog-clipboard.png" />
        </imageobject>
      </mediaobject>
    </figure>
    <note>
      <para>
        You can save this clipboard brush by using the
        <menuchoice>
          <guimenu>Edit</guimenu>
          <guisubmenu>Paste as</guisubmenu>
          <guimenuitem>New brush</guimenuitem>
        </menuchoice>
        as soon as it appears in the <quote>Brushes</quote> dialog. (See
        <xref linkend="script-fu-paste-as-brush"/>.)
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-buffer-dialog">
  <title>Buffers Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Buffers</secondary>
  </indexterm>
  <indexterm>
    <primary>Buffers</primary>
    <secondary>Dialog</secondary>
  </indexterm>
  <indexterm>
    <primary>Buffers</primary>
    <secondary>Cut named</secondary>
  </indexterm>
  <indexterm>
    <primary>Buffers</primary>
    <secondary>Copy named</secondary>
  </indexterm>
  <indexterm>
    <primary>Buffers</primary>
    <secondary>Paste named</secondary>
  </indexterm>
  <indexterm>
    <primary>Cut Named</primary>
  </indexterm>
  <indexterm>
    <primary>Copy Named</primary>
  </indexterm>
  <indexterm>
    <primary>Paste Named</primary>
  </indexterm>

  <figure>
    <title>The Buffers dialog (as a list)</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/buffers-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    Buffers are temporary repositories for image data, created when
    you cut or copy part of a drawable (a layer, layer mask, etc.).
    You can save a document in this buffer in two ways:
    <menuchoice>
      <guimenu>Edit</guimenu>
      <guisubmenu>Buffer</guisubmenu>
      <guimenuitem>Copy Named</guimenuitem>
    </menuchoice>
    or
    <menuchoice>
      <guimenu>Edit</guimenu>
      <guisubmenu>Buffer</guisubmenu>
      <guimenuitem>Cut Named</guimenuitem>
    </menuchoice>
    A dialog pops up asking you to name a buffer to store the data
    in. There is no hard limit on the number of named buffers you
    can create, although, of course, each one consumes a share of memory.
  </para>
  <para>
    The <quote>Buffers</quote> dialog shows you the contents of all existing
    named buffers, and allows you to operate on them in several ways. It
    also shows you, at the top, the contents of the Global Buffer, but this
    is merely a display: you can't do anything with it.
  </para>
  <caution>
    <para>
      Named buffers are not saved across sessions. The only way to save their
      contents is to paste them into images.
    </para>
  </caution>

  <sect3 id="gimp-buffer-dialog-activate">
    <title>Activating the Dialog</title>
    <para>
      This dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Buffers</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Buffers</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Buffers</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Buffers</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-buffer-dialog-using">
    <title>Using the Buffers dialog</title>
    <figure>
      <title>The Buffers Menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/dialogs/buffers-dialog.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Clicking on a buffer in the display area makes it the active buffer, i.
      e., the one that will be used for paste commands executed with the
      Buffers Menu or the buttons at the bottom of the dialog. Double-clicking
      on a buffer causes its contents to be pasted to the active image as a
      floating selection; this is a quick way of executing the <quote>Paste
      Buffer</quote> command.
    </para>
    <para>
      At the bottom of the dialog are four buttons. The operations they
      perform can also be accessed from the Buffers Menu that you get by right
      clicking on the active buffer.
    </para>
    <figure>
      <title>The Buffers dialog (Grid View)</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/dialogs/buffers-dialog-grid.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      In the Tab menu for the <quote>Buffers</quote> dialog, you can choose
      between  <guimenuitem>View as Grid</guimenuitem> and
      <guimenuitem>View as List</guimenuitem>.
      In Grid mode, the buffers are laid out in a rectangular array.
      In List mode, they are lined up vertically, with each row showing
      a thumbnail of the contents of the buffer, its name, and its pixel
      dimensions.
    </para>
    <tip>
      <para>
        <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>
        opens a search field.
        See <xref linkend="gimp-dock-view-as-list" />
      </para>
    </tip>
    <para>
      You can change the size of the buffer previews in the dialog using
      the <quote>Preview Size</quote> submenu of the dialog's Tab menu.
    </para>

    <sect4 id="gimp-buffer-dialog-buttons">
      <title>Buttons at the bottom</title>
      <para>
        At the bottom of the dialog you find a couple of buttons:
      </para>
      <variablelist>
        <varlistentry>
          <term>Paste Buffer</term>
          <listitem>
            <anchor id="gimp-buffer-paste"/>
            <para>
              This command pastes the contents of the selected buffer into the
              active image, as a floating selection. The only difference
              between this and the ordinary
              <link linkend="gimp-edit-paste">Paste</link>
              command is that it uses the selected buffer rather than the
              global clipboard buffer.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Paste Buffer Into</term>
          <listitem>
            <anchor id="gimp-buffer-paste-into"/>
            <para>
              This command pastes the contents of the selected buffer into
              the active image's selection, as a floating selection. The
              only difference between this and the ordinary
              <link linkend="gimp-edit-paste-into">Paste Into</link> command is
              that it uses the selected buffer rather than the global
              clipboard buffer.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Paste Buffer as New</term>
          <listitem>
            <anchor id="gimp-buffer-paste-as-new"/>
            <para>
              This command creates a new single-layer image out of the
              contents of the selected buffer. The only difference between
              this and the ordinary
              <link linkend="gimp-edit-paste-as-new">Paste as New</link> command
              is that it uses the selected buffer rather than the content
              of the global clipboard buffer.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Delete Buffer</term>
          <listitem>
            <anchor id="gimp-buffer-delete"/>
            <para>
              This command deletes the selected named buffer, no questions
              asked. You cannot delete the Global Buffer.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4 id="gimp-buffer-dialog-menu">
      <title>Context menu</title>
      <figure>
        <title>The <quote>Buffers</quote> context menu</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
                       fileref="images/dialogs/buffers-context-menu.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        These commands are explained above with Buttons.
      </para>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-channel-dialog">
  <title>Channels Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Channels</secondary>
  </indexterm>
  <indexterm>
    <primary>Channel</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <figure>
    <title>The Channels dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/channels-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Channels dialog is the main interface to edit, modify and manage your
    channels. Channels have a double usage. This is why the dialog is divided
    into two parts: the first part for color channels and the second part for
    <link linkend="gimp-channel-mask">selection masks</link>.
  </para>
  <para>
    <emphasis>Color channels</emphasis> apply to the image and not to a
    specific layer. Basically, three primary colors are necessary to render
    all the wide range of natural colors. As other digital software,
    <acronym>GIMP</acronym> uses Red, Green, and Blue as primary colors. The
    first and primary channels display the <guilabel>Red</guilabel>,
    <guilabel>Green</guilabel>, and <guilabel>Blue</guilabel> values of each
    pixel in your image. Next to the channel name is a thumbnail displaying a
    grayscale representation of each channel, where white is 100% and black is
    0% of the primary color. Alternatively, if your image is not a colored but
    a Grayscale image, there is only one primary channel called
    <guilabel>Gray</guilabel>. For an Indexed image with a fixed number of
    known colors there is also only one primary channel called
    <guilabel>Indexed</guilabel>. Then there is a optional channel called
    <guilabel>Alpha</guilabel>. This channel displays transparency values of
    each pixel in your image (See <link linkend="glossary-alpha-channel">Alpha
    Channel</link> in Glossary). In front of this channel is a thumbnail
    displaying a grayscale representation of the transparency where white is
    opaque and visible, and black is transparent and invisible. If you create
    your image without transparency then the Alpha channel is not present, but
    you can add it from the <link linkend="gimp-layer-dialog">Layers dialog
    menu</link>.  Also, if you have more than one layer in your image,
    <acronym>GIMP</acronym> automatically creates an Alpha channel.
  </para>
  <note>
    <para>GIMP doesn't support CMYK or YUV color models.</para>
  </note>
  <figure>
    <title>Representation of an image with channels</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/wilber-channels-red.png"/>
      </imageobject>
      <caption>
        <para>Red channel</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/wilber-channels-green.png"/>
      </imageobject>
      <caption>
        <para>Green channel</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/wilber-channels-blue.png"/>
      </imageobject>
      <caption>
        <para>Blue channel</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/wilber-channels-alpha.png"/>
      </imageobject>
      <caption>
        <para>Alpha channel</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/wilber-channels-combined.png"/>
      </imageobject>
      <caption>
        <para><!-- All channels combined -->All channels</para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    The right image is decomposed in three color channels (red, green, and
    blue) and the Alpha channel for transparency. On the right image the
    transparency is displayed as a gray checkerboard. In the color channel
    white is always white because all the colors are present and black is
    black. The red hat is visible in the red channel but quite invisible in
    the other channels. This is the same for plain green and blue which are
    visible only in their own channels and invisible in others.
  </para>

  <sect3 id="gimp-channel-dialog-calling">
    <title>Activating the Dialog</title>
    <para>
      The <quote>Channels</quote> dialog is a dockable dialog; see
      <xref linkend="gimp-concepts-docks"/> for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Channels</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Channels</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Channels</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Channels</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-channel-dialog-using">
    <title>Using the Channel dialog</title>

    <sect4 id="gimp-channel-dialog-using-overview">
      <title>Overview</title>
      <para>
        The top channels are the color channels and the optional Alpha
        channel. They are always organized in the same order and they cannot
        be erased. Selection masks are described below and displayed as a list
        in the dialog. Every channel appears in the list with its attributes,
        including a thumbnail and its name. A right-click in a channel list
        entry opens the <link linkend="gimp-channel-menu">channel context
        menu</link>.
      </para>
    </sect4>

    <sect4 id="gimp-channel-dialog-using-attributes">
      <title>Channel attributes</title>
      <para>
        Every channel is shown in the list with its own attributes, which are
        very similar to the <link linkend="gimp-layer-attributes">layer
        attributes</link>:
      </para>
      <variablelist>
        <anchor id="channel-attributes"/>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
                       fileref="images/dialogs/channel-list-entry.png"/>
          </imageobject>
        </mediaobject>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-eye-20.png"/>
            </guiicon>
            <phrase>Channel visibility</phrase>
          </term>
          <listitem>
            <para>
              By default every channel and thus every color value is visible.
              This is indicated by an <quote>open eye</quote> icon. Clicking
              on the eye-symbol (or the space if the channel is not visible)
              will toggle the visibility of the channel.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-vchain-24.png"/>
            </guiicon>
            <phrase>Chain channels</phrase>
          </term>
          <listitem>
            <para>
              The channels representing selection masks (the new channels in
              the lower part of the channel list) may be grouped using the
              button with the <quote>chain</quote> symbol. Then these channels
              are all affected in the same way by operations applied to any
              one of them.
            </para>
            <para>
              Primary color channels (the default channels in the upper part
              of the channel list) may be grouped too. By default, all color
              channels (and the alpha channel) are selected, their list
              entries are highlighted. Operations will be performed on all
              channels. By clicking on a channel list entry you can
              deactivate this channel. Operations like
              <link linkend="gimp-tool-colorize">colorizing</link> a layer
              will then be applied to the selected (<quote>grouped</quote>)
              channels only. Clicking again on the list entry will activate
              the channel.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <!--Preview image-->
          <term>Thumbnail</term>
          <listitem>
            <para>
              A small preview-icon represents the effect of the channel. On
              a selection mask, this preview can be enlarged by holding
              click down on it.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Channel name</term>
          <listitem>
            <para>
              The name of the channel, which must be unique within the image.
              Double-clicking on the name of a selection mask channel will
              allow you to edit it. The names of the primary channels (Red,
              Green, Blue, Alpha) can not be changed.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <caution>
        <para>
          Activated channels appear highlighted (generally) in blue in the
          dialog. If you click on a channel in the list you toggle activation
          of the corresponding channel. Disabling a color channel red, blue,
          or green has severe consequences. For instance if you disable the
          blue channel, all pixels from now on added to the image will not
          have blue component, and so a white pixel will have the yellow
          complementary color.
        </para>
      </caution>
    </sect4>

    <sect4 id="gimp-channel-dialog-using-managing">
      <title>Managing channels</title>

      <!--TODO: check: do we really need so many indexterms?-->
      <indexterm>
        <primary>Channel</primary>
        <secondary>Edit Channel Attributes</secondary>
      </indexterm>
      <indexterm>
        <primary>Channel</primary>
        <secondary>Create a New Channel Mask</secondary>
      </indexterm>
      <indexterm>
        <primary>Channel</primary>
        <secondary>Move Channel Mask</secondary>
      </indexterm>
      <indexterm>
        <primary>Channel</primary>
        <secondary>Duplicate Channel Mask</secondary>
      </indexterm>
      <indexterm>
        <primary>Channel</primary>
        <secondary>Delete Channel Mask</secondary>
      </indexterm>
      <indexterm>
        <primary>Channel</primary>
        <secondary>Channel to Selection</secondary>
      </indexterm>

      <para>
        Under the channel list is a set of buttons allowing you to perform
        some basic operations on channel list.
      </para>
      <variablelist>
        <varlistentry id="gimp-channel-edit">
          <term>
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata format="PNG"
                             fileref="images/dialogs/stock-edit-16.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            <phrase>Edit Channel Attributes</phrase>
          </term>
          <listitem>
            <para>
              Only available for selection masks. Here you can change the
              <guilabel>Channel name</guilabel>. The other two parameters
              affect channel visibility in the image window; they control
              <guilabel>Opacity</guilabel> and color used for the mask in the
              image window. A click on the color button displays the GIMP
              color selector and then you can change the mask color.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry id="gimp-channel-new">
          <term>
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata format="PNG"
                             fileref="images/dialogs/dialogs-icon-new.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            <phrase>New Channel</phrase>
          </term>
          <listitem>
            <para>
              You can create here a new channel. The displayed dialog lets
              you set <guilabel>Opacity</guilabel> and mask color used in
              the image to represent the selection. (If you use the
              <guibutton>New Channel</guibutton> button in Channel Menu,
              you can create this new channel with the options previously
              used by pressing the <keycap>Shift</keycap> key when clicking).
              This new channel is a channel mask (a selection mask) applied
              over the image. See
              <link linkend="gimp-channel-mask">Selection Mask</link>
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <anchor id="gimp-channel-raise"/>
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata format="PNG"
                             fileref="images/dialogs/dialogs-icon-raise.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            <phrase>Raise Channel</phrase>
          </term>
          <listitem>
            <para>
              Only available for selection masks: you can here put the
              channel up a level in the list. Press <keycap>Shift</keycap>
              key to move channel to top of the list.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <anchor id="gimp-channel-lower"/>
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata format="PNG"
                             fileref="images/dialogs/dialogs-icon-lower.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            <phrase>Lower Channel</phrase>
          </term>
          <listitem>
            <para>
              You can here put the channel down a level in the list. Press the
              <keycap>Shift</keycap> key to move the channel to bottom of the
              list.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <anchor id="gimp-channel-duplicate"/>
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata format="PNG"
                             fileref="images/dialogs/stock-duplicate-16.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            <phrase>Duplicate Channel</phrase>
          </term>
          <listitem>
            <para>
              You can create here a copy of the active channel. Name of new
              channel is suffixed with a number.
            </para>
            <tip>
              <para>
                You can also duplicate a color channel or the Alpha channel.
                It's an easy way to keep a copy of them and to use them later
                as a selection in an image.
              </para>
            </tip>
          </listitem>
        </varlistentry>
        <varlistentry id="gimp-channel-selection-replace">
          <term>
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata format="PNG"
                             fileref="images/dialogs/stock-selection-16.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            <phrase>Channel to Selection</phrase>
          </term>
          <listitem>
            <para>
              Here you can transform the channel to become a selection. By
              default the selection derived from a channel replaces any
              previous active selection. It's possible to change this by
              clicking on control keys.
            </para>
            <itemizedlist>
              <listitem id="gimp-channel-selection-add"
                xreflabel="Add to Selection">
                <para>
                  <keycap>Shift</keycap>:
                  the selection derived from a channel is added to the
                  previous active selection. The final selection is merged
                  from both.
                </para>
              </listitem>
              <listitem id="gimp-channel-selection-subtract"
                xreflabel="Subtract from Selection">
                <para>
                  <keycap>Ctrl</keycap>:
                  the final selection is the subtraction of selection derived
                  from a channel from the previously active one.
                </para>
              </listitem>
              <listitem id="gimp-channel-selection-intersect"
                xreflabel="Intersect with Selection">
                <para>
                  <keycombo>
                    <keycap>Shift</keycap><keycap>Ctrl</keycap>
                  </keycombo>:
                  the final selection is the intersection of selection derived
                  from a channel with the previously active one. Only common
                  parts are kept.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <anchor id="gimp-channel-selection-delete"/>
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata format="PNG"
                             fileref="images/dialogs/dialogs-icon-delete.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            <phrase>Delete Channel</phrase>
          </term>
          <listitem>
            <para>
              Only available for selection masks: you can here delete the
              active channel.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
    <xi:include href="channel-menu.xml"/>
  </sect3>
  <xi:include href="channel-selection-mask.xml"/>
  <xi:include href="qmask.xml"/>
</sect2>
-#-#-

<sect4 id="gimp-channel-menu">
  <title>Channels Context Menu</title>

  <indexterm>
    <primary>Channels</primary>
    <secondary>Menu</secondary>
  </indexterm>

  <figure>
    <title>Channel Context Menu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/channels-context-menu.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <variablelist>
    <varlistentry>
      <term>Overview</term>
      <listitem>
        <para>
          You can get the channel context menu by right clicking on a channel
          thumbnail. This menu gives the same operations on channels as those
          available from dialog buttons. The only difference concerns
          transformation to selection operations, each of them having its own
          entry in the menu.
        </para>
        <variablelist>
          <varlistentry>
            <term><guilabel>Edit Channel Attributes</guilabel></term>
            <term><guilabel>New Channel</guilabel></term>
            <term><guilabel>Raise Channel</guilabel></term>
            <term><guilabel>Lower Channel</guilabel></term>
            <term><guilabel>Duplicate Channel</guilabel></term>
            <term><guilabel>Delete Channel</guilabel></term>
            <listitem>
              <para>
                See
                <link linkend="gimp-channel-edit">Managing channels</link>.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><guilabel>Channel to Selection</guilabel></term>
            <listitem>
              <para>
                Selection derived from channel replaces any previous active
                selection.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><guilabel>Add to Selection</guilabel></term>
            <listitem>
              <para>
                Selection derived from channel is added to previous active
                selection. Final selection is merging of both.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><guilabel>Subtract from Selection</guilabel></term>
            <listitem>
              <para>
                Final selection is subtraction of selection derived from a
                channel from previous active selection.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><guilabel>Intersect with Selection</guilabel></term>
            <listitem>
              <para>
                Final selection is intersection of selection derived from a
                channel with the previous active selection. Only common parts
                are kept.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
  </variablelist>
</sect4>
-#-#-
<sect3 id="gimp-channel-mask">
  <title>Selection masks</title>
  <anchor id="dialogs-selection-masks" xreflabel="Selection masks"/>

  <indexterm>
    <primary>Masks</primary>
    <secondary>Selection mask</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Selection mask</secondary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Channel mask</secondary>
  </indexterm>
  <indexterm>
    <primary>Channel</primary>
    <secondary>Channel mask</secondary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Quick mask</secondary>
  </indexterm>

  <figure>
    <title>A selection composed out of channels.</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/channel-masks-example.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    Channels can be used to save and restore your selections.
    In the channel dialog you can see a thumbnail representing the selection.
    Selection Masks are a graphical way to build selections into a gray level
    channel where white pixels are selected and black pixels are not selected.
    Therefore gray pixels are partially selected. You can think of them as
    feathering the selection, a smooth transition between selected and not
    selected. This is important to avoid the ugly pixelization effect when you
    fill the selection or when you erase its content after isolating a subject
    from background.
  </para>

  <variablelist>
    <varlistentry>
      <term>Creating Selection Masks</term>
      <listitem>
        <para>
          There are several ways to initialize a selection mask.
          <itemizedlist>
            <listitem>
              <para>
                From the image window menu
                <menuchoice>
                  <guimenu>Select</guimenu>
                  <guimenuitem>Save to Channel</guimenuitem>
                </menuchoice>
                if there is an active selection.
              </para>
            </listitem>
            <listitem>
              <para>
                In the image window the bottom-left button creates a
                <link linkend="gimp-qmask">Quick Mask</link>; the content
                will be initialized with the active selection.
              </para>
            </listitem>
            <listitem>
              <para>
                From the channel dialog, when you click on the
                <guilabel>New channel</guilabel> button or from the context
                menu. When created, this Selection mask appears in the
                Channel dialog, named <quote>Selection maskcopy</quote> with
                a queuing number. You can change this by using the context
                menu that you get by right-clicking on the channel.
              </para>
            </listitem>
          </itemizedlist>
        </para>
      </listitem>
    </varlistentry>
  </variablelist>

  <sect4>
    <title>Using Selection Masks</title>
    <para>
      Once the channel is initialized, selected (highlighted in blue), visible
      (eye-icon in the dialog), and displayed as you want (color and opacity
      attributes), you can start to work with all the paint tools. The colors
      used are important. If you paint with some color other than white, grey,
      or black, the color Value (luminosity) will be used to define a gray
      (medium, light, or dark). When your mask is painted, you can transform
      it to a selection by clicking on the
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/dialogs/stock-selection-16.png"/>
          </imageobject>
        </inlinemediaobject>
      </guiicon>
      button (<link linkend="gimp-channel-selection-replace">Channel to
      Selection</link>) or from the
      <link linkend="gimp-channel-menu">context menu</link>.
    </para>
    <para>
      You can work in selection masks not only with the paint tool but also
      with other tools. For instance, you can use the selection tools to fill
      areas uniformly with gradients or patterns. By adding many selection
      masks in your list you can easily compose very complex selections. One
      can say that a selection mask is to a selection as a layer is to an
      image.
    </para>
    <caution>
      <para>
        As long as a selection mask is activated you are working in the mask
        and not in the image. To work in the image you have to deactivate all
        selection masks. Don't forget also to stop displaying masks in the
        image by removing the eye icon. Check also that all RGB and Alpha
        channels are activated and displayed in the image.
      </para>
    </caution>
  </sect4>
</sect3>
-#-#-
<sect2 id="gimp-color-dialog">
  <title>FG/BG Color Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Color Selector</secondary>
  </indexterm>
  <indexterm>
    <primary>Color Selector</primary>
  </indexterm>

  <figure>
    <title>The FG/BG Color dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/color-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Color dialog lets you manage and pick up new colors. You can use it
    into five different modes: GIMP, CMYK, Triangle, Watercolor and Scales. It
    has an interesting eyedropper to pick up a color anywhere on your screen.
  </para>
  <para>
    The dialog called from the FG/BG area in the toolbox is a bit different
    compared to the one called from the image menu:
    <itemizedlist>
      <listitem>
        <para>
          the sliders are permanently visible instead of selected from the
          scale menu,
        </para>
      </listitem>
      <listitem>
        <para>
          twelve buttons show the last used colors. You may choose
          a color by clicking on one of these buttons or add the current FG
          or BG color to this history list.
        </para>
      </listitem>
    </itemizedlist>
  </para>
  <para>
    This dialog works either on the foreground or the background color.
  </para>

  <sect3>
    <title>Activating the Dialog</title>
    <para>
      The <quote>Colors</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Colors</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Colors</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          from the toolbox: click on the current Foreground or Background
          color.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Colors</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Colors</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-colorselectors">
    <title>Using the <quote>FG/BG color</quote> dialog</title>
    <variablelist>
      <varlistentry id="gimp-colorselector-gimp">
        <term>GIMP Selector</term>
        <listitem>
          <para>
            With the GIMP Color Selector, you select a color by clicking on a
            one-dimensional strip located at the right edge, and then in a
            two-dimensional area located on the left. The one-dimensional
            strip can encode any of the color parameters H, S, V, R, G, or B,
            as determined by which of the adjoining buttons is pressed. The
            two-dimensional area then encodes the two complementary color
            parameters.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-colorselector-cmyk">
        <term>CMYK</term>
        <listitem>
          <figure>
            <title>CMYK</title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/dialogs/color-CMYK.png" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            You get to this selector by clicking on the printer icon. The CMYK
            view gives you the possibility to manage colors from the
            <link linkend="glossary-colormodel">CMYK</link>
            color model.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-colorselector-triangle">
        <term>Triangle</term>
        <listitem>
          <indexterm>
            <primary>Triangle Color Selector</primary>
          </indexterm>
          <figure>
            <title>The triangle selector</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/color-triangle.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This selector uses the <xref linkend="glossary-hsv"/> color
            model. Click in the <emphasis>chromatic circle</emphasis> and drag
            the mouse pointer to select the Hue. Click-and-drag in the
            <emphasis>triangle</emphasis> to vary intuitively Saturation
            (vertically) and Value (horizontally).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-colorselector-watercolor">
        <term>Watercolor</term>
        <listitem>
          <indexterm>
            <primary>Watercolor Color Selector</primary>
          </indexterm>
          <figure>
            <title>Watercolor Color Selector</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/color-watercolor.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This color selector is symbolized by a brush. The function mode of
            this selector is a little different from that of models
            presented so far. The principle consists in changing the
            current foreground color by clicking in the rectangular
            palette. If the current foreground color is for example
            white, then it turns to reddish by clicking in the red
            color area. Repeated clicking strengthens the effect. With the
            slider, which is right apart from the color palette, you
            can set the color quantity per every mouse click. The higher the
            sliding control is, the more color is taken up per click.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-colorselector-palette">
        <term>Palette</term>
        <listitem>
          <indexterm>
            <primary>Palette Color Selector</primary>
          </indexterm>
          <figure>
            <title>Palette Color Selector</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/color-palette.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This color selector brings up a list of the colors of the current
            palette in the
            <link linkend="gimp-palette-dialog">Palettes dialog </link>.
            You can set <acronym>GIMP</acronym>'s foreground or background
            colors by clicking on colors in the colors display. You can also
            use the arrow keys to move within the list of colors.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-colorselector-scales">
        <term>Scales</term>
        <listitem>
          <figure>
            <title>The Scales selector</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/color-scale.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This selector displays a global view of R, G, B channels and H, S,
            V values, placed in sliders.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-colorselector-picker">
        <term>Color picker</term>
        <listitem>
          <para>
            The color picker has a completely different behavior, than the
            <link linkend="gimp-tool-color-picker">color picker tool</link>.
            Instead of picking the colors from the active image, you're able
            to pick colors from the entire screen.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-colorselector-html">
        <term>HTML Notation</term>
        <listitem>
          <indexterm>
            <primary>CSS Keywords</primary>
          </indexterm>
          <para>
            See <link linkend="glossary-html-notation">HTML notation</link>.
            You can also use the CSS keywords; enter the first letter of a
            color to get a list of colors with their keyword :
          </para>
          <figure>
            <title>CSS keywords example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/css-keywords.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            Right-clicking in the HTML Notation text box opens a context
            menu that allows you to edit your notation, particularly to
            paste a complex notation you have copied elsewhere. This menu
            leads to various <guilabel>Input Methods</guilabel> that allow
            you to use foreign characters, and to the possibility to
            <guilabel>Insert Unicode Control Characters</guilabel>. This is
            a vast field, beyond this help. Please see
            <xref linkend="bibliography-online-unicode"/>.
          </para>
          <figure>
            <title>The HTML Notation context menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/html_notation-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      Right up you find a symbol, consisting of two arrows, with which you can
      exchange the foreground and background color. At the bottom left of the
      dialog, just below the foreground color block, you find a switching
      surface with two small, one black and the other white, partially
      overlapping squares. If you click on these, the front and background
      color are put back to black and white respectively.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-device-status-dialog">
  <title>Device Status Dialog</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Device Status</secondary>
  </indexterm>
  <indexterm>
    <primary>Device Status</primary>
  </indexterm>
  <figure>
    <title>The <quote>Device Status</quote> Dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/device-status.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This window gathers together the current options of Toolbox, for each
    of your input devices: the mouse (named <quote>Core pointer</quote>) or
    either the tablet, if you have one. These options are represented by
    icons: foreground and background colors, brush, pattern and
    gradient. Excepted for colors, clicking on an icon opens the window
    which lets you select another option; the tool-box will be updated when
    changing. You can drag and drop items to this dialog.
  </para>
  <para>
    The <quote>Save device status</quote> button
    <guiicon>
      <inlinegraphic fileref="images/dialogs/stock-save-16.png"/>
    </guiicon>
    at the bottom of the
    window, seems to have the same action as the <quote>Record device
    status now</quote> option in the Input Devices section in preferences.
  </para>

  <sect3>
    <title>Activating the Dialog</title>
    <para>
      The device status dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it. It can be activated in two ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From an image menuÂ :
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Device Status</guimenuitem>
          </menuchoice>.
       </para>
      </listitem>
      <listitem>
        <para>
          From the Tab menu in any dialogÂ :
          <menuchoice>
            <guimenu>Add a Dock</guimenu>
            <guimenuitem>Device Status</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-dialogs-content">
  <title>Image-content Related Dialogs</title>
  <xi:include href="color-dialog.xml"/>
  <xi:include href="brushes-dialog.xml"/>
  <xi:include href="patterns-dialog.xml"/>
  <xi:include href="gradient-dialog.xml"/>
  <xi:include href="palettes-dialog.xml"/>
  <xi:include href="tagging.xml"/>
  <xi:include href="fonts-dialog.xml"/>
</sect1>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-dialogs-management">
  <title>Image Management Related Dialogs</title>
  <xi:include href="buffers-dialog.xml"/>
  <xi:include href="images-dialog.xml"/>
  <xi:include href="document-dialog.xml"/>
  <xi:include href="templates-dialog.xml"/>
</sect1>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-dialogs-misc">
  <title>Misc. Dialogs</title>
  <!--<xi:include href="tools-dialog.xml"/>-->
  <xi:include href="tool-presets-dialog.xml"/>
  <xi:include href="tool-preset-editor.xml"/>
  <xi:include href="device-status-dialog.xml"/>
  <xi:include href="error-console.xml"/>
  <xi:include href="save-file-dialog.xml"/>
  <xi:include href="export-file-dialog.xml"/>
  <xi:include href="sample-points.xml"/>
  <xi:include href="pointer-dialog.xml"/>
</sect1>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-dialogs-structure">
  <title>Image Structure Related Dialogs</title>
  <para>
    The following dialogs let you control and manipulate image structures,
    such as <link linkend="gimp-concepts-layers">layers</link>,
    <link linkend="glossary-channels">channels</link>, or
    <link linkend="gimp-using-paths">paths</link>.
  </para>
  <xi:include href="layer-dialog.xml"/>
  <xi:include href="channel-dialog.xml"/>
  <xi:include href="path-dialog.xml"/>
  <xi:include href="indexed-palette-dialog.xml"/>
  <xi:include href="histogram-dialog.xml"/>
  <xi:include href="navigation-dialog.xml"/>
  <xi:include href="undo-history-dialog.xml"/>
</sect1>
-#-#-
<sect1 id="gimp-dialogs-introduction">
  <title>Dialog Introduction</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Introduction</secondary>
  </indexterm>
  <para>
    Dialogs are the most common means of setting options and controls in the
    <acronym>GIMP</acronym>. The most important dialogs are explained in
    this section.
  </para>
</sect1>
-#-#-
<sect2 id="gimp-document-dialog">
  <title>Document History Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Document History</secondary>
  </indexterm>
  <indexterm>
    <primary>Document History</primary>
  </indexterm>

  <figure>
    <title>Document History dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/history.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The History Dialog displays the list of the documents you have opened in
    previous sessions. It is more complete than the list you get with the
    <quote>Open Recent</quote> command.
  </para>

  <sect3>
    <title>Activating the Dialog</title>
    <para>
      The <quote>History</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Document History</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          From the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Document History</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          From the image Menu bar through:
          <menuchoice>
            <guimenu>File</guimenu>
            <guisubmenu>Open Recent</guisubmenu>
            <guimenuitem>Document History</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Using the Document History dialog</title>
    <para>
      The scroll bar allows you to browse all images you have opened before.
    </para>
    <para>
      In the Tab menu for the <quote>Document History</quote> dialog, you can
      choose between  <guimenuitem>View as Grid</guimenuitem> and
      <guimenuitem>View as List</guimenuitem>.
      In Grid mode, the documents are laid out in a rectangular array.
      In List mode, they are lined up vertically, with each row showing
      a thumbnail of the contents of the image, its name, and its pixel
      dimensions.
    </para>
    <tip>
      <para>
        <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>
        opens a search field.
        See <xref linkend="gimp-dock-view-as-list" />
      </para>
    </tip>
    <para>
      Use the <emphasis>Open the selected entry</emphasis>
      <guiicon>
        <inlinegraphic fileref="images/dialogs/stock-fileopen-16.png"/>
      </guiicon>
      button or <guimenuitem>Open Image</guimenuitem> command of the dialog's
      context menu, to open the image you have selected. With the
      <keycap>Shift</keycap> key pressed, it raises an image hidden behind
      others. With the <keycap>Ctrl</keycap> key pressed, it opens the Open
      Image dialog.
    </para>
    <para>
      Use the <emphasis>Remove the selected entry</emphasis>
      <guiicon>
        <inlinegraphic
          fileref="images/dialogs/stock-remove-16.png"/>
      </guiicon>
      button or <guimenuitem>Remove Entry</guimenuitem> command of the dialog's
      context menu, to remove an image from the History dialog. The image
      is removed from the recently open images list also. But the image itself
      is not deleted.
    </para>
    <para>
      Use the <emphasis>Clear the entire file history</emphasis>
      <guiicon>
        <inlinegraphic
          fileref="images/dialogs/stock-edit-clear-16.png"/>
      </guiicon>
      button or <guimenuitem>Clear History</guimenuitem> command of the
      dialog's context menu, to remove all the files from the history.
    </para>
    <para>
      Use the <emphasis>Recreate Preview</emphasis>
      <guiicon>
        <inlinegraphic
          fileref="images/dialogs/stock-reload-16.png"/>
      </guiicon>
      button or <guimenuitem>Recreate Preview</guimenuitem> command of the
      dialog's context menu, to update preview in case of change.
      With <keycap>Shift</keycap> key pressed, it acts on all previews.
      With <keycap>Ctrl</keycap> key pressed, previews that
      correspond to files that can't be found out, are deleted.
    </para>
  </sect3>
</sect2>
-#-#-
<sect3 id="edit-template-dialog">
  <title>Edit Template</title>

  <indexterm>
    <primary>Template</primary>
    <secondary>Edit</secondary>
  </indexterm>
  <indexterm>
    <primary>Edit Template</primary>
  </indexterm>

  <figure>
    <title>The Edit Template dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/dialogs-templates-edit.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The dialog allows you to set the specifications of the selected template.
  </para>
  <para>
    You can access this editor by clicking on the
    <guibutton>Edit Template</guibutton> button at the bottom of the dialog.
  </para>

  <variablelist>
    <title>Options</title>
    <varlistentry>
      <term>Name</term>
      <listitem>
        <para>
          In this text box, you can modify the displayed template name.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Icon</term>
      <listitem>
        <para>
          By clicking on this icon, you open a list of icons. You can choose
          one of them to illustrate the selected template name.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Image size</term>
      <listitem>
        <para>
          Here you set the width and height of the new image.  The
          default units are pixels, but you can switch to some other
          unit if you prefer, using the adjoining menu. If you do,
          note that the resulting pixel size will be determined by
          the X and Y resolution (which you can change in the
          Advanced Options), and by the setting of
          <quote>Dot for Dot</quote>, which you can change in the
          <guimenu>View</guimenu> menu.
        </para>
        <note>
          <para>
            Please keep in mind, that every Pixel of an image is stored
            in the memory. If you're creating large files with a high
            density of pixels, <acronym>GIMP</acronym> will need some
            time for every function you're applying to the image.
          </para>
        </note>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Portrait/Landscape buttons</term>
      <listitem>
        <para>
          These buttons toggle between Portrait and Landscape mode.
          Concretely, their effect is to exchange the values for
          Width and Height.  If the X and Y resolutions are
          different (in Advanced Options), then these values are
          exchanged also. On the right, image size, image resolution and
          color space are displayed.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>

  <variablelist>
    <title>Advanced Options</title>
    <para>
      <figure>
        <title>The <quote>Advanced Options</quote> dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/dialogs/dialogs-templates-edit-advanced.png"/>
          </imageobject>
        </mediaobject>
      </figure>
    </para>
    <para>
      These are options that will mainly be of interest to more advanced
      users.
    </para>
    <varlistentry>
      <term>X and Y resolution</term>
      <listitem>
        <para>
          These values come into play mainly in relation to
          printing:  they do not affect the size of the image in
          pixels, but they determine its size on paper when
          printed.  They can also affect the way the image is
          displayed on the monitor: if <quote>Dot for Dot</quote> is
          switched off
          in the <guimenu>View</guimenu> menu, then at 100% zoom,
          GIMP attempts to display the image on the monitor at the
          correct physical size, as calculated from the pixel
          dimensions and the resolution.  The display may not be
          accurate, however, unless the monitor has been calibrated.
          This can be done either when GIMP is installed, or from
          the <link linkend="gimp-prefs-display">Display tab</link> of
          the Preferences dialog.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Colorspace</term>
      <listitem>
        <para>
          You can create the new image as either an RGB image or a grayscale
          image. You cannot create an indexed image directly in this way, but
          of course nothing prevents you from converting the image to indexed
          mode after it has been created.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Fill</term>
      <listitem>
        <para>
          You have four choices for the solid color that will fill
          the new image's background layer:
        </para>
        <itemizedlist>
          <listitem>
            <para>
              <guilabel>Foreground color</guilabel>, as shown in the Main
              Toolbox.
            </para>
          </listitem>
          <listitem>
            <para>
              <guilabel>Background color</guilabel>, as shown in the Main
              Toolbox.
            </para>
          </listitem>
          <listitem>
            <para>
              <guilabel>White</guilabel>, the more often used.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Transparent</guilabel>.  If this option is chosen,
              then the Background layer in the new image will be created
              with an alpha channel; otherwise not.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Comment</term>
      <listitem>
        <para>
          You can write a descriptive comment here.  The text will
          be attached to the image as a <quote>parasite</quote>, and will be
          saved along with the image by some file formats (but not
          all of them).
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
</sect3>
-#-#-
<sect2 id="gimp-errors-dialog">
  <title>Error Console</title>

  <indexterm>
    <primary>Error console</primary>
  </indexterm>

  <para>
    The <guilabel>Error console</guilabel> offers more possibilities than
    the single <quote>GIMP Message</quote>. This is a log of all errors
    occurring while GIMP is running. You can save all this log or only a
    selected part.
  </para>

  <sect3>
    <title>Activating the Dialog</title>
    <para>
      The <quote>Error Console</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Error Console</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinemediaobject>
              <imageobject><imagedata format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Error Console</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The <quote>Error Console</quote> Dialog</title>
    <figure>
      <title><quote>Error Console</quote> Dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/dialogs/error-console.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-edit-clear-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Clear errors</phrase>
        </term>
        <listitem>
          <para>
            This button lets you delete all errors in the log.
          </para>
          <warning>
            <para>
              You can't <quote>undo</quote> this action.
            </para>
          </warning>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-save-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Save all errors</phrase>
        </term>
        <listitem>
          <para>
            This button lets you save
            the whole log. You can also select a part of the log (by
            click-and-dragging the mouse pointer or by using the
            <keycombo><keycap>Shift</keycap><keycap>Arrow
            keys</keycap></keycombo> key combination) and save only this
            selected part by pressing the <keycap>Shift</keycap> key.
          </para>
          <para>
            A dialog window <guilabel>Save Error Log to File</guilabel> lets
            you choose the name and the destination directory of this file:
          </para>
          <figure>
            <title>
              <quote>Save Error Log to file</quote> Dialog window
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/error-console-record.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
    <tip>
      <para>
        You will as well find these button actions in the dialog tab menu by
        clicking on
        <guiicon>
          <inlinemediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
            </imageobject>
          </inlinemediaobject>
        </guiicon>,
        or in the context menu you get by right-clicking on the dialog
        window.
      </para>
    </tip>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-export-dialog">
  <title>Export File</title>

  <indexterm>
    <primary>Export File</primary>
  </indexterm>

  <para>
    With <acronym>GIMP</acronym>-2.8, the Save command saves images in XCF
    format only. The Export command is now used to save images to various
    file formats.
  </para>
  <para>
    You can access to this command through
    <menuchoice>
      <guimenu>File</guimenu>
      <guimenuitem>Export As...</guimenuitem>
    </menuchoice>, or from the keyboard by using the shortcut
      <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap><keycap>E</keycap>
      </keycombo>.
  </para>

  <figure>
    <title>Export Image Dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/export-image-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>


  <sect3>
    <title>The Export Image Dialog</title>
    <para>
      With this file browser, you can edit filename and extension directly in
      name box (default is <quote>Untitled.png</quote>) or by selecting a
      file in name list. You must also fix the image  destination in
      <guilabel>Save in Folder</guilabel>. You can create a new folder if
      necessary.
    </para>
    <formalpara>
      <title>Select File Type</title>
      <para>
        If you develop this option, you can select an extension in the
        drop-down list for your file:
      </para>
    </formalpara>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/export-select-file-type.png"
        format="PNG"/>
      </imageobject>
    </mediaobject>
    <para>
      File formats dialogs are described in
        <xref linkend="gimp-using-fileformats"/>.
    </para>
  </sect3>

  <sect3 id="exporting-image">
    <title>Exporting</title>
    <para>
      When file name and destination are set, click on
      <guibutton>Export</guibutton>. This opens the export dialog for the
      specified file format.
    </para>
    <para>
      If you have loaded a non-XCF file, a new item appears in File menu,
      allowing you to to export file in the same format, overwriting the
      original file.
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/overwriting-file.png"
          format="PNG"/>
        </imageobject>
      </mediaobject>
    </para>
    <para>
      If you modify an image that you already have exported, the
      <command>Export</command> command in File menu is changed, allowing you
      to export file again in the same format.
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/export-to.png"
          format="PNG"/>
        </imageobject>
      </mediaobject>
    </para>
  </sect3>
</sect2>

-#-#-
<sect2 id="gimp-font-dialog">
  <title>Fonts Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Fonts</secondary>
  </indexterm>
  <indexterm>
    <primary>Fonts</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <figure>
    <title>The Fonts dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/fonts-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The <quote>Fonts</quote> dialog is used for selecting fonts for the
    <link linkend="gimp-tool-text">Text tool</link>.
    It also allows you to refresh the list of available fonts, if you add
    new ones to your system while GIMP is running.
  </para>

  <sect3 id="gimp-font-dialog-activate">
    <title>Activating the Dialog</title>
    <para>
      The <quote>Fonts</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/> for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Fonts</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Fonts</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tool Options for the Text tool. If you click on the
          <quote>Font</quote> button, a Font-selector pops up. In the lower
          right corner is a button that, if pressed, brings up the
          <quote>Fonts</quote> dialog.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Fonts</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Fonts</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-font-dialog-using">
    <title>Using the Fonts dialog</title>
    <para>
      The most basic thing you can do is to select a font by clicking on it:
      this font will then be used by the Text tool. If instead of clicking and
      releasing, you hold down the left mouse button with the pointer
      positioned over the font example (<quote>Aa</quote>), a window showing
      a larger text example will pop up (<quote>Pack my box with five dozen
      liquor jugs</quote>).
    </para>
    <variablelist>
      <varlistentry>
        <term>Grid/List modes</term>
        <listitem>
          <figure>
            <title>The Fonts dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/fonts-grid-dialog.png"/>
              </imageobject>
              <caption>
                <para>Dialog in Grid View</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/fonts-dialog.png"/>
              </imageobject>
              <caption>
                <para>Dialog in List View</para>
              </caption>
            </mediaobject>
          </figure>
          <tip>
            <para>
              <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>
              opens a search field.
              See <xref linkend="gimp-dock-view-as-list" />
            </para>
          </tip>
          <para>
            In the Tab menu for the Fonts dialog, you can choose between
            <guimenuitem>View as Grid</guimenuitem> and
            <guimenuitem>View as List</guimenuitem>.
            In Grid mode, the fonts are laid out in a rectangular array. In
            List mode, they are lined up vertically, with each row showing an
            example of the appearance of the font (<quote>Aa</quote>),
            followed by the name of the font.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-font-refresh">
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-reload-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Refresh font list</phrase>
        </term>
        <listitem>
          <para>
            Pressing this button at the bottom of the dialog causes the system
            font list to be rescanned. This may be useful if you add new fonts
            while GIMP is running, and want to make them accessible for the
            Text tool. You can also cause the font list to be rescanned by
            right-clicking in the font display, and selecting <quote>Rescan
            Font List</quote> from the menu that pops up (it is actually the
            only option in the menu).
          </para>
          <tip>
            <para>
              You can change the size of the font previews in the dialog using
              the <quote>Preview Size</quote> submenu of the dialog's Tab menu.
            </para>
          </tip>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-gradient-dialog">
  <title>Gradients Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Gradient Dialog</secondary>
  </indexterm>
  <indexterm>
    <primary>Gradient</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <figure>
    <title>The screenshot illustrates the Gradients dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/gradient-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <quote>Gradients</quote> dialog offers a gradient palette which is
    used to select a gradient &mdash; a set of colors arranged in a linear
    scale &mdash; for use with the
    <link linkend="gimp-tool-blend">Blend tool</link> and numerous
    other operations. It also gives you access to several functions for
    manipulating gradients.  You can select a gradient by clicking on it in
    the list: it will then be shown in the Brush/Pattern/Gradient area of
    the Toolbox.  A few dozen nice gradients come pre-installed with GIMP.
    You can create more using the
    <link linkend="gimp-gradient-editor-dialog">Gradient Editor</link>.
    General information about gradients and how they are used in GIMP can be
    found in the <link linkend="gimp-concepts-gradients">Gradients</link>
    section.
  </para>
  <itemizedlist>
    <para>
      The first five gradients are particular: they reproduce the gradient
      between Foreground and background colors of toolbox in different ways.
    </para>
    <listitem>
      <para>
        <guilabel>FG to BG (Hardedge)</guilabel>: only black and white with a
        sharp limit.
      </para>
    </listitem>
    <listitem>
      <para>
        <guilabel>FG to BG (HSV clock-wise/counter-clockwise Hue)</guilabel>:
        all hues in the color circle between the Foreground and the
        background color, clockwise or counter-clockwise.
      </para>
    </listitem>
    <listitem>
      <para><guilabel>FG to BG (RGB)</guilabel>: default gradient, between the
        Foreground and the background colors of the Toolbox, in the RGB mode.
      </para>
    </listitem>
    <listitem>
      <para>
        <guilabel>FG to Transparent</guilabel>: only uses one color (the
        Foreground color) from complete opacity to complete transparency.
        This gradient is very useful when you work with softly blended
        collages or fog effects.
      </para>
    </listitem>
  </itemizedlist>

  <sect3 id="gimp-gradient-dialog-activate">
    <title>Activating the Dialog</title>
    <para>
      The <quote>Gradients</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from an image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Gradients</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Gradients</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          from the Toolbox, by clicking on the current gradient in the
          Brush/Pattern/Gradient area,
        </para>
      </listitem>
      <listitem>
        <para>
          From the image by using the <keycombo><keycap>Ctrl</keycap><keycap>G</keycap></keycombo> shortcut.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Gradients</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Gradients</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-gradient-dialog-using">
    <title>Using the <quote>Gradients</quote> dialog</title>
    <para>
      The most basic, and most commonly used, operation with the dialog is
      simply to click on one of the gradients in the scrollable list, in order
      to make it GIMP's current gradient, which will then be used by any
      operation that involves a gradient.
    </para>
    <para>
      If you <emphasis>double-click</emphasis>
      on a gradient, you open the Gradient Editor where you will be able to
      edit its name. Note, however, that you are only allowed to change the
      names of gradients that you have created yourself, not the ones that
      come pre-installed with GIMP. If you try to rename a pre-installed
      gradient, you will be able to edit the name, but as soon as you hit
      return or click somewhere else, the name will revert to its original
      value. It is a general rule that you cannot alter the resources that
      GIMP pre-installs for you: brushes, patterns, gradients, etc; only ones
      that you create yourself.
    </para>
    <variablelist>
      <varlistentry>
        <term>Grid/List modes</term>
        <listitem>
          <para>
            In the Tab menu, you can choose between <guimenuitem>View as
            Grid</guimenuitem> and <guimenuitem>View as List</guimenuitem>.
            In Grid mode, the gradients are laid out in a rectangular
            array.  They look quite dazzling when viewed this way, but it is
            not very easy to pick the one you want, because of visual
            interference from the neighboring ones.  In List mode, the
            more usable default, the gradients are lined up vertically, with
            each row showing its name.
          </para>
          <para>
            In the Tab menu, the option <guilabel>Preview Size</guilabel>
            allows you to adapt the size of gradient previews to your
            liking.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      The buttons at the bottom of the dialog allow you to operate on
      gradients in several ways:
    </para>
    <variablelist>
      <varlistentry>
        <term>Edit Gradient</term>
        <listitem>
          <para>
            This button activates the
            <link linkend="gimp-gradient-editor-dialog">Gradient Editor</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>New Gradient</term>
        <listitem>
          <anchor id="gimp-gradient-new"/>
          <para>
            This creates a new gradient, initialized as a simple grayscale,
            and activates the Gradient Editor so that you can alter it.
            Gradients that you create are automatically saved in the
            <filename>gradients</filename>
            folder of your personal GIMP directory, from which they are
            automatically loaded when GIMP starts. (You can change this
            folder, or add new ones, using the Preferences dialog.)
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Duplicate Gradient</term>
        <listitem>
          <anchor id="gimp-gradient-duplicate"/>
          <para>
            This creates a copy of the currently selected gradient. You will
            be able to edit the copy even if you cannot edit the original.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Delete Gradient</term>
        <listitem>
          <anchor id="gimp-gradient-delete"/>
          <para>
            This removes all traces of the gradient, if you have permission to
            do so. It asks for confirmation before doing anything.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Refresh Gradients</term>
        <listitem>
          <anchor id="gimp-gradient-refresh"/>
          <para>
            If you add gradients to your personal
            <filename>gradients</filename>
            folder by some means other than this dialog, this button causes
            the list to be reloaded, so that the new entries will be
            available.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      The functions performed by these buttons can also be accessed from the
      dialog pop-up menu, activated by right-clicking anywhere in the
      gradient list, or via <guisubmenu>Gradient Menu</guisubmenu> in the
      Tab menu:
    </para>
    <figure>
      <title>The Gradients Menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/dialogs/gradient-menu.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The gradient menu also gives you some additional functions:
    </para>
    <variablelist>
      <varlistentry id="gimp-gradient-save-as-pov">
        <term>Save as POV-Ray...</term>
        <listitem>
          <para>
            This allows you to save the gradient in the format used by
            the <application>POV-Ray</application> 3D ray-tracing
            program.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-gradient-copy-location">
        <term>Copy Gradient Location</term>
        <listitem>
          <para>
            This command allows you to copy the gradient file location to
            the clipboard. You can then use it in a text editor.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="script-fu-gradient-example">
        <term>Custom Gradient...</term>
        <listitem>
          <para>
            This command creates a sample image filled with the selected
            gradient. You can select width and height of the image as well as
            the gradient direction in the dialog window.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="python-fu-gradient-save-as-css">
        <term>Save as CSS</term>
        <listitem>
          <!--Written with the help of Joao S.O Bueno, plugin author-->
          <indexterm>
            <primary>Gradient CSS code snippet</primary>
          </indexterm>
          <para>
            The CSS (Cascading Style Sheets) language is used to format the
            display of HTML and XML files, for instance background color, font
            size... and background gradient. The "CSS Save" plugin is a CSS3
            linear gradient generator that allows you to save a CSS3
            code snippet, containing the gradient data for a given GIMP
            gradient. This code snippet is a text file: you can copy-paste it to
            the stylesheet related to your HTML file, to get a gradient
            background on opening the HTML file in Firefox, Chrome or Safari web
            navigators. This CSS3 code snippet can also be used as a gradient in
            SVG files.
          </para>
          <para>
            Here is an example of code snippet, got using the Blue Green
            gradient:
          </para>
          <formalpara>
            <title>A CSS snippet created with Save as CSS</title>
            <para>
              <literallayout>
background-image: linear-gradient(top, rgb(0,123,255) 0%, rgb(72,226,255) 56%,
     rgb(0,255,161) 100%);
background-image: -moz-linear-gradient(center top, rgb(0,123,255) 0%,rgb(72,
    226,255) 56%,rgb(0,255,
    161) 100%);
background-image: -webkit-gradient(linear, left top, left bottom,
     color-stop(0.000, rgb(0,123,255)),color-stop(0.566, rgb(72,226,255)),
    color-stop(1.000, rgb(0,255,161)));
              </literallayout>
          </para>
          </formalpara>
        </listitem>
      </varlistentry>
    </variablelist>
    
    <sect4 id="gimp-gradient-dialog-tags">
      <title>Tagging</title>
      <para>
        You can use tags to reorganize the gradients display. 
        See <xref linkend="gimp-tagging"/>.
      </para>
    </sect4>
    
  </sect3>
  <xi:include href="gradient-editor-dialog.xml"/>
</sect2>

-#-#-
<sect3 id="gimp-gradient-editor-dialog">
  <title>The Gradient Editor</title>
  <anchor id="gimp-gradient-edit"/>

  <indexterm>
    <primary>Gradient</primary>
    <secondary>Editor</secondary>
  </indexterm>

  <figure>
    <title>The gradient editor</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/gradient-editor-dialog.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Gradient Editor allows you to edit the colors in a gradient. It can
    only be used on gradients you have created yourself (or on a copy of a
    system gradient), not on system gradients that come pre-installed with
    GIMP. This is a sophisticated tool that may take a bit of effort to
    understand. The concept behind it is that a gradient can be decomposed
    into a series of adjoining <emphasis>segments</emphasis>,
    with each segment consisting of a smooth transition from the color on
    the left edge to the color on the right edge. The Gradient Editor allows
    you to pack together any number of segments, with any colors you want for
    the left and right edges of each segment, and with several options for the
    shape of the transition from left to right.
  </para>

  <sect4 id="gimp-gradient-editor-dialog-activate">
    <title>How to Activate the Gradient Editor</title>
    <para>
      You can activate the Gradient Editor in several ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          by double-clicking on the gradient stripe in the Gradient dialog,
        </para>
      </listitem>
      <listitem>
        <para>
          from the context menu you get by right clicking on the selected
          gradient name,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the <guibutton>Edit gradient</guibutton>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-edit-16.png"/>
          </guiicon>
          button in the Gradient Dialog,
        </para>
      </listitem>
      <listitem>
        <para>
          from the Gradient Menu you get by clicking on
          <guiicon>
            <inlinegraphic
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon>
          in the Gradient Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect4>

  <sect4 id="gimp-gradient-editor-dialog-using">
    <title>Display</title>
    <variablelist>
      <varlistentry>
        <term>Name</term>
        <listitem>
          <para>
            In the name area, you have the tab menu button (the small
            triangle).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>The Gradient Preview Window </term>
        <listitem>
          <para>
            Below the name, you see the current result of your work if the
            <guilabel>Instant update</guilabel> option is checked; else,
            changes will appear only when you release the mouse button.
          </para>
          <para>
            If you simply move the mouse pointer on this display, it works
            somewhat as a color-picker. Values of the pointed pixel are
            displayed in a rather odd way. <emphasis>Position</emphasis>
            is a number given to 3 decimal places, from 0.000 on the left to
            1.000 on the right of the whole gradient.
            <emphasis>RGB, HSV, Intensity and Opacity</emphasis>
            are also a ratio...
          </para>
          <para>
            If you click-n-drag on display, then only position and RGB data
            are displayed. But they are passed on to the Foreground color in
            the Toolbox and to the four first gradients of the list (by
            pressing the <keycap>Ctrl</keycap> key, the Color is sent to the
            Background color of the Toolbox).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Range Selection/Control Sliders</term>
        <listitem>
          <para>
            Below the gradient display, you see a set of black and white
            triangles lined up in row which allow you to adjust endpoints
            and midpoints in the gradient preview. A
            <emphasis>segment</emphasis> is the space between two consecutive
            <emphasis>black</emphasis> triangles. Inside each segment is a
            white triangle, which is used to <quote>warp</quote> the colors
            in the segment, in the same way that the middle slider
            in the Levels tool warps the colors there. You can select a
            segment by clicking between the two black triangles that define
            it. It turns from white to blue. You can select a range of
            segments by shift-clicking on them.
            The selected range always consists of a set of
            <emphasis>consecutive</emphasis>
            segments, so if you skip over any when shift-clicking, they will
            be included automatically. If <quote>Instant update</quote>
            is checked, the display is updated immediately after any slider
            movement; if it is unchecked, updates only occur when you release
            the mouse button.
          </para>
          <para>
            You can move sliders, segments and selections. If you simply
            <emphasis>click-n-drag a slider</emphasis>,
            you only move the corresponding transition. By
            <emphasis>click-n-drag on a segment</emphasis>
            you can move this segment up to the next triangle. By
            <emphasis>Shift+click-n-drag on a segment/selection</emphasis>,
            you can move this segment/selection and compress/ dilate next
            segments.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Scrollbar</term>
        <listitem>
          <para>
            Below the sliders is a scrollbar. This only comes into play if you
            zoom in using the buttons at the bottom.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Feedback Area</term>
        <listitem>
          <para>
            Below, a color swatch shows the color pointed by the mouse
            cursor. Informations about this color and helpful hints or
            feedback messages may appear here.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Buttons</term>
        <listitem>
          <para>
            At the bottom of the dialog appear five buttons:
          </para>
          <variablelist>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinegraphic fileref="images/dialogs/stock-save-16.png"/>
                </guiicon>
                <phrase condition="tag-is-required">Save</phrase>
              </term>
              <listitem>
                <para>
                  Clicking this button causes the gradient, in its current
                  state, to be saved in your personal
                  <filename class="directory">gradients</filename>
                  folder, so that it will automatically be loaded the next
                  time you start <acronym>GIMP</acronym>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-revert-16.png"/>
                </guiicon>
                <phrase condition="tag-is-required">Revert</phrase>
              </term>
              <listitem>
                <para>
                  Clicking this button undoes all of your editing. (However,
                  at the time this is being written, this function is not yet
                  implemented.)
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-zoom-out-16.png"/>
                </guiicon>
                <phrase condition="tag-is-required">Zoom Out</phrase>
              </term>
              <listitem>
                <anchor id="gimp-gradient-editor-zoom-out"/>
                <para>
                  Clicking this button shrinks the gradient display
                  horizontally.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-zoom-in-16.png"/>
                </guiicon>
                <phrase condition="tag-is-required">Zoom In</phrase>
              </term>
              <listitem>
                <anchor id="gimp-gradient-editor-zoom-in"/>
                <para>
                  Clicking this button expands the gradient display
                  horizontally. You can then use the scrollbar to pan the
                  display left or right.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-zoom-best-fit-16.png"/>
                </guiicon>
                <phrase condition="tag-is-required">Zoom All</phrase>
              </term>
              <listitem>
                <anchor id="gimp-gradient-editor-zoom-all"/>
                <para>
                  Clicking this button resizes the display horizontally so
                  that it fits precisely into the window.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect4>

  <sect4 id="gimp-gradient-editor-dialog-menu">
    <title>The Gradient Editor pop-up Menu</title>
    <figure>
      <title>The Gradient Editor pop-up menu</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/dialogs/gradient-editor-popup-menu.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      You can access the Gradient Editor menu either by right-clicking on the
      gradient display, or by choosing the top item in the dialog's tab menu.
      The menu allows you to edit endpoint's color (set the left and right
      edge colors for each segment), blend colors, select a color model and
      edit segments. This editor works only with custom gradients or a copy
      of a system gradient.
    </para>
    <para>The following commands can be found in the menu:</para>
    <variablelist>
      <title>Editing endpoint's color</title>
      <varlistentry>
        <term>Left/Right color type</term>
        <listitem>
          <para>This command opens a submenu:</para>
          <figure>
            <title>The Left/Right color type sub-menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                fileref="images/dialogs/gradient-editor-colortype-submenu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This submenu allows you to select the endpoint color from the
            toolbox foreground and background colors.
            Whenever you change the foreground or background color, this
            endpoint color may be changed as well. The alternative is to
            select a <guimenuitem>Fixed</guimenuitem> endpoint color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Left [Right] Endpoint's Color</term>
        <listitem>
          <anchor id="gimp-gradient-editor-left-color"/>
          <anchor id="gimp-gradient-editor-right-color"/>
          <para>
            These options allow you to choose a color for the respective
            endpoint using a Color Editor.
          </para>
          <note>
            <para>
              This command is related to the previous one and becomes
              inactive if you have selected any other value than
              <guimenuitem>Fixed</guimenuitem> for the corresponding Left
              [Right] Color Type.
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Load Left [Right] Color From</term>
        <listitem>
          <anchor id="gimp-gradient-editor-left-load"/>
          <anchor id="gimp-gradient-editor-right-load"/>
          <figure>
            <title>The <quote>Load Color From</quote> submenu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                      fileref="images/dialogs/gradient-editor-colorfrom.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            These options give you a number of alternative ways of assigning
            colors to the endpoints. From the submenu you can choose (assuming
            we're dealing with the left endpoint):
          </para>
          <variablelist>
            <varlistentry>
              <term>Left Neighbor's Right Endpoint</term>
              <listitem>
                <para>
                  This choice will cause the color of the right endpoint of
                  the segment neighboring on the left to be assigned to the
                  left endpoint of the selected range.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Right Endpoint</term>
              <listitem>
                <para>
                  This choice will cause the color of the right endpoint of
                  the selected range to be assigned to the left endpoint.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>FG/BG color</term>
              <listitem>
                <para>
                  This choice causes GIMP's current foreground or background
                  color, as shown in the Toolbox, to be assigned to the
                  endpoint. Note that changing foreground or background color
                  later will not change the endpoint's color.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>RGBA slots</term>
              <listitem>
                <para>
                  At the bottom of the menu are
                  10 <quote>memory slots</quote>. You can assign colors to
                  them using the <quote>Save</quote> menu option described
                  below. If you choose one of the slots, the color in it will
                  be assigned to the endpoint.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Save Left [Right] Color To</term>
        <listitem>
          <anchor id="gimp-gradient-editor-left-save"/>
          <anchor id="gimp-gradient-editor-right-save"/>
          <para>
            These options cause the color of the endpoint in question to be
            assigned to the <quote>memory slot</quote> selected from the
            submenu.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry> <!-- 2013-03-29 -->
        <term>Click and drag colors</term>
        <listitem>
          <para>
            You can also click and drag a color from the toolbox FG-BG colors
            or from a palette
            <itemizedlist>
              <listitem>
                <para>
                  to an endpoint (a black triangle), to set left [right] colors,
                </para>
              </listitem>
              <listitem>
                <para>
                  to the gradient display area, to add a new endpoint with this
                  color on both sides.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Blending and coloring functions for segment</title>
      <varlistentry>
        <term>Blending Function for Segment</term>
        <listitem>
          <anchor id="gimp-gradient-editor-blending"/>
          <figure>
            <title>The Blending Function submenu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                       fileref="images/dialogs/gradient-editor-blend.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This option determines the course of the transition from one
            endpoint of the range (segment or selection) to the other, by
            fitting the specified type of function to the endpoints and
            midpoint of the range:
          </para>
          <variablelist>
            <varlistentry>
              <term>Linear</term>
              <listitem>
                <para>
                  Default option. Color varies linearly from one endpoint of
                  the range to the other.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Curved</term>
              <listitem>
                <para>
                  Gradient varies more quickly on ends of the range than on
                  its middle.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Sinusoidal</term>
              <listitem>
                <para>
                  The opposite of the curved type. Gradients varies more
                  quickly on center of the range than on its ends.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Spherical (increasing)</term>
              <listitem>
                <para>
                  Gradient varies more quickly on the left of the range than
                  on its right.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Spherical (decreasing)</term>
              <listitem>
                <para>
                  Gradient varies more quickly on the right than on the left.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Coloring Type for Segment</term>
        <listitem>
          <anchor id="gimp-gradient-editor-coloring"/>
          <figure>
            <title>The Coloring Type submenu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/gradient-editor-color.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This option gives you additional control of the type of transition
            from one endpoint to the other: as a line either in RGB space or
            in HSV space.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Modifying segments</title>
      <varlistentry>
        <term>Flip Segment</term>
        <listitem>
          <anchor id="gimp-gradient-editor-flip"/>
          <para>
            This option does a right-to-left flip of the selected range
            (segment or selection), flipping all colors and endpoint
            locations.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Replicate Segment</term>
        <listitem>
          <anchor id="gimp-gradient-editor-replicate"/>
          <para>
            This option splits the selected range (segment or selection) into
            two parts, each of which is a perfect compressed copy of the
            original range.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Split Segment at Midpoint</term>
        <listitem>
          <anchor id="gimp-gradient-editor-split-midpoint"/>
          <para>
            This option splits each segment in the selected range in into two
            segments, splitting at the location of the white triangle.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Split Segment Uniformly</term>
        <listitem>
          <anchor id="gimp-gradient-editor-split-uniform"/>
          <para>
            This option is similar to the previous one, but it splits each
            segment halfway between the endpoints, instead of at the white
            triangle.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Delete Segment</term>
        <listitem>
          <anchor id="gimp-gradient-editor-delete"/>
          <para>
            This option deletes all segments in the selected range, (segment
            or selection) replacing them with a single black triangle at the
            center, and enlarging the segments on both sides to fill the void.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Re-center Segment's midpoint</term>
        <listitem>
          <anchor id="gimp-gradient-editor-recenter"/>
          <para>
            This option moves the white triangle for each segment in the
            selected range to a point halfway between the neighboring black
            triangles.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Re-distribute Handles in Segment</term>
        <listitem>
          <anchor id="gimp-gradient-editor-redistribute"/>
          <para>
            This option causes the black and white triangles in the selected
            range to be shifted so that the distances from one to the next are
            all equal.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Blending colors</title>
      <para>
        These options are available only if more than one segment are
        selected.
      </para>
      <varlistentry>
        <term>Blend Endpoints' Colors</term>
        <listitem>
          <anchor id="gimp-gradient-editor-blend-color"/>
          <para>
            This option causes the colors at interior endpoints in the range
            to be averaged, so that the transition from each segment to the
            next is smooth.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blend Endpoints' Opacity</term>
        <listitem>
          <anchor id="gimp-gradient-editor-blend-opacity"/>
          <para>
            This option does the same thing as the previous option, but with
            opacity instead of color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <caution>
      <para>
        There is no <quote>undo</quote> available within the Gradient Editor,
        so be careful!
      </para>
    </caution>
  </sect4>

  <sect4>
    <title>Using example for the Gradient Editor</title>
    <indexterm>
      <primary>Tutorials</primary>
      <secondary>New gradient</secondary>
    </indexterm>
    <indexterm>
      <primary>Gradient</primary>
      <secondary>New gradient</secondary>
    </indexterm>
    <para>
      All these options can seem somewhat boring. Here is an example to clear
      ideas:
    </para>
    <orderedlist>
      <listitem>
        <para>
          Open the Gradient Dialog. Click the
          <guibutton>New Gradient</guibutton>
          <guiicon>
            <inlinegraphic
              fileref="images/dialogs/dialogs-icon-new.png"/>
          </guiicon>.
          The Gradient Editor is opened
          and shows a gradient from black to white.
        </para>
        <figure>
          <title>New gradient</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                        fileref="images/dialogs/examples/new-gradient-1.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          Right click in this new gradient and click the
          <guilabel>Split Segment Uniformly</guilabel>. Fix the number of
          segments you want.
        </para>
        <figure>
          <title>Gradient with three segments</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                         fileref="images/dialogs/examples/new-gradient-2.png"/>
            </imageobject>
            <caption>
              <para>
                Every segment is limited with two black triangular sliders.
                Click a segment to activate it. By pressing the
                <keycap>Shift</keycap> key, you can select several contiguous
                segments.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          In the context menu you get by right-clicking in the gradient, set
          <guilabel>Left Endpoint Color</guilabel> and
          <guilabel>Right Endpoint Color</guilabel> for the selected segment
          or segment group.
        </para>
        <figure>
          <title>First segment colored</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                         fileref="images/dialogs/examples/new-gradient-3.png"/>
            </imageobject>
            <caption>
              <para>
                Red has been chosen for left endpoint and yellow for the right
                enpoint.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          Go on the same way for other segments. Then use the
          <guilabel>Blending functions for segment</guilabel> to achieve
          various effects.
        </para>
      </listitem>
    </orderedlist>
  </sect4>
</sect3>
-#-#-
<sect2 id="gimp-histogram-dialog">
  <title>Histogram dialog</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Histogram</secondary>
  </indexterm>
  <indexterm>
    <primary>Histogram</primary>
  </indexterm>
  <figure>
    <title>The Histogram dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/histogram-basic-dialog.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Histogram dialog shows you information about the statistical
    distribution of color values in the active layer or selection. This
    information is often useful when you are trying to
    <emphasis>color balance</emphasis>
    an image. However, the Histogram dialog is purely informational: nothing
    you do with it will cause any change to the image. If you want to perform
    a histogram-based color correction, use the
    <link linkend="gimp-tool-levels">Levels</link> tool.
  </para>
  <sect3>
    <title>Activating the dialog</title>
    <para>
      The <quote>Histogram</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Histogram</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Histogram</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Info</guisubmenu>
            <guimenuitem>Histogram</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Histogram</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Histogram</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>About Histograms</title>
    <para>
      In GIMP, each layer of an image can be decomposed into one or more color
      channels: for an RGB image, into R, G, and B channels; for a grayscale
      image, into a single Value channel. Layers that support transparency
      have an additional channel, the alpha channel. Each channel supports a
      range of intensity levels from 0 to 255 (integer valued). Thus, a black
      pixel is encoded by 0 on all color channels; a white pixel by 255 on all
      color channels. A transparent pixel is encoded by 0 on the alpha
      channel; an opaque pixel by 255.
    </para>
    <para>
      For RGB images, it is convenient to define a Value <quote>pseudochannel
      </quote>. This is not a real color channel: it does not reflect any
      information stored directly in the image. Instead, the Value at a pixel
      is given by the equation <code>V = max(R,G,B)</code>.
      Essentially, the Value is what you would get at that pixel if you
      converted the image to Grayscale mode.
    </para>
    <para>
      For more information on channels, please consult the
      <xref linkend="gimp-concepts-image-types"/>.
    </para>
  </sect3>

  <sect3>
    <title>Using the Histogram dialog</title>
    <para>
      The active layer name is shown at the top of the dialog.
    </para>
    <variablelist>
      <varlistentry>
        <term>Channel</term>
        <listitem>
          <figure>
            <title>
              Channel options for an RGB layer with alpha channel
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                         fileref="images/dialogs/histogram-drop-down-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This allows you to select which channel to use. The possibilities
            depend on the layer type of the active layer. Here are the entries
            you might see, and what they mean:
          </para>
          <variablelist>
            <varlistentry>
              <term>Value</term>
              <listitem>
                <para>
                  For RGB and Grayscale images, this shows the distribution of
                  brightness values across the layer. For a grayscale image,
                  these are read directly from the image data. For an RGB
                  image, they are taken from the Value pseudochannel.
                </para>
                <para>
                  For an indexed image, the <quote>Value</quote> channel
                  actually shows the distribution of frequencies for each
                  colormap index: thus, it is a <quote>pseudocolor</quote>
                  histogram rather than a true color histogram.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Red, Green, Blue</term>
              <listitem>
                <para>
                  These only appear for layers from RGB images. They show the
                  distribution of intensity levels for the Red, Green, or Blue
                  channels respectively.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Alpha</term>
              <listitem>
                <para>
                  This shows the distribution of opacity levels. If the layer
                  is completely transparent (alpha&nbsp;=&nbsp;0) or
                  completely opaque (alpha&nbsp;=&nbsp;255), the histogram
                  will consist of a single bar on the left or right edge.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>RGB</term>
              <listitem>
                <figure>
                  <title>
                    Combined histograms of R, G, and B channels.
                  </title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                                 fileref="images/dialogs/histogram-rgb.png" />
                    </imageobject>
                  </mediaobject>
                </figure>
                <para>
                  This entry, only available for RGB layers, shows the R, G,
                  and B histograms superimposed, so that you can see all of
                  the color distribution information in a single view.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          Linear
          <guiicon>
            <inlinegraphic
              fileref="images/dialogs/stock-histogram-linear-16.png"/>
          </guiicon>
          / Logarithmic
          <guiicon>
            <inlinegraphic
              fileref="images/dialogs/stock-histogram-logarithmic-16.png"/>
          </guiicon>
          buttons
        </term>
        <listitem>
          <figure>
            <title>
              The histogram shown at the top, changed to logarithmic mode.
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/histogram-log.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            These buttons determine whether the histogram will be displayed
            using a linear or logarithmic Y axis. For images taken from
            photographs, the linear mode is most commonly useful. For images
            that contain substantial areas of constant color, though, a linear
            histogram will often be dominated by a single bar, and a
            logarithmic histogram will often be more useful.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Range Setting</term>
        <listitem>
          <figure>
            <title>Dialog aspect after range fixing.</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/histogram-range.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            You can restrict the analysis, for the statistics shown at the
            bottom of the dialog, to a limited range of values if you wish.
            You can set the range in one of three ways:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                Click and drag the pointer across the histogram display area,
                from the lowest level to the highest level of the range you
                want.
              </para>
            </listitem>
            <listitem>
              <para>
                Click and drag the black or white triangles on the slider
                below the histogram.
              </para>
            </listitem>
            <listitem>
              <para>
                Use the spinbutton entries below the slider (left entry:
                bottom of range; right entry: top of range).
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Statistics</term>
        <listitem>
          <para>
            At the bottom of the dialog some basic statistics are shown
            describing the distribution of channel values, restricted to the
            selected range:
          </para>
          <itemizedlist>
            <listitem>
              <para><guilabel>Mean</guilabel> : the mean value of the interval
                 in the selected channel.
               </para>
            </listitem>
            <listitem>
              <para><guilabel>Std Dev</guilabel> : Standard deviation. Gives an
                 idea about how homogeneous the distribution of values in the
                 interval is.
               </para>
            </listitem>
            <listitem>
              <para><guilabel>Median</guilabel> : For example, the value of the
                 fiftieth peak in a 100 peaks interval.
               </para>
            </listitem>
            <listitem>
              <para><guilabel>Pixels</guilabel> : The number of pixels in the
                 active layer or selection.
               </para>
            </listitem>
            <listitem>
              <para><guilabel>Count</guilabel> : The number of pixels in a peak
                 (when you click on the histogram) or in the interval.
               </para>
            </listitem>
            <listitem>
              <para><guilabel>Percentile</guilabel> : The ratio between the
                 number of pixels in the interval and the total number of
                 pixels in the active layer or selection.
               </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-dialog">
  <title>Images Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Images</secondary>
  </indexterm>
  <indexterm>
    <primary>Image</primary>
  </indexterm>

  <figure>
    <title>The Images dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/images-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <quote>Images</quote> Dialog displays the list of open images on your
    screen; each of them is represented with a thumbnail. This dialog is
    useful when you have many overlapping images on your screen: thus, you
    can raise the wanted image to foreground.
  </para>

  <sect3>
    <title>Activating the dialog</title>
    <para>
      The <quote>Images</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/> for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Images</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Images</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Images</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Images</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Using the Images dialog</title>
    <para>
      In multi-window mode, at the top of the dialog, a drop-list of open images
      appears if the <quote>Show Image Selection</quote> option is checked
      in the Tab Menu.
    </para>
    <para>
      At center, open images appear, as a list or a grid, according to the
      selected mode. The current image is highlighted in list mode, outlined
      in grid mode. With a double click on an image name,  you raise this
      image to the foreground of your screen. With a simple click you select
      this image so that the buttons of the dialog can act on it.
    </para>
    <variablelist>
      <varlistentry>
        <term>Grid and List modes, preview size</term>
        <listitem>
          <para>
            In the Tab menu for the <quote>Images</quote> dialog, you can choose
            between  <guimenuitem>View as Grid</guimenuitem> and
            <guimenuitem>View as List</guimenuitem>.
            In Grid mode, the images are laid out in a rectangular array.
            In List mode, they are lined up vertically, with each row showing
            a thumbnail of the contents of the image, its name, and its pixel
            dimensions.
          </para>
          <tip>
            <para>
              <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>
              opens a search field.
              See <xref linkend="gimp-dock-view-as-list" />
            </para>
          </tip>
          <para>
            You can change the size of the image previews in the dialog using
            the <quote>Preview Size</quote> submenu of the dialog's Tab menu.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <varlistentry>
        <term>Buttons</term>
        <listitem>
          <para>
            Three buttons at the bottom of the dialog allow you to operate on
            the selected image. These buttons are present if the <quote>Show
            button bar</quote> is checked in the tab dialog. You can get the
            same commands through the pop menu by right-clicking on the dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Raise this image displays</term>
        <listitem>
          <para>
            The selected image appears at the foreground of your screen. If
            this image has another view, this view also is raised but
            remains behind the original. The same option in the pop-up menu,
            that you get by right-clicking, is called <quote>Raise views
            </quote>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Create a new display for this image</term>
        <listitem>
          <para>
            Duplicates the image window (not the image) of the selected image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Delete</term>
        <listitem>
          <para>
            This command works only on a image which is loaded without any
            window.  Though images can be opened by the New Window command,
            if the image has been already loaded without window by a
            primitive procedure command (such as
            <function>gimp-image-new</function>,
            <function>file-png-load</function>, etc.), it can not be
            unloaded even if its windows are closed to the last.  Then use
            this command to close it.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-indexed-palette-dialog">
  <title>Colormap Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Colormap</secondary>
  </indexterm>
  <indexterm>
    <primary>Colormap</primary>
  </indexterm>

  <figure>
    <title>An indexed image with 6 colors and its Colormap dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/examples/cosmos-6.png"/>
      </imageobject>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/colormap-dialog.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Colormap (Indexed Palette is a better name) dialog allows you to edit
    the colormap of an indexed image. (If the mode of the active image is RGB
    or Grayscale instead of Indexed, the dialog is empty and unusable.) This
    is a dockable dialog; see the section on
    <link linkend="gimp-concepts-docks">Dialogs and Docking</link>
    for help on manipulating it.
  </para>

  <sect3 id="gimp-indexed-palette-dialog-activate">
    <title>Activating the dialog</title>
    <para>
      The <quote>Colormap</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/> for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Colormap</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
              fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Colormap</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Colormap</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Colormap</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-indexed-palette-dialog-colormaps">
    <title>Colormaps and Indexed Images</title>
    <para>
      In an Indexed image, instead of being assigned a color directly (as
      happens in RGB and Grayscale images), colors are assigned to pixels by
      an indirect method, using a look-up table called a
      <emphasis>colormap</emphasis>.
    </para>
    <para>
      To determine the color that should be shown for that pixel, GIMP looks
      up the index in the image's colormap. Each indexed image has its own
      private colormap. In GIMP, the maximum number of entries in a colormap
      is 256. For a maximum-sized colormap, each index from 0 to 255 is
      assigned an arbitrary RGB color. There are no rules restricting the
      colors that can be assigned to an index or the order they appear in: any
      index can be assigned any color.
    </para>
    <para>
      It is important to realize that the colors in the colormap are the
      <emphasis>only colors available</emphasis> for an indexed image (that
      is, unless you add new colors to the colormap). This has a major effect
      on many GIMP operations: for example, in a pattern fill, GIMP will
      usually not be able to find exactly the right colors in the colormap, so
      it will approximate them by using the nearest color available. This is
      sometimes referred to as
      <link linkend="glossary-quantization">Quantization</link>.
      If the colormap is too limited or poorly chosen, this can easily produce
      very poor image quality.
    </para>
    <para>
      The Colormap dialog allows you to alter the colormap for an image,
      either by creating new entries, or by changing the colors for the
      existing entries. If you change the color associated with a given index,
      you will see the changes reflected throughout the image, as a color
      shift for all pixels that are assigned that index. The entries are
      numbered with 0 in the upper left corner, 1 to its right, etc.
    </para>
  </sect3>

  <sect3 id="gimp-indexed-palette-dialog-using">
    <title>Using the Colormap dialog</title>
    <para>
      Here are the operations you can perform using this dialog:
    </para>
    <variablelist>
      <varlistentry>
        <term>Click on a color entry</term>
        <listitem>
          <para>
            This sets GIMP's foreground color to the color you click on, as
            shown in the Toolbox color area. As a result, this color will be
            used for the next painting operation you do.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><keycap>Ctrl</keycap>-click on a color entry</term>
        <listitem>
          <para>
            This sets <acronym>GIMP</acronym>'s background color to the
            color you <keycap>Ctrl</keycap>-click on,
            as shown in the Toolbox color area.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Double-click on a color entry</term>
        <listitem>
          <para>
            This sets GIMP's foreground color to the color you click on, and
            also brings up a Color Editor that allows you to change that
            colormap entry to a new color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color index</term>
        <listitem>
          <para>
            You can select a different colormap entry by typing its index
            here, or clicking the spinbutton to the right.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>HTML-Notation</term>
        <listitem>
          <para>
            This area shows a hex-code representation (such as is used in
            HTML) for the color assigned to the currently selected colormap
            entry. You can edit the color here, instead of using a Color
            Editor, if you want to. See
            <link linkend="glossary-html-notation">HTML notation</link>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edit color</term>
        <listitem>
          <anchor id="gimp-indexed-palette-edit"/>
          <para>
            This button (in the lower left corner of the dialog) brings up a
            Color Editor that allows you to change the color for the currently
            selected colormap entry. The effect is similar to double-clicking
            on the entry, except that it does not set GIMP's foreground color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-gtk-add-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Add color</phrase>
        </term>
        <listitem>
          <anchor id="gimp-indexed-palette-add"/>
          <para>
            This button (in the lower right corner of the dialog) allows you
            to add new colors to the colormap. If you click on the button, the
            current foreground color, as shown in the Toolbox, will be tacked
            on to the end of the colormap. If instead you hold down
            <keycap>Ctrl</keycap> and click, the background color from the
            Toolbox will be added. (If the colormap contains 256 entries, it
            is full, and trying to add more will have no effect.)
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <tip>
      <para>
        If you make a mistake, you can undo it by focusing the pointer in
        the image whose colormap you have changed, and then pressing
        <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo> or
        choosing
        <menuchoice>
          <guimenu>Edit</guimenu>
          <guimenuitem>Undo</guimenuitem>
        </menuchoice>
        in the image menu.
      </para>
    </tip>
    <note>
      <para>
        This dialog provides the most commonly used methods for altering the
        colormap for an indexed image. The color tools, such as
        Brightness/Contrast, Hue/Saturation, etc, do not operate on indexed
        images. There are a few plug-ins that do so, including the
        <quote>Normalize</quote>, <quote>VColor Enhance</quote>, and
        <quote>Stretch Contrast</quote> operations, and it is possible to
        create others as well.
      </para>
    </note>
    <note>
      <para>
        If you paint an indexed image with a color which is not in the
        Colormap, GIMP will use the most similar color of the Colormap.
      </para>
    </note>
  </sect3>

  <sect3 id="gimp-indexed-palette-dialog-submenu">
    <title>The Colormap context menu</title>
    <para>
      Right-clicking on a color in the Colormap selects this color and opens
      a pop-up submenu:
    </para>
    <figure>
      <title>The Colormap context menu</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/dialogs/colormap-contextmenu.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Edit color</term>
        <listitem>
          <para>
            This command opens a color selector which allows you to modify
            the color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add Color from FG</term>
        <listitem>
          <para>
            This command is enabled only if the indexed palette contains less
            than 256 colors. The background color of the Toolbox is appended
            to the color map.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add Color from BG</term>
        <listitem>
          <para>
            This command is enabled only if the indexed palette contains less
            than 256 colors. The background color of the Toolbox is appended
            to the color list.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Rearrange Colormap</term>
        <listitem>
          <para>
            Rearrange Colormap: This command is described in
            <xref linkend="plug-in-colormap-remap"/>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-layer-dialog">
  <title>Layers Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Layers</secondary>
  </indexterm>
  <indexterm>
    <primary>Layer</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <figure>
    <title>Layers Dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/layer-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <quote>Layers</quote> dialog is the main interface to edit, modify
    and manage your layers. You can think of layers as a stack of slides or
    clothes on your body. Using layers, you can construct an image of several
    conceptual parts, each of which can be manipulated without affecting any
    other part of the image. Layers are stacked on top of each other. The
    bottom layer is the background of the image, and the components in the
    foreground of the image come above it.
  </para>
  <figure>
    <title>An image with layers</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/layers_overview.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>Layers of the image</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/layers_example.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>Resulting image</para>
      </caption>
    </mediaobject>
  </figure>

  <sect3 id="gimp-layer-dialog-activate">
    <title>Activating the dialog</title>
    <para>
      The <quote>Layers</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Layers</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Layers</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          from the (default) shortcut:
          <keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>

    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Layers</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Layers</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-layer-dialog-using">
    <title>Using the Layer dialog</title>
    <variablelist>
      <varlistentry>
        <term>Overview</term>
        <listitem>
          <para>
            Every layer appears in the dialog in the form of a thumbnail. When
            an image has multiple layers as components, they appear as a list.
            The upper layer in the list is the first one visible, and the
            lowest layer the last visible, the background. Above the list one
            can find characteristics related individually to each layer. Under
            the list one can find management buttons for the layer list. A
            right-click in a layer thumbnail opens the Layer
            <link linkend="gimp-layer-menu">context menu</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-layer-attributes">
        <term>Layer attributes</term>
        <listitem>
          <anchor id="gimp-layer-visible" xreflabel="Visible layer"/>
          <anchor id="gimp-layer-linked" xreflabel="Linked layers"/>
          <para>
            Every layer is shown in the list along with its attributes:
          </para>
          <variablelist>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/layer-list-entry.png"/>
              </imageobject>
            </mediaobject>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/stock-eye-20.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Layer visibility</phrase>
              </term>
              <listitem>
                <para>
                  In front of the thumbnail is an icon showing an eye. By
                  clicking on the eye, you toggle whether the layer is visible
                  or not. (<keycap>Shift</keycap>-clicking on the eye causes
                  all <emphasis>other</emphasis> to be hidden.)
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/stock-vchain-24.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Chain layers</phrase>
              </term>
              <listitem>
                <para>
                  Another icon, showing a chain, allows you to group layers
                  for operations on more than one layer at a time (for example
                  with the Move tool).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Layer thumbnail</term>
              <listitem>
                <para>
                  The layer content is represented in a thumbnail. Maintaining
                  left-click for a second on this thumbnail makes it larger.
                  When the layer is active, the thumbnail has a white border.
                  The border is black if the layer is inactive.
                  When the layer has a mask, the inactive element takes a black
                  border.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Layer name</term>
              <listitem>
                <para>
                  The main attribute is the name of the layer. You can edit
                  this by a double-click on the name of the layer. You can
                  also use the <quote>Edit Layer Attributes</quote> dialog you
                  get by double-clicking on the thumbnail (or the mask), or
                  through right-click on the layer and select <quote>Edit Layer
                  Attributes...</quote>.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <note>
            <para>
              In the case of an animation layer (GIF or MNG), the name of the
              layer can be used to specify certain parameters : Layer_name
              (delay in ms) (combination mode), for example Frame-1 (100 ms)
              (replace). The <guilabel>delay</guilabel>
              sets the time during which the layer is visible in the
              animation. The combination mode sets whether you combine the
              layer with the previous layer or replace it: the two modes are
              (combine) or (replace).
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-layer-characteristics">
        <term>Layers characteristics</term>
        <listitem>
          <para>
            Above the layer list, it is possible to specify some properties
            for the active layer. The active layer is the one highlighted in
            blue. The properties are: <quote>Layer mode</quote>,
            <quote>Opacity</quote>, <quote>Lock pixels</quote> and
            <quote>Lock Alpha channel</quote>.
          </para>
          <variablelist>
            <varlistentry id="gimp-layer-dialog-paint-mode-menu">
              <term>Mode</term>
              <listitem>
                <para>
                  The layer mode determines how the layer interacts with the
                  other layers. From the combo box you can access all the
                  modes provided by GIMP. The layer modes are fully detailed
                  in <xref linkend="gimp-concepts-layer-modes"/>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry id="gimp-layer-dialog-opacity-scale">
              <term>Opacity</term>
              <listitem>
                <indexterm>
                  <primary>Transparency</primary>
                  <secondary>Layer opacity</secondary>
                </indexterm>
                <indexterm>
                  <primary>Opacity</primary>
                  <secondary>Layers dialog</secondary>
                </indexterm>
                <para>
                  By moving the slider you give more or less opacity to the
                  layer. With a 0 opacity value, the layer is transparent and
                  completely invisible. Don't confuse this with a Layer Mask,
                  which sets the transparency pixel by pixel.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry id="gimp-layer-dialog-lock-alpha-button">
              <term>Lock</term>
              <listitem>
                <indexterm>
                  <primary>Lock alpha channel</primary>
                </indexterm>
                <indexterm>
                  <primary>Transparency</primary>
                  <secondary>Keep Layer Transparency</secondary>
                </indexterm>
                <indexterm>
                  <primary>Transparency</primary>
                  <secondary>Lock Alpha channel</secondary>
                </indexterm>
                <indexterm>
                  <primary>Lock pixels</primary>
                </indexterm>
                <para>
                  You have two possibilities:
                </para>
                <itemizedlist>
                  <listitem>
                    <para>
                      <emphasis role="bold">Lock pixels</emphasis>: when this
                      option is checked, you can't modify layer pixels. This
                      may be necessary to protect them from unwanted changes.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <emphasis role="bold">Lock alpha channel</emphasis>: if
                      you check this option the transparent areas of the layer
                      will be kept, even if you have checked the
                      <guilabel>Fill transparent areas</guilabel>
                      option for the Bucket fill tool.
                    </para>
                  </listitem>
                </itemizedlist>
                <figure>
                  <title>Example for Locking Alpha Channel</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/examples/layer-lock-1.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        The active layer has three horizontal, opaque, green
                        stripes on a transparent background. We paint a
                        vertical red stripe. <quote>Lock</quote> unchecked:
                        Opaque and transparent areas of the active layer are
                        painted with red.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/examples/layer-lock-2.png"/>
                    </imageobject>
                    <caption>
                      <para><quote>Lock</quote> checked: Only opaque
                        areas of the active layer are painted with red.
                        Transparent areas are preserved.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
                <tip>
                  <para>
                    If a layer name in the Layer Dialog is in bold, then this
                    layer has no Alpha channel.
                  </para>
                </tip>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Layer management</term>
        <listitem>
          <para>
            Under the layer list a set of buttons allows you to perform some
            basic operations on the layer list.
          </para>
          <variablelist>
            <varlistentry id="gimp-layer-dialog-new">
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/dialogs-icon-new.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>New layer</phrase>
              </term>
              <listitem>
                <para>
                  Here you can create a new layer. A dialog is opened where
                  you can enter the <guilabel>Layer name</guilabel>,
                  perhaps change the default <guilabel>Height</guilabel>
                  and <guilabel>Width</guilabel>, and choose the
                  <guilabel>Layer fill type</guilabel>
                  that will be the new layer's background.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/dialogs-icon-raise.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Raise layer</phrase>
              </term>
              <listitem>
                <para>
                  Here you can move the layer up a level in the list. Press
                  the <keycap>Shift</keycap>
                  key to move the layer to the top of the list.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/dialogs-icon-lower.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Lower layer</phrase>
              </term>
              <listitem>
                <para>
                  Here you can move the layer down a level in the list. Press
                  the <keycap>Shift</keycap>
                  key to move the layer to the bottom of the list.
                </para>
                <tip>
                  <para>
                    To move a layer at the bottom of the list, it may first be
                    necessary to add a transparency channel (also called Alpha
                    channel) to the Background layer. To do this, right click
                    on the Background layer and select
                    <guilabel>Add Alpha channel</guilabel> from the menu.
                  </para>
                </tip>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/stock-duplicate-16.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Duplicate layer</phrase>
              </term>
              <listitem>
                <para>
                  Here you can create a copy of the active layer. Name of new
                  layer is suffixed with a number.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/stock-anchor-16.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Anchor layer</phrase>
              </term>
              <listitem>
                <para>
                  When the active layer is a temporary layer (also called
                  floating selection) shown by this icon
                  <guiicon>
                    <inlinemediaobject>
                      <imageobject>
                        <imagedata format="PNG"
                          fileref="images/dialogs/stock-floating-selection-16.png"/>
                      </imageobject>
                    </inlinemediaobject>
                  </guiicon>,
                  this button anchors it to the previous active layer.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/dialogs-icon-delete.png"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Delete layer</phrase>
              </term>
              <listitem>
                <para>Here you can delete the active layer.</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>More layer functions</term>
        <listitem>
          <para>
            Other functions about <emphasis>layer size</emphasis> are
            available in the <link linkend="gimp-layer-menu">Layer
            Drop down menu</link> you get by right clicking on the
            Layer Dialog. You can find them also in the Layer sub-menu
            of the image menu.
          </para>
          <para>
            You will find <emphasis>merging layers functions</emphasis>
            in the <link linkend="gimp-image-menu">Image menu</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Clicking-and-dragging layers</term>
        <listitem>
          <para>
            Click and hold on layer thumbnail: it enlarges and you can
            move it by dragging the mouse.
          </para>
          <itemizedlist>
            <listitem>
              <para>
                So you can put this layer down
                <emphasis>somewhere else in the layer list</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                You can also
                <emphasis>put the layer down into Toolbox</emphasis>:
                a new image is created that contains this layer only.
              </para>
            </listitem>
            <listitem>
              <para>
                Finally, you can
                <emphasis>put the layer down into another image</emphasis>:
                this layer will be added to the layer list, above existing
                layers.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
  <xi:include href="layer-mask.xml"/>
</sect2>
-#-#-
<sect3 id="gimp-layer-mask">
  <title>Layer masks</title>
  <indexterm>
    <primary>Layer mask</primary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
  </indexterm>

  <figure>
    <title><quote>Add mask</quote> dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/layer-mask-add.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <variablelist>
    <varlistentry>
      <term>Overview</term>
      <listitem>
        <para>
          A transparency mask can be added to each layer, it's called Layer
          mask. A layer mask has the same size and same number of pixels as
          the layer to which it is attached. Every pixel of the mask can then
          be coupled with a pixel at the same location in the layer. The mask
          is a set of pixels in gray-tone on a value scale from 0 to 255. The
          pixels with a value 0 are black and give a full transparency to the
          coupled pixel in the layer. The pixels with a value 255 are white
          and give a full opacity to the coupled pixel in the layer.
        </para>
        <para>
          To create a layer mask start with a right click on the layer to call
          the context menu and select <guilabel>Add layer mask</guilabel>
          in the menu. A dialog appears where you can initialize the content of
          the mask:
        </para>
        <itemizedlist>
          <listitem>
            <para><guilabel>White (full opacity)</guilabel>:
              the mask is white
              in the Layer Dialog. So, all pixels of the layer are visible
              in the image window since painting the mask with white makes
              layer pixels fully visible. You will paint with black to make
              layer pixels transparent.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Black (full transparency)</guilabel>: the mask is
              black in the Layer Dialog. So, the layer is fully transparent
              since painting the mask with black makes layer pixels
              transparent. Painting with white will remove the mask and make
              layer pixels visible.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Layer's alpha channel</guilabel>: the mask is
              initialized according to the content of layer Alpha
              channel.  If the layer still contains transparency it's
              copied in the mask.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Transfer layer's alpha channel</guilabel>:
              Does the same thing as the previous option, except that it
              also resets the layer's alpha channel to full opacity.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Selection</guilabel> : the mask is initialized
              according to pixel values found in the selection.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Grayscale copy of layer</guilabel>: the mask
              is initialized according to pixel values of the layer.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Channel</guilabel>: The layer mask is initialized
              with a selection mask you have created before, stored in the
              Channel dialog.
            </para>
          </listitem>
          <listitem>
            <para><guilabel>Invert mask</guilabel> : This checkbox allows you to
              invert : black turns to white and white turns to black.
            </para>
          </listitem>
        </itemizedlist>
        <para>
          When the mask is created it appears as a thumbnail right to the
          layer thumbnail. By clicking alternatively on the layer and mask
          thumbnail you can enable one or other. The active item has a white
          border (which is not well visible around a white mask). That's an
          important point. Always keep the Layers Dialog prominently when
          working with masks, because you can't see, looking at the canvas,
          which of the layer or the mask is active.
        </para>
        <para>
          Pressing <keycap>Alt</keycap> (or
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>  and
          click on the layer mask thumbnail) is equivalent to the
          <link linkend="gimp-layer-mask-show">Show Layer Mask</link>
          command : the layer mask border turns to green. If you press
          <keycap>Ctrl</keycap> the border is red and the result is
          equivalent to the
          <link linkend="gimp-layer-mask-disable">Disable Layer Mask</link>
          command. To return to normal view redo last operation. These
          options are for greater convenience in your work.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Layer Mask example</term>
      <listitem>
        <figure>
          <title>A layer with layer mask</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                         fileref="images/dialogs/examples/layer-mask-1.png" />
            </imageobject>
            <caption>
              <para>
                This image has a background layer with a flower and another
                blue one, fully opaque. A white layer mask has been added to
                the blue layer. In the image window, the blue layer remains
                visible because a white mask makes layer pixels visible.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <figure>
          <title>Painting the layer mask</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                         fileref="images/dialogs/examples/layer-mask-2.png" />
            </imageobject>
            <caption>
              <para>
                The layer mask is active. You paint with black color, which
                makes the layer transparent: the underlying layer becomes
                visible.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>
  </variablelist>
</sect3>
-#-#-
<sect2 id="gimp-navigation-dialog">
  <title>Navigation Dialog</title>
  <indexterm>
    <primary>Navigation</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <figure>
    <title>Navigation Dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/navigation.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Navigation dialog is designed to offer easy movement around the active
    image if the zoom is set higher than what the image window can display. If
    this is the case, there is an inversely colored rectangle that shows the
    location of the current view area in respect to the image.
  </para>
  <para><!--2013-03-31-->
    To change the viewing region:
    <itemizedlist>
      <listitem>
        <para>
          Click and drag the rectangular area.
        </para>
      </listitem>
      <listitem>
        <para>
          Use <keycap>Shift</keycap> and mouse-wheel to move horizontally,
          <keycap>Alt</keycap> and mouse-wheel to move vertically. The mouse
          pointer must be on the rectangular area in the shape of a grabbing
          hand.
        </para>
      </listitem>
    </itemizedlist>
  </para>

  <sect3>
    <title>Activating the dialog</title>
    <para>
      The <quote>Navigation</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Navigation</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinemediaobject>
              <imageobject><imagedata format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Navigation</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          from the image-menu:
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Navigation window</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can access more quickly to it (but without the zoom functions)
          by clicking on the icon at the right bottom corner of the image window:
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                         fileref="images/dialogs/icon-navigation.png"/>
            </imageobject>
          </mediaobject>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Using the Navigation Dialog</title>
    <variablelist>
      <varlistentry>
        <term>The slider</term>
        <listitem>
          <para>
            It allows easy zoom level control, more precise than with the
            <link linkend="gimp-view-zoom">Zoom</link> command. This slider can
            also be moved using the mouse wheel when the mouse pointer is on
            the slider, or <keycap>Ctrl</keycap> and mouse wheel when the mouse
            pointer is on the rectangular area.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>The buttons</term>
        <listitem>
          <para>
            <emphasis>Zoom Out</emphasis>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-zoom-out-16.png"/>
            </guiicon>
            <emphasis>Zoom In</emphasis>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-zoom-in-16.png"/>
            </guiicon>
            and <emphasis>Zoom 1:1</emphasis>
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-zoom-original-16.png"/>
            </guiicon>
            are self explanatory.
          </para>
          <variablelist>
            <varlistentry>
              <term>
                Adjust the zoom ratio so that the image becomes fully visible
              </term>
              <listitem>
                <para>
                  The zoom ratio is adjusted so that the whole image becomes
                  visible in the window as it is.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                Adjust the zoom ratio so that the window is used optimally
              </term>
              <listitem>
                <para>
                  The image size and the zoom are adjusted so that the image
                  is fully displayed with the lesser zoom.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                Reduce the image window to the size of the image display
              </term>
              <listitem>
                <para>
                  Restore the image window to the size which allows the image
                  to be fully displayed with the zoom unchanged. This command
                  is also as menu entry available. See
                  <xref linkend="gimp-view-shrink-wrap"/> for the details.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-palette-dialog">
  <title>Palettes Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Palettes</secondary>
  </indexterm>
  <indexterm>
    <primary>Palette</primary>
    <secondary>Dialog</secondary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Palettes</secondary>
  </indexterm>

  <para>
    A <emphasis>palette</emphasis> is a set of discrete colors, in no
    particular order.  See the
    <link linkend="gimp-concepts-palettes">Palettes</link> section for basic
    information on palettes and how they can be created and used.
  </para>
  <para>
    The <quote>Palettes</quote> dialog is used to select a palette, by
    clicking on it in a list or grid view. A few dozen more or less randomly
    chosen palettes are supplied with GIMP, and you can easily add new
    palettes of your own. The <quote>Palettes</quote> dialog also give you
    access to several operations for creating new palettes or manipulating
    the ones that already exist.
  </para>
  <note>
    <para>
      The <quote>Palettes</quote> dialog is not the same thing as the
      <link linkend="gimp-indexed-palette-dialog">Index Palette
      dialog</link>,
      which is used to manipulate the colormaps of indexed images.
    </para>
  </note>

  <sect3 id="gimp-palette-activate">
    <title>Activating the dialog</title>
    <para>
      The <quote>Palettes</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/> for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Palettes</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Palettes</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="gimp-palette-dialog-using">
    <title>Using the Palettes dialog</title>
    <para>
      Clicking on a palette in the dialog selects this palette and brings up
      the <link linkend="gimp-palette-editor-dialog">Palette Editor</link>,
      which allows you to set GIMP's foreground or background colors by
      clicking on colors in the palette display. You can also use the
      arrow keys to select a palette.
    </para>
    <para>
      Double-clicking on a palette <emphasis>name</emphasis>
      (in List View mode) lets you to edit the name. Note that you are only
      allowed to change the names of palettes that you have added yourself,
      not those that are supplied with GIMP. If you edit a name that you are
      not allowed to change, it will revert back to its previous value as soon
      as you hit return or move the pointer focus elsewhere.
    </para>
    <variablelist>
      <varlistentry>
        <term>Grid/List modes</term>
        <listitem>
          <figure>
            <title>The <quote>Palettes</quote> dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/palettes-grid-dialog.png"/>
              </imageobject>
              <caption>
                <para>Grid View</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/palettes-dialog.png"/>
              </imageobject>
              <caption>
                <para>List View</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            In the Tab menu, you can choose between
            <guimenuitem>View as Grid</guimenuitem>
            and <guimenuitem>View as List</guimenuitem>.
            In Grid mode, the palettes are laid out in a spectacular
            rectangular array, making it easy to see many at once and find
            the one you are looking for. In List mode (the default), the
            palettes are lined up in a list, with the names beside them.
          </para>
          <para>
            The option <guilabel>Preview Size</guilabel> allows you to adapt
            the size of color cell previews to your liking.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist id="gimp-palettes-dialog-tags">
      <varlistentry>
        <term>Tagging</term>
        <listitem>
          <para>
            You can use tags to reorganize the palettes display.
            See <xref linkend="gimp-tagging"/>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    
    <variablelist>
      <title>The buttons of the Palettes Dialog</title>
      <para>
        Below the palettes view, at the bottom of the dialog window, there are
        several buttons:
      </para>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-edit-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Edit Palette</phrase>
        </term>
        <listitem>
          <para>
            This button brings up the
            <xref linkend="gimp-palette-editor-dialog"/>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="palette-new">
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/dialogs-icon-new.png"/>
          </guiicon>
          <phrase condition="tag-is-required">New Palette</phrase>
        </term>
        <listitem>
          <indexterm>
            <primary>Palette</primary>
            <secondary>New palette</secondary>
          </indexterm>
          <para>
            For more information on this button please refer to
            <xref linkend="gimp-palette-new"/>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-duplicate-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Duplicate Palette</phrase>
        </term>
        <listitem>
          <indexterm>
            <primary>Palette</primary>
            <secondary>Duplicate</secondary>
          </indexterm>
          <para>
            For more information on this button please refer to
            <xref linkend="gimp-palette-duplicate"/>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/dialogs-icon-delete.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Delete Palette</phrase>
        </term>
        <listitem>
          <indexterm>
            <primary>Palette</primary>
            <secondary>Delete</secondary>
          </indexterm>
          <para>
            For more information on this button please refer to
            <xref linkend="gimp-palette-delete"/>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-reload-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Refresh Palettes</phrase>
        </term>
        <listitem>
          <indexterm>
            <primary>Palette</primary>
            <secondary>Refresh</secondary>
          </indexterm>
          <para>
            For more information on this button please refer to
            <xref linkend="gimp-palette-refresh"/>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-concepts-palettes-menu">
    <title>The <quote>Palettes</quote> pop-menu</title>
    <indexterm>
      <primary>Palette</primary>
      <secondary>Menu</secondary>
    </indexterm>
    <figure>
      <title>The <quote>Palettes</quote> pop-menu</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/dialogs/palettes-popmenu.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The <quote>Palettes</quote> pop-menu can be accessed by right-clicking
      in the Palettes dialog, or by choosing the top item from the dialog Tab
      menu
      (<inlinegraphic fileref="images/dialogs/stock-menu-left-12.png"/>).
    </para>
    <note>
      <para>
        Some of the listed pop-menu entries are installation dependend
        and need the <ulink url="http://www.python.org">Python language
          interpreter</ulink> to be installed.  This includes at the
        time of writing: <link linkend="gimp-palette-offset">Offset
          Palette...</link>, <link
          linkend="gimp-palette-to-gradient">Palette to gradient</link>,
        <link linkend="gimp-palette-to-repeat-gradient">Palette to
          Repeating Gradient</link> and <link
          linkend="gimp-palette-sort">Sort Palette...</link>.
      </para>
    </note>
    <variablelist>
      <varlistentry>
        <term id="gimp-palette-edit">Edit Palette</term>
        <listitem>
          <para>
            <quote>Edit Palette</quote> is an alternative way of activating
            the
            <link linkend="gimp-palette-editor-dialog">Palette Editor</link>:
            it can also be activated by double-clicking on a palette in the
            Palettes dialog, or by pressing the <quote>Edit Palette</quote>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-edit-16.png"/>
            </guiicon>
            button at the bottom of the dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-new">New Palette</term>
        <listitem>
          <para>
            <quote>New Palette</quote> creates a new, untitled palette,
            initially containing no color entries, and pops up the Palette
            Editor so that you can add colors to the palette.  The result
            will automatically be saved in your personal
            <filename>palettes</filename> folder when you quit GIMP, so it
            will be available from the Palettes dialog in future sessions.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-import">Import Palette</term>
        <listitem>
          <indexterm>
            <primary>Palette</primary>
            <secondary>Import</secondary>
          </indexterm>
          <figure>
            <title>The Import Palette dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/palette-import-dialog.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            <quote>Import Palette</quote>
            allows you to create a new palette from the colors in a gradient,
            an image or a palette file. Choosing it brings up the
            <quote>Import Palette</quote> dialog, which gives you the
            following options:
          </para>
          <note>
            <para>
              Former versions of GIMP had a <quote>Save palette</quote>
              command. It no longer exists. To save the palette of an image,
              indexed or not, you must <emphasis>import</emphasis> it in fact
              from the image.
            </para>
          </note>
          <variablelist>
            <varlistentry>
              <term>Select Source</term>
              <listitem>
                <para>
                  You can import a palette either from any of GIMP's
                  gradients (choosing one from the adjoining menu), or from
                  any of the currently open images (chosen from the adjoining
                  menu). Since GIMP 2.2, you can also import a RIFF palette
                  file (with extension <filename>.pal</filename>), of the
                  type used by several Microsoft Windows applications.
                </para>
                <para>
                  Two options concerning image as source, available for RGB
                  images only:
                </para>
                <itemizedlist>
                  <listitem>
                    <para>
                      <guilabel>Sample merged</guilabel>: When this option
                      is checked, colors are picked from all visible
                      layers. If unchecked, pixels are picked from the
                      active layer only, even though not visible.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <guilabel>Selected pixels only</guilabel>: As the
                      name says, pixels are picked from the selected area
                      only, in the active layer or all visible layers
                      according to the status of the previous option.
                    </para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Palette name</term>
              <listitem>
                <para>
                  You can give a name to the new palette here. If the name
                  you choose is already used by an existing palette, a unique
                  name will be formed by appending a number (e. g., "#1").
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Number of colors</term>
              <listitem>
                <para>
                  Here you specify the number of colors in the palette. The
                  default is 256, chosen for three reasons: (1) every
                  gradient contains 256 distinct colors; (2) GIF files can
                  use a maximum of 256 colors; (3) GIMP indexed images can
                  contain a maximum of 256 distinct colors. You can use any
                  number you like here, though: GIMP will try to create a
                  palette by spacing the specified number of colors even
                  across the color range of the gradient or image.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Columns</term>
              <listitem>
                <para>
                  Here you specify the number of columns for the palette.
                  This only affects the way the palette is displayed, and has
                  no effect on the way the palette is used.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Interval</term>
              <listitem>
                <para>
                  Even setting <quote>Number of colors</quote> to maximum, the
                  number of colors can't exceed 10000 in the palette. RGB
                  images have much more colors. <guilabel>Interval</guilabel>
                  should allow to group similar colors around an average and
                  so get a better palette. This problem doesn't exist with 256
                  colors indexed images: Interval to 1 allows picking 256
                  colors (this option is grayed out with more than 256 colors
                  indexed palettes too).
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <para>
            The imported palette will be added to the Palettes dialog, and
            automatically saved in your personal
            <filename class="directory">palettes</filename> folder when you
            quit <acronym>GIMP</acronym>, so it will be available in future
            sessions.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-duplicate">Duplicate Palette</term>
        <listitem>
          <para>
            Duplicate Palette creates a new palette by copying the palette
            that is currently selected, and brings up a Palette Editor so that
            you can alter the palette. The result will automatically be saved
            in your personal <filename>palettes</filename>
            folder when you quit GIMP, so it will be available from the
            Palettes dialog in future sessions.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-merge">Merge Palettes</term>
        <listitem>
          <para>
            Currently this operation is not implemented, and the menu entry
            will always be insensitive.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-location">Copy Palette Location</term>
        <listitem>
          <para>
            This command allows you to copy the palette file location to
            clipboard. You can then paste it in a text editor.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-delete">Delete Palette</term>
        <listitem>
          <para>
            Delete Palette removes the palette from the <quote>Palettes
            </quote>dialog, and deletes the disk file in which it is stored.
            Before it acts, it asks you confirm that you really want to do
            these things. Note that you cannot remove any of the palettes
            that are supplied with GIMP, only palettes you have added
            yourself.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-refresh">Refresh Palettes</term>
        <listitem>
          <para>
            Refresh Palettes rescans all of the folders in your palette
            search path, and adds any newly discovered palettes to the list
            in the Palettes dialog. This may be useful if you obtain palette
            files from some external source, copy them into one of your
            palettes folders, and want to make them available during the
            current session.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-offset">Offset Palette... </term>
        <listitem>
          <para>This command opens a dialog window:</para>
          <figure>
            <title>The <quote>Offset Palette</quote>dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/palettes-offset-options.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            This command takes the last color of the palette and puts it at
            the first place. The <guilabel>Offset</guilabel> parameter lets
            you set how many times this action must be performed.
          </para>
          <para>
            With negative <quote>Offsets</quote> colors are put from the first
            position to the end of the colors list.
          </para>
          <figure>
            <title><quote>Offset Palette</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/examples/palettes-offset.png"/>
              </imageobject>
              <caption>
                <para>
                  From top to bottom: original palette, Offset = 1, Offset =
                  2.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-to-gradient">Palette to gradient</term>
        <listitem>
          <indexterm>
            <primary>Gradient</primary>
            <secondary>From palette</secondary>
          </indexterm>
          <para>
            With this command, all the colors of the palette are used to form
            the current gradient which is saved in the Gradient Dialog. The
            created gradient is build with segments just as much as the number
            of colors on the given palette.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-to-repeat-gradient">
          Palette to Repeating Gradient
        </term>
        <listitem>
          <para>
            This command creates a repeating gradient, using all the colors
            of the palette. This gradient appears in the Gradient Dialog and
            becomes the current gradient. The gradient is created with
            segments one more than the number of colors on the given palette.
            The left side color at the leftmost segment will be the same color
            on the right side at the rightmost segment.
          </para>
          <figure>
            <title>
              <quote>Palette to repeating gradient</quote> examples
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/examples/palettes-repeat-gradient.png"/>
              </imageobject>
              <caption>
                <para>
                  Top: palette. Bottom: the gradient created with the
                  command.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-sort">Sort Palette...</term>
        <listitem>
          <para>
            This command opens a dialog window which allows you to sort the
            colors of the palette according to certain criterions:
          </para>
          <figure>
            <title>The <quote>Sort Palette</quote>dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/dialogs/palettes-sort.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Color model</guilabel>: you can choose between
                <emphasis>RGB</emphasis> and <emphasis>HSV</emphasis>
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Channel to sort</guilabel>: you can choose between
                the three RGB channels if the RGB model is selected, or the
                three HSV channels if the HSV channel is selected.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Ascending</guilabel> (default is Yes): values are
                sorted from the lower to the upper. By clicking on this
                <guibutton>Yes</guibutton> you can toggle to
                <guibutton>No</guibutton> and values will be sorted in
                descending order.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-palette-editor-dialog">
    <title>Palette Editor</title>
    <indexterm>
      <primary>Palette</primary>
      <secondary>Editor</secondary>
    </indexterm>
    <figure>
      <title>The Palette Editor</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/dialogs/palette-editor-dialog.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Palette Editor is used mainly for two purposes: first, for setting
      GIMP's foreground or background colors (as shown in the Color Area of
      the Toolbox) to selected colors from the palette; second, for modifying
      the palette. You can activate the Palette Editor for any palette in the
      Palettes dialog, but you can only modify palettes that you have created
      yourself, not the palettes that are supplied when you install GIMP.
      (You can, however, duplicate any palette and then edit the newly
      created copy.) If you modify a palette, the results of your work will
      automatically be saved when you exit from GIMP.
    </para>

    <sect4>
      <title>How to Activate the Palette Editor</title>
      <para>
        The Palette Editor is only accessible from the Palettes dialog: you
        can activate it by double-clicking on a palette, or by pressing the
        <guiicon>
          <inlinegraphic fileref="images/dialogs/stock-edit-16.png"/>
        </guiicon>
        <quote>Edit Palette</quote> button at the bottom, or by choosing
        <quote>Edit Palette</quote> from the <quote>Palettes</quote> Menu.
      </para>
      <para>
        The Palette Editor is a dockable dialog; see the section on
        <link linkend="gimp-concepts-docks">Dialogs and Docking</link>
        for help on manipulating it.
      </para>
    </sect4>

    <sect4>
      <title>Using the Palette Editor</title>
      <para>
        If you click on a color box in the palette display, GIMP's foreground
        color will be set to the selected color: you can see this in the
        Color Area of the Toolbox. If you hold down the <keycap>Ctrl</keycap>
        key while clicking, GIMP's background color will be set to the
        selected color.
      </para>
      <para>
        If the palette is a custom palette, double-clicking on a color not
        only sets the foreground, it also brings up a color editor that
        allows you to modify the selected palette entry.
      </para>
      <para>
        Right-clicking in the palette display area brings up the Palette
        Editor menu. It's functions are mainly the same as those of the
        buttons at the bottom of the dialog.
      </para>
      <para>
        Below the palette display area, at the left, appears a text entry
        area that shows the name of the selected color (or <quote>Untitled
        </quote> if it does not have one). This information has no functional
        significance, and is present only to serve you as a memory aid.
      </para>
      <para>
        To the right of the name entry is a spinbutton that allows you to set
        the number of columns used to display the palette. This only affects
        the display, not how the palette works. If the value is set to 0, a
        default will be used.
      </para>
      <para>
        At the bottom of the dialog are a set of buttons, which mostly match
        the entries in the Palette Editor menu, accessible by right-clicking
        in the palette display area. Here are the buttons:
      </para>
      <variablelist>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-save-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">Save</phrase>
          </term>
          <listitem>
            <para>
              This button causes the palette to be saved in your personal
              <filename class="directory">palettes</filename> folder. It
              would be saved automatically when <acronym>GIMP</acronym> exits
              in any case, but you might want to use this button if you are
              concerned that <acronym>GIMP</acronym> might crash in the
              meantime.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-revert-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">Revert</phrase>
          </term>
          <listitem>
            <para>
              This operation has not yet been implemented.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-edit-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">Edit Color</phrase>
          </term>
          <listitem>
            <para>
              Pops up a color editor allowing you to alter the color.  If
              the palette is one you aren't allowed to alter, this button
              will be insensitive. See
              <link linkend="gimp-palette-editor-edit">below</link>
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/dialogs-icon-new.png"/>
            </guiicon>
            <phrase condition="tag-is-required">New Color from FG</phrase>
          </term>
          <listitem>
            <para>
              For more information on this button please refer to
              <link linkend="gimp-palette-editor-new">below</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/dialogs-icon-delete.png"/>
            </guiicon>
            <phrase condition="tag-is-required">Delete Color</phrase>
          </term>
          <listitem>
            <para>
              For more information on this button please refer to
              <link linkend="gimp-palette-editor-delete">below</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-zoom-out-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">Zoom Out</phrase>
          </term>
          <listitem>
            <para>
              For more information on this button please refer to
              <link linkend="gimp-palette-editor-zoom-out">below</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-zoom-in-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">Zoom In</phrase>
          </term>
          <listitem>
            <para>
              For more information on this button please refer to
              <link linkend="gimp-palette-editor-zoom-in">below</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-zoom-best-fit-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">Zoom All</phrase>
          </term>
          <listitem>
            <para>
              For more information on this button please refer to
              <link linkend="gimp-palette-editor-zoom-all">below</link>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>

  <sect3 id="gimp-palette-editor-menu">
    <title>The Palette Editor pop-menu</title>
    <figure>
      <title>The Palette Editor pop-menu</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/dialogs/palette-editor-context-menu.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Palette Editor Menu can be accessed by right-clicking on the
      palette display in the Palette Editor, or by choosing the top entry
      from the dialog Tab menu. The operations in it can also be executed
      using the buttons at the bottom of the Palette Editor dialog.
    </para>
    <variablelist>
      <varlistentry>
        <term id="gimp-palette-editor-edit">Edit Color</term>
        <listitem>
          <para>
            <quote>Edit Color</quote> brings up a color editor that allows
            you to modify the color of the selected palette entry. If
            the palette is one that you are not allowed to edit (that is, one
            supplied by GIMP when it is installed), then the menu entry will
            beinsensitive.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-editor-new">
          New Color from FG; New Color from BG
        </term>
        <listitem>
          <para>
            These commands each create a new palette entry, using either
            GIMP's current foreground color (as shown in the Color Area of
            the Toolbox), or the current background color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-editor-delete">Delete Color</term>
        <listitem>
          <para>
            <quote>Delete Color</quote> removes the selected color entry
            from the palette.
            If the palette is one that you are not allowed to edit, then the
            menu entry will be insensitive.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-editor-zoom-out">Zoom Out</term>
        <listitem>
          <para>
            <quote>Zoom Out</quote> reduces the vertical scale of the
            entries in the palette display.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-editor-zoom-in">Zoom In</term>
        <listitem>
          <para>
            <quote>Zoom In</quote> increases the vertical scale of the
            entries in the palette display.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-editor-zoom-all">Zoom All</term>
        <listitem>
          <para>
            <quote>Zoom All</quote> adjusts the vertical size of the entries
            in the palette display so that the entire palette fits into the
            display area.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term id="gimp-palette-editor-active">Edit Active Palette</term>
        <listitem>
          <para>
            When this option is checked (default), you can edit another
            palette by clicking on it in the <quote>Palettes</quote> dialog.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-path-dialog">
  <title>Paths Dialog</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Paths</secondary>
  </indexterm>
  <indexterm>
    <primary>Paths</primary>
    <secondary>Dialog</secondary>
  </indexterm>
  <para>
    Please see <xref linkend="gimp-using-paths"/> if you don't know what a
    path is.
  </para>

  <figure>
    <title>The <quote>Paths</quote> dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/paths-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The <quote>Paths</quote> dialog is used to manage paths, allowing you to
    create or delete them, save them, convert them to and from selections, etc.
  </para>

  <sect3 id="gimp-path-dialog-activate">
    <title>Activating the dialog</title>
    <para>
      The <quote>Paths</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Paths</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Paths</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
    </itemizedlist>
    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Paths</quote> dialog from the image-menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Paths</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-path-dialog-using">
    <title>Using the Paths dialog</title>
    <para>
      Each path belongs to one image: paths are components of images just
      like layers. The Paths dialog shows you a list of all paths belonging
      to the currently active image: switching images causes the dialog to
      show a different list of paths. If the Paths dialog is embedded in a
      <quote>Layers, Channels, and Paths</quote> dock, you can see the name
      of the active image in the Image Menu at the top of the dock.
      (Otherwise, you can add an Image Menu to the dock by choosing
      <quote>Show Image Menu</quote> from the Tab menu.)
    </para>
    <para>
      If you are familiar with the Layers dialog, you have a head start,
      because the Paths dialog is in several ways similar. It shows a list of
      all paths that exist in the image, with four items for each path:
    </para>
    <variablelist>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/dialogs/path-list-entry.png" format="PNG"/>
        </imageobject>
      </mediaobject>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-eye-20.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Path visibility</phrase>
        </term>
        <listitem>
          <para>
            An <quote>open eye</quote> icon if the path is visible, or a
            blank space if it is not.  <quote>Visible</quote> means that a
            trace of the path is drawn on the image display.  The path is not
            actually shown in the image pixel data unless it has been stroked
            or otherwise rendered.  Clicking in the eye-symbol-space
            toggles the visibility of the path.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-vchain-24.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Chain paths</phrase>
        </term>
        <listitem>
          <para>
            A <quote>chain</quote> symbol is shown to the right of the
            eye-symbol-space if the path is transform-locked, or a blank
            space if it is not. <quote>Transform-locked</quote> means that
            it forms
            part of a set of elements (layers, channels, etc) that are
            all affected in the same way by transformations (scaling,
            rotation, etc) applied to any one of them.  Clicking in the
            chain-symbol-space toggles the transform-lock status of the
            path.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview image</term>
        <listitem>
          <para>
            A small preview-icon showing a sketch of the path. If you click
            on the icon and drag it into an image, this will create a copy of
            the path in that image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Path Name</term>
        <listitem>
          <para>
            The name of the path, which must be unique within the image.
            Double-clicking on the name will allow you to edit it. If the
            name you create already exists, a number will be appended (e.g.,
            <quote>#1</quote>) to make it unique.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      If the list is non-empty, at any given moment one of the members is the
      image's <emphasis>active path</emphasis>,
      which will be the subject of any operations you perform using the
      dialog menu or the buttons at the bottom: the active path is shown
      highlighted in the list. Clicking on any of the entries will make it
      the active path.
    </para>
    <para>
      Right-clicking on any entry in the list brings up the
      <link linkend="gimp-concepts-paths-menu">Paths Menu</link>.
      You can also access the Paths Menu from the dialog Tab menu.
    </para>
  </sect3>

  <sect3 id="gimp-path-dialog-buttons">
    <title>Buttons</title>
    <para>
      The buttons at the bottom of the Paths dialog all correspond to entries
      in the Paths menu (accessed by right-clicking on a path list entry),
      but some of them have extra options obtainable by holding down modifier
      keys while you press the button.
    </para>
    <variablelist>
      <varlistentry>
        <term>New Path</term>
        <listitem>
          <para>
            See <link linkend="gimp-path-new">New Path</link>. Holding down
            the <keycap>Shift</keycap> key brings up a dialog that allows you
            to assign a name to the new (empty) path.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Raise Path</term>
        <listitem>
          <para>
            See <link linkend="gimp-path-raise">Raise Path</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Lower Path</term>
        <listitem>
          <para>
            See <link linkend="gimp-path-lower">Lower Path</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Duplicate Path</term>
        <listitem>
          <para>
            See <link linkend="gimp-path-duplicate">Duplicate Path</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Path to Selection</term>
        <listitem>
          <para>
            Converts the path into a selection; see
            <link linkend="gimp-path-selection-replace">
              Path to Selection
            </link>
            for a full explanation. You can use modifier keys to set the way
            the new selection interacts with the existing selection:
          </para>
          <segmentedlist>
            <segtitle>Modifiers</segtitle>
            <segtitle>Action</segtitle>
            <seglistitem>
              <seg>None</seg>
              <seg>Replace existing selection</seg>
            </seglistitem>
            <seglistitem>
              <seg>
                <keycap>Shift</keycap>
              </seg>
              <seg>Add to selection</seg>
            </seglistitem>
            <seglistitem>
              <seg>
                <keycap>Ctrl</keycap>
              </seg>
              <seg>Subtract from selection</seg>
            </seglistitem>
            <seglistitem>
              <seg>
                <keycombo>
                  <keycap>Shift</keycap>
                  <keycap>Ctrl</keycap>
                </keycombo>
              </seg>
              <seg>Intersect with selection.</seg>
            </seglistitem>
          </segmentedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Selection to Path</term>
        <listitem>
          <para>
            Holding down the <keycap>Shift</keycap> key brings up the
            <guilabel>Advanced Options</guilabel> dialog, which
            probably is only useful to GIMP developers.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Paint along the path</term>
        <listitem>
          <para>
            See <link linkend="gimp-path-stroke">Stroke Path</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Delete Path</term>
        <listitem>
          <para>
            <guilabel>Delete Path</guilabel> deletes the current selected
            path.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-concepts-paths-menu">
    <title>The <quote>Paths</quote> context menu</title>
    <figure>
      <title>The <quote>Paths</quote> context menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/dialogs/paths-menu.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Paths menu can be brought up by right-clicking on a path entry in
      the list in the Paths dialog, or by choosing the top entry ("Paths
      Menu") from the Paths dialog Tab menu. This menu gives you access to
      most of the operations that affect paths.
    </para>
    <variablelist>
      <varlistentry>
        <term>Path Tool</term>
        <listitem>
          <para>
            <guilabel>Path Tool</guilabel> is an alternative way to
            activate the <link linkend="gimp-tool-path">Path tool</link>,
            used for creating and manipulating paths.  It can also be
            activated from the Toolbox, or by using the keyboard shortcut
            <keycap>B</keycap> (for <emphasis>BÃ©zier</emphasis>).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edit Path Attributes</term>
        <listitem>
          <anchor id="gimp-path-edit"/>
          <para>
            <guilabel>Edit Path Attributes</guilabel> brings up a small
            dialog that allows you to change the name of the path.  You
            can also do this by double-clicking on the name in the list in
            the Paths dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>New Path</term>
        <listitem>
          <anchor id="gimp-path-new"/>
          <para>
            <guilabel>New Path</guilabel>creates a new path, adds it to
            the list in the Paths dialog, and makes it the active path
            for the image.  It brings up a dialog that allows you to
            give a name to the path.  The new path is created with no
            anchor points, so you will need to use the Path tool to give
            it some before you can use it for anything.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Raise Path</term>
        <listitem>
          <anchor id="gimp-path-raise"/>
          <para>
            <guilabel>Raise Path</guilabel> moves the path one slot higher
            in the list in the Paths dialog.  The position of a path in
            the list has no functional significance, so this is simply a
            convenience to help you keep things organized.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Lower Path</term>
        <listitem>
          <anchor id="gimp-path-lower"/>
          <para>
            <guilabel>Lower Path</guilabel>moves the path one slot lower
            in the list in the Paths dialog.  The position of a path in
            the list has no functional significance, so this is simply a
            convenience to help you keep things organized.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Duplicate Path</term>
        <listitem>
          <anchor id="gimp-path-duplicate"/>
          <para>
            <quote>Duplicate Path</quote> creates a copy of the active path,
            assigns it a unique name, adds it to the list in the Paths dialog,
            and makes it the active path for the image.  The copy will
            be visible only if the original path was visible.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Delete Path</term>
        <listitem>
          <anchor id="gimp-path-delete"/>
          <para>
            <guilabel>Delete Path</guilabel> deletes the current selected
            path.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Merge Visible Paths</term>
        <listitem>
          <para>
            <guilabel>Merge Visible Paths</guilabel> takes all the paths
            in the image that are visible (that is, all that show
            <quote>open eye</quote> symbols in the Paths dialog), and turns
            them into components of a single path.  This may be convenient if
            you want to stroke them all in the same way, etc.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          Path to Selection; Add to Selection; Subtract from Selection;
          Intersect with Selection
        </term>
        <listitem>
          <!--anchor id="gimp-path-selection-replace"/
          (see menus/select/from-path.xml)-->
          <anchor id="gimp-path-selection-add"/>
          <anchor id="gimp-path-selection-subtract"/>
          <anchor id="gimp-path-selection-intersect"/>
          <para>
            These commands all convert the active path into a selection, and
            then combine it with the existing selection in the specified
            ways.
            (<quote>Path to Selection</quote> discards the existing selection
            and replaces it with one formed from the path.) If necessary, any
            unclosed components of the path are closed by connecting the last
            anchor point to the first anchor point with a straight line. The
            <quote>marching ants</quote> for the resulting selection should
            closely follow the path, but don't expect the correspondence to
            be perfect.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Selection to Path</term>
        <listitem>
          <anchor id="selection-to-path"/>
          <para>
            This operation can be accessed in several ways:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                From an image menubar, as
                <menuchoice>
                  <guimenu>Select</guimenu>
                  <guimenuitem>To Path</guimenuitem>
                </menuchoice>
              </para>
            </listitem>
            <listitem>
              <para>
                From the Paths dialog menu, as
                <guimenuitem>Selection to Path</guimenuitem>.
              </para>
            </listitem>
            <listitem>
              <para>
                From the <guilabel>Selection to Path</guilabel> button
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-selection-to-path-16.png"/>
                </guiicon>
                at the bottom of the Paths dialog.
              </para>
            </listitem>
          </itemizedlist>
          <para><guilabel>Selection to Path</guilabel> creates a new path
            from the image's selection. In most cases the resulting path
            will closely follow the <quote>marching ants</quote> of the
            selection, but the correspondence will not usually be perfect.
          </para>
          <para>
            Converting a two-dimensional selection mask into a
            one-dimensional path involves some rather tricky algorithms:
            you can alter the way it is done using the
            <guilabel>Advanced Options</guilabel>, which are accessed by
            holding down the <keycap>Shift</keycap> key while pressing
            the <guilabel>Selection to Path</guilabel> button
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-selection-to-path-16.png"/>
            </guiicon>
            at the bottom of the Paths dialog.  This brings up the Advanced
            Options dialog, which allows you to set 20 different options
            and variables, all with cryptic names.  The Advanced Options
            are really intended for developers only, and help with them
            goes beyond the scope of this documentation.  Generally
            speaking, <guilabel>Selection to Path</guilabel> will do
            what you expect it to, and you don't need to worry about how
            it is done (unless you want to).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Stroke Path</term>
        <listitem>
          <anchor id="gimp-path-dialog-stroke"/>
          <para>
            This operation can be accessed in several ways:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                From an image menubar, as
                <menuchoice>
                  <guimenu>Edit</guimenu>
                  <guimenuitem>Stroke Path</guimenuitem>
                </menuchoice>
              </para>
            </listitem>
            <listitem>
              <para>
                From the Paths dialog menu, as <guimenuitem>Stroke
                Path</guimenuitem>.
              </para>
            </listitem>
            <listitem>
              <para>
                From the <guilabel>Paint along the path</guilabel> button
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-path-stroke-16.png"/>
                </guiicon>
                at the bottom of the Paths dialog.
              </para>
            </listitem>
            <listitem>
              <para>
                From the <guilabel>Stroke Path</guilabel> button in the
                Tool Options for the Path tool.
              </para>
            </listitem>
          </itemizedlist>
          <para>
            <quote>Stroke Path</quote> renders the active path on the active
            layer of the image, permitting a wide variety of line styles and
            stroking options.  See the section on
            <link linkend="gimp-selection-stroke">Stroking</link> for more
            information.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Copy Path</term>
        <listitem>
          <anchor id="gimp-path-copy"/>
          <para>
            <guilabel>Copy Path</guilabel> copies the active path to the
            Paths Clipboard, enabling you to paste it into a different image.
          </para>
          <tip>
            <para>
              You can also copy and paste a path by dragging its icon
              from the Paths dialog into the target image's display.
            </para>
          </tip>
          <note>
            <para>
              When you copy a path to an image, it is not visible. You have
              to make it visible in the Path dialog.
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Paste Path</term>
        <listitem>
          <anchor id="gimp-path-paste"/>
          <para>
            <guilabel>Paste Path</guilabel> creates a new path from the
            contents of the Path Clipboard, adds it to the list in the
            Paths dialog, and makes it the active path for the image.  If
            no path has previously been copied into the clipboard, the
            menu entry will be insensitive.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Import Path</term>
        <listitem>
          <anchor id="gimp-path-import"/>
          <para>
            <guilabel>Import Path</guilabel> creates a new path from an SVG
            file: it pops up a file chooser dialog that allows you to navigate
            to the file.  See the <link linkend="gimp-concepts-paths">Paths
            </link> section for information on SVG files and how they relate
            to GIMP paths.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Export Path</term>
        <listitem>
          <para>
            <guilabel>Export Path</guilabel> allows you to save a path to
            a file:  it pops up a file save dialog that allows you to
            specify the file name and location.  You can later add this
            path to any GIMP image using the <guilabel>Import
            Path</guilabel> command.  The format used for saving paths is
            SVG:  this means that vector-graphics programs such as
            <application>Sodipodi</application> or
            <application>Inkscape</application> will also be able to
            import the paths you save.  See the
            <link linkend="gimp-concepts-paths">Paths</link> section for more
            information on SVG files and how they relate to GIMP paths.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-pattern-dialog">
  <title>Patterns Dialog</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Patterns</secondary>
  </indexterm>
  <indexterm>
    <primary>Patterns</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <para>
    In <acronym>GIMP</acronym>, a <emphasis>pattern</emphasis>
    is a small image used to fill areas by placing copies of side by side. See
    the <link linkend="gimp-concepts-patterns">Patterns</link>
    section for basic information on patterns and how they can be created and
    used.
  </para>
  <para>
    You can use them with the
    <link linkend="gimp-tool-bucket-fill">Bucket Fill</link>
    and <link linkend="gimp-tool-clone">Clone</link> tools and the
    <link linkend="gimp-edit-fill-pattern">Fill with pattern</link> command.
  </para>
  <para>
    The <quote>Patterns</quote> dialog is used to select a pattern, by
    clicking on it in a list or grid view: the selected pattern will then be
    shown in the Brush/Pattern/Gradient area of the Toolbox. A few dozen more
    or less randomly chosen patterns are supplied with GIMP, and you can
    easily add new patterns of your own.
  </para>

  <sect3 id="gimp-pattern-dialog-activate">
    <title>Activating the dialog</title>
    <para>
      The <quote>Patterns</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the Toolbox, by clicking on the pattern symbol in the
          Brush/Pattern/Gradient area.
        </para>
      </listitem>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Patterns</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Patterns</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          From the Tool Options dialog of the
          <link linkend="gimp-tool-clone">Clone tool</link> and the
          <link linkend="gimp-tool-bucket-fill">Bucket Fill tool</link>, by
          clicking on the pattern source button, you get a pop-up with
          similar functionality that permits you to quickly choose a pattern
          from the list; if you clic on the Bucket Fill button present on the
          right bottom of the pop-up, you open the real pattern dialog. Note
          that, depending on your Preferences, a pattern selected with the
          pop-up may only apply to the currently active tool, not to other
          paint tools. See the
          <link linkend="gimp-prefs-tool-options">
            Tool Option Preferences
          </link>
          section for more information.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="gimp-pattern-dialog-using">
    <title>Using the pattern dialog</title>
    <variablelist>
      <varlistentry>
        <term>Grid/List modes</term>
        <listitem>
          <para>
            In the Tab menu, you can choose between
            <guimenuitem>View as Grid</guimenuitem>
            and <guimenuitem>View as List</guimenuitem>.
            In Grid mode, the patterns are laid out in a rectangular array,
            making it easy to see many at once and find the one you are
            looking for. In List mode, the patterns are lined up in a list,
            with the names beside them.
          </para>
          <tip>
            <para>
              Independent of the real size of a pattern all patterns are shown
              the same size in the dialog. So for larger patterns this means
              that you see only a small portion of the pattern in the dialog
              at all - no matter whether you view the dialog in the list or
              the grid view. To see the full pattern you simply click on the
              pattern <emphasis>and hold the mouse button</emphasis>
              for a second.
            </para>
          </tip>
          <note>
            <para>
              In the Tab menu, the option <guilabel>Preview Size</guilabel>
              allows you to adapt the size of pattern previews to your liking.
            </para>
          </note>
          <figure>
            <title>The Patterns dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/patterns-dialog-list.png"/>
              </imageobject>
              <caption>
                <para>List view</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/dialogs/patterns-dialog.png"/>
              </imageobject>
              <caption>
                <para>Grid mode</para>
              </caption>
            </mediaobject>
          </figure>
          <variablelist>
            <varlistentry>
              <term>Using the Patterns dialog (Grid mode)</term>
              <listitem>
                <para>
                  At the top appears the name of the currently selected
                  patterns, and its dimensions in pixels.
                </para>
                <para>
                  In the center appears a grid view of all available patterns,
                  with the currently selected one outlined. Clicking on one of
                  them sets it as GIMP's current pattern, and causes it to
                  appear in the Brush/Pattern/Gradient area of the Toolbox.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Using the Patterns dialog (List view)</term>
              <listitem>
                <para>
                  In this view, instead of a grid, you see a list of patterns,
                  each labeled with its name and size. Clicking on a row in
                  the list sets that pattern as GIMP's current pattern, just
                  as it does in the grid view.
                </para>
                <para>
                  If you <emphasis>double-click</emphasis>
                  on the name of a pattern, you will be able to edit the name.
                  Note that you are only allowed to rename patterns that you
                  have added yourself, not the ones that are supplied with
                  GIMP. If you edit a name that you don't have permission to
                  change, as soon as you hit return or move to a different
                  control, the name will revert back to its previous value.
                </para>
                <para>
                  Everything else in the List view works the same way as it
                  does in the Grid view.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/dialogs-icon-delete.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Delete Pattern</phrase>
        </term>
        <listitem>
          <anchor id="gimp-pattern-delete"/>
          <para>
            Pressing this button removes the pattern from the list and causes
            the file representing it to be deleted from disk. Note that you
            cannot remove any of the patterns that are supplied with GIMP and
            installed in the system <filename>patterns</filename>
            directory; you can only remove patterns that you have added to
            folders where you have write permission.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-reload-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Refresh Patterns</phrase>
        </term>
        <listitem>
          <anchor id="gimp-pattern-refresh"/>
          <para>
            Pressing this button causes <acronym>GIMP</acronym> to rescan the
            folders in your pattern search path, adding any newly discovered
            patterns to the list. This button is useful if you add new
            patterns to a folder, and want to make them available without
            having to restart <acronym>GIMP</acronym>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-fileopen-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Open pattern as image</phrase>

        </term>
        <listitem>
          <anchor id="gimp-pattern-open-as-image"/>
          <para>
            If you click on this button, the current pattern is opened in a
            new image window. So, you can edit it. But if you try to save it
            with the <filename class="extension">.pat</filename>, even with a
            new name, you will bang into a <quote>Denied permission </quote>
            problem because this image file is <quote>root</quote>. But this
            is possible under Windows, less protected.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-patterns-dialog-tags">
    <title>Tagging</title>
    <para>
      You can use tags to reorganize the patterns display.
      See <xref linkend="gimp-tagging"/>.
    </para>
  </sect3>

  <sect3>
    <title>The Pattern context menu</title>
    <para>
      You get it by right-clicking on the <quote>Patterns</quote>
      dialog. The commands of this menu are described with Buttons,
      except for <guilabel>Copy Location</guilabel> which allows to
      copy the path to pattern into clipboard.
    </para>
  </sect3>

  <sect3 id="clipboard-pattern">
    <title>The Clipboard pattern</title>
    <indexterm>
      <primary>Clipboard pattern</primary>
    </indexterm>
    <indexterm>
      <primary>Patterns</primary>
      <secondary>Clipboard pattern</secondary>
    </indexterm>
    <para>
      When you use the Copy or Cut command, a copy appears as a
      new pattern in the upper left corner of the Patterns dialog.
      This brush will persist until you use the Copy (or Cut) command again.
      It will disappear when you close GIMP.
    </para>
    <figure>
      <title>A new <quote>Clipboard Pattern</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/dialogs/patterns-dialog-clipboard.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <note>
      <para>
        You can save this clipboard pattern by using the
        <menuchoice>
          <guimenu>Edit</guimenu>
          <guisubmenu>Paste as</guisubmenu>
          <guimenuitem>New pattern</guimenuitem>
        </menuchoice>
        as soon as it appears in the Patterns dialog.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-pointer-info-dialog">
  <title>Pointer Dialog</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Pointer</secondary>
  </indexterm>
  <indexterm>
    <primary>Pointer</primary>
  </indexterm>

  <figure>
    <title>Pointer dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/pointer-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    This dialog offers you, in a same window, in real time, the position of
    the mouse pointer, and the channel values of the pointed pixel, in the
    chosen color model.
  </para>

  <sect3>
    <title>Activating the dialog</title>
    <para>
      The <quote>Pointer</quote> dialog is a dockable dialog; see the section
      <xref linkend="gimp-concepts-docks"/>
      for help on manipulating it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Pointer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinemediaobject>
              <imageobject><imagedata format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Pointer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Pointer</quote> dialog options</title>
    <variablelist>
      <varlistentry>
        <term>Pixels</term>
        <listitem>
          <para>
            Shows the position of the pointed pixel, in X (horizontal) and Y
            (vertical) coordinates, stated in pixels from the origin (the
            upper left corner of the canvas).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Units</term>
        <listitem>
          <para>
            Shows the distance from the origin, in inches.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pointer Bounding Box</term>
        <listitem>
          <para>
            This information is active when a selection exists. X and Y are
            the coordinates of the upper left corner of the rectangular frame
            that bounds rectangular and ellipse selections. H and W are
            the height and width of this box.
          </para>
          <para>
            This information also exits for the other selections, but they are
            of less interest and the bounding box is not visible.
          </para>
          <para>
            This information concerning the selection remains unchanged when you
            use another tool, while pointer coordinates vary.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Channel values</term>
        <listitem>
          <variablelist>
            <para>
              The channel values for the selected
              <link linkend="glossary-colormodel">color model</link> are shown
              below. Both pulldown menus contain the same choices, which
              makes it easier for you to compare the color values of a
              particular pixel using different color models.
              <quote>Hex</quote> is the
              <link linkend="glossary-html-notation">HTML Notation</link> of
              the pixel color, in hexadecimal. The choices on the pulldown
              menus are (<guilabel>Pixel</guilabel> is the default):
            </para>
            <varlistentry>
              <term>Pixel</term>
              <listitem>
                <para>
                  The <link linkend="glossary-rgb">RGB</link> channel values.
                  This choice displays the <emphasis>Red</emphasis>,
                  <emphasis>Green</emphasis>, <emphasis>Blue</emphasis> and
                  <emphasis>Alpha</emphasis> values of the pixel, as numbers
                  between 0 and 255.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>RGB</term>
              <listitem>
                <para>
                  The <link linkend="glossary-rgb">RGB</link> channel values.
                  This choice displays the <emphasis>Red</emphasis>,
                  <emphasis>Green</emphasis>, <emphasis>Blue</emphasis> and
                  <emphasis>Alpha</emphasis> values of the pixel, as
                  percentages. It also shows the hexadecimal value of the
                  pixel's color.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>HSV</term>
              <listitem>
                <para>
                  The <link linkend="glossary-hsv">HSV</link> components.
                  This choice displays the <emphasis>Hue</emphasis>, in
                  degrees, as well as the <emphasis>Saturation</emphasis>,
                  <emphasis>Value</emphasis> and <emphasis>Alpha</emphasis> of
                  the pixel, as percentages.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>CMYK</term>
              <listitem>
                <para>
                  The <link linkend="glossary-cmyk">CMYK</link> channel
                  values. This choice displays the <emphasis>Cyan</emphasis>,
                  <emphasis>Magenta</emphasis>, <emphasis>Yellow</emphasis>,
                  <emphasis>Black</emphasis> and <emphasis>Alpha</emphasis>
                  values of the pixel, as percentages.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sample Merged</term>
        <listitem>
          <para>
            If this option is checked (default), sampling is performed on all
            layers. If it is unchecked, sampling is performed on the active
            layer only.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-

<!-- This document is included from channel-dialog.xml-->
<sect3 id="gimp-qmask">
  <title>Quick Mask</title>

  <figure>
    <title>Dialog Quick Mask</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/channel-quickmask.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    A <guilabel>Quick Mask</guilabel> is a
    <link linkend="gimp-channel-mask">Selection Mask</link>
    intended to be used temporarily to paint a selection. Temporarily means
    that, unlike a normal selection mask, it will be deleted from the
    channel list after its transformation to selection. The
    <link linkend="gimp-tools-selection">selection tools</link>
    sometimes show their limits when they have to be used for doing complex
    drawing selection, as progressive. In this case, using the QuickMask is a
    good idea which can give very good results.
  </para>

  <sect4>
    <title>Activating the dialog</title>
    <para>
      The QuickMask can be activated in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu:
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Toggle QuickMask</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the left-bottom button showed in red on the screenshot.
        </para>
      </listitem>
      <listitem>
        <para>
          By using the
          <keycombo>
            <keycap>Shift</keycap><keycap>Q</keycap>
          </keycombo>
          shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect4>

  <sect4>
    <title>Creating a Quick Mask</title>
    <para>
      To initialize a <guilabel>Quick Mask</guilabel>,
      click the bottom-left button in the image window. If a selection was
      active in your image, then its content appears unchanged while the
      border is covered with a translucent red color. If no selection was
      active then all the image is covered with a translucent red color.
      Another click on the bottom-left button will deactivate the quick mask.
    </para>
    <para>
      From the channel dialog you can double click on the name or the
      thumbnail to edit the <guilabel>QMask</guilabel> attributes. Then you
      can change the <guilabel>Opacity</guilabel> and its filling color. At
      every moment you can hide the mask by clicking on the eye icon
      <guiicon>
        <inlinegraphic fileref="images/dialogs/stock-eye-20.png"/>
      </guiicon>
      in front of the <guilabel>QMask</guilabel>.
    </para>
    <para>
      The mask is coded in gray tones, so you must use white or gray to
      decrease the area limited by the mask and black to increase it. The area
      painted in light or dark gray will be transition areas for the selection
      like feathering. When your mask is ready, click again on the bottom-left
      button in the image window and the quick mask will be removed from the
      channel list and converted to a selection.
    </para>
    <para>
      Quick mask's purpose is to paint a selection and its transitions with
      the paint tools without worrying about managing selection masks. It's a
      good way to isolate a subject in a picture because once the selection is
      made you only have to remove its content (or inverse if the subject is
      in the selection).
    </para>
  </sect4>

  <sect4>
    <title>Using Quick Mask with a gradient</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/dialogs/channel-masks-gradient.png"/>
      </imageobject>
    </mediaobject>
    <orderedlist>
      <title>Description</title>
      <listitem>
        <para>
          Screenshot of the image window with activated QuickMask. As long as
          the Quickmask is activated, all operations are done on it. A
          gradient from black (left) to white (right) has been applied to the
          mask.
        </para>
      </listitem>
      <listitem>
        <para>
          The QuickMask is now disabled. The selection occupies the right half
          part of the image (marching ants) because the limit of the selection
          is at the middle of the gradient.
        </para>
      </listitem>
      <listitem>
        <para>
          A stroke is now added during the enabled selection. Weird! The
          gradient, although not visible, remains active all over the image,
          in selected and non selected areas!
        </para>
      </listitem>
    </orderedlist>
    <para>
      After the QuickMask Button is pressed, the command generates a
      temporary 8-bit (0-255) channel, on which the progressive selection
      work is stored. If a selection is already present the mask is
      initialized with the content of the selection. Once QuickMask has been
      activated, the image is covered by a red semi-transparent veil. This
      one represents the non-selected pixels. Any
      <link linkend="gimp-tools-paint">paint tool</link>
      can be used to create the selection on the QuickMask. They should use
      only grayscale color, conforming the channel properties, white enabling
      to define the future selected place. The selection will be displayed as
      soon as the QuickMask will be toggled but its temporary channel will
      not be available anymore.
    </para>
    <tip>
      <para>
        To save in a channel the selection done with the Quickmask select in
        the image menu
        <guimenuitem>Select/Save to Channel</guimenuitem>
      </para>
    </tip>
  </sect4>

  <sect4>
    <title>Usage</title>
    <procedure>
      <step>
        <para>
          <link linkend="gimp-file-open">Open</link> an image or begin a
          <link linkend="gimp-file-new">new document</link>.
        </para>
      </step>
      <step>
        <para>
          Activate the Quickmask using the left-bottom button in the image
          window. If a selection is present the mask is initialized with the
          content of the selection.
        </para>
      </step>
      <step>
        <para>
          Choose a <link linkend="gimp-tools-paint">drawing tool</link>
          and use it with grayscale colors on the QuickMask.
        </para>
      </step>
      <step>
        <para>
          Deactivate the Quickmask using the left-bottom button in the image
          window.
        </para>
      </step>
    </procedure>
  </sect4>
</sect3>
-#-#-
<sect2 id="gimp-sample-point-dialog">
  <title>Sample Points Dialog</title>
  <indexterm>
    <primary>Dialog</primary>
    <secondary>Sample Points</secondary>
  </indexterm>
  <indexterm>
    <primary>Sample Points</primary>
  </indexterm>
  <para>
    While the <link linkend="gimp-tool-color-picker">Color Picker</link>
    can display color information about one pixel, the
    <quote>SampleÂ Points</quote> dialog can display the data of four pixels of
    the active layer or the image, at the same time. Another important
    difference is that the values of these points are changed in real time
    as you are working on the image.
  </para>
  <sect3>
    <title>Activating the dialog</title>
    <para>
      The <quote>Sample Points</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Sample Points</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinemediaobject>
              <imageobject><imagedata format="PNG"
                fileref="images/dialogs/stock-menu-left-12.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Sample Points</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>
    <title>Using sample points</title>
    <para>
      To create a sample point, <keycap>Ctrl</keycap>-click on one of the
      two measure rules of the image window and drag the mouse pointer.
      Two perpendicular guides appear. The sample point is where both guides
      intersect. You can see its coordinates in the lower left corner and
      the information bar of the image window. Release the mouse button.
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                    fileref="images/using/pointer-reticle.png"/>
      </imageobject>
      <caption>
        <para>
          The reticle you get Ctrl + click-and-dragging from a rule.
        </para>
      </caption>
    </mediaobject>
    
    <para>
      By default, this sample point comes with a round mark and an order
      number. You can cancel these marks by unchecking the <guilabel>Show
      Sample Points</guilabel> option in the <guilabel>View</guilabel>
      menu.
    </para>
    <para>
      The <quote>Sample Points</quote> dialog should automatically open
      when you create a sample point. This is not the case; you have to
      open it manually.
    </para>

    <para>
      You can delete a sample point, as you do with guides, by
      click-and-dragging it up to a rule. Order numbers are automatically
      re-arranged in the dialog window; the most recent are moved one rank
      up.
    </para>
    <para>
      By default, sampling is performed on all layers. If you want to
      sample on the active layer only, uncheck the <guilabel>Sample
      merged</guilabel> option in the tab menu:
    </para>
    <figure>
      <title>The <quote>Sample Point</quote> menu</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/dialogs/sample-points-menu.png"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>
  <sect3>
    <title><quote>Sample Points</quote> dialog description</title>
    <figure>
      <title>Sample points dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/dialogs/sample-points-dialog.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The information about four sample points is displayed in this window.
      You can create more, which will be existing and not shown. To show
      them, you have to delete displayed points.
    </para>
    <para>
      The color of the sampled point is displayed in a swatch box.
    </para>
    <para>
      In the drop-down list, you can choose between:
    </para>
    <variablelist>
      <varlistentry>
        <term>Pixel</term>
        <listitem>
          <para>
            This choice displays the <emphasis>Red</emphasis>,
            <emphasis>Green</emphasis>, <emphasis>Blue</emphasis> and
            <emphasis>Alpha</emphasis> values of the pixel, as numbers between
            0 and 255.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>RGB</term>
        <listitem>
          <para>
            This choice displays the <emphasis>Red</emphasis>,
            <emphasis>Green</emphasis>, <emphasis>Blue</emphasis> and
            <emphasis>Alpha</emphasis> values of the pixel, as percentages. It
            also shows the hexadecimal value of the pixel's color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>HSV</term>
        <listitem>
          <para>
            This choice displays the <emphasis>Hue</emphasis>, in degrees, as
            well as the <emphasis>Saturation</emphasis>,
            <emphasis>Value</emphasis> and <emphasis>Alpha</emphasis> of the
            pixel, as percentages.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>CMYK</term>
        <listitem>
          <para>
            This choice displays the <emphasis>Cyan</emphasis>,
            <emphasis>Magenta</emphasis>, <emphasis>Yellow</emphasis>,
            <emphasis>Black</emphasis> and <emphasis>Alpha</emphasis> values
            of the pixel, as percentages.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      Data are supplied for every channel in the chosen color model. The
      Alpha is present only if the image holds an Alpha channel.
    </para>
    <para><guilabel>Hexa</guilabel> appears only with the RGB mode. That's the
      hexadecimal code of the
      <link linkend="glossary-html-notation">HTML Notation</link>.
    </para>
  </sect3>
</sect2>
-#-#-

<sect2 id="gimp-tagging">
  <title>Tagging</title>

  <indexterm>
    <primary>Tags</primary>
  </indexterm>
  
  <para>
    In Brushes, Gradients, Patterns and Palettes dialogs and some other
    dockable dialogs, you can define tags and then, you can reorganize items
    according to chosen tags only.
  </para>
  
  <para>
    You have two input fields:
    <figure>
      <title>Tagging</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/tagging.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <itemizedlist>
      <listitem>
        <para>
          <quote>Filter</quote> field: There, you can enter a tag previously
          defined or select a tag in the pop list you get by clicking on
          the arrow head at the right end of the field. Brushes, gradients,
          patterns, or palettes are filtered and only these that have this
          chosen tag will be displayed.
          You can enter several tags, separated with commas.
        </para>
      </listitem>
      <listitem>
        <para>
          <quote>Enter tag</quote> field: There, tags belonging to the current
          brush, gradient, pattern, or palette are displayed. You can add
          another tag to the current item by clicking on one of the defined
          tag in the pop up list of the field. You can also create your own
          tag for this item by typing its name in the field. Then the new tag
          appears in the tag pop up list.
        </para>
      </listitem>
    </itemizedlist>
  </para>
  
  <figure>
    <title>Example</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/tagging2.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          In this example, we defined a <quote>green</quote> tag for the Pepper
          and Vine brushes. Then, we entered <quote>green</quote> in
          the <guilabel>Filter</guilabel>input field and so, only
          brushes with the green tag are displayed.
        </para>
      </caption>
    </mediaobject>
  </figure>
  
  <tip>
    <para>
      To give several brushes the same tag at once, display brushes in
      List Mode, and use <keycombo><keycap>Ctrl</keycap><mousebutton>
      Left click</mousebutton></keycombo> on the brushes you want to
      select.
    </para>
  </tip>

  <para>
    You can delete tags: select a brush, then select a tag in the <quote>Enter
    tag</quote> field and press the <keycap>Delete</keycap> key. When this
    tag has been removed from all brushes, it disappears from the list.
  </para>
  
</sect2>-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-template-dialog">
  <title>Templates Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Templates</secondary>
  </indexterm>
  <indexterm>
    <primary>Templates</primary>
  </indexterm>

  <figure>
    <title>The Templates dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/templates-dialog.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    Templates are templates for an image format to be created. GIMP offers you
    a lot of templates and you can create your owns. When you create a New
    image, you can access to the list of existing templates but you can't
    manage them. The <quote>Templates</quote>
    dialog allows you to manage all these templates.
  </para>

  <sect3>
    <title>Activating the dialog</title>
    <para>
      The <quote>Templates</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Templates</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Templates</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Using the Templates dialog</title>
    <para>
      You select a template by clicking on its icon. Right clicking reveals a
      local menu that offers the same functions as buttons.
    </para>

    <sect4>
      <title>Grid/List modes</title>
      <para>
        In the Tab menu for the <quote>Templates</quote> dialog, you can
        choose between
        <guimenuitem>View as Grid</guimenuitem> and <guimenuitem>View as
        List</guimenuitem>. In Grid mode, templates are laid out in a
        rectangular array of identical icons (unless you gave them a
        particular icon, as we will see later). Only the name of the
        selected template is displayed. In List mode, they are lined up
        vertically; icons are identical too; all names are displayed.
      </para>
      <para>
        In this Tab menu, the <guilabel>Preview Size</guilabel> option allows
        you to change the size of thumbnails.
      </para>
      <tip>
        <para>
          <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>
          in a list view opens a search field.
          See <xref linkend="gimp-dock-view-as-list" />
        </para>
      </tip>
    </sect4>

    <sect4>
      <title>Buttons at the bottom</title>
      <para>
        The buttons at the bottom of the dialog allow you to operate on
        templates in several ways:
      </para>
      <variablelist>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-image-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">
              Create a new image from the selected template
            </phrase>
          </term>
          <listitem>
            <para>
              Clicking on this button opens the dialog
              <link linkend="gimp-file-new">Create a new image</link>
              on the model of the selected template.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/dialogs-icon-new.png"/>
            </guiicon>
            <phrase condition="tag-is-required">
              Create a new template
            </phrase>
          </term>
          <listitem>
            <para>
              Clicking on this button opens the
              <link linkend="edit-template-dialog">New template</link>
              dialog, identical to the Edit Template dialog, that we will see
              below.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-duplicate-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">
              Duplicate the selected template
            </phrase>
          </term>
          <listitem>
            <para>
              Clicking on this button opens the Edit Template dialog that we
              are going to study now.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guiicon>
              <inlinegraphic fileref="images/dialogs/stock-edit-16.png"/>
            </guiicon>
            <phrase condition="tag-is-required">
              Edit the selected template
            </phrase>
          </term>
          <listitem>
            <para>
              Clicking on this button opens the
              <link linkend="edit-template-dialog">Edit Template</link>
              dialog.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Delete the selected template</term>
          <listitem>
            <para>Guess what?</para>
            <tip>
              <para>
                Every template is stored in a <filename>templaterc</filename>
                file at your personal <acronym>GIMP</acronym> directory.
                If you want to restore some deleted templates, you can copy or
                append template entries to your file from the master
                <filename>templaterc</filename> file at the
                <filename class="directory">etc/gimp/2.0</filename> directory
                of the <acronym>GIMP</acronym>'s system folder.
              </para>
            </tip>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
  <xi:include href="edit-template-dialog.xml"/>
</sect2>
-#-#-

<sect2 id="tool-preset-editor">
  <title>Tool Preset Editor</title>

  <indexterm>
    <primary>Presets</primary>
    <secondary>Tool Preset Editor</secondary>
  </indexterm>

  <figure>
    <title>The Tool Preset Editor</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/tool-preset-editor.png"
format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>Activating the Dialog</title>
    <para>
      You can access this dialog through:
      <itemizedlist>
        <listitem>
          <para>
            a click on the <guibutton>Edit this tool preset</guibutton> button
            in the button bar of the Tool Presets Dialog.
          </para>
        </listitem>
        <listitem>
          <para>
            a double-click on a preset icon in the Tool Presets Dialog.
          </para>
        </listitem>
        <listitem>
          <para>
            a right-click on a preset in the Tool Presets Dialog to open a
            context menu and then click on the <guilabel>Edit Tool
            Preset</guilabel> command.
          </para>
        </listitem>
      </itemizedlist>
    </para>
  </sect3>

  <sect3>
    <title>Using the Tool Preset Editor</title>
    <para>
      You can edit presets you have created only; all options of predefined
      presets are grayed out and disabled.
    </para>
    <para>
      In this dialog you can:
      <itemizedlist>
        <listitem>
          <para>
            <emphasis role="bold">edit preset name</emphasis> in text box,
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis role="bold">change preset icon</emphasis> by clicking on
            preset icon. This opens a window where you can choose a new icon.
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis role="bold">select resources to be saved</emphasis> by
             clicking on check boxes.
          </para>
        </listitem>
      </itemizedlist>
    </para>
  </sect3>
</sect2>

-#-#-

<sect2 id="gimp-presets-dialog">
  <title>Tool Presets Dialog</title>

  <indexterm>
    <primary>Presets</primary>
    <secondary>Presets Dialog</secondary>
  </indexterm>

  <para>
    In <acronym>GIMP</acronym>-2.6, tool presets were not easy to use. You had
    to click on a tool first, and then click on the <guibutton>Restore
    Presets...</guibutton> button in the button bar at the bottom of the Tool
    options dialog... if you had not disabled this button bar in the Tab menu
    to make place on your desk! Now, with <acronym>GIMP</acronym>-2.8, a
    dockable Tool Presets Dialog is available where you just have to click on a
    preset to open the corresponding tool with its saved options.
  </para>
  
  <figure>
    <title>The Tool Presets Dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/tool-presets-dialog.png"
format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>Activating the Dialog</title>
    <para>
      The <quote>Tool Presets Dialog</quote> is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
      <itemizedlist>
        <listitem>
          <para>
            from an image menu:
            <menuchoice>
              <guimenu>Windows</guimenu>
              <guisubmenu>Dockable Dialogs</guisubmenu>
              <guimenuitem>Tool Presets</guimenuitem>
            </menuchoice>;
          </para>
        </listitem>
        <listitem>
          <para>
            or, as a tab in Toolbox window, through
            <menuchoice>
              <guimenu>Tab Menu</guimenu>
              <guisubmenu>Add Tab</guisubmenu>
              <guimenuitem>Tool Presets</guimenuitem>
            </menuchoice>.
          </para>
        </listitem>
      </itemizedlist>
    </para>
  </sect3>

  <sect3>
    <title>Using the Tool Presets Dialog</title>
    <para>
      This dialog comes with a list of predefined presets. Each of them has an
      icon representing the tool presets will be applied to and a name.
    </para>
    <para>
      Presets can be tagged so that you can arrange presets display as
      you want. Please see <xref linkend="gimp-tagging"/> for more information
      about tagging.
    </para>
    <para>
      Double-clicking on a preset icon opens the Tool Preset Editor.
    </para>
    <para>
      Double-clicking on preset name allows you to edit this name.
    </para>
    <para>
      At the bottom of the dialog appear four buttons:
      <itemizedlist>
        <listitem >
          <para>
            <guilabel>Edit this tool preset</guilabel>: clicking on this button
            opens the Tool Preset Editor for the selected preset. You can
            actually edit presets you have created; predefined presets options
            are all grayed out and inactive. But you can create a new preset
            from a predefined preset and edit its options.
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/dialogs/tool-preset-editor.png"
    format="PNG"/>
              </imageobject>
            </mediaobject>
            The Tool Preset Editor is described in
              <xref linkend="tool-preset-editor"/>.
          </para>
        </listitem>
        <listitem>
          <para>
            <guilabel>Create a new tool preset</guilabel>: before clicking on
            this button, you can either select an existing preset, or select a
            tool in Toolbox, for example the Healing Tool which is not in the 
            presets list. A new preset is created at the top of the dialog and
            the Tool Preset Editor is opened. Please see
            <xref linkend="tool-preset-editor"/>.
          </para>
        </listitem>
        <listitem>
          <para>
            <guilabel>Delete this tool preset</guilabel>: this button is active
            only for presets you have created.
          </para>
        </listitem>
        <listitem>
          <para>
            <guilabel>Refresh tool presets</guilabel>: If you have added a
            preset manually in gimp/2.0/tool-presets folder, you have to click
            on this button to include it in the presets list.
          </para>
          <note>
            <para>
            With <acronym>GIMP</acronym>-2.8, tool presets are saved in a new
            format (.gtp). To use your 2.6 presets, you have to convert them
            using
       <ulink url="http://wiki.gimp.org/index.php/Mindstorm:Preset_converter"/>,
            until it is included in GIMP.
            </para>
          </note>
        </listitem>
      </itemizedlist>
    </para>
  </sect3>

  <sect3>
    <title>The Tool Presets Dialog Context Menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/presets-dialog-context-menu.png"
format="PNG"/>
      </imageobject>
    </mediaobject>

    <para>
      Right-clicking on the Presets Dialog opens a context menu where you find
      some commands already described with buttons: Edit tool preset, New tool
      preset, Refresh tool presets. You also find two new commands:
      <itemizedlist>
        <listitem>
          <para>
            <guilabel>Duplicate Tool Preset</guilabel>: this command is always
            disabled. It is not necessary since, as we saw above, a duplicate
            is automatically created when you create a new preset from an
            existing preset.
          </para>
        </listitem>
        <listitem>
          <para>
            <guilabel>Copy Tool Preset Location</guilabel>: this command copies
            the path to the tool preset file into clipboard.
          </para>
        </listitem>
      </itemizedlist>
    </para>
  </sect3>
</sect2>
    -#-#-
<sect2 id="gimp-undo-dialog">
  <title>Undo History Dialog</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Undo History</secondary>
  </indexterm>
  <indexterm>
    <primary>Undo History</primary>
  </indexterm>

  <figure>
    <title>The Undo History dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/undo-history-dialog.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This dialog shows you a list of the actions you have most recently
    performed on an image, with a small sketch that attempts to illustrate the
    changes produced by each. You can revert the image to any point in its
    Undo History simply by clicking on the right entry in the list. For more
    information on GIMP's Undo mechanism and how it works, see the section on
    <link linkend="gimp-concepts-undo">Undoing</link>.
  </para>

  <sect3>
    <title>Activating the dialog</title>
    <para>
      The <quote>Undo History</quote> dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Undo History</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking on
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-menu-left-12.png"/>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Undo History</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Using the Undo History dialog</title>
    <para>
      The most basic thing you can do is to select a point in the Undo History
      by clicking on it in the list. You can go back and forth between states
      in this way as much as you please, without losing any information or
      consuming any resources. In most cases, the changes are very fast.
    </para>
    <tip>
      <para>
        <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>
        opens a search field.
        See <xref linkend="gimp-dock-view-as-list" />
      </para>
    </tip>
    <para>At the bottom of the dialog are three buttons:</para>
    <variablelist>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-undo-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Undo</phrase>
        </term>
        <listitem>
          <para>
            This button has the same effect as choosing
            <menuchoice>
              <guimenu>Edit</guimenu>
              <guimenuitem>Undo</guimenuitem>
            </menuchoice>
            from the menu, or pressing
            <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo>;
            it reverts the image to the next state back in the undo history.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-redo-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Redo</phrase>
        </term>
        <listitem>
          <para>
            This button has the same effect as choosing
            <menuchoice>
              <guimenu>Edit</guimenu>
              <guimenuitem>Redo</guimenuitem>
            </menuchoice>
            from the menu, or pressing
            <keycombo><keycap>Ctrl</keycap><keycap>Y</keycap></keycombo>;
            it advances the image to the next state forward in the Undo History.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-edit-clear-16.png"/>
          </guiicon>
          <phrase condition="tag-is-required">Clear Undo History</phrase>
        </term>
        <listitem>
          <para>
            This button removes all contents from the undo history except the
            current state. If you press it, you are asked to confirm that you
            really want to do this. The only reason for doing it would be if
            you are very constrained for memory.
          </para>
          <note>
            <para>
              In a tab, this dialog is represented by
              <guiicon>
                <inlinegraphic
                  fileref="images/dialogs/stock-undo-history-16.png"/>
              </guiicon>
            </para>
          </note>
          <note>
            <para>
              You can set the number of undo levels in <link
              linkend="gimp-prefs-environment">Preferences/Environment</link>.
            </para>
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-3d-outline-logo-alpha">
  <title>3D Outline</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>3D Outline</tertiary>
  </indexterm>
  <indexterm>
    <primary>3D Outline</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>3D Outline</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-3d-outline.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>3D Outline</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/3d-outline-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>3D Outline</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter is derived from the <quote>3D Outline</quote> script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>3D Outline</guimenuitem>
      </menuchoice> in the image window),
      which creates a logo (see above) with outlined text and a drop shadow.
    </para>
    <para>
      The filter outlines the non-transparent areas of the active layer
      (determined from the Alpha channel) with a pattern and adds a drop
      shadow.
      Here, we will use the <emphasis>alpha</emphasis> term to refer to these
      areas of the active layer defined by the non-transparent pixels.
    </para>
    <para>
      The filter uses the <link linkend="plug-in-edge">Sobel edge
      detect</link> filter to get the alpha's outline. So with a simple alpha,
      for example a cleared rectangle selection, you will just get the
      boundary. But when you use a layer mask (don't forget to Apply the
      Layer Mask), as in the following example, the edge detector will find
      more edges and thus the filter effect will be applied to these edges
      too.
    </para>
    <figure>
      <title>Example based on multicolored layer mask</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/3d-outline-alpha.png"/>
        </imageobject>
        <caption>
          <para>With an layer mask (alpha) like this ...</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/3d-outline-example.jpg"/>
        </imageobject>
        <caption>
          <para>... you will get this.</para>
        </caption>
      </mediaobject>
    </figure>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>3D Outline</guimenuitem>
      </menuchoice>.
    </para>
    <para>
      The filter only works if the active layer has an alpha channel.
      Otherwise, the menu entry is insensitive and grayed out.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>3D Outline</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/3d-outline-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Pattern</term>
        <listitem>
          <para>
            Here you can see and change the currently selected pattern. When
            you click on the pattern, an enlarged preview will popup.
            Pressing the <guibutton>Browse...</guibutton> button opens a
            dialog where you can select a different pattern.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Outline blur radius</term>
        <listitem>
          <para>
            This radius is used to <link linkend="plug-in-gauss">blur</link>
            the alpha before the <link linkend="plug-in-edge">edge
            detector</link> will select the area to be filled with the
            pattern. That's why a high value results in a wide but smeared
            pattern:
          </para>
          <figure>
            <title>Outline blur radius example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/3d-outline-5.jpg"/>
              </imageobject>
              <caption>
                <para>Radius: 5</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/3d-outline-20.jpg"/>
              </imageobject>
              <caption>
                <para>Radius: 20</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/3d-outline-40.jpg"/>
              </imageobject>
              <caption>
                <para>Radius: 40</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shadow blur radius</term>
        <listitem>
          <para>
            This radius is used to <link linkend="plug-in-gauss">blur</link>
            the drop shadow.  A high value will smear the shadow:
          </para>
          <figure>
            <title>Shadow blur radius example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/3d-outline-5.jpg"/>
              </imageobject>
              <caption>
                <para>Radius: 10</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/3d-outline-shadow20.jpg"/>
              </imageobject>
              <caption>
                <para>Radius: 20</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/3d-outline-shadow40.jpg"/>
              </imageobject>
              <caption>
                <para>Radius: 40</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Bumpmap (alpha layer) blur radius</term>
        <listitem>
          <para>
            The <link linkend="plug-in-bump-map">Bump Map</link> used to
            create a 3D effect is the active layer (alpha layer) with the
            <link linkend="plug-in-edge">edge detect</link> filter applied.
            Before it is used to emboss the pattern layer, another
            <link linkend="plug-in-gauss">Gaussian blur</link> will be applied
            with the specified radius. So a high value will reduce the 3D
            effect.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Default bumpmap settings</term>
        <listitem>
          <para>
            If checked (this is the default) the bump map plug-in will be
            applied with its default options. Otherwise, the
            <link linkend="plug-in-bump-map">Bump Map</link> dialog window
            will popup while the filter is running, and you can choose
            different options. Note that, when you close the window pressing
            the <keycap>Cancel</keycap> button, no bump map at all will be
            applied.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shadow X offset; Shadow Y offset</term>
        <listitem>
          <para>
            This is the amount of pixels the shadow layer will me moved to the
            right (X) and down (Y). Then the layer will be clipped to the
            image size. Note that there is no real background layer, and
            moving the shadow will clear its original place:
          </para>
          <figure>
            <title>Shadow offset example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/3d-outline-moved.jpg"/>
              </imageobject>
              <caption>
                <para>X offset: 50; Y offset: 20</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<!--TODO es lt pl sv: translate-->
<warning>
  <para>
    The image will always be resized to the active layer's size.
  </para>
</warning>
-#-#-
<sect2 id="script-fu-alien-glow-logo-alpha">
  <title>Alien Glow</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Alien Glow</tertiary>
  </indexterm>
  <indexterm>
    <primary>Alien Glow</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Alien Glow</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-alien-glow.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Alien Glow</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/alien-glow-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Alien Glow</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds an eerie glow around the active layer's alpha.
    </para>
    <para>
      The filter is derived from the <quote>Alien Glow</quote> script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Alien Glow</guimenuitem>
      </menuchoice> in the image window),
      which creates a logo with the above text effect.
    </para>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Alien Glow</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Alien Glow</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/alien-glow-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Glow size (pixels * 4)</term>
        <listitem>
          <para>
            This is actually the font size option of the
            <quote>AlienÂ Glow</quote> Script-Fu script. However, two values
            will be set in relation to this size: the glow will be enlarged by
            <quote>GlowÂ size</quote>Â /Â 30, and feather radius is
            <quote>GlowÂ size</quote>Â /Â 4. You should probably choose the
            height of your objects for this option (ignore
            <quote>pixelsÂ *Â 4</quote>).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Glow color</term>
        <listitem>
          <para>
            This is the color of the <quote>eerie</quote> glowing. Of course
            it defaults to green (63,252,0), but a click on the swatch
            button brings up the color selector where you can choose any
            color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <para>
      Reproducing an eerie alien glow is easy:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          If necessary, create a
          <link linkend="gimp-layer-alpha-selection-replace">selection from
          the alpha channel</link> of the active layer.
        </para>
      </listitem>
      <listitem>
        <para>
          Fill the selection with the following
          <link linkend="gimp-tool-blend">Gradient Blend</link>: Shape =
          Shaped (spherical); Gradient = FG to BG (RGB), with FG = dark gray
          (79,79,79), BG = black.
        </para>
      </listitem>
      <listitem>
        <para>
          Create a <link linkend="gimp-layer-new">new layer</link>
          (<quote>Alien Glow</quote>) below.
          <link linkend="gimp-selection-grow">Extend</link> the selection
          slightly,
          <link linkend="gimp-selection-feather">feather</link> it,
          and fill it with the <guilabel>GlowÂ color</guilabel>.
        </para>
      </listitem>
      <listitem>
        <para>
          Create a new background layer filled with black.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<!--FIXME: "Alien Neon" filter not documented-->
<sect2 id="script-fu-alien-neon-logo-alpha">
  <title>Alien Neon</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Alien Neon</tertiary>
  </indexterm>
  <indexterm>
    <primary>Alien Neon</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Alien Neon</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/alpha-to-logo/alien-neon.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Alien Neon</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <caution>
      <para>
        Sorry, there is no documentation for this filter as yet.
      </para>
    </caution>
  </sect3>
  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Alien Neon</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Alien Neon</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/alien-neon-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Glow color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Width of bands</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Width of gaps</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number of bands</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fade away</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
    <mediaobject>
      <imageobject>
        <imagedata format="JPG"
          fileref="images/filters/examples/basic1-script-fu.jpg"/>
      </imageobject>
      <caption>
        <para>The <quote>Basic I</quote> logo script.</para>
      </caption>
    </mediaobject>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find the filter in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Basic I</guimenuitem>
      </menuchoice>
      and
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Basic II</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Basic</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/basic1-options.png"/>
        </imageobject>
        <caption>
          <para><quote>Basic I</quote> options</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/basic2-options.png"/>
        </imageobject>
        <caption>
          <para><quote>Basic II</quote> options</para>
        </caption>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            This color is used to fill the background layer created by the
            filter. It defaults to white. When you click on the color swatch
            button, a color selector pops up where you can select any other
            color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Text color</term>
        <listitem>
          <para>
            The name of this option refers to the text color of the logo
            scripts that were mentioned above. Here this color &mdash; by
            default blue (6,6,206) for <quote>Basic I</quote> and red
            (206,6,50) for <quote>Basic II</quote> &mdash; sets the basic
            color of the gradient effect: this is the color the alpha channel
            will be filled with before the gradient effect will be applied.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <itemizedlist>
      <para>
        You can reproduce the gradient effect manually by using the
        <link linkend="gimp-tool-blend">Blend tool</link> with the following
        options:
      </para>
      <listitem>
        <para><guilabel>Mode</guilabel>: Multiply,</para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Gradient</guilabel>: FG to BG (RGB), where FG is white and
          BG is black,
        </para>
      </listitem>
      <listitem>
        <para><guilabel>Offset</guilabel>: 20,</para>
      </listitem>
      <listitem>
        <para><guilabel>Shape</guilabel>: Radial,</para>
      </listitem>
      <listitem>
        <para><guilabel>Dithering</guilabel>: checked.</para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<!--FIXME: "Blended" filter not documented-->
<sect2 id="script-fu-blended-logo-alpha">
  <title>Blended</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Blended</tertiary>
  </indexterm>
  <indexterm>
    <primary>Blended</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Blended</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/alpha-to-logo/blended.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Blended</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <caution>
      <para>
        Sorry, there is no documentation for this filter as yet.
      </para>
    </caution>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Blended</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Blended</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/blended-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Offset (pixels)</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Backgroundcolor</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blend mode</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Start blend</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>End blend</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient reverse</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-bovinated-logo-alpha">
  <title>Bovination</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Bovination</tertiary>
  </indexterm>
  <indexterm>
    <primary>Bovination</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Bovination</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-bovination-applied.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Bovination</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds <quote>cow spots</quote> to the active layer alpha
      channel.
    </para>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Bovination</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Bovination</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/bovination-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Spots density X</term>
        <term>Spots density Y</term>
        <listitem>
          <para>
            The horizontal (X) and vertical (Y) spots density will be used by
            the <link linkend="plug-in-solid-noise">SolidÂ Noise</link> filter
            as <guilabel>XÂ Size</guilabel> and <guilabel>YÂ Size</guilabel>
            options. So these values range from 1 to 16, with high values
            resulting in many spots in the respective dimension, low values
            resulting in few spots.
          </para>
          <figure>
            <title><quote>Spots density</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/bovination-x.png"/>
              </imageobject>
              <caption>
                <para>Maximum X density, minimum Y density</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/bovination-y.png"/>
              </imageobject>
              <caption>
                <para>Maximum Y density, minimum X density</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background Color</term>
        <listitem>
          <para>
            This is the color used to fill the <quote>Background</quote>
            layer; it defaults to white. When you click on the color button,
            you may choose any other color in the color selector dialog.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <para>
      The filter fills the alpha channel with
      <link linkend="plug-in-solid-noise">Solid Noise</link>:
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="JPG"
          fileref="images/filters/examples/bovination-noise.jpg"/>
      </imageobject>
    </mediaobject>
    <para>
      ... and maximizes the
      <link linkend="gimp-tool-brightness-contrast">Contrast</link>:
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/bovination-contrast.png"/>
      </imageobject>
    </mediaobject>
    <para>
      Besides, the filter adds a
      <link linkend="plug-in-gauss">Blur</link>
      layer as a light gray shadow and uses this layer as a
      <link linkend="plug-in-bump-map">Bump Map</link>. Finally a (by default)
      white <quote>Background</quote> layer is added below.
    </para>
    <para>
      So the filter will end up with these layers:<footnote><para>
        If the active layer is not the top layer, it might happen that the
        filter messes up the layers. Then you will have to
        <link linkend="gimp-layer-dialog">raise the active layer</link>.
      </para></footnote>
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/bovination-layers.png"/>
      </imageobject>
    </mediaobject>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-chalk-logo-alpha">
  <title>Chalk</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Chalk</tertiary>
  </indexterm>
  <indexterm>
    <primary>Chalk</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Chalk</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-taj-chalk.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Chalk</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter creates a chalk drawing effect for the active layer.
    </para>
    <para>
      It is derived from the <quote>Chalk</quote> script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Chalk</guimenuitem>
      </menuchoice> in the image window),
      which creates a logo from a text of your choice, for instance:
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/chalk-script-fu.png"/>
      </imageobject>
      <caption>
        <para>The <quote>Chalk</quote> logo</para>
      </caption>
    </mediaobject>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Chalk</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Chalk</quote> option</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/chalk-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            The background color is the color of the
            <quote>blackboard</quote> you are drawing on with chalk, and of
            course it's black. When you click on the color button, the color
            selector pops up and you may select any other color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <procedure>
      <para>The <quote>Chalk</quote> filter</para>
      <step>
        <para>
          applies a <link linkend="plug-in-gauss">Gaussian blur</link> to the
          layer, <link linkend="plug-in-spread">spreads</link> the pixels, and
          <link linkend="plug-in-ripple">ripples</link> the layer
          horizontally and vertically,
        </para>
      </step>
      <step>
        <para>
          extracts edges using the <link linkend="plug-in-sobel">Sobel</link>
          edge detect filter, and
        </para>
        <note>
          <para>
            Sometimes the sobel edge detect produces some garbage at the
            image sides.
          </para>
        </note>
      </step>
      <step>
        <para>
          increases the luminosity <link linkend="gimp-tool-levels">level</link>.
        </para>
      </step>
    </procedure>
    <para>
      Unfortunately you cannot change the tool and filter options. But you may
      reproduce the process step by step using the methods listed above,
      varying the respective options. Then you just have to add a background
      layer filled with any color. That's all.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-chip-away-logo-alpha">
  <title>Chip Away</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Chip Away</tertiary>
  </indexterm>
  <indexterm>
    <primary>Chip Away</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Chip Away</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-chip-away.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Chip Away</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/chip-away-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Chip Away</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds a chipped woodcarving effect to the alpha channel of
      the active layer. Optionally it adds a drop shadow to the image.
      The content of the active layer doesn't matter, only the shape of its
      alpha channel does.
    </para>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
    <para>
      The filter is derived from the <quote>Chip Away</quote> Script-Fu script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Chip Away</guimenuitem>
      </menuchoice>),
      which creates a text logo with the effect shown above.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Chip Away</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Chip Away</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/chip-away-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Chip amount</term>
        <listitem>
          <para>
            This option lets you vary the size of chipping area. But note that
            <quote>Chip amount</quote> is not the size of this area in pixels.
            It is used as the maximum amount pixels are randomly spread by the
            <link linkend="plug-in-spread">Spread</link> filter applied to the
            bump map. Valid range is 0-200.
          </para>
          <figure>
            <title><quote>Chip amount</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-0.jpg"/>
              </imageobject>
              <caption>
                <para>0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-30.jpg"/>
              </imageobject>
              <caption>
                <para>30</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-60.jpg"/>
              </imageobject>
              <caption>
                <para>60</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-90.jpg"/>
              </imageobject>
              <caption>
                <para>90</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur amount</term>
        <listitem>
          <para>
            The specified value will be passed as <quote>Radius</quote> option
            to the <link linkend="plug-in-gauss">Gaussian blur</link> filter,
            which will blur the bump layer by this amount.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Invert</term>
        <listitem>
          <para>
            If checked, the <link linkend="plug-in-bump-map">bump map</link>
            will be inverted and will create hollows instead of bumps, which
            makes the image looking carved.
          </para>
          <figure>
            <title><quote>Chip Away</quote> inverted example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-invert.jpg"/>
              </imageobject>
              <caption>
                <para>Inverted, (without drop shadow)</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Drop shadow</term>
        <listitem>
          <para>
            If checked, a <link linkend="script-fu-drop-shadow">Drop
            shadow</link> will be added to the image in a new layer below the
            active layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep bump layer</term>
        <listitem>
          <para>
            By default, the <link linkend="plug-in-bump-map">bump map</link>
            used to create the chipping effect will be removed after applying
            the filter. When this option is checked, the bump map will be kept
            as an invisible layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fill BG with pattern</term>
        <listitem>
          <para>
            If checked, the background layer (added by the filter) will be
            filled with the specified <guilabel>Pattern</guilabel>. Otherwise,
            it will be filled with white.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep background</term>
        <listitem>
          <para>
            Whether or not to remove the background layer. This option is
            checked by default. You can, of course, remove this layer (or
            toggle its visibility) later in the
            <link linkend="gimp-layer-dialog">LayersÂ dialog</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pattern</term>
        <listitem>
          <para>
            This option consists of a preview area, which will produce a popup
            preview when you click on it and hold down the mouse button, and a
            <guibutton>Browse</guibutton> button. The button will popup a
            dialog where you can select patterns.
          </para>
          <para>
            The default pattern is <quote>Burlwood</quote>. Apart from that
            one, the plug-in author suggests the patterns
            <quote>DriedÂ mud</quote>, <quote>3DÂ Green</quote>, and
            <quote>Slate</quote>:
          </para>
          <figure>
            <title>Suggested <quote>Chip Away</quote> patterns</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-mud.jpg"/>
              </imageobject>
              <caption>
                <para>DriedÂ mud</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-3d.jpg"/>
              </imageobject>
              <caption>
                <para>3D Green</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/chip-away-slate.jpg"/>
              </imageobject>
              <caption>
                <para>Slate</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <procedure>
      <para>To achieve a chipping effect, the filter...</para>
      <step>
         <para>
           ...creates a
           <link linkend="gimp-channel-selection-replace">selection from the
           alpha channel</link> in a new layer,
         </para>
      </step>
      <step>
         <para>fills the selection with white,</para>
      </step>
      <step>
         <para>
           <link linkend="plug-in-spread">spreads</link> the pixels,
         </para>
      </step>
      <step>
         <para>
           and applies a <link linkend="plug-in-gauss">Gaussian blur</link> to
           the layer.
         </para>
      </step>
      <step>
         <para>
           Then it uses this layer as a <link linkend="plug-in-bump-map">Bump
           map</link>, creating a 3D effect.
         </para>
      </step>
    </procedure>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="script-fu-chrome-logo-alpha">
  <title>Chrome</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Chrome</tertiary>
  </indexterm>
  <indexterm>
    <primary>Chrome</primary>
  </indexterm>
  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Chrome</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/alpha-to-logo/chrome.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Chrome</quote> filter applied</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/menus/file/create/logos/chrome.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Chrome</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter is derived from the <quote>Chrome</quote> logo script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Chrome</guimenuitem>
      </menuchoice>),
      which &mdash; according to the script author &mdash; creates a
      <quote>simplistic, but cool, chromed logo</quote> (see above).
    </para>
    <para>
      The filter adds this simple chrome effect to the alpha, that is the area
      of the active layer defined by the non-transparent pixels (think of it
      as a <quote>selection by visibility</quote>). The filter effect will
      always be applied according to the alpha values.
    </para>
    <para>
      Apparently the effect only looks <quote>cool</quote> when the filter is
      applied to thin areas. For wide shapes you can try to increase the
      <guilabel>Offset</guilabel> value; see the examples
      <link linkend="script-fu-chrome-logo-alpha-offset">below</link>.
    </para>
    <xi:include href="about-resizing-image.xml"/>
  </sect3>
  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Chrome</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Chrome</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/chrome-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry id="script-fu-chrome-logo-alpha-offset">
        <term>Offset (pixels * 2)</term>
        <listitem>
          <para>
            This option is used when creating the chrome effect and for
            placing the drop shadow:
          </para>
          <figure>
            <title><quote>Offset</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/alpha-to-logo/chrome-offs25.jpg"/>
              </imageobject>
              <caption>
                <para>Offset 25</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/alpha-to-logo/chrome-offs50.jpg"/>
              </imageobject>
              <caption>
                <para>Offset 50</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/alpha-to-logo/chrome-offs75.jpg"/>
              </imageobject>
              <caption>
                <para>Offset 75</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            The filter creates a drop shadow in the shape of the alpha. This
            shadow will be moved according to the specified offset in relation
            to the alpha: by 40% of the offset to the right and by 30% offset
            down. It will be
            <link linkend="gimp-selection-feather">feathered</link> by 50%
            of the offset value.
          </para>
          <para>
            The chrome effect will be achieved using some temporary layers.
            These layers are moved by the same amount (40% and 30% of the
            specified offset) and are also feathered by 50% offset. So the
            appearance of the alpha too is determined by the offset value.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background Color</term>
        <listitem>
          <para>
            This color is used to fill the background layer created by the
            filter. It defaults to light gray. When you click on the color
            button, a color selector pops up where you can select any other
            color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<!--FIXME: "Comic Book" filter not documented-->
<sect2 id="script-fu-comic-logo-alpha">
  <title>Comic Book</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Comic Book</tertiary>
  </indexterm>
  <indexterm>
    <primary>Comic Book</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Comic Book</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/alpha-to-logo/comic.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Comic Book</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <caution>
      <para>
        Sorry, there is no documentation for this filter as yet.
      </para>
    </caution>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Comic Book</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Comic Book</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/comic-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Gradient</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient reverse</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Outline size</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Outline color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-cool-metal-logo-alpha">
  <title>Cool Metal</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Cool Metal</tertiary>
  </indexterm>
  <indexterm>
    <primary>Cool Metal</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Cool Metal</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/coolmetal.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Cool Metal</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/coolmetal-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Cool Metal</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter creates an effect that looks like metal with a reflection in
      the mirrored ground, and an interesting drop shadow.
    </para>
    <para>
      The filter is derived from the <quote>Cool Metal</quote> script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Cool Metal</guimenuitem>
      </menuchoice> in the image window),
      which creates a logo from a text as shown above.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Cool Metal</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Cool Metal</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/coolmetal-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Effect size (pixels)</term>
        <listitem>
          <para>
            This is actually the font size option of the
            <quote>CoolÂ Metal</quote> Script-Fu script. Some internal values
            will be set in relation to this size, for feathering, blurring,
            embossing, and creating ripple patterns.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            The color of the background layer added by the filter. When you
            click in the color swatch button, the color select dialog pops up.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient</term>
        <listitem>
          <para>
            The default gradient to create the cool metal is
            <quote>HorizonÂ 1</quote>. Clicking in the gradient button will
            open a simplified <link linkend="gimp-gradient-dialog">gradient
            dialog</link>, where you can select any other gradient.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient reverse</term>
        <listitem>
          <para>
            By default, the selected gradient will be applied from top to
            bottom. When this option is checked, the direction will be
            reversed.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <para>
      At least some of the filter effects should be described briefly: how the
      filter creates the reflection and this nice shadow, or rather, how you
      can reproduce these effects manually. In fact, the only trick is to know
      which tool to use...
    </para>
    <orderedlist>
      <title>Making the reflection</title>
      <para>
        Assuming that the alpha has been filled with a gradient, then:
      </para>
      <listitem>
        <para>
          Create a new layer containing the area you want to mirror, for
          example <link linkend="gimp-edit-copy">Copy</link> and
          <link linkend="gimp-edit-paste">Paste</link> the area in a new
          layer.
        </para>
      </listitem>
      <listitem>
        <para>
          To make the reflection look more natural, scale down the layer (the
          filter resizes to 85% of the original height). You can do this e.g.
          using <link linkend="gimp-layer-scale">Scale Layer</link> command or
          the <link linkend="gimp-tool-scale">Scale Tool</link>.
        </para>
      </listitem>
      <listitem>
        <para>
          Then <link linkend="gimp-tool-flip">flip</link> the layer vertically
          and <link linkend="gimp-tool-move">move</link> it down.
        </para>
      </listitem>
      <listitem>
        <para>
          Now <link linkend="gimp-layer-mask-add">add a layer mask</link>,
          fill the layer mask with a
          <link linkend="gimp-tool-blend">gradient</link> (for instance white
          or gray to black), and, of course,
          <link linkend="gimp-layer-mask-apply">apply the layer mask</link>.
        </para>
      </listitem>
    </orderedlist>
    <orderedlist>
      <title>Making the shadow</title>
      <para>
        Fill the alpha with black, for instance via
        <link linkend="gimp-layer-duplicate">Duplicate Layer</link>
        and <link linkend="gimp-layer-alpha-selection-replace">Alpha to
        Selection</link>, then
      </para>
      <listitem>
        <para>
          shrink and slant the layer, e.g. using the
          <link linkend="gimp-tool-perspective">Perspective</link> tool,
        </para>
      </listitem>
      <listitem>
        <para>
          and apply a <link linkend="plug-in-gauss">Gaussian Blur</link> to
          the layer.
        </para>
      </listitem>
    </orderedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-frosty-logo-alpha">
  <title>Frosty</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Frosty</tertiary>
  </indexterm>
  <indexterm>
    <primary>Frosty</primary>
  </indexterm>
  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Frosty</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/alpha-to-logo/frosty.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Frosty</quote> filter applied</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/menus/file/create/logos/frosty.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Frosty</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter is derived from the <quote>Frosty</quote> logo script
      (<menuchoice><guimenu>File</guimenu><guisubmenu>Create</guisubmenu><guisubmenu>Logos</guisubmenu><guimenuitem>Frosty</guimenuitem></menuchoice>
      in the image window), which creates a frozen logo like the example above.
    </para>
    <para>
      The filter adds this frosty effect to the alpha, that is the area of the
      active layer defined by the non-transparent pixels (think of it as a
      <quote>selection by visibility</quote>). The filter effect will always
      be applied according to the alpha values.
    </para>
    <note>
      <para>
        Unlike the most alpha to logo filters, the <quote>Frosty</quote>
        filter will <emphasis>not</emphasis> resize the image to the active
        layer's size.
      </para>
    </note>
  </sect3>
  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Frosty</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Frosty</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/frosty-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Effect size (pixels)</term>
        <listitem>
          <figure>
            <title><quote>Effect size</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/alpha-to-logo/frosty-10.jpg"/>
              </imageobject>
              <caption>
                <para>Effect size 10</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/alpha-to-logo/frosty-200.jpg"/>
              </imageobject>
              <caption>
                <para>Effect size 200</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/alpha-to-logo/frosty-400.jpg"/>
              </imageobject>
              <caption>
                <para>Effect size 400</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            This color is used to fill the background layer created by the
            filter. It defaults to white. When you click on the color button,
            a color selector pops up where you can select any other color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-glossy-logo-alpha">
  <title>Glossy</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Glossy</tertiary>
  </indexterm>
  <indexterm>
    <primary>Glossy</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Glossy</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-glossy.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Glossy</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/glossy-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Glossy</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter applies gradients and patterns to the alpha. A slight 3D
      effect will be added using a bump map, and optionally the filter adds a
      drop shadow.
    </para>
    <note>
      <para>
        Here, as a language shortcut, we use <emphasis>alpha</emphasis> to
        mean the area of the active layer defined by the non-transparent
        pixels. You may think of it as a selection <quote>by
        visibility</quote>. Applying any effect <quote>to the alpha</quote>
        just means to apply this effect to all visible pixels of the active
        layer.
      </para>
    </note>
    <para>
      The filter is derived from the <quote>Glossy</quote> script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Glossy</guimenuitem>
      </menuchoice> in the image window),
      which creates a logo (see above) with a glossy outlook when used with
      the default options, thus the name.
    </para>
    <para>
      This filter only works if the active layer has an alpha channel.
      Otherwise, the menu entry is insensitive and grayed out.
    </para>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Glossy</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Glossy</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/glossy-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Blend gradient (text)</term>
        <listitem>
          <para>
            By default, the filter will fill the alpha with a
            <link linkend="gimp-tool-blend">gradient blend</link>. Clicking on
            the swatch button will open a simple
            <link linkend="gimp-gradient-dialog">gradient dialog</link>, where
            you may select any gradient. <quote>Text</quote> refers to the
            <quote>Glossy</quote> logo, which creates a logo from a text, and
            is meaningless here.
          </para>
          <para>
            When <guilabel>Text gradient reverse</guilabel> is checked, the
            alpha will be filled with a gradient blend starting at the bottom.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pattern (text)</term>
        <listitem>
          <para>
            When <guilabel>Use pattern for text instead of gradient</guilabel>
            is checked, the alpha  will be filled with a pattern. You can open
            a <link linkend="gimp-pattern-dialog">patterns dialog</link> to
            select a pattern of your choice by clicking on the
            <guibutton>Browse</guibutton> button. The preview area on the left
            will produce a popup preview of the current pattern when pressed.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Outline size</term>
        <listitem>
          <para>
            This is the size of a kind of border, realised with a layer
            containing an enlarged copy of the alpha (details see below).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blend gradient (outline); Pattern (outline)</term>
        <listitem>
          <para>
            Just like the <quote>text</quote> options for the active layer,
            these options specify the gradient or pattern (when <guilabel>Use
            pattern for outline instead of gradient</guilabel> is checked)
            used to fill the outline area.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use pattern overlay</term>
        <listitem>
          <para>
            When checked, the original, not enlarged alpha of the outline
            layer will be filled with the specified pattern using the overlay
            <link linkend="gimp-tools-paint-options">mode</link>, so that the
            pattern and the previous contents (pattern or gradient) will be
            merged.
          </para>
          <para>
            Again, clicking on <guibutton>Browse</guibutton> button will open
            a <link linkend="gimp-pattern-dialog">patterns dialog</link>,
            pressing the preview icon will produce a popup preview of the
            current pattern.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Default bumpmap settings</term>
        <listitem>
          <para>
            This option does nothing, the filter will always apply a
            <link linkend="plug-in-bump-map">bump map</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            The color of the background layer added by the filter. When you
            click on the color button, a
            <link linkend="gimp-color-dialog">color select dialog</link> pops
            up.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shadow</term>
        <listitem>
          <para>
            Optionally the filter creates a layer containing a
            <link linkend="script-fu-drop-shadow">drop shadow</link>. The
            shadow layer will be moved <guilabel>Shadow X offset</guilabel>
            pixels to the right and <guilabel>Shadow Y offset</guilabel>
            pixels down. Note that this may enlarge the image, while the
            background layer will keep the size of the active layer.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <para>
      The numerous options may give the impression that this is a very
      complicate filter, but actually it is fairly simple. The interesting
      part is how the filter handles the active layer and the outline layer:
    </para>
    <para>
      In the active layer, the filter creates a
      <link linkend="gimp-layer-alpha-selection-replace">selection from the
      alpha channel</link> and fills the selection with the specified gradient
      blend or pattern.
    </para>
    <para>
      Then a new <quote>outline</quote> layer below the active layer will be
      created in a similar way: First, the active layer's alpha will be used
      to make a selection. But before filling the selection with a gradient or
      a pattern, the selection will be
      <link linkend="gimp-selection-grow">enlarged</link> by <guilabel>Outline
      size</guilabel> pixels.
    </para>
    <para>
      When you filled both layers with the same pattern or gradient blend, you
      will still see a border (<quote>outline</quote>), because
    </para>
    <itemizedlist>
      <listitem>
        <para>
          a 3D effect will be applied to the outline layer using the active
          layer as a <link linkend="plug-in-bump-map">bump map</link>;
        </para>
      </listitem>
      <listitem>
        <para>
          the <link linkend="gimp-concepts-layer-modes">layer mode</link> of
          the active layer will be set to <quote>Screen</quote>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      The last (optional) step is to fill the outline layer with a pattern,
      using the <quote>overlay</quote> layer
      <link linkend="gimp-tools-paint-options">mode</link>. This will combine
      the pattern with the pattern or gradient used before. To learn more
      about the result of using the overlay mode, see the description in
      <xref linkend="gimp-concepts-layer-modes"/>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude"
       id="script-fu-glowing-logo-alpha">
  <title>Glowing Hot</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Glowing Hot</tertiary>
  </indexterm>
  <indexterm>
    <primary>Glowing Hot</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Glowing Hot</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-glowing.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Glowing Hot</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/glowing-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Glowing Hot</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds a glowing hot metal effect to the alpha (that is to
      these areas of the active layer defined by the non-transparent pixels).
    </para>
    <para>
      The filter is derived from the <quote>Glowing Hot</quote> script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Glowing Hot</guimenuitem>
      </menuchoice> in the image window),
      which creates a glowing text logo (see above).
    </para>
    <para>
      The filter simulates a red-hot, a yellow-hot, and a white-hot area -
      each color representing a different metal temperature -; the alpha's
      outline shines through the glowing.
    </para>
    <xi:include href="about-resizing-image.xml"/>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Glowing Hot</guimenuitem>
      </menuchoice>.
    </para>
    <para>
      The filter only works if the active layer has an alpha channel.
      Otherwise, the menu entry is insensitive and grayed out.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Glowing Hot</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/glowing-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Effect size (pixels * 3)</term>
        <listitem>
          <para>
            This is actually the font size option of the <quote>Glowing
            Hot</quote> logo. The value is used to calculate the size of the
            feathering border (cf <xref linkend="gimp-selection-feather"/>)
            before the alpha is filled with red, yellow, and white. These
            feathered colors make the hot metal effect.
          </para>
          <figure>
            <title>Effect size examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/glowing-effect-50.jpg"/>
              </imageobject>
              <caption>
                <para>Effect size 50</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/glowing-effect-350.jpg"/>
              </imageobject>
              <caption>
                <para>Effect size 350</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            This is the color used to fill the <quote>Background</quote>
            layer; it defaults to black (7,0,20). Click on the button to open
            a color selector, if you want to choose a different color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <para>
      To create the glowing effect (red-hot, yellow-hot, and white-hot area),
      the alpha is feathered and then filled with the respective color, from
      red to white with decreasing feather sizes and color intensities in the
      feathered area.
    </para>
    <para>
      The illustration below shows the <quote>hot metal</quote> colors
      and the width of the feathering border in percent of
      <quote>EffectÂ size</quote> (these are the values the filter
      actually uses).
    </para>
    <figure>
      <title>Effect size</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/glowing-effectsize.png"/>
        </imageobject>
        <caption>
          <para>
            Glowing hot metal colors and their relative feather sizes
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      In the example images you can see how the alpha's outline shines through
      the glowing. This is achieved with a alpha filled with black as top
      layer, where the <link linkend="gimp-concepts-layer-modes">layer
      mode</link> is set to <link linkend="layer-mode-overlay">overlay</link>.
      Using a black overlay layer won't change pure white, but darkens light
      colors at the alpha's edges so that the outline appears.
    </para>
  </sect3>
</sect2>
-#-#-
<!--FIXME: "Gradient Bevel" filter not documented-->
<sect2 id="script-fu-gradient-bevel-logo-alpha">
  <title>Gradient Bevel</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Gradient Bevel</tertiary>
  </indexterm>
  <indexterm>
    <primary>Gradient Bevel</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Gradient Bevel</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/alpha-to-logo/gradient-bevel.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Gradient Bevel</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <caution>
      <para>
        Sorry, there is no documentation for this filter as yet.
      </para>
    </caution>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Gradient Bevel</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Gradient Bevel</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/gradient-bevel-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Border size (pixels)</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Bevel height (sharpness)</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Bevel width</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-alpha-to-logo-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>

  <figure>
    <title>The Alpha to Logo filters menu</title>
    <mediaobject>
      <imageobject>
        <imagedata  format="PNG"
          fileref="images/menus/filters/alpha-to-logo.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    These filters correspond to the
    <link linkend="standalone-script-fu">logo-generating script-fu scripts</link>.
    They add all kinds of special effects to the alpha channel of the active
    layer (that is, to the pixels with a non-zero alpha value).
  </para>
  <note>
    <para>
      The menu items and the corresponding functions are enabled only if the
      active layer has an alpha channel. If you see that the menu items are
      grayed out, try to <link linkend="gimp-layer-alpha-add">add an alpha
      channel</link>.
    </para>
  </note>
  <para>
    The filter effect will always be applied according to the alpha values.
    The <link linkend="glossary-alpha">alpha</link> of any pixel has a value
    ranging from 0 (transparent) to 255 (fully opaque). It is possible to
    apply a filter only <emphasis>partially</emphasis> to some (or all) pixels
    by using alpha values from 1 to 254.
  </para>
  <para>
    You will notice that this is similar to
    <link linkend="gimp-concepts-selection">selecting</link> pixels partially.
    In fact, internally these filters always create a
    <link linkend="gimp-layer-alpha-selection-replace">selection from the
    alpha channel</link> by transferring the alpha values to the channel which
    represents the selection, and then work on the selection.
  </para>
  <orderedlist>
    <title>
      How to apply an <quote>Alpha to Logo</quote> filter to a selection?
    </title>
    <listitem>
      <para>
        If the active layer is the background layer, make sure that an
        alpha channel exists, otherwise
        <link linkend="gimp-layer-alpha-add">add an alpha channel</link>.
      </para>
      <tip>
        <para>
          If a layer name in the Layer Dialog is in bold, then this layer has
          no Alpha channel.
        </para>
      </tip>
    </listitem>
    <listitem>
      <para>
        Invert the selection:
        <menuchoice>
          <guimenu>Select</guimenu>
          <guimenuitem>Invert</guimenuitem>
        </menuchoice>.
      </para>
    </listitem>
    <listitem>
      <para>
        Remove the (inverted) selection:
        <menuchoice>
          <guimenu>Edit</guimenu>
          <guimenuitem>Clear</guimenuitem>
        </menuchoice>.
      </para>
    </listitem>
    <listitem>
      <para>
        Apply the <quote>Alpha to Logo</quote> filter (the filters ignore the
        selection, you don't need to re-invert the selection).
      </para>
    </listitem>
  </orderedlist>
</sect2>
-#-#-
<sect2 id="script-fu-neon-logo-alpha">
  <title>Neon</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Neon</tertiary>
  </indexterm>
  <indexterm>
    <primary>Neon</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Neon</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/logo-neon-applied.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Neon</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/neon-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Neon</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter converts the active layer's alpha into a neon-sign like
      object and optionally adds a shadow.
    </para>
    <para>
      It is derived from the <quote>Neon</quote> Script-Fu script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Neon</guimenuitem>
      </menuchoice>),
      which creates a text effect that simulates neon lighting.
    </para>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Neon</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Neon</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/neon-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Effect size (pixels * 5)</term>
        <listitem>
          <para>
            This is actually the font size option of the Neon Script-Fu
            script. Some internal values will be set in relation to this font
            size, for instance tube size, shadow offset, and blur radius. So
            it may be a good idea to select the height of your objects as a
            starting point here. (<quote>pixelsÂ *Â 5</quote> is nonsense,
            ignore it.)
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            This is the color used to fill the <quote>Background</quote>
            layer; it defaults to black. When you click on the color swatch
            button, you can choose any other color in the color selector
            dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Glow color</term>
        <listitem>
          <para>
            This is the color of the glowing neon tubes. The default is a
            typical neon-like light blue (38,211,255). Again, a click on the
            color swatch button brings up the color selector.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Create shadow</term>
        <listitem>
          <para>
            Optionally, the filter can create a drop shadow, which will have
            the same shape as the alpha channel. The shadow color is black,
            and cannot be modified. Unless you don't plan to remove the
            background layer, you should select a different
            <guilabel>BackgroundÂ color</guilabel>.
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/examples/neon-shadow.png"/>
            </imageobject>
            <caption>
              <para><quote>Neon</quote> with shadow</para>
            </caption>
          </mediaobject>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <para>
      The filter uses two layers to achieve the neon effect:
    </para>
    <figure>
      <title>The Neon effect</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/neon-tubes.png"/>
        </imageobject>
        <caption>
          <para>The <quote>Neon Tubes</quote> layer</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/neon-glow.png"/>
        </imageobject>
        <caption>
          <para>The <quote>Neon Glow</quote> layer</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The layer <quote>Neon Tubes</quote> is the active layer the filter is
      applied to. The content of this layer doesn't matter. Only the alpha
      channel does, especially its shape.
    </para>
    <para>
      The <quote>Neon Glow</quote> layer below contains the glowing of the
      neon light.
    </para>
    <para>
      Optional a <quote>Shadow</quote> layer is created below, containing a
      drop shadow in the same shape of the active layer's alpha channel. At
      the bottom a new <quote>Background</quote> layer is created filled with
      the <guilabel>Background color</guilabel>.
    </para>
    <para>Overview of the Neon filter layers:</para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/neon-4layers.png"/>
      </imageobject>
    </mediaobject>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-t-o-p-logo-alpha">
  <title>Particle Trace</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Particle Trace</tertiary>
  </indexterm>
  <indexterm>
    <primary>Particle Trace</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>

    <figure>
      <title>Examples for the <quote>Particle Trace</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/t-o-p.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Particle Trace</quote> filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/t-o-p-script-fu.jpg"/>
        </imageobject>
        <caption>
          <para>The <quote>Particle Trace</quote> logo</para>
        </caption>
      </mediaobject>
    </figure>

    <para>
      To get such images, open a new image with a transparent background,
      create selections, fill them with any color, and apply filter.
    </para>
    <para>
      This filter adds an effect, reminding of particle
      traces in a bubble chamber of nuclear physics, to the active layer
      alpha.
    </para>
    <warning>
      <para>
        The image will always be resized to the active layer's size.
      </para>
    </warning>
    <para>
      The filter is derived from the <quote>Particle Trace</quote> logo script
      (<menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
        <guimenuitem>Particle Trace</guimenuitem>
      </menuchoice>),
      which creates the text effect shown in the example above.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Particle Trace</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Particle Trace</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata  format="PNG"
            fileref="images/filters/alpha-to-logo/t-o-p-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Border size (pixels)</term>
        <listitem>
          <para>
            Actually this option is the text layer's border of the
            <quote>Particle Trace</quote> Script-Fu Logo (hence the misleading
            name). Here it determines the width of the white shadow's
            <link linkend="gimp-selection-feather">feathering</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Hit rate</term>
        <listitem>
          <para>
            This option sets the amount of light points produced by the
            <link linkend="plug-in-rgb-noise">Noise</link> filter and thus the
            amount of points converted to
            <link linkend="plug-in-sparkle">sparkles</link>. The value ranges
            from from 0.0 to 1.0, but some values may be not useful:
          </para>
          <figure>
            <title><quote>Hit rate</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/t-o-p-hits10.jpg"/>
              </imageobject>
              <caption>
                <para>Hit rate 0.10</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/t-o-p-hits25.jpg"/>
              </imageobject>
              <caption>
                <para>Hit rate 0.25</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/t-o-p-hits40.jpg"/>
              </imageobject>
              <caption>
                <para>Hit rate 0.40</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge width</term>
        <listitem>
          <para>
            Along the edge of the alpha, a new area will be created with
            radius <quote>EdgeÂ width</quote> (compare
            <xref linkend="gimp-selection-border"/>). This area will also be
            filled with the <quote>BaseÂ color</quote>, but will be a bit
            darker.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge only</term>
        <listitem>
          <para>
            If checked, the filter effect will be applied to the edge of the
            alpha channel only and the area of the alpha channel will be
            cleared.
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="JPG"
                fileref="images/filters/examples/t-o-p-edge.jpg"/>
            </imageobject>
            <caption>
              <para><quote>Edge only</quote> activated</para>
            </caption>
          </mediaobject>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Base color</term>
        <listitem>
          <para>
            This color is used to fill the area defined by the active layer's
            alpha channel. It defaults to a very dark green. As usual,
            clicking on the color swatch button opens a color selector where
            you can choose any other color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            This color is used to fill a new background layer. Note that above
            the background layer there is a white shadow layer which has
            opacity set to 90%, so you will see the background color only
            partially. If the <quote>Edge only</quote> option is enabled, the
            area of the alpha channel will be cleared and you will see the
            background color. Again, when you click on the color swatch
            button, a color selector pops up where you can select any color.
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/examples/t-o-p-layers.png"/>
            </imageobject>
            <caption>
              <para>
                The active layer (top) and the filter layers below
              </para>
            </caption>
          </mediaobject>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter details</title>
    <para>
      The filter adds <link linkend="plug-in-rgb-noise">noise</link> to the
      alpha and then turns the spots into
      <link linkend="plug-in-sparkle">sparkles</link>. Then it adds a
      <link linkend="gimp-selection-feather">feathered</link> white shadow.
    </para>
  </sect3>
</sect2>
-#-#-
<!--FIXME: "Textured" filter not documented-->
<sect2 id="script-fu-textured-logo-alpha">
  <title>Textured</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Alpha to Logo</secondary>
    <tertiary>Textured</tertiary>
  </indexterm>
  <indexterm>
    <primary>Textured</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Textured</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/alpha-to-logo/textured.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Textured</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <caution>
      <para>
        Sorry, there is no documentation for this filter as yet.
      </para>
    </caution>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Alpha to Logo</guisubmenu>
        <guimenuitem>Textured</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Textured</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/alpha-to-logo/textured-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Border size (pixels)</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pattern</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Mosaic tile type</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Starting blend</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Ending blend</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-alpha-to-logo">
  <title>Alpha to Logo Filters</title>

  <xi:include href="alpha-to-logo/introduction.xml"/>
  <xi:include href="alpha-to-logo/3d-outline.xml"/>
  <xi:include href="alpha-to-logo/alien-glow.xml"/>
  <xi:include href="alpha-to-logo/alien-neon.xml"/>
  <xi:include href="alpha-to-logo/basic.xml"/>
  <xi:include href="alpha-to-logo/blended.xml"/>
  <xi:include href="alpha-to-logo/bovination.xml"/>
  <xi:include href="alpha-to-logo/chalk.xml"/>
  <xi:include href="alpha-to-logo/chip-away.xml"/>
  <xi:include href="alpha-to-logo/chrome.xml"/>
  <xi:include href="alpha-to-logo/comic.xml"/>
  <xi:include href="alpha-to-logo/coolmetal.xml"/>
  <xi:include href="alpha-to-logo/frosty.xml"/>
  <xi:include href="alpha-to-logo/glossy.xml"/>
  <xi:include href="alpha-to-logo/glowing.xml"/>
  <xi:include href="alpha-to-logo/gradient-bevel.xml"/>
  <xi:include href="alpha-to-logo/neon.xml"/>
  <xi:include href="alpha-to-logo/t-o-p.xml"/>
  <!--removed in GIMP 2008-08-17-->
  <!--xi:include href="alpha-to-logo/starburst.xml"/-->
  <!--xi:include href="alpha-to-logo/starscape.xml"/-->
  <xi:include href="alpha-to-logo/textured.xml"/>
</sect1>
-#-#-
    </para>
  </sect3>


  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Animation</guisubmenu>
        <guimenuitem>Blend</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      <!--
        Describe how the filter options are organized in general.
        This part is optional, but helps if the filter options dialog is a bit
        more complex e.g. has some tabs etc.
       -->
    </para>
    <figure>
      <title><quote>Blend</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/animation/blend.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Intermediate frames</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Max. blur radius</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Looped</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
    </para>
  </sect3>


  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Animation</guisubmenu>
        <guimenuitem>Burn-In</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      <!--
        Describe how the filter options are organized in general.
        This part is optional, but helps if the filter options dialog is a bit
        more complex e.g. has some tabs etc.
       -->
    </para>
    <figure>
      <title><quote>Burn-In</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/animation/burn-in.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Glow color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fadeout</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fadeout width</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Corona width</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>After glow</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add glowing</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Prepare for GIF</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Speed (pixels/frame)</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-optimize">
  <title>Optimize</title>

  <anchor id="plug-in-animationoptimize" xreflabel="Optimize (for GIF)"/>
  <anchor id="plug-in-animationoptimize-diff"
    xreflabel="Optimize (Difference)"/>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Animation</secondary>
    <tertiary>Optimize</tertiary>
  </indexterm>
  <indexterm>
    <primary>Animation</primary>
    <secondary>Optimize</secondary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <para>
      An animation can contain several layers and so its size can be
      important. This is annoying for a Web page. The Optimize filters let you
      reduce this size. Many elements are shared by all layers in an
      animation; so they can be saved only once instead of being saved in all
      layers, and what has changed in each layer can be saved only.
    </para>
    <para>
      GIMP offers two Optimize filters: <guilabel>Optimize
      (Difference)</guilabel> and <guilabel>Optimize (GIF)</guilabel>. Their
      result doesn't look very different.
    </para>
  </sect3>

  <sect3>
    <title>Activate filters</title>
    <itemizedlist>
      <para>
        You can find these filters in the image menu:
      </para>
      <listitem>
        <para>
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guisubmenu>Animation</guisubmenu>
            <guimenuitem>Optimize (Difference)</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guisubmenu>Animation</guisubmenu>
            <guimenuitem>Optimize (for GIF)</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guisubmenu>Animation</guisubmenu>
            <guimenuitem>Unoptimize</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example for the Optimize animation filters</title>

    <informalfigure>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/optimize-orig.png"/>
        </imageobject>
        <caption><para>Original image</para></caption>
      </mediaobject>
    </informalfigure>
    <para>
      In this animation, the red ball goes downwards and past vertical bars.
      File size is 600 Kb.
    </para>

    <informalfigure>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/optimize-diff.png"/>
        </imageobject>
        <caption><para>Optimize (Difference)</para></caption>
      </mediaobject>
    </informalfigure>
    <para>
      File size moved to 153 Kb. Layers held only the part the background
      which will be used to remove the trace of the red ball. The common part
      of layers is transparent.
    </para>

    <informalfigure>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/optimize-gif.png"/>
        </imageobject>
      <caption><para>Optimize (GIF)</para></caption>
      </mediaobject>
    </informalfigure>
    <para>
      File size moved to 154 Kb, a bit bigger in the present example, but
      layer size has been reduced. Layers held only a rectangular selection
      which includes the part of the background which will be used to remove
      the trace of the red ball. The common part of layers is transparent.
    </para>
  </sect3>

  <sect3 id="plug-in-animationunoptimize">
    <title>Unoptimize</title>
    <para>
      The <quote>Unoptimize</quote> filter removes any optimizations on a
      layer-based animation. You may need this command if you want to edit the
      animation and it's not possible or not useful to
      <link linkend="gimp-concepts-undo">undo</link> any changes and start
      editing from the original image.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-animationplay">
  <title>Playback</title>

  <anchor id="plug-in-playback" xreflabel="Playback"/>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Animation</secondary>
    <tertiary>Playback</tertiary>
  </indexterm>
  <indexterm>
    <primary>Animation</primary>
    <secondary>Playback</secondary>
  </indexterm>
  <indexterm>
    <primary>Playback</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <para>
      This plug-in lets you play an animation from a multi-layers image (that
      could be saved in the GIF, MNG or even XCF format), to test it.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Animation</guisubmenu>
        <guimenuitem>Playback</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Playback</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/animation/playback.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>This dialog has:</para>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This preview of the animation automatically fits the frame size.
            The number of the displayed frame is shown below the preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Buttons</term>
        <listitem>
          <para>Three buttons are available:</para>
          <variablelist>
            <varlistentry>
              <term>Play/Stop</term>
              <listitem>
                <para>
                  <guibutton>Play/Stop</guibutton>
                  to play or stop the animation.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Rewind</term>
              <listitem>
                <para>
                  <guibutton>Rewind</guibutton>
                  to re-launch the animation from start.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Step</term>
              <listitem>
                <para>
                  <guibutton>Step</guibutton> to play the animation step by
                  step.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
    </para>
  </sect3>


  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Animation</guisubmenu>
        <guimenuitem>Rippling</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      <!--
        Describe how the filter options are organized in general.
        This part is optional, but helps if the filter options dialog is a bit
        more complex e.g. has some tabs etc.
       -->
    </para>
    <figure>
      <title><quote>Rippling</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/animation/rippling.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Rippling strength</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number of frames</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge behavior</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
    </para>
  </sect3>


  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Animation</guisubmenu>
        <guimenuitem>Spinning Globe</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      <!--
        Describe how the filter options are organized in general.
        This part is optional, but helps if the filter options dialog is a bit
        more complex e.g. has some tabs etc.
       -->
    </para>
    <figure>
      <title><quote>Spinning Globe</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/animation/spinning-globe.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Frames</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Turn from left to right</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Transparent background</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <!--Index to n colors (0 = remain RGB)-->
      <varlistentry>
        <term>Index to n colors</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Work on copy</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
    </para>
  </sect3>


  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Animation</guisubmenu>
        <guimenuitem>Waves</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      <!--
        Describe how the filter options are organized in general.
        This part is optional, but helps if the filter options dialog is a bit
        more complex e.g. has some tabs etc.
       -->
    </para>
    <figure>
      <title><quote>Waves</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/animation/waves.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Amplitude</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Wavelength</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number of frames</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Invert direction</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-animation">
  <title>Animation Filters</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Animation</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>

  <sect2 id="filters-animation-introduction">
    <title>Introduction</title>
    <figure>
      <title>The Animation filters menu</title>
      <mediaobject>
        <imageobject>
          <imagedata  format="PNG"
            fileref="images/menus/filters/animation.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      These are animation helpers, which let you view and optimize your
      animations (by reducing their size). We gathered <quote>Optimize
      (Difference)</quote> and <quote>Optimize (GIF)</quote> filters together,
      because they are not much different.
    </para>
  </sect2>

  <xi:include href="animation/blend.xml"/>
  <xi:include href="animation/burn-in.xml"/>
  <xi:include href="animation/rippling.xml"/>
  <xi:include href="animation/spinning-globe.xml"/>
  <xi:include href="animation/waves.xml"/>
  <!-- -->
  <xi:include href="animation/optimize.xml"/>
  <xi:include href="animation/playback.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-apply-canvas">
  <title>Apply Canvas</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Canvas effect</tertiary>
  </indexterm>
  <indexterm>
    <primary>Canvas</primary>
    <secondary>effect</secondary>
  </indexterm>
  <indexterm>
    <primary>Canvas effect</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Apply Canvas</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-applycanvas.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Apply Canvas</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter applies a canvas-like effect to the current layer or
      selection. It textures the image as if it were an artist's canvas.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Apply Canvas...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Apply Canvas</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/applycanvas.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            Your changes are displayed in this preview before being applied
            to your image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Direction</term>
        <listitem>
          <para>
            Direction sets the starting direction of the canvas render. You
            can also consider that this option gives you the position of the
            light source which lightens the canvas.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Depth</term>
        <listitem>
          <para>
            The Depth slider controls the apparent depth of the rendered
            canvas effect from 1 (very flat) to 50 (very deep).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-cartoon">
  <title>Cartoon</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Cartoon</tertiary>
  </indexterm>
  <indexterm>
    <primary>Cartoon</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Cartoon</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-cartoon.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Cartoon</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Cartoon filter modifies the active layer or selection so that it
      looks like a cartoon drawing. Its result is similar to a black felt pen
      drawing subsequently shaded with color. This is achieved by darkening
      areas that are already distinctly darker than their neighborhood.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Cartoon</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Cartoon</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/cartoon.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Mask radius</term>
        <listitem>
          <para>
            This parameter controls the size of areas the filter works with.
            Large values result in very thick black areas and much less detail
            in the resulting image. Small values result in more subtle pen
            strokes and more details preserved.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Percent black</term>
        <listitem>
          <para>
            This parameter controls the amount of black color added to the
            image. Small values make the blend from color regions to blackened
            areas smoother and dark lines themselves thinner and less
            noticeable. Larger values make the lines thicker, darker and
            sharper. The maximum value makes the lines aliased. The best, most
            natural results are usually achieved with an intermediate value.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-clothify">
  <title>Clothify</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Clothify</tertiary>
  </indexterm>
  <indexterm>
    <primary>Clothify</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of Clothify</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-clothify.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Clothify</quote> applied (in selection)</para>
        </caption>
      </mediaobject>
    </figure>

    <para>
      <guimenuitem>Clothify</guimenuitem> command is a script which
      adds a cloth-like texture to the selected region or alpha.
    </para>
    <para>
      If the image is in indexed colors, this menu entry is grayed out
      and unavailable.
    </para>
    <para>This effect is achieved through the following steps:</para>
    <procedure>
      <step>
        <para>
          Create an image in the same size as the original image, or selection
          or region in alpha if it is given, then add a layer to this image
          filled with white and
          <link linkend="plug-in-rgb-noise">noisified</link> strongly.
        </para>
      </step>
      <step>
        <para>
          Reproduce a layer from the recently added layer and set the mode of
          the upper layer to
          <link linkend="layer-mode-multiply">Multiply</link>.
        </para>
      </step>
      <step>
        <para>
          Apply <link linkend="plug-in-gauss">Gaussian blur</link> in
          different directions, horizontally on the lower layer by the given
          parameter <guilabel>Blur X</guilabel> as the radius, and vertically
          on the upper layer with <guilabel>Blur Y</guilabel>.
        </para>
      </step>
      <step>
        <para>
          Merge these two layers into an image and make its contrast
          <link linkend="plug-in-c-astretch">expanded as possibly</link>, then
          slightly noisify again on this working image.
        </para>
      </step>
      <step>
        <para>
          Finally do <link linkend="plug-in-bump-map">bump map</link> on the
          original image by the working image with parameters
          <guilabel>Azimuth</guilabel>, <guilabel>Elevation</guilabel>, and
          <guilabel>Depth</guilabel>.
        </para>
      </step>
    </procedure>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Clothify...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Clothify</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/clothify.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      <guilabel>Azimuth</guilabel>, <guilabel>Elevation</guilabel>, and
      <guilabel>Depth</guilabel> come from
      <link linkend="plug-in-bump-map">Bump Map</link> filter.
    </para>
    <variablelist>
      <varlistentry>
        <term>Blur X</term>
        <term>Blur Y</term>
        <listitem>
          <para>
            These parameters lengthen fibers of the texture, horizontally
            by <guilabel>Blur X</guilabel>, and vertically by
            <guilabel>Blur Y</guilabel>.  The range of value is between
            3 to 100.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Azimuth</term>
        <listitem>
          <para>
            <guilabel>Azimuth</guilabel> slider controls the bearings
            where light comes from according to the point of the compass.
            Both the minimum value (0.00) and the maximum value (360.00)
            are the direction of three o'clock on the dial panel of an
            analogue clock.  Increasing value goes counter-clockwise.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Elevation</term>
        <listitem>
          <para>
            <guilabel>Elevation</guilabel> slider controls the height
            where light comes from.  For the minimal value (0.50)
            the light comes from horizon, and for the maximum value
            (90.0) the light comes from zenith.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Depth</term>
        <listitem>
          <para>
            <guilabel>Depth</guilabel> slider controls distance between bump
            height and hollow depth.  Increasing value causes more rugged
            features.  Values vary from 1 to 65.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-cubism">
  <title>Cubism</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Cubism</tertiary>
  </indexterm>
  <indexterm>
    <primary>Cubism</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Cubism</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-cubism.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Cubism</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Cubism plug-in modifies the image so that it appears to be
      constructed of small squares of semitransparent tissue paper.
    </para>
    <tip>
      <para>
        If setting possibilities of this filter are not enough for you, see
        <link linkend="plug-in-gimpressionist">GIMPressionist</link> filter
        which offers more options.
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Cubism</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Cubism</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/cubism.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            Your changes are displayed in this preview before being applied
            to your image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile size</term>
        <listitem>
          <para>
            This variable determines the size, in pixels, of the squares to
            be used. This is, in effect, the size of the little squares of
            tissue paper used in generating the new image. The slider can be
            used, the exact pixel size can be entered into the text box, or
            the arrow buttons can be used.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile saturation</term>
        <listitem>
          <para>
            This variable specifies how intense the color of the squares
            should be. This affects the opacity of the squares. A high value
            will render the squares very intensely and does not allow lower
            squares to show through. A lower value allows the lower squares
            to be more visible through the higher ones and causes more
            blending in the colors. If this is set to 0 and Use Background
            Color is not checked, the entire layer will be rendered black.
            If it is checked and the value here is zero, the background
            color will fill the entire layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use background color</term>
        <listitem>
          <para>
            This filter creates its tiles from all the colors of the image
            and paint them with a color scale which depends on the Tile
            Saturation. With a low Tile Saturation, this color scale lets the
            background color appear: default is black as you can see by
            setting Tile Saturation to 0. When this option is checked, the
            background color of the Toolbox is used. If your image has an
            Alpha channel, this color scale will also be transparent.
          </para>
          <figure>
            <title>
              Example illustrating the action of the <quote>Use BackGround
              color</quote> option
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/artistic/cubism-background1.png"/>
              </imageobject>
              <caption>
                <para>
                  The original image and the color area of Toolbox. BG color
                  is blue.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>The option is not checked</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/artistic/cubism-background2.png"/>
              </imageobject>
              <caption>
                <para>
                  The option is not checked. On the left is no Alpha:
                  background is black. On the right is Alpha: background is
                  transparent black.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>The option is checked</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/artistic/cubism-background3.png"/>
              </imageobject>
              <caption>
                <para>
                  The option is checked. On the left, no Alpha: background is
                  blue. On the right, with an Alpha channel, background is
                  transparent blue.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
    <tip>
      <para>
        If you are using this to generate background images for web pages and
        the like, work with a small range of colors painted randomly on a
        small square. Then apply the Cubism filter with the desired settings.
        As a last step, try
        <link linkend="plug-in-make-seamless">Make Seamless</link>
        to adjust the image so it will tile seamlessly in your background.
      </para>
    </tip>
  </sect3>
</sect2>
-#-#-
<sect3 id="gimpressionist-orient-map-editor">
  <title>Orientation Map Editor</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>GIMPressionist</tertiary>
  </indexterm>
  <indexterm>
    <primary>GIMPressionist</primary>
  </indexterm>

  <sect4>
    <title>Overview</title>
    <para>
      The Orientation-map editor is an annexe of the
      <link linkend="plug-in-gimpressionist">GIMPressionist</link> filter. You
      can get to it by clicking on the <guibutton>Edit</guibutton> button in
      the
      <link linkend="gimpressionist-orientation-options">Orientation</link>
      tab. With this editor, you can set the direction that brush strokes
      given by filter will have.
    </para>
  </sect4>

  <sect4>
    <!-- Parameter Settings -->
    <title>Options</title>
    <figure>
      <title>
        Options of the <quote>Orientation-map Editor</quote> dialog
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/gimpressionist-orientmap-editor.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <para>
        You can place one or several vectors. You can set their direction and
        their strength. They will act on the corresponding area of the image.
      </para>
      <varlistentry>
        <term>Vectors</term>
        <listitem>
          <para>
            In the left windows (Vectors) you can manage your vectors. By
            default, a vector is at center. Vectors are red when they are
            active, and grey when they are not with a white point at tip.
          </para>
          <itemizedlist>
            <listitem>
              <para>
                By clicking on the <guibutton>Add</guibutton> button, you add
                a vector at center of the window, whereas clicking with the
                mouse <mousebutton>Middle&nbsp;Button</mousebutton> puts it
                where you click.
              </para>
            </listitem>
            <listitem>
              <para>
                Clicking with the mouse
                <mousebutton>Left&nbsp;Button</mousebutton> displaces the
                selected vector to the clicked point.
              </para>
            </listitem>
            <listitem>
              <para>
                When clicking with the mouse
                <mousebutton>Right&nbsp;Button</mousebutton>, the selected
                vector points to where you have clicked.
              </para>
            </listitem>
            <listitem>
              <para>
                Clicking on <guibutton>&lt;&lt;</guibutton> and
                <guibutton>&gt;&gt;</guibutton> buttons displaces focus from a
                vector to another.
              </para>
            </listitem>
            <listitem>
              <para>
                The <guilabel>Delete</guilabel> button allows you to delete
                the selected vector.
              </para>
            </listitem>
          </itemizedlist>
          <tip>
            <para>
              With the scroll bar on the right of the Vectors panel, you can
              set the image brightness. This can be very useful if the image
              is very dark/bright and you can't see vectors well.
            </para>
          </tip>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This Preview gives you an idea of the action of the various
            vectors. The slider on the right border lets you change the
            luminosity of this preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Type</term>
        <listitem>
          <para>
            You have there some types to arrange the brush strokes within the
            selected vector domain. Describing them is difficult, but you can
            see the result in the Preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimpressionist-editor-voronoi">
        <term>Voronoi</term>
        <listitem>
          <indexterm>
            <primary>Voronoi</primary>
          </indexterm>
          <para>
            A Voronoi's diagram consists in
            partitioning a plane with n master points into n polygons
            where each polygon has only one of these n master points and
            where any given other point of the polygon is closer to the
            master point than to any other. So each polygon limit is
            midway between two master point. Here is an example of a
            Voronoi's diagram:
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/voronoi.png"/>
              </imageobject>
            </mediaobject>
            Here, when this option is checked, only the vector closest to
            a given point of the image influences this point.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>
            Direction of the selected vector.
            This slider has the same action as right-clicking (see above).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Angle offset</term>
        <listitem>
          <para>
            This slider allows you to change the angle of
            <emphasis>all</emphasis> vectors.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Strength</term>
        <listitem>
          <para>
            This slider acts on the influence domain of the selected vector.
            This influence lowers with distance. Strength is showed with the
            vector length.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Strength exp.</term>
        <listitem>
          <para>
            This slider acts on the length of <emphasis>all</emphasis>
            vectors, and so changes the strength of all brush strokes.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect4>
</sect3>
-#-#-
<sect3 id="gimpressionist-size-map-editor">
  <title>Size Map Editor</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>GIMPressionist</tertiary>
  </indexterm>
  <indexterm>
    <primary>GIMPressionist</primary>
  </indexterm>

  <sect4>
    <title>Overview</title>
    <para>
      The Size-map editor is an annexe of the
      <link linkend="plug-in-gimpressionist">GIMPressionist</link> filter. You
      can get to it by clicking on the <guibutton>Edit</guibutton> button in
      the <link linkend="gimpressionist-size-options">Size</link> tab. With
      this editor, you can set the size that brush strokes given by filter
      will have.
    </para>
  </sect4>

  <sect4>
    <!-- Parameter Settings -->
    <title>Options</title>
    <figure>
      <title>Size-map editor options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/gimpressionist-sizemap-editor.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <para>
        You can place one or several vectors. You can set their strength. They
        will act on the corresponding area of the image.
      </para>
      <varlistentry>
        <term>Smvectors</term>
        <listitem>
          <para>
            In this window you can place your vectors. By clicking on
            the <guibutton>Add</guibutton> button, you add a vector at the
            center of the window, whereas clicking with the mouse
            <mousebutton>Middle&nbsp;Button</mousebutton> puts it where you
            click.  Vectors are red when selected, and gray when they are not,
            with a white point at tip.
          </para>
          <para>
            Clicking with the mouse
            <mousebutton>Left&nbsp;Button</mousebutton> displaces the selected
            vector to the clicked point.
          </para>
          <para>
            Clicking on the mouse
            <mousebutton>Right&nbsp;Button</mousebutton>, has no evident
            action.
          </para>
          <para>
            Clicking on <guibutton>&lt;&lt;</guibutton> and
            <guibutton>&gt;&gt;</guibutton> buttons displaces focus from a
            vector to another.
          </para>
          <para>
            The <guibutton>Kill</guibutton> button allows you to delete
            the selected vector.
          </para>
          <tip>
            <para>
              With the scroll bar on the right of the Vectors panel, you can
              set the image brightness. This can be very useful if the image
              is very dark/bright and you can't see vectors well.
            </para>
          </tip>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This Preview gives you an idea of the action of the different
            vectors. The size of squares represent the size of the brushes and
            their strength.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            Change the size of the brush strokes in the selected vector
            domain.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Strength</term>
        <listitem>
          <para>
            This slider acts on the influence domain of the selected vector.
            This influence lowers with distance.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Strength exp.</term>
        <listitem>
          <para>Change the exponent of the stroke.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Voronoi</term>
        <listitem>
          <para>
            See <link linkend="gimpressionist-editor-voronoi">Orientation Map
            Editor</link> for an explanation.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect4>
</sect3>
-#-#-
<sect2 id="plug-in-gimpressionist" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>GIMPressionist</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>GIMPressionist</tertiary>
  </indexterm>
  <indexterm>
    <primary>GIMPressionist</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>GIMPressionist</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-gimpressionist.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>GIMPressionist</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The GIMPressionist filter is the king of Artistic filters. It can do
      what <link linkend="plug-in-cubism">Cubism</link> and
      <link linkend="plug-in-apply-canvas">Apply Canvas</link> do and much
      more. It gives your image the look of a painting. All is going as if
      your image was painted again on a paper and with a brush you'd have
      chosen. It works on the active layer or selection.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter via the image menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>GIMPressionist</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <!-- Parameter Settings -->
    <title>Options</title>
    <figure>
      <title>GIMPressionist options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/gimpressionist.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The dialog window consists of a small Preview area on the left, which is
      always visible, and a huge amount of GIMPressionist options organized in
      tabs.
    </para>

    <sect4>
      <title>Preview</title>
      <para>
        All your setting changes will appear in the Preview without affecting
        the image until you click on <guibutton>OK</guibutton>. The
        <guibutton>Update</guibutton> button refreshes the preview window (it
        is not automatic, GIMPressionist has so much work to do!), and the
        <guibutton>Reset</guibutton> button reverts to the original image.
      </para>
    </sect4>

    <sect4>
      <title>Presets tab</title>
      <figure>
        <title><quote>Presets</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        GIMPressionist has a lot of parameters. When combined, they
        give an astronomical number of possibilities. So, it is important,
        when an interesting preset has been found, to save it and also to
        send it to the plugin author if exceptional. Per contra, the
        intricacy of all these parameters makes difficult understanding
        and foreseeing how each one works.
      </para>
      <variablelist>
        <title>Presets options</title>
        <varlistentry>
          <term>Save Current</term>
          <listitem>
            <para>
              Save current parameters.
              You can give a name in the input box on the left and a short
              description in the dialog that appear.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Apply</term>
          <listitem>
            <para>
              Load the parameters of the selected preset in the list.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Delete</term>
          <listitem>
            <para>
              Delete the selected preset. You can delete only the presets you
              have created.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Refresh</term>
          <listitem>
            <para>Update the preset list.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Paper tab</title>
      <figure>
        <title><quote>Paper</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab concerns the texture of the canvas your image will be painted
        on. You have a list of textures and a <guilabel>Preview</guilabel> for
        the selected texture. A description is displayed on the right for
        every texture when selected.
      </para>
      <variablelist>
        <title>Paper options</title>
        <varlistentry>
          <term>Invert</term>
          <listitem>
            <para>
              Inverts the paper texture: what was a hollow turns to a bump
              and vice-versa.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Overlay</term>
          <listitem>
            <para>
              Apply the paper as it, without embossing it. It looks like
              if a transparent paper has been overlayed on the image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Scale</term>
          <listitem>
            <para>
              Specifies the scale of the texture (in % of the original
              file): controls the graininess of the texture.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Relief</term>
          <listitem>
            <para>
              Specifies the amount of embossing to apply (3-150).
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Brush tab</title>
      <figure>
        <title><quote>Brush</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist3.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        <quote>Brush</quote> is a general term for any material used to paint.
        A list of brushes is available with a <guilabel>Preview</guilabel> for
        the selected one.
      </para>
      <variablelist>
        <title>Brush options</title>
        <varlistentry>
          <term>Gamma</term>
          <listitem>
            <para>
              Changes the gamma (luminosity) of the selected brush. The
              gamma correction brightens or darkens midtones.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Select</term>
          <listitem>
            <para>
              You can also use a brush pattern you have created by
              selecting its image (arrow button on the Select line). This
              image must be on your screen before you launch the filter to
              be taken in account. Of course, don't use big images.
            </para>
            <para>
              If your image has several layers, they also will be
              displayed in the Select list and can be used as a brush.
              When selected, the layer appears in the brush preview and
              the normal brush is deselected.
            </para>
            <para>
              The <guibutton>Save as</guibutton>
              button allows you to save the selected brush.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Aspect ratio</term>
          <listitem>
            <para>
              Specifies the brush proportions, height (0 -1) and width (0
              +1).
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Relief</term>
          <listitem>
            <para>
              Specifies the amount of paint used for each stroke. This may
              evoke painting with a palette knife.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4 id="gimpressionist-orientation-options">
      <title>Orientation tab</title>
      <figure>
        <title><quote>Orientation</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist4.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab allows to set the orientation of the brush strokes. A painter
        is not obliged to go over with the same paintbrush angle. To perform
        some effects, he can vary their orientation.
      </para>
      <variablelist>
        <title>Orientation options</title>
        <varlistentry>
          <term>Directions</term>
          <listitem>
            <para>
              With this option, you can set how many times the brush will pass
              through a same place, with each time a different direction,
              resulting in a more and more thick paint.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Start angle</term>
          <listitem>
            <para>
              Specifies the general direction of the strokes, the angle that
              the angle range will start from. Directions are often chosen to
              give some movement to the image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Angle span</term>
          <listitem>
            <para>
              Specifies the angle, the sector, of the stroke <quote>fan</quote>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Orientation</term>
          <listitem>
            <para>Specifies the direction of the brush strokes.</para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Value</guilabel></term>
                <listitem>
                  <para>
                    Let the value (luminosity) of the region determine the
                    direction of the stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Radius</guilabel></term>
                <listitem>
                  <para>
                    The distance from the center of the image determines
                    the direction of the stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Random</guilabel></term>
                <listitem>
                  <para>Select a random direction for each stroke.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Radial</guilabel></term>
                <listitem>
                  <para>
                    Let the direction from the center determine the direction
                    of the stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Flowing</guilabel></term>
                <listitem>
                  <para>
                    Not a direction question here: the strokes follow a
                    <quote>flowing</quote> pattern.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Hue</guilabel></term>
                <listitem>
                  <para>
                    Let the hue of the region determine the direction of the
                    stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Adaptive</guilabel></term>
                <listitem>
                  <para>
                    The brush direction that matches the original image the
                    closest is selected.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Manual</guilabel></term>
                <listitem>
                  <para>
                    The <guilabel>Edit</guilabel> button opens the
                    <link linkend="gimpressionist-orient-map-editor">Edit
                    orientation Map dialog</link> that allows you to set the
                    directions manually.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist> <!--end of "brush stroke Orientation"-->
          </listitem>
        </varlistentry>
      </variablelist> <!--end of "Orientation options"-->
    </sect4>

    <sect4 id="gimpressionist-size-options">
      <title>Size tab</title>
      <figure>
        <title><quote>Size</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist5.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab allows you to set the number of brush sizes that will be used
        to paint, the limits of variation of these sizes and the criterion
        used to determine them.
      </para>
      <variablelist>
        <title>Size options</title>
        <para>
          You can specify how many brush sizes are to be used and their sizes.
        </para>
        <varlistentry>
          <term>Sizes</term>
          <listitem>
            <para>The number of brush sizes to use.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Minimum size</term>
          <term>Maximum size</term>
          <listitem>
            <para>
              The brush sizes are between these two values. The greater the
              size, the greater the length and width of strokes.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Size</term>
          <listitem>
            <para>
              You have there options to specify how the size of strokes
              will be determined.
            </para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Value</guilabel></term>
                <listitem>
                  <para>
                    Let the value (luminosity) of the region determine the
                    size of the stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Radius</guilabel></term>
                <listitem>
                  <para>
                    The distance from the center of the image determines the
                    size of the stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Random</guilabel></term>
                <listitem>
                  <para>Select a random size for each stroke.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Radial</guilabel></term>
                <listitem>
                  <para>
                    Let the direction from the center determine the size of
                    the stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Flowing</guilabel></term>
                <listitem>
                  <para>
                    Not a length question here: the strokes follow a
                    <quote>flowing</quote> pattern.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Hue</guilabel></term>
                <listitem>
                  <para>
                    Let the hue of the region determine the size of the
                    stroke.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Adaptive</guilabel></term>
                <listitem>
                  <para>
                    The brush size that matches the original image the closest
                    is selected.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Manual</guilabel></term>
                <listitem>
                  <para>
                    The <guilabel>Edit</guilabel> button opens the
                    <link linkend="gimpressionist-size-map-editor">Size Map
                    Editor</link>. That allows you to specify the size of
                    strokes by yourself.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist> <!--end of "brush stroke Size"-->
          </listitem>
        </varlistentry>
      </variablelist> <!--end of "Size options"-->
    </sect4>

    <sect4>
      <title>Placement tab</title>
      <figure>
        <title><quote>Placement</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist6.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab you can set how strokes will be distributed.
      </para>
      <variablelist>
        <title>Placement options</title>
        <varlistentry>
          <term>Placement</term>
          <listitem>
            <para>
              In the preview of the Orientation Map Editor, all small
              arrows look like a flow around objects. Inside this flow,
              strokes may be placed in two different ways:
            </para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Randomly</guilabel></term>
                <listitem>
                  <para>
                    Places strokes randomly. This produces a more realistic
                    paint.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Evenly distributed</guilabel></term>
                <listitem>
                  <para>
                    Strokes are evenly distributed across the image.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Stroke density</term>
          <listitem>
            <para>
              The greater the density the closer the strokes. With a low
              density, the paper or background may be visible in unstroke
              areas.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Centered</term>
          <listitem>
            <para>Focus brush strokes around center.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Color tab</title>
      <figure>
        <title><quote>Color</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist7.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab, you can set what the stroke color will be.
      </para>
      <variablelist>
        <title>Color options</title>
        <varlistentry>
          <term>Color</term>
          <listitem>
            <para>
              You can set the stroke color in two ways:
            </para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Average under brush</guilabel></term>
                <listitem>
                  <para>
                    Stroke color is computed from the average of all
                    pixels under the brush.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Center of brush</guilabel></term>
                <listitem>
                  <para>
                    Samples the color from the pixel in the center of the
                    brush.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Color noise</term>
          <listitem>
            <para>
              This slider, and its input box, allow you to introduce noise
              in the stroke color, that will look less homogeneous.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>General tab</title>
      <figure>
        <title><quote>General</quote> tab options</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/artistic/gimpressionist8.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab you can set what will be the background and the relief
        of brush strokes.
      </para>
      <variablelist>
        <title>General options</title>
        <varlistentry>
          <term>Background</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Keep original</guilabel></term>
                <listitem>
                  <para>
                    The original image will be used as a background.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>From paper</guilabel></term>
                <listitem>
                  <para>
                    Copy the texture of the selected paper as a background.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Solid</guilabel></term>
                <listitem>
                  <para>
                    By clicking on the color dwell you can select a solid
                    colored background.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Transparent</guilabel></term>
                <listitem>
                  <para>
                    Use a transparent background. Only the painted strokes
                    will be visible. This option is available only if your
                    image has an alpha channel.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Paint edges</term>
          <listitem>
            <para>
              If it is disabled, a thin border will not be painted around
              the outside border of the image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Tileable</term>
          <listitem>
            <para>
              If checked, the resulting image will be seamlessly tileable.
              The right side will match the left side and the top will
              match the bottom. This is interesting if your image will be
              repeatedly used in a Web background.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Drop shadow</term>
          <listitem>
            <para>Add a shadow effect to each brush stroke.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Edge darken</term>
          <listitem>
            <para>
              How much to darken the edges of each brush stroke. This
              increases paint relief or thickness.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Shadow darken</term>
          <listitem>
            <para>How much to darken the brush shadow.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Shadow depth</term>
          <listitem>
            <para>
              How far apart from the object the drop shadow should be.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Shadow blur</term>
          <listitem>
            <para>How much to blur the drop shadow.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Deviation threshold</term>
          <listitem>
            <para>
              A bail-out value for adaptive selections of brush size.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>

  <!-- GIMPressionist Orientation Map Editor
       (id=gimpressionist-orientation-map-editor) -->
  <xi:include href="GIMPressionist-orientmap.xml"/>

  <!-- GIMPressionist Size Map Editor (id=gimpressionist-size-map-editor) -->
  <xi:include href="GIMPressionist-sizemap.xml"/>

</sect2>
-#-#-
<sect2 id="filters-artistic-introduction">
  <title>Introduction</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <para>
    Artistic filters create artistic effects like cubism, oil painting,
    canvas...
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-oilify">
  <title>Oilify</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Oilify</tertiary>
  </indexterm>
  <indexterm>
    <primary>Oilify</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Oilify</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-oilify.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Oilify</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter makes the image look like an oil painting. The
      <guilabel>Mask size</guilabel> controls the outcome: a high value gives
      the image less detail, as if you had used a larger brush.
    </para>
    <tip>
      <para>
        The GIMPressionist filter can produce similar effects, but
        allows a much wider variety of options.
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Oilify...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Oilify</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/oilify.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Mask size</term>
        <listitem>
          <para>
            Mask size selects the size of the brush mask used to paint the
            oily render. Larger values here produce an oilier render.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use mask-size map</term>
        <listitem>
          <para>
            You may use a mask-size map to control
            <guilabel>Mask&nbsp;size</guilabel> partially. Mask size is
            reduced accordings to darkness in each pixel of the map image.
            You can select a map image among the current opened images of the
            same size as the source image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Exponent</term>
        <listitem>
          <para>
            Exponent selects density of the brush mask used to paint the
            oily render.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use exponent map</term>
        <listitem>
          <para>
            You may use an exponent map to control density of brush touch
            partially. Density is reduced accordings to darkness in each pixel
            of the map image. You can select a map image among the current
            opened images of the same size as the source image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use intensity algorithm</term>
        <listitem>
          <para>
            <quote>Use intensity algorithm</quote> changes the mode of
            operation to help preserve detail and coloring.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-photocopy">
  <title>Photocopy</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Photocopy</tertiary>
  </indexterm>
  <indexterm>
    <primary>Photocopy</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Photocopy</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-photocopy.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Photocopy</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Photocopy filter modifies the active layer or selection so that it
      looks like a black and white photocopy, as if toner transferred was
      based on the relative darkness of a particular region. This is achieved
      by darkening areas of the image which are measured to be darker than a
      neighborhood average, and setting other pixels to white.
    </para>
    <tip>
      <para>
        You may use this filter to sharpen your image. Create a copy of
        the active layer and use the filter on the copy. Set the
        <link linkend="gimp-concepts-layer-modes">Layer Mode</link> to
        <guilabel>Multiply</guilabel> and adjust the opacity slider
        to get the best result.
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Starting filter</title>
    <para>
      You can find this filter from the image menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Photocopy</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Photocopy</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/photocopy.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            Your changes are displayed in this preview before being applied
            to your image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Mask radius</term>
        <listitem>
          <para>
            This parameter controls the size of the pixel neighbourhood over
            which the average intensity is computed and then compared to each
            pixel in the neighborhood to decide whether or not to darken it.
            Large values result in very thick black areas bordering the
            regions of white and much less detail for black areas. Small
            values result in less toner overall and more details everywhere.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sharpness</term>
        <listitem>
          <para>
            With this option, you can set photocopy sharpness, from 0.0 to
            1.0.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Percent black</term>
        <listitem>
          <para>
            This parameter controls the amount of black color added to the
            image. Small values make the blend from color regions to blackened
            areas smoother and dark lines themselves thinner and less
            noticeable. Larger values make the lines thicker, darker and
            sharper. The maximum value makes the lines aliased. The best, most
            natural results are usually achieved with an intermediate value.
            Values vary from 0.0 to 1.0.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Percent white</term>
        <listitem>
          <para>
            This parameter increases white pixels percentage.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-predator">
  <title>Predator</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Predator</tertiary>
  </indexterm>
  <indexterm>
    <primary>Predator</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Predator</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-predator.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Predator</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
       This filter adds a <quote>Predator</quote> effect to the image. The
       predator effect makes the image/selection look something like the view
       the predator has in movies (kind of a thermogram and that type of
       thing). This will reduce the image to edges in a few basic colors on a
       dark background.
    </para>
    <para>
       If there is an active selection, the filter effect will be applied to
       the selected region, otherwise to the alpha channel (the filter will
       add an alpha channel, if necessary). The filter works best on colorful
       RGB images.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Predator</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Predator</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/predator.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Edge amount</term>
        <listitem>
          <para>
            The <quote>predator</quote> filter will detect edges using the
            Sobel <link linkend="plug-in-edge">edge detector</link>. The
            specified <quote>Edge amount</quote> will be passed to the Sobel
            filter. A high value will result in detecting more edges.
          </para>
          <figure>
            <title><quote>Edge amount</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/predator-edge4.png"/>
              </imageobject>
              <caption>
                <para>4</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/predator-edge8.png"/>
              </imageobject>
              <caption>
                <para>8</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/predator-edge16.png"/>
              </imageobject>
              <caption>
                <para>16</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pixelize</term>
        <listitem>
          <para>
            If checked, the filter will simplify the image into solid-colored
            squares using the <link linkend="plug-in-pixelize">Pixelise</link>
            filter before the real predator effect will be applied. You can
            select the size of these squares with the option <guilabel>Pixel
            amount</guilabel>, which will heavily affect the result (see
            examples below).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pixel amount</term>
        <listitem>
          <para>
            <quote>Pixel amount</quote> is the size of the color blocks the
            image will be simplified to if <guilabel>Pixelize</guilabel> is
            checked. Actually you are decreasing the resolution with this
            option. In the examples below, you can see directly how increasing
            the pixel block size leads to something like
            <quote>macro pixels</quote>:
          </para>
          <figure>
            <title><quote>Pixelize</quote> examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/predator-pixelize0.png"/>
              </imageobject>
              <caption>
                <para>Disabled</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/predator-pixelize4.png"/>
              </imageobject>
              <caption>
                <para>4</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/predator-pixelize8.png"/>
              </imageobject>
              <caption>
                <para>8</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/predator-pixelize16.png"/>
              </imageobject>
              <caption>
                <para>16</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep selection</term>
        <listitem>
          <para>
            If checked, the filter will be applied to the active selection.
            Else, it will be applied to the active layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Separate layer</term>
        <listitem>
          <para>
            When this option is checked, a copy of the active layer will be
            created above the active layer and the filter will be applied to
            this copy, leaving the original layer untouched. If not checked,
            the filter will be applied to the active layer.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Filter algorithm</title>
    <para>
      Since this filter delegates the essential parts to two or three other
      filters the algorithm is very simple:
    </para>
    <procedure>
      <figure>
        <title>Making the <quote>predator</quote> effect</title>
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
              fileref="images/filters/examples/predator-step0.jpg"/>
          </imageobject>
          <caption>
            <para>Original</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
              fileref="images/filters/examples/predator-step1.jpg"/>
          </imageobject>
          <caption>
            <para>Pixelize</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
              fileref="images/filters/examples/predator-step2.jpg"/>
          </imageobject>
          <caption>
            <para>Min RGB</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
              fileref="images/filters/examples/predator-step3.jpg"/>
          </imageobject>
          <caption>
            <para>Edge detection</para>
          </caption>
        </mediaobject>
      </figure>
      <step>
        <para>The original image.</para>
      </step>
      <step>
        <para>
          Optionally, the filter
          <link linkend="plug-in-pixelize">pixelizes</link> the image: it
          renders the image by using color blocks instead of pixels, thus
          reducing the image resolution.
        </para>
      </step>
      <step>
        <para>
          The colors will be reduced to pure red, green, blue (and possibly
          gray colors), using the <link linkend="plug-in-max-rgb">minimal
          RGB</link> channel for every pixel.
        </para>
      </step>
      <step>
        <para>
          Applying the <link linkend="plug-in-edge">Sobel edge
          detecting</link> filter, the image will be reduced further on to
          edges, usually on a black background, with very few colors.
        </para>
      </step>
    </procedure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-softglow">
  <title>Softglow</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Softglow</tertiary>
  </indexterm>
  <indexterm>
    <primary>Softglow</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>SoftGlow</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-softglow.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Softglow</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para><!--Like the old trick smearing vaseline on the lens-->
      This filter lights the image with a soft glow. Softglow produces this
      effect by making bright areas of the image brighter.
    </para>
  </sect3>

  <sect3>
    <title>Starting filter</title>
    <para>
      You can find this file in the Image menu through:
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Softglow</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Softglow</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/softglow.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            Your changes are displayed in this preview before being applied
            to your image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Glow radius</term>
        <listitem>
          <para>
            The glow radius parameter controls the sharpness of the effect,
            giving a "vaseline-on-the-lens" effect.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Brightness</term>
        <listitem>
          <para>
            The brightness parameter controls the degree of intensification
            applied to image highlights.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sharpness</term>
        <listitem>
          <para>
            The sharpness parameter controls how defined or alternatively
            diffuse the glow effect should be.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-lic">
  <title>Van Gogh (LIC)</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Van Gogh</tertiary>
  </indexterm>
  <indexterm>
    <primary>Van Gogh (LIC)</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>
        From left to right: original image, map, resulting image
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/map-lic-s.png"/>
        </imageobject>
        <caption>
          <para>
            Map has three stripes: a solid black area, a vertical gradient
            area, a solid white area. One can see, on the resulting image,
            that image zones corresponding to solid areas of the map, are not
            blurred. Only the image zone corresponding to the gradient area of
            the map is blurred.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para><quote>LIC</quote> stands for Line Integral Convolution, a
      mathematical method.
      The plug-in author uses mathematical terms to name his options...
      This filter is used to apply a directional blur to an image, or to
      create textures. It could be called <quote>Astigmatism</quote> as it
      blurs certain directions in the image.
    </para>
    <para>
      It uses a blur map. Unlike other maps, this filter doesn't use grey
      levels of this blur map. <emphasis>Filter takes in account only
      gradient direction(s)</emphasis>. Image pixels corresponding to
      solid areas of the map are ignored.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Van Gogh (LIC)</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Van Gogh (LIC)</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/vangogh.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <tip>
      <itemizedlist>
        <listitem>
          <para>
            To create a blur, check <guilabel>With Source Image</guilabel>.
            Only Filter Length slider and perhaps Integration Steps slider,
            are useful.
          </para>
        </listitem>
        <listitem>
          <para>
            To create a texture, check <guilabel>With White Noise</guilabel>.
            All sliders can be useful.
          </para>
        </listitem>
      </itemizedlist>
    </tip>
    <variablelist>
      <varlistentry>
        <term>Effect Channel</term>
        <listitem>
          <para>
            By selecting <guilabel>Hue</guilabel>, <guilabel>Saturation
            </guilabel> or <guilabel>Brightness (=Value)</guilabel>, filter
            will use this channel to treat image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Effect Operator</term>
        <listitem>
          <para>
            The <quote>Derivative</quote> option reverses <quote>Gradient
            </quote> direction:
          </para>
          <figure>
            <title>Derivative option example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-deriv.png"/>
              </imageobject>
              <caption>
                <para>
                  Using a square gradient map, Effect operator is on
                  <quote>Gradient</quote> on the left, on
                  <quote>Derivative</quote> on the right: what was sharp is
                  blurred and conversely.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Convolve</term>
        <listitem>
          <para>
            You can use two types of convolution. That's the first parameter
            you have to set:
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>With white noise</guilabel></term>
              <listitem>
                <para>
                  White noise is an acoustics name. It's a noise where all
                  frequencies have the same amplitude. Here, this option is
                  used to create patterns.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>With source image</guilabel></term>
            <listitem>
              <para>The source image will be blurred.</para>
            </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Effect image</term>
        <listitem>
          <para>
            That's the map for blur or pattern direction. This map must have
            the same dimensions as the original image. It must be preferably a
            grayscale image. It must be present on your screen when you call
            filter so that you can choose it in the drop-list.
          </para>
          <figure>
            <title>Blurring with vertical gradient map</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-vert-blur.png"/>
              </imageobject>
              <caption>
                <para>
                  With a vertical gradient map, vertical lines are blurred.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>Blurring with a square gradient map</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-sq-blur.png"/>
              </imageobject>
              <caption>
                <para>
                  The gradient map is divided into four gradient triangles:
                  each of them has its own gradient direction. In every area
                  of the image corresponding to gradient triangles, only lines
                  with the same direction as gradient are blurred.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>Texture example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-vert-pat.png"/>
              </imageobject>
              <caption>
                <para>
                  The <quote>With white noise</quote>
                  option is checked. Others are default. With a vertical
                  gradient map, texture <quote>fibres</quote>
                  are going horizontally.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Filter length</term>
        <listitem>
          <para>
            When applying blur, this option controls how important blur is.
            When creating a texture, it controls how rough texture is: low
            values result in smooth surface; high values in rough surface.
          </para>
          <figure>
            <title>Action example of Filter Length on blur</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-blur-lg.png"/>
              </imageobject>
              <caption>
                <para>
                  On the left: a vertical line, one pixel wide (zoom 800%). On
                  the right: the same line, after applying a vertical blur
                  with a Filter Length to 3. You can see that blur width is 6
                  pixels, 3 pixels on both sides.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>Filter Length example on texture</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-text-lg.png"/>
              </imageobject>
              <caption>
                <para>
                  On the left: a texture with Filter Length=3. On the right,
                  the same texture with Filter Length=24.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Noise magnitude</term>
        <listitem>
          <para>
            This options controls the amount and size of White Noise. Low
            values produce finely grained surfaces. High values produce
            coarse-grained textures.
          </para>
          <figure>
            <title>Action example of Noise Magnitude on texture</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-vp-nm4.png"/>
              </imageobject>
              <caption>
                <para>Noise magnitude = 4</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Integration steps</term>
        <listitem>
          <para>
            This options controls the influence of gradient map on texture.
          </para>
          <figure>
            <title>Action example of Integration Steps on texture</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-is.png"/>
              </imageobject>
              <caption>
                <para>
                  On the left: Integration Steps = 2. On the right:
                  Integration Steps = 4.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Minimum value</term>
        <term>Maximum value</term>
        <listitem>
          <para>
            Both values determine a range controlling texture contrast:
            shrunk range results in high contrast and enlarged range results
            in low contrast.
          </para>
          <figure>
            <title>Action example of min/max values on texture</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-lic-mm.png"/>
              </imageobject>
              <caption>
                <para>
                  Minimum value = -4.0. Maximum value = 5.0.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-weave">
  <title>Weave</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Artistic</secondary>
    <tertiary>Weave</tertiary>
  </indexterm>
  <indexterm>
    <primary>Weave</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of Weave</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-taj-weave.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Weave</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The <guimenuitem>Weave</guimenuitem> command is a Script-Fu script
      which creates a new layer filled with a weave effect and adds it to
      the image as an overlay or bump map.  The result of the image looks
      as if it were printed over woven ribbons of paper, thin wooden sheet,
      or stripped bamboo.
    </para>
    <para>
      If the image is in indexed colors, this menu entry is grayed out and
      unavailable.
    </para>
    <para>
      This filter adds a <quote>Multiply</quote> mode layer upon the layer
      where you activate this command. The weave texture is rendered in gray
      levels.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Artistic</guisubmenu>
        <guimenuitem>Weave...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Weave</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/artistic/weave.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      For to make coarse mesh texture, increase the ribbon spacing and/or
      decrease the ribbon width.
    </para>
    <para>
      For to strain ribbons hard, decrease the shadow depth.
    </para>
    <variablelist>
      <varlistentry>
        <term>Ribbon width</term>
        <listitem>
          <para>
            With this option you can set the tape width in pixel between
            0.0 and 256.0.  In default, 30.0 pixels is set.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Ribbon spacing</term>
        <listitem>
          <para>
            With this option you can set the distance to the neighboring
            ribbon or the size of black square hole in pixel between 0.0
            and 256.0.  In default, 10.0 pixels is set.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shadow darkness</term>
        <listitem>
          <para>
            With this option you can set the darkness at crossings of lower
            ribbon in percentage.  Lower value shows ribbons thinner.  75.0
            percent is the default value.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shadow depth</term>
        <listitem>
          <para>
            With this option you can set the bent strength of ribbons in
            percentage.  Higher value shows ribbons more wavy, lower value
            for flat surface.  The actual effect is limited by the
            <guilabel>Shadow darkness</guilabel>.
            75.0 percent is the default value.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Thread length</term>
        <listitem>
          <para>
            With this option you can set the regularity of stripe texture.
            If this value is shorter than the summary of the ribbon width
            and twice of the ribbon spacing, the surface of ribbon becomes
            speckled.  Set this value in pixel on range between 0.0 to
            256.0.  The default value is 200.0.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Thread density</term>
        <listitem>
          <para>
            With this option you can set the density of fiber-like parallel
            short stripes on the surface of ribbons. To populate stripes
            increase this value.  50.0 percent is the default value.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Thread intensity</term>
        <listitem>
          <para>
            With this option you can set the opacity of stripe texture.
            Lower value shows threads vague.  To clear off threads set the
            value to 0.0 percent.  The default value is 100.0 percent.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Another usage</title>
    <figure>
      <title>Adding a lattice using <quote>Weave</quote> texture</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/artistic-weave-as-lattice.jpg"/>
        </imageobject>
        <caption>
          <para>
            Narrower the ribbon width, wider the ribbon spacing, and
            filled with the <quote>Wood&nbsp;#1</quote> pattern.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This texture can be a lattice that you can see the original image
      through its mesh holes.  Add a new, transparent layer over the active
      layer for the lattice, and apply this filter.  Select a black regular
      square in the texture layer using the
      <link linkend="gimp-tool-by-color-select">Select By Color</link> tool,
      then delete black squares in selection on the texture layer to be chink
      holes.  Reverse the selection, and activate the transparent layer so
      that you can fill the lattice surface with a pattern, then drag and drop
      your favorite pattern over the image window.
    </para>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-artistic">
  <title>Artistic Filters</title>
  <xi:include href="artistic/introduction.xml"/>
  <xi:include href="artistic/applycanvas.xml"/>
  <xi:include href="artistic/cartoon.xml"/>
  <xi:include href="artistic/clothify.xml"/>
  <xi:include href="artistic/cubism.xml"/>
  <xi:include href="artistic/GIMPressionist.xml"/>
  <xi:include href="artistic/oilify.xml"/>
  <xi:include href="artistic/photocopy.xml"/>
  <xi:include href="artistic/predator.xml"/>
  <xi:include href="artistic/softglow.xml"/>
  <xi:include href="artistic/vangogh-lic.xml"/>
  <xi:include href="artistic/weave.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-blur">
  <title>Blur</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Blur</secondary>
    <tertiary>Blur</tertiary>
  </indexterm>
  <indexterm>
    <primary>Blur</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>The Blur filter applied to a photograph</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/blur-taj-blur.jpg"/>
        </imageobject>
        <caption>
          <para>Blur applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The simple Blur filter produces an effect similar to that of an out of
      focus camera shot. To produce this blur effect, the filter takes the
      average of the present pixel value and the value of adjacent pixels and
      sets the present pixel to that average value.
    </para>
    <para>
      Filter advantage is its calculation speed. It suits big images.
    </para>
    <para>
      Filter disadvantage is that its action is hardly perceptible on big
      images, but very strong on small images.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through:
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Blur</guisubmenu>
        <guimenuitem>Blur</guimenuitem>
      </menuchoice>
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-gauss">
  <title>Gaussian Blur</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Blur</secondary>
    <tertiary>Gaussian Blur</tertiary>
  </indexterm>
  <indexterm>
    <primary>Gaussian Blur</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Gaussian Blur</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/blur-taj-gauss.jpg"/>
        </imageobject>
        <caption>
          <para>Blur applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The IIR Gaussian Blur plug-in acts on each pixel of the active layer or
      selection, setting its Value to the average of all pixel Values present
      in a radius defined in the dialog. A higher Value will produce a higher
      amount of blur. The blur can be set to act in one direction more than
      the other by clicking the Chain Button so that it is broken, and
      altering the radius. GIMP supports two implementations of Gaussian Blur:
      IIR G.B. and RLE G.B. They both produce the same results, but each one
      can be faster in some cases.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Blur</guisubmenu>
        <guimenuitem>Gaussian Blur</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Gaussian</quote> filter parameters settings</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/blur/gauss.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Blur Radius</term>
        <listitem>
          <para>
            Here you can set the blur intensity. By altering the ratio of
            horizontal to vertical blur, you can give the effect of a motion
            blur. You can choose the unit with the drop list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur Method</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>IIR</guilabel></term>
              <listitem>
                <para>
                  IIR stands for <quote>infinite impulse response</quote>. This
                  blur works best for large radius values and for images which
                  are not computer generated.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>RLE</guilabel></term>
              <listitem>
                <para>
                  RLE stands for <quote>run-length encoding</quote>. RLE
                  Gaussian Blur is best used on computer-generated images or
                  those with large areas of constant intensity.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-sel-gauss">
  <title>Selective Gaussian Blur</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Blur</secondary>
    <tertiary>Selective Gaussian</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selective Gaussian Blur</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>The Selective Gaussian Blur filter</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/taj_orig.jpg"
            format="JPG"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/blur-taj-selective.jpg"
            format="JPG"/>
        </imageobject>
        <caption>
          <para>Blur applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Contrary to the other blur plug-ins, the Selective Gaussian Blur plug-in
      doesn't act on all pixels: blur is applied only if the difference
      between its value and the value of the surrounding pixels is less than a
      defined Delta value. So, contrasts are preserved because difference is
      high on contrast limits. It is used to blur a background so that the
      foreground subject will stand out better. This add a sense of depth to
      the image with only a single operation.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Blur</guisubmenu>
        <guimenuitem>Selective Gaussian Blur</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>
        <quote>Selective Gaussian</quote> filter parameters settings
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/blur/sel-gauss.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Blur radius</term>
        <listitem>
          <para>
            Here you can set the blur intensity, in pixels.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Max. delta</term>
        <listitem>
          <para>
            Here you can set the maximum difference (0-255) between the
            pixel value and the surrounding pixel values. Above this Delta,
            blur will not be applied to that pixel.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-blur-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Blur</secondary>
  </indexterm>

  <figure>
    <title>Original for demo</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/blur-demo-orig.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This is a set of filters that blur images, or parts of them,
    in various ways.  If there is a selection, only the selected parts
    of an image will be blurred. There may, however, be some leakage
    of colors from the unblurred area into the blurred area.  To help
    you pick the one you want, we will illustrate what each does when
    applied to the image shown at right.  These are, of course, only
    examples:  most of the filters have parameter settings that allow
    you to vary the magnitude or type of blurring.
  </para>

  <figure>
    <title>Gaussian blur (radius 10)</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/blur-demo-gauss10.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The most broadly useful of these is the Gaussian blur. (Don't let
    the word "Gaussian" throw you: this filter makes an image blurry
    in the most basic way.)  It has an efficient implementation that
    allows it to create a very blurry blur in a relatively short
    time.
  </para>

  <figure>
    <title>Simple blur</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/blur-demo-blur.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    If you only want to blur the image a little bit â€” to soften it, as it were â€” 
    you might use the simple "Blur" filter. This filter runs automatically, 
    without creating a dialog. The effect is subtle enough that you might not 
    even notice it, but you can get a stronger effect by repeating it.  In GIMP 
    2.0 the filter shows a dialog that allows you to set a "repeat count". If 
    you want a strong blurring effect, this filter is too slow to be a good 
    choice: use a Gaussian blur instead.
  </para>

  <figure>
    <title>Selective blur</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/blur-demo-selective.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Selective Blur filter allows you to set a threshold so that
    only pixels that are similar to each other are blurred together.
    It is often useful as a tool for reducing graininess in photos
    without blurring sharp edges.  (In the example, note that the
    graininess of the background has been reduced.)  The
    implementation is much slower
    than a Gaussian blur, though, so you should not use it unless you
    really need the selectivity.
  </para>

  <figure>
    <title>Pixelize</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/blur-demo-pixelize.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Pixelize filter produces the well-known "Abraham Lincoln"
    effect by turning the image into a set of large square pixels.
    (The <link linkend="plug-in-oilify">Oilify</link> filter, in
    the Artistic Filters group, has a similar effect, but with
    irregular blobs instead of perfectly square pixels.)
  </para>
  <note>
    <para>
      You can find a nice explanation of the Abraham Lincoln effect
      at <xref linkend="bibliography-online-bach"/>. You will see the
      Salvador Dali's painting <quote>Gala Contemplating the
      Mediterranean Sea</quote> turning to an Abraham Lincoln's portrait
      when looking at it from a distance.
    </para>
  </note>

  <figure>
    <title>Motion blur</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/blur-demo-mblur.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Motion Blur filter blurs in a specific direction at each point, which
    allows you to create a sense of motion: either linear, radial, or
    rotational.
  </para>

  <para>
    Finally, the Tileable Blur filter is really the same thing as a Gaussian
    blur, except that it wraps around the edges of an image to help you reduce
    edge effects when you create a pattern by tiling multiple copies of the
    image side by side.
  </para>
  <note>
    <para>
      Tileable Blur is actually implemented by a Script-Fu script that invokes
      the Gaussian blur plug-in.
    </para>
  </note>
</sect2>
-#-#-
<sect2 id="plug-in-mblur">
  <title>Motion Blur</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Blur</secondary>
    <tertiary>Motion Blur</tertiary>
  </indexterm>
  <indexterm>
    <primary>Motion Blur</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Starting example for Motion Blur filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/blur-taj-mblur-linear.jpg"/>
        </imageobject>
        <caption>
          <para>Linear blur</para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Using example for Motion Blur filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/blur-taj-mblur-radial.jpg"/>
        </imageobject>
        <caption>
          <para>Radial blur</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/blur-taj-mblur-zoom.jpg"/>
        </imageobject>
        <caption>
          <para>Zoom blur</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Motion Blur filter creates a movement blur. The filter is capable of
      Linear, Radial, and Zoom movements. Each of these movements can be
      further adjusted, with Length, or Angle settings available.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Blur</guisubmenu>
        <guimenuitem>Motion Blur</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Motion Blur</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/blur/mblur.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Blur Type</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Linear</term>
              <listitem>
                <para>
                  Is a blur that travels in a single direction,
                  horizontally, for example. In this case, Length means as
                  Radius in other filters:it represents the blur intensity.
                  More Length will result in more blurring. Angle describes
                  the actual angle of the movement. Thus, a setting of 90
                  will produce a vertical blur, and a setting of 0 will
                  produce a horizontal blur.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <variablelist>
            <varlistentry>
              <term>Radial</term>
              <listitem>
                <para>
                  motion blur that creates a circular blur. The Length
                  slider is not important with this type of blur. Angle on
                  the other hand, is the primary setting that will affect
                  the blur. More Angle will result in more blurring in a
                  circular direction.  The Radial motion blur is similar to
                  the effect of a spinning object. The center of the spin
                  in this case, is the center of the image.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <variablelist>
            <varlistentry>
              <term>Zoom</term>
              <listitem>
                <para>
                  Produces a blur that radiates out from the center of the
                  image. The center of the image remains relatively calm,
                  whilst the outer areas become blurred toward the
                  center. This filter option produces a perceived forward
                  movement, into the image. Length is the main setting
                  here, and affects the amount of speed, as it were, toward
                  the center of the image.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur Parameters</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Length</term>
              <listitem>
                <para>
                  This slider controls the distance pixels are moved (1 -
                  256)
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Angle</term>
              <listitem>
                <para>
                  As seen above, Angle slider effect depends on Blur type
                  (0 - 360).
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur Center</term>
        <listitem>
          <para>
            With this option, you can set the starting point of movement.
            Effect is different according to the Blur Type you have selected.
            With Radial Type for instance, you set rotation center. With Zoom
            Type, vanishing point. This option is greyed out with Linear type.
          </para>
          <tip>
            <para>
              You have to set the blur center coordinates. Unfortunately, you
              can't do that by clicking on the image. But, by moving mouse
              pointer on the image, you can see its coordinates in the lower
              left corner of the image window. Only copy them out into the
              input boxes.
            </para>
          </tip>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-pixelize">
  <title>Pixelise</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Blur</secondary>
    <tertiary>Pixelise</tertiary>
  </indexterm>
  <indexterm>
    <primary>Pixelise</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Pixelize</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/blur-taj-pixelise.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Pixelize</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Pixelize filter renders the image using large color blocks. It is
      very similar to the effect seen on television when obscuring a
      criminal during trial. It is used for the <quote>Abraham Lincoln
      effect</quote>: see <xref linkend="bibliography-online-bach"/>.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Blur</guisubmenu>
        <guimenuitem>Pixelise</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Pixelize</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/blur/pixelize.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Pixel width</term>
        <term>Pixel height</term>
        <listitem>
          <para>
            Here you can set the desired width and height of the blocks.
          </para>
          <para>
            By default, width and height are linked, indicated by the chain
            symbol next to the input boxes. If you want to set width and
            height separately, click on that chain symbol to unlink them.
          </para>
          <para>
            Using the unit selection box you can select the unit of measure
            for height and width.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-tile-blur">
  <title>Tileable Blur</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Blur</secondary>
    <tertiary>Tileable Blur</tertiary>
  </indexterm>
  <indexterm>
    <primary>Tileable Blur</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Tileable</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/blur-taj-tblur.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Tileable Blur</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This tool is used to soften tile seams in images used in tiled
      backgrounds. It does this by blending and blurring the boundary between
      images that will be next to each other after tiling.
    </para>
    <tip>
      <para>
        If you want to treat only images borders, you can't apply filter
        to the whole image. The solution to get the wanted effect is as
        follows:
      </para>
      <procedure>
        <step>
          <para>
            Duplicate layer
            (<menuchoice>
              <guimenu>Layer</guimenu>
              <guimenuitem>Duplicate Layer</guimenuitem>
            </menuchoice>)
            and select it to work on it.
          </para>
        </step>
        <step>
          <para>
            Apply <quote>Tileable Blur</quote> filter with a 20 pixels radius
            to this layer.
          </para>
        </step>
        <step>
          <para>
            Select all
            (<keycombo><keycap>Ctrl</keycap><keycap>A</keycap></keycombo>) and
            reduce selection
            (<menuchoice>
              <guimenu>Selection</guimenu>
              <guimenuitem>Shrink</guimenuitem>
            </menuchoice>)
            to create a border with the wanted width.
          </para>
        </step>
        <step>
          <para>
            Give a feathered border to the selection by using
            <menuchoice>
              <guimenu>Selection</guimenu>
              <guimenuitem>Feather</guimenuitem>
            </menuchoice>.
          </para>
        </step>
        <step>
          <para>
            Delete selection with
            <keycombo><keycap>Ctrl</keycap><keycap>K</keycap></keycombo>.
          </para>
        </step>
        <step>
          <para>
            Merge layers with
            <menuchoice>
              <guimenu>Layer</guimenu>
              <guimenuitem>Merge down</guimenuitem>
            </menuchoice>.
          </para>
        </step>
      </procedure>
    </tip>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Blur</guisubmenu>
        <guimenuitem>Tileable Blur</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Tileable Blur</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/blur/tileable.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Radius</term>
        <listitem>
          <para>
            The bigger the radius, the more marked is the blur. By selecting
            <guilabel>Horizontal</guilabel> and <guilabel>Vertical</guilabel>,
            you can make the horizontal and vertical borders tileable.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur vertically</term>
        <term>Blur horizontally</term>
        <listitem>
          <para>
            These options are self-explanatory.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur type</term>
        <listitem>
          <para>Choose the algorithm to be applied:</para>
          <variablelist>
            <varlistentry>
              <term>IIR</term>
              <listitem>
                <para>for photographic or scanned images.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>RLE</term>
              <listitem>
                <para>for computer-generated images.</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-blur">
  <title>Blur Filters</title>

  <xi:include href="blur/introduction.xml"/>
  <xi:include href="blur/blur.xml"/>
  <xi:include href="blur/gauss.xml"/>
  <xi:include href="blur/gauss_select.xml"/>
  <xi:include href="blur/mblur.xml"/>
  <xi:include href="blur/pixelise.xml"/>
  <xi:include href="blur/tileable.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-depth-merge">
  <title>Depth Merge</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Combine</secondary>
    <tertiary>Depth Merge</tertiary>
  </indexterm>
  <indexterm>
    <primary>Depth Merge</primary>
  </indexterm>

  <para>
    Depth Merge is a Combine Filter which is useful to combine two different
    pictures or layers. You can decide which part of every image or layer will
    stay visible.
  </para>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Filter example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/combine-taj-depthmerge.jpg"/>
        </imageobject>
        <caption>
          <para>Filter applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Every image is associated with a map which works as a mask. Simply
      create this map as a grayscale gradient: when applied onto the image,
      dark areas of the mask will show the underlying image and bright areas
      will mask the image.
    </para>
    <note>
      <para>
        To work with this filter, images and maps must have the same size.
        All images to be selected must be present on screen.
      </para>
      <para>
        You can also use this filter on an image with several layers. All
        layers will appear in the drop-down lists used to select images.
        These layers must have the same size.
      </para>
    </note>
  </sect3>

  <sect3>
    <title>Accessing this Filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Combine</guisubmenu>
        <guimenuitem>Depth Merge</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Depth Merge</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/combine/depthmerge.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Source 1</term>
        <term>Source 2</term>
        <listitem>
          <para>
            Defines the source images to use for the blending.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Depth map</term>
        <listitem>
          <para>
            Define the picture to use as transformation maps for the sources.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Overlap</term>
        <listitem>
          <para>Creates soft transitions between images.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Offset</term>
        <listitem>
          <para>
            This option shifts the merging limit, giving more or less
            importance to an image against the other.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Scale 1</term>
        <term>Scale 2</term>
        <listitem>
          <para>
            Same as above for Offset, but more sensitive and applied to each
            map separately. When you scale to a lower value, it will affect
            the map image's value, making it darker. So, black is more
            dominant in the merge and you will see more of the image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Using example</title>
    <para>
      Maps are grayscale gradients created with the
      <link linkend="gimp-tool-blend">Blend tool</link> and modified with the
      <link linkend="gimp-tool-curves">Curve tool</link>.
    </para>
    <figure>
      <title>Source images and their maps</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-source-image1.png"/>
        </imageobject>
        <caption>
          <para>Source image 1</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-source-image2.png"/>
        </imageobject>
        <caption>
          <para>Source image 2</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-source-map1.png"/>
        </imageobject>
        <caption>
          <para>Map 1</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-source-map2.png"/>
        </imageobject>
        <caption>
          <para>Map 2</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      You can understand what's going on. Image-1 is treated by map-1: the red
      square is masked and the yellow square remains visible. Image-2 is
      treated by map-2: the red circle is masked and the green circle remains
      visible. In total, the green circle and the yellow square stay visible.
    </para>
    <figure>
      <title>Results</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-results-none.png"/>
        </imageobject>
        <caption>
          <para>
            <emphasis>No offset and no overlap</emphasis>.
            The limit between both images is sharp and is situated
            in the middle of the mask gradient.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-results-offset.png"/>
        </imageobject>
        <caption>
          <para>
            <emphasis>Offset</emphasis> = 0.980 : the limit, sharp,
            is shifted so that the image2 area is increased.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-results-overlap.png"/>
        </imageobject>
        <caption>
          <para>
            <emphasis>Overlap</emphasis>: the limit is blurred.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/depthmerge-results-scale.png"/>
        </imageobject>
        <caption>
          <para>
            <emphasis>Scale 1</emphasis>
            reduced to 0.056 : as with Offset, the limit is shifted. Image-1
            area is increased.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-film">
  <title>Film</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Combine</secondary>
    <tertiary>Film</tertiary>
  </indexterm>
  <indexterm>
    <primary>Film</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Film filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/combine-taj-film.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Film</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Film filter lets you merge several pictures into a photographic film
      drawing.
    </para>
    <note>
      <para>
        This filter does not invert colors, so it does not imitate negative
        film like the ones used to produce prints. Instead you should think of
        the result as an imitation of slide film or cinema film.
      </para>
    </note>
  </sect3>

  <sect3>
    <title>Accessing this Filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Combine</guisubmenu>
        <guimenuitem>Film</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>

    <sect4>
      <title>Selection</title>
      <figure>
        <title><quote>Film</quote> filter options (Selection)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/combine/film-selection.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <title>Film</title>
        <varlistentry>
          <term>Fit height to images</term>
          <listitem>
            <para>
              Applies the height of original pictures to the resulting one.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Height</term>
          <listitem>
            <para>
              This option lets you define the height of the resulting
              picture. If originals have different sizes, they will be
              scaled to this size.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Color</term>
          <listitem>
            <para>
              By clicking on the color dwell you can define the color of
              the film (around and between pictures).
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Numbering</title>
        <varlistentry>
          <term>Start index</term>
          <listitem>
            <para>
              Defines the beginning number which will be used for the
              images.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Font</term>
          <listitem>
            <para>Defines the font of digits.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Color</term>
          <listitem>
            <para>
              By clicking on the color dwell, you can define the font
              color of digits.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>At top</term>
          <term>At bottom</term>
          <listitem>
            <para>Defines the position of the number.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Image Selection</title>
        <varlistentry>
          <term>Available images</term>
          <listitem>
            <para>
              Shows the pictures which can be used for merging. The
              pictures are the ones already opened in GIMP.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>On film</term>
          <listitem>
            <para>Shows the pictures chosen to be merged.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Add</term>
          <listitem>
            <para>
              This button allows the user to put an available image in the
              <quote>On film</quote> section.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Remove</term>
          <listitem>
            <para>
              This button allows to bring a picture from <quote>On film
              </quote> to <quote>Available images</quote>. After that,
              the picture will not be used anymore in the resulting
              document.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
    <sect4>
      <title>Advanced</title>
      <figure>
        <title><quote>Film</quote> filter options (Advanced)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/combine/film-advanced.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Image height</term>
          <listitem>
            <para>
              Defines the height of each pictures in the resulting image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Image spacing</term>
          <listitem>
            <para>
              Defines the space between the pictures as they will be
              inserted in the future image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Hole offset</term>
          <listitem>
            <para>
              Defines the hole position from image border.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Hole width</term>
          <listitem>
            <para>
              Defines the width of the holes in the resulting image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Hole height</term>
          <listitem>
            <para>
              Defines the height of the holes in the resulting image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Hole spacing</term>
          <listitem>
            <para>Defines the space between holes</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Number height</term>
          <listitem>
            <para>
              Defines the height of the index number, proportionally to
              the height of the picture.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-combine-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Combine</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>

  <para>
    The combine filters associate two or more images into a single image.
  </para>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-combine">
  <title>Combine Filters</title>
  <xi:include href="combine/introduction.xml"/>
  <xi:include href="combine/depthmerge.xml"/>
  <xi:include href="combine/film.xml"/>
</sect1>
-#-#-
<sect2 id="script-fu-add-bevel">
  <title>Add Bevel</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Add Bevel</secondary>
  </indexterm>
  <indexterm>
    <primary>Add Bevel</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Add Bevel</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/decor-add-bevel20.png"/>
        </imageobject>
        <caption>
          <para>
            Original image, the colored rectangle is selected
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/decor-add-bevel21.png"/>
        </imageobject>
        <caption>
          <para><quote>Add Bevel</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds a slight bevel to an image using a
      <link linkend="plug-in-bump-map">bump map</link> (see below). If there is a
      selection, it is bevelled, otherwise the filter has no effect.
    </para>
    <figure>
      <title>Another <quote>Add Bevel</quote> example, with bumpmap</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/decor-add-bevel10.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/decor-add-bevel12.png"/>
        </imageobject>
        <caption>
          <para>Bumpmap</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/decor-add-bevel11.png"/>
        </imageobject>
        <caption>
          <para>Filter applied</para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Add Bevel</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Add Bevel</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/add-bevel.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Thickness</term>
        <listitem>
          <para>
            You can specify the thickness of the bevel, in pixels. Maximal
            thickness is 30 pixels.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Work on copy</term>
        <listitem>
          <para>
            If checked, the filter creates a new window containing a copy of
            the image with the filter applied. The original image remains
            unchanged.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep bump layer</term>
        <listitem>
          <para>
            When checked, you will keep the generated bumpmap as a new, not
            visible layer (below the layer dialog):
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/examples/decor-add-bevel23.png"/>
            </imageobject>
          </mediaobject>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-addborder">
  <title>Add Border</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Add Border</secondary>
  </indexterm>
  <indexterm>
    <primary>Add Border</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Add Border</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPEG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/decor-taj-addborder.jpg"/>
        </imageobject>
        <caption>
          <para>Border added</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter just does what its name says: it adds a border to the image.
      You can specify the thickness of the border as well as the color. The
      four sides of the border are colored in different shades, so the image
      area will appear raised.
    </para>
    <para>
      The image will be enlarged by the border size, it won't be painted over.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Add Border</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Add Border</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/addborder.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Border X size</term>
        <term>Border Y size</term>
        <listitem>
          <para>
            Here you can select the thickness of the added border, in pixels.
            X size (left an right) and Y size (top and bottom) may be
            different. Maximum is 250 pixels.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Border color</term>
        <listitem>
          <para>
            Clicking on this button brings up the color selector dialog that
            allows you to choose an <quote>average</quote> border color (see
            below, <guilabel>Delta value on color</guilabel>).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Delta value on color</term>
        <listitem>
          <para>
            This option makes the border sides to be colored in different
            shades and thus makes the image to appear raised. The actual
            color of the respective border side is computed for every color
            component red, green, and
            blue<footnote><para>
              See <link linkend="gimp-concepts-image-types">image types</link>
              or <xref linkend="glossary-rgb"/>.
            </para></footnote>
            from the <quote>average</quote> <guilabel>Border color</guilabel>
            as follows (resulting values less than 0 are set to 0, values
            greater than 255 are set to 255):
          </para>
          <itemizedlist>
            <listitem>
              <para>Top shade = Border color + Delta</para>
            </listitem>
            <listitem>
              <para>Right shade = Border color - &frac12; Delta</para>
            </listitem>
            <listitem>
              <para>Bottom shade = Border color - Delta</para>
            </listitem>
            <listitem>
              <para>Left shade = Border color + &frac12; Delta</para>
            </listitem>
          </itemizedlist>
          <figure>
            <title>Delta examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/addborder-delta.png"/>
              </imageobject>
              <caption>
                <para>
                  <quote>Add Border</quote> filter applied with
                  <guilabel>Delta value</guilabel> 25, then with 75, 125, 175,
                  and 225.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            Example: the default color is blue (38,31,207), default delta is
            25. So the shades of the borders are: top: (38,31,207) +
            (25,25,25) = (63,56,232), right: (38,31,207) + (-13,-13,-13) =
            (25,18,194), etc.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-carve-it">
  <title>Stencil Carve</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Decor</secondary>
    <tertiary>Stencil Carve</tertiary>
  </indexterm>
  <indexterm>
    <primary>Stencil Carve</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Stencil Carve</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_grayscale.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/decor-taj-carve-it.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Stencil Carve</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter works with two images, source and target. The source image
      must be a grayscale image containing a single layer and no Alpha
      channel.  This layer is used as selection mask and will work as stencil
      for the carving effect. The image to be carved (the target image) can
      be an RGB color or grayscale image, also with a single layer. This
      target image must have the same size as the source image.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Stencil Carve</guimenuitem>
      </menuchoice>.
    </para>
    <tip>
      <para>
        If this command remains grayed out although the image is grayscale,
        check for an Alpha channel and delete it.
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Stencil Carve</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/carve-it.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Image to carve</term>
        <listitem>
          <para>
            Here you may select the target image, i.e. the image the carving
            effect is applied to. The drop-down list will show you a list of
            opened images which may be carved.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Carve white areas</term>
        <listitem>
          <para>
            If checked (default), the source image is used as stencil as
            described above. If unchecked, the <emphasis>inverted</emphasis>
            source image is used as stencil, e.g.:
          </para>
          <figure>
            <title>Engraving Masks</title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/carve-it-mask.jpg"/>
              </imageobject>
              <caption>
                <para>Normal mask</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/filters/examples/carve-it-invmask.jpg"/>
              </imageobject>
              <caption>
                <para>Inverted mask</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            In the example below, the source is a grayscale image. The target
            is an image with a wood pattern.
          </para>
          <para>
            On the left, <guilabel>Carve white areas</guilabel> is enabled.
            The pixels of the target image corresponding to white pixels in
            the stencil (around the text) have been carved. The result is an
            embossed text.
          </para>
          <para>
            On the right, <guilabel>Carve white areas</guilabel> is disabled.
            The pixels of the target image corresponding to the black pixels
            in the stencil (the text) have been carved. The result is a hollow
            text.
          </para>
          <figure>
            <title>Example for <quote>Carve white areas</quote></title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/carve-it-normal.png"/>
              </imageobject>
              <caption>
                <para>White areas carved</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/carve-it-stencil.png"/>
              </imageobject>
              <caption>
                <para>Stencil</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/carve-it-invers.png"/>
              </imageobject>
              <caption>
                <para>Black areas carved</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            Information about the many layers created by this filter can be
            found in <xref linkend="bibliography-books-grokking"/>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
          <para>
            Use this option to control how
            <link linkend="gimp-tool-hue-saturation">saturation and
            lightness</link> of the <quote>Chrome</quote> layer are adjusted.
            Negative values decrease saturation and lightness respectively.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Chrome factor</term>
        <listitem>
          <para>
            This factor lets you adjust offsets, feather radius, and brush
            size used to construct the <quote>Chrome</quote> and
            <quote>Highlight</quote> layer (and the <quote>Drop Shadow</quote>
            as well).
          </para>
          <para>
            Change with caution, decreasing this value may make the chrome
            effect worse. The default factor 0.75 seems to be a good choice.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Environment map</term>
        <listitem>
          <para>
            The environment map is an image that is added as some kind of
            <quote>noise</quote> to the source. The effect is best to see if
            you use a simple map with some obvious shapes:
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/decor/chrome-it-env-example.png"/>
            </imageobject>
            <caption>
              <para>Using a simple environment map</para>
            </caption>
          </mediaobject>
          <para>
            The environment map must be an image in grayscale mode too. Size
            doesn't matter, the environment map is scaled to the size of the
            source image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Highlight balance</term>
        <listitem>
          <para>
            This color is used to modify the
            <link linkend="gimp-tool-color-balance">color balance</link> of
            the <quote>Highlight</quote> layer: the amount of red, green, and
            blue colors is increased according to the corresponding values of
            the specified option.
          </para>
          <!--cf. bug #624761-->
          <para>
            Avoid colors with red, green or blue value > 230.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Chrome balance</term>
        <listitem>
          <para>
            Same as above, but modifies the
            <link linkend="gimp-tool-color-balance">color balance</link> of
            the <quote>Chrome</quote> layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Chrome white areas</term>
        <listitem>
          <para>
            If checked (this is the default), the source image is used as
            mask. If unchecked, the <emphasis>inverted</emphasis> source image
            is used.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>How to create the chrome effect</title>
    <para>
      The following section provides a brief and simplified description of how
      the script (actually this filter is a Script-Fu) creates the chrome
      effect.
    </para>
    <para>
      If you apply the filter to your source images and then look at the
      <link linkend="gimp-layer-dialog">layer dialog</link> of the resulting
      image, you will see that there are two main layers which make up the
      chrome effect: the <quote>Chrome</quote> layer and the
      <quote>Highlight</quote> layer. These layers are created as follows:
    </para>
    <procedure>
      <step>
        <para>
          The script constructs a somewhat simplified and blurred layer from
          the source image (from the inverted source image if
          <guilabel>Chrome&nbsp;white&nbsp;areas</guilabel> is unchecked).
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/decor/chrome-it-step1.png"/>
          </imageobject>
        </mediaobject>
        <para>
          The <guilabel>Chrome factor</guilabel> controls the appearance of
          this layer.
        </para>
      </step>
      <step>
        <para>
          The (scaled) environment map is blurred and merged into the above
          layer with 50% opacity. (Do you spot the cat in the introducing
          <link linkend="script-fu-sota-chrome-it-example">example</link>?)
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/decor/chrome-it-step2.png"/>
          </imageobject>
          <caption>
            <para>Merging the environment map</para>
          </caption>
        </mediaobject>
      </step>
      <step>
        <para>
          The brightness (value) of the layer is modified according to a
          spline-based intensity curve.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/decor/chrome-it-step3.png"/>
          </imageobject>
          <caption>
            <para>Modifying the intensity curve</para>
          </caption>
        </mediaobject>
      </step>
      <step>
        <para>
          A layer mask is added, initialized with the source image
          (the <quote>Chrome Stencil</quote>). This is the
          <quote>Chrome</quote> layer before the final step.
        </para>
        <para>
          The <quote>Highlight</quote> layer is a copy of the
          <quote>Chrome</quote> layer where the layer mask is stroked with a
          white brush.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/decor/chrome-it-step4.png"/>
          </imageobject>
          <caption>
            <para>Chrome and Highlight base</para>
          </caption>
        </mediaobject>
      </step>
      <step>
        <para>
          For both layers the color balance is modified (according to
          <guilabel>Highlight&nbsp;balance</guilabel> and
          <guilabel>Chrome&nbsp;balance</guilabel>), increasing the amount of
          red, green, and blue, with emphasis on highlights.
        </para>
        <para>
          Additionally, saturation and lightness of the <quote>Chrome</quote>
          layer are modified (controlled by
          <guilabel>Chrome&nbsp;saturation</guilabel> and
          <guilabel>Chrome&nbsp;lightness</guilabel>).
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/decor/chrome-it-step5.png"/>
          </imageobject>
          <caption>
            <para>Chrome and Highlight layer</para>
          </caption>
        </mediaobject>
      </step>
    </procedure>
    <para>
      Now add a drop shadow and a background layer and you get the
      <link linkend="script-fu-sota-chrome-it-example">Example image</link>
      for the <quote>Stencil Chrome</quote> filter.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-coffee-stain">
  <title>Coffee Stain</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Decor</secondary>
    <tertiary>Coffee Stain</tertiary>
  </indexterm>
  <indexterm>
    <primary>Coffee Stain</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Coffee Stain</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/decor-taj-coffee.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Coffee Stain</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds realistic looking coffee stains to the image.
    </para>
    <para>
      Every stain is created in a layer of its own. The stain layers are
      randomly moved to let the stains spread out (at the end you may see the
      boundary of the moved top layer). So after applying the filter you can
      easily edit (e.g., move, scale, remove) the coffee stains, or create
      additional stains using the filter again.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      The filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Coffee Stain</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Coffee Stain</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/coffee.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Stains</term>
        <listitem>
          <para>The number of the coffee stains (1-10).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Darken only</term>
        <listitem>
          <para>
            Since every stain is created in a layer of its own, all layers
            have to be merged to make the appearance of the image. If
            this option is checked, the relevant
            <link linkend="gimp-concepts-layer-modes">layer mode</link> is set to
            <quote>Darken only</quote>, otherwise it is set to
            <quote>Normal</quote>.
          </para>
          <para>
            The layer mode determines how the pixels of the layers are
            combined. In <quote>Normal</quote> mode, every coffee stain covers
            the pixels of the layers below. As a rule of thumb, if layer mode
            <quote>Darken only</quote> is set, coffee stains covers
            the corresponding pixels of the layers below them only if these
            pixels are lighter.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-fuzzy-border">
  <title>Fuzzy Border</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Decor</secondary>
    <tertiary>Fuzzy Border</tertiary>
  </indexterm>
  <indexterm>
    <primary>Fuzzy Border</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Fuzzy Border</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/decor-taj-fuzzyborder.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Fuzzy Border</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds a cool fading border to an image. The border will look
      jagged and fuzzy, and you can specify color and thickness of the fading
      border. Optionally you may add a shadow to the image.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Fuzzy Border</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Fuzzy Border</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/fuzzyborder.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            Clicking on this button brings up the color selector dialog that
            allows you to choose the border color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Border size</term>
        <listitem>
          <para>
            Here you can set the thickness of the fuzzy border, in pixels.
            Maximum is 300 pixels, regardless of the image width or height.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur border</term>
        <listitem>
          <para>
            If checked, the border will be blurred. The example below shows
            the effect of blurring:
          </para>
          <figure>
            <title><quote>Blur border</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-blur.png"/>
              </imageobject>
              <caption>
                <para><quote>Blur</quote> checked</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-noblur.png"/>
              </imageobject>
              <caption>
                <para><quote>Blur</quote> unchecked</para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title><quote>Blur border</quote> zoomed (1600%)</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-blurx16.png"/>
              </imageobject>
              <caption>
                <para><quote>Blur</quote> checked</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-noblurx16.png"/>
              </imageobject>
              <caption>
                <para><quote>Blur</quote> unchecked</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Granularity</term>
        <listitem>
          <para>
            The border's granularity is almost the size of pixel blocks spread
            to create the effect of a jagged and fuzzy border.
          </para>
          <figure>
            <title>Granularity example (without blurring)</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-gran1.png"/>
              </imageobject>
              <caption>
                <para>Granularity 1 (min)</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-gran4.png"/>
              </imageobject>
              <caption>
                <para>Granularity 4 (default)</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-gran16.png"/>
              </imageobject>
              <caption>
                <para>Granularity 16 (max)</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add shadow</term>
        <listitem>
          <para>
            If checked, the filter will also create a shadow at the border.
          </para>
          <figure>
            <title><quote>Add shadow</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-shadow100.png"/>
              </imageobject>
              <caption>
                <para>
                  <quote>Add shadow</quote> checked, shadow weight 100%
                  (default shadow weight).
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-shadow10.png"/>
              </imageobject>
              <caption>
                <para>
                  <quote>Add shadow</quote> with shadow weight 10%.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/fuzzyborder-noshadow.png"/>
              </imageobject>
              <caption>
                <para>
                  <quote>Add shadow</quote> unchecked (default)
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shadow weight</term>
        <listitem>
          <para>
            If <guilabel>Add shadow</guilabel> is checked,
            you may set the shadow opacity here. Defaults to 100% (full
            opacity).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Work on copy</term>
        <listitem>
          <para>
            If checked, the filter creates a new window containing a copy of
            the image with the filter applied. The original image remains
            unchanged.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Flatten image</term>
        <listitem>
          <para>
            If unchecked, the filter keeps the additional layers it used to
            create the border and the shadow (if demanded). Default is to
            merge down all layers.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-decor-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Decor</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <indexterm>
    <primary>Decor</primary>
  </indexterm>
  <para>
    These filters are image-dependent Script-Fu scripts. They create
    decorative borders, and some of them add some nice special effects to the
    image.
  </para>
</sect2>
-#-#-
<sect2 id="script-fu-old-photo">
  <title>Old Photo</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Decor</secondary>
    <tertiary>Old Photo</tertiary>
  </indexterm>
  <indexterm>
    <primary>Old Photo</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Old Photo</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/decor-taj-old-photo.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Old Photo</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter makes an image look like an old photo: blurred, with a
      jagged <!--bleached?--> border, toned with a brown shade, and marked
      with spots.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      The filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Old Photo</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Old Photo</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/old-photo.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Defocus</term>
        <listitem>
          <para>
            If checked, a <link linkend="plug-in-gauss">Gaussian blur</link>
            will be applied to the image, making it less clear.
          </para>
          <figure>
            <title>Example for the <quote>Defocus</quote> option</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/old-photo-defocus.png"/>
              </imageobject>
              <caption>
                <para>Defocus enabled</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/old-photo-focus.png"/>
              </imageobject>
              <caption>
                <para>Defocus disabled</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Border size</term>
        <listitem>
          <para>
            When you choose a border size &gt; 0, the
            <link linkend="script-fu-fuzzy-border">Fuzzy Border</link> filter
            will be applied to the image, adding a white, jagged border.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sepia</term>
        <listitem>
          <para>
            If checked, the filter reproduces the effect of aging in old,
            traditional black-and-white photographs, toned with sepia (shades
            of brown).<footnote><para>
              See Wikipedia <xref linkend="bibliography-online-wkpd-sepia"/>.
            </para></footnote>
            To achieve this effect, the filter desaturates the image, reduces
            brightness and contrast, and modifies the color
            balance.<footnote><para>
              Compare <xref linkend="gimp-tool-color-balance"/>.
            </para></footnote>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Mottle</term>
        <listitem>
          <para>
            When you check this option, the image will be marked with spots.
          </para>
          <figure>
            <title>Example for the <quote>Mottle</quote> option</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/old-photo-mottle.png"/>
              </imageobject>
              <caption>
                <para>
                  A plain white image mottled (without Defocus or Sepia)
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Work on copy</term>
        <listitem>
          <para>
            If checked, the filter creates a new window containing a copy of
            the image with the filter applied. The original image remains
            unchanged.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-round-corners">
  <title>Round Corners</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Decor</secondary>
    <tertiary>Round Corners</tertiary>
  </indexterm>
  <indexterm>
    <primary>Round Corners</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Round Corners</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/decor-taj-round-corners.png"/>
        </imageobject>
        <caption>
          <para><quote>Round Corners</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter rounds the corners of an image, optionally adding a
      drop-shadow and a background layer.
    </para>
    <para>
      The filter works on RGB and grayscale images that contain only one
      layer. It creates a copy of the image or can optionally work on the
      original. It uses the current background color to create a background
      layer.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Round Corners</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Round Corners</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/round-corners.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Edge radius</term>
        <listitem>
          <para>
            Rounding corners is done by selecting a quarter of a circle at
            every corner and removing the area not covered by this selection.
            The <quote>edge radius</quote> is the radius of the constructing
            circle.
          </para>
          <para>
            In the examples below, the filter was applied to a 100x100 pixels
            image, with varying edge radius. For radius = 50, the four
            quadrants just form a circle with diameter = 100, which exactly
            fits into the original image outline. A radius greater than 50 is
            possible, but look what happens...
          </para>
          <figure>
            <title>Edge radius examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/round-corners-rad15.png"/>
              </imageobject>
              <caption>
                <para>
                  A 100x100 pixels image, edge radius: 15 (default).
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/round-corners-rad35.png"/>
              </imageobject>
              <caption>
                <para>Edge radius: 35.</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/round-corners-rad50.png"/>
              </imageobject>
              <caption>
                <para>Edge radius: 50.</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/round-corners-rad65.png"/>
              </imageobject>
              <caption>
                <para>Edge radius: 65. Ouch!</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add drop-shadow</term>
        <listitem>
          <para>
            When this option is checked, the filter will cast a shadow behind
            your image after rounding the image corners.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shadow X/Y offset</term>
        <listitem>
          <para>
            X and Y offset determine where the shadow will be placed in
            relation to the image. Offset is measured in pixels. High values
            make the shadow look like it's far away, and low values will make
            it look closer to the image.
          </para>
          <figure>
            <title>Shadow offset examples</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/round-corners-shadow1.png"/>
              </imageobject>
              <caption>
                <para>
                  Shadow X offset: 8, Y offset: 8 (default).
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/round-corners-shadow2.png"/>
              </imageobject>
              <caption>
                <para>Shadow X offset: 16, Y offset: 4.</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            Note that the shadow offsets as well as the blur radius are
            limited to background area.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur radius</term>
        <listitem>
          <para>
            When <guilabel>Add drop-shadow</guilabel> is checked, you may
            select a blur radius, which will be used by the
            <link linkend="script-fu-drop-shadow">Drop Shadow</link> filter.
            The image will be enlarged in both dimensions depending on the
            blur radius and the shadow offsets.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add background</term>
        <listitem>
          <para>
            When you check this option (it is checked by default), the filter
            will add a background layer below the existing layer, filled with
            the current background color. The size of this new layer depends
            on the blur radius and the shadow offsets.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Work on copy</term>
        <listitem>
          <para>
            If checked, the filter creates a new window containing a copy of
            the image with the filter applied. The original image remains
            unchanged.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-slide">
  <title>Slide</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Decor</secondary>
    <tertiary>Slide</tertiary>
  </indexterm>
  <indexterm>
    <primary>Slide</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Slide</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/decor-taj-slide.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Slide</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter makes your image look like a slide, by adding a slide-film
      like black frame, sprocket holes, and labels.
    </para>
    <para>
      If necessary, the image will be cropped to fit into an aspect ratio of
      width : height = 3:2. If image width is greater than image height,
      black frames will be added at the top and the bottom of the image, else
      the frames will be added on the left and right sides. You may select
      the color as well as the font of the text appearing on the frames. The
      current background color will be used for drawing the holes.
    </para>
    <para>
      The script only works on RGB and grayscale images that contain one
      layer. Otherwise the menu entry is insensitive and grayed out.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      The filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Decor</guisubmenu>
        <guimenuitem>Slide</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Slide</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/decor/slide.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Text</term>
        <listitem>
          <para>
            A short label that will be displayed in the top and bottom (or
            the left and right) of the frame. The text must be really short.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number</term>
        <listitem>
          <para>
            Here you may enter a text for simulating consecutive numbers. Two
            numbers will be displayed: this number and this number with the
            character <quote>A</quote> appended.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Font</term>
        <listitem>
          <para>
            Clicking on this button opens the
            <link linkend="gimp-font-dialog">Font dialog</link>, where you
            can choose a font for the text on the frame.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fontcolor</term>
        <listitem>
          <para>
            Clicking on this button brings up a color selection dialog that
            allows you to choose the color of the text.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Work on copy</term>
        <listitem>
          <para>
            If checked, the filter creates a new window containing a copy of
            the image with the filter applied. The original image remains
            unchanged.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-decor">
  <title>Decor Filters</title>
  <xi:include href="decor/introduction.xml"/>
  <xi:include href="decor/add-bevel.xml"/>
  <xi:include href="decor/addborder.xml"/>
  <xi:include href="decor/coffee.xml"/>
  <xi:include href="decor/fuzzyborder.xml"/>
  <xi:include href="decor/old-photo.xml"/>
  <xi:include href="decor/round-corners.xml"/>
  <xi:include href="decor/slide.xml"/>
  <xi:include href="decor/carve-it.xml"/>
  <xi:include href="decor/chrome-it.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-blinds">
  <title>Blinds</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Blinds</tertiary>
  </indexterm>
  <indexterm>
    <primary>Blinds</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Blinds filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-blinds.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Blinds</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      It generates a blind effect with horizontal or vertical battens. You can
      lift or close these battens, but not lift the whole blind up.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distort</guisubmenu>
        <guimenuitem>Blinds</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Blinds</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/blinds.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            All your setting changes will appear in the Preview without
            affecting the image until you click on <guilabel>OK</guilabel>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Orientation</term>
        <listitem>
          <para>
            Allows you to decide whether battens will be horizontal or
            vertical.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background</term>
        <listitem>
          <para>
            The batten color is that of the Toolbox Background. To be able to
            use the <emphasis>Transparent</emphasis> option, your image must
            have an Alpha channel.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Displacement</term>
        <listitem>
          <para>
            Slider and input box allow to wide battens giving the impression
            they are closing, or to narrow them, giving the impression they
            are opening.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number of segments</term>
        <listitem>
          <para>
            It's the number of battens.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-curve-bend">
  <title>Curve Bend</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Curve Bend</tertiary>
  </indexterm>
  <indexterm>
    <primary>Curve Bend</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Curve Bend filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-curve-bend.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Curve Bend</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter allows you to create a curve that will be used to distort
      the active layer or selection. The distortion is applied gradually
      from an image or selection border to the other.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Curve Bend</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Curve bend</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/curvebend.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The preview displays changes to image or selection without
            modifying the image until you press <emphasis>OK</emphasis>.
          </para>
          <variablelist>
            <varlistentry>
              <term>Preview once</term>
              <listitem>
                <para>
                  This button allows you to update the preview each time you
                  need it.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Automatic Preview</term>
              <listitem>
                <para>
                  With this option, preview is changed in real time. This
                  needs much calculation and may lengthen work. It is
                  particularly evident when using <quote>Rotation</quote>.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Options</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Rotate</term>
              <listitem>
                <para>
                  There, you can set the application angle of filter (0-360
                  counter-clockwise). 0 is default setting: The curve will be
                  applied from the upper border and/or from the lower. Set to
                  90, it will be applied from left border and/or from the
                  right one.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Smoothing</term>
              <term>Antialiasing</term>
              <listitem>
                <para>
                  The distort process may create hard and stepped borders.
                  These two options improve this aspect.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Work on copy</term>
              <listitem>
                <para>
                  This option creates a new layer called
                  <quote>Curve_bend_dummy_layer_b</quote> which becomes the
                  active layer, allowing you to see changes to your
                  image in normal size without modifying the original image
                  until you press the <guibutton>OK</guibutton> button.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Modify Curves</term>
        <listitem>
          <para>
            In this grid, you have a marked horizontal line, with a node at
            both ends, which represents by default the upper border of image.
            If you click on this curve, a new node appears, that you can drag
            to modify the curve as you want. You can create several nodes on
            the curve.
          </para>
          <para>
            You can have only two curves on the grid, one for the so named
            <quote>upper</quote> border and the other for the so named
            <quote>lower</quote> border. You can activate one of them by
            checking the <guilabel>Upper</guilabel> or
            <guilabel>Lower</guilabel> radio button.
          </para>
          <para>
            If you use the <guilabel>Free</guilabel> <emphasis>Curve
            Type</emphasis> option, the curve you draw will replace the active
            curve.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Curve for Border</term>
        <listitem>
          <para>
            There you can select whether the active curve must be applied to
            the <guilabel>Upper</guilabel> or the <guilabel>Lower</guilabel>
            border, according to the
            rotation.
          </para>
          <caution>
            <para>
              Remember that the curve border depends on the rotation. For
              example, with <guilabel>Rotate</guilabel> = 90Â° the upper curve
              will actually be applied to the left border.
            </para>
          </caution>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Curve Type</term>
        <listitem>
          <para>
            With the <guilabel>Smooth</guilabel>, you get automatically a well
            rounded curve when you drag a node.
          </para>
          <para>
            The <guilabel>Free</guilabel> option allows you to draw a curve
            freely. It will replace the active curve.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Buttons</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Copy</term>
              <listitem>
                <para>Copy the active curve to the other border.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Mirror</term>
              <listitem>
                <para>Mirror the active curve to the other border.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Swap</term>
              <listitem>
                <para>
                  Swap the <guilabel>Upper</guilabel> and
                  <guilabel>Lower</guilabel> curves.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Reset</term>
              <listitem>
                <para>Reset the active curve.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Open</term>
              <listitem>
                <para>Load the curve from a file.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Save</term>
              <listitem>
                <para>Save the curve to a file.</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-emboss">
  <title>Emboss</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Emboss</tertiary>
  </indexterm>
  <indexterm>
    <primary>Emboss</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Emboss filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-emboss.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Emboss</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter stamps and carves the active layer or selection, giving it
      relief with bumps and hollows. Bright areas are raised and dark ones are
      carved. You can vary the lighting.
    </para>
    <para>
      You can use the filter only with RGB images. If your image is grayscale,
      it will be grayed out in the menu.
    </para>
  </sect3>

  <sect3>
    <title>Starting filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Emboss</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Emboss</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/emboss.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            All your setting changes will appear in the Preview without
            affecting the image until you click on <guilabel>OK</guilabel>.
            Don't keep <guilabel>Preview</guilabel> checked if your computer
            is too slow.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Function</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>Bumpmap</guilabel></term>
              <listitem>
                <para>
                  Relief is smooth and colors are preserved.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Emboss</guilabel></term>
              <listitem>
                <para>
                  It turns your image to grayscale and relief is more marked,
                  looking like metal.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Azimuth</term>
        <listitem>
          <para>
            This is about lighting according to the points of the compass (0 -
            360). If you suppose South is at the top of your image, then East
            (0Â°) is on the left. Increasing value goes counter-clockwise.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Elevation</term>
        <listitem>
          <para>
            That's height from horizon (0Â°), in principle up to zenith (90Â°),
            but here up to the opposite horizon (180Â°).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Depth</term>
        <listitem>
          <para>
            Seems to be the distance of the light source. Light decreases when
            value increases.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-engrave">
  <title>Engrave</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Engrave</tertiary>
  </indexterm>
  <indexterm>
    <primary>Engrave</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Engrave</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/distort-taj-engrave.png"/>
        </imageobject>
        <caption>
          <para><quote>Engrave</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter produces an engraving effect: the image is turned black and
      white and some horizontal lines of varying height are drawn depending
      on the value of underlying pixels. The resulting effect reminds of
      engravings found in coins and old book illustrations.
    </para>
    <note>
      <para>
        The <quote>Engrave</quote> filter operates only on floating selections
        and layers with an alpha channel. If the active layer does not have an
        alpha channel please <link linkend="gimp-layer-alpha-add">add
        it</link> first.
      </para>
    </note>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Engrave</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Engrave</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/engrave.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The result of your settings will appear in the Preview without
            affecting the image until you click on <guibutton>OK</guibutton>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Height</term>
        <listitem>
          <para>
            This option specifies the height of the engraving lines. The value
            goes from 2 to 16.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Limit line width</term>
        <listitem>
          <para>
            If this option is enabled thin lines are not drawn on contiguous
            color areas. See the figure below for an example of this option
            result.
          </para>
          <figure>
            <title>Example result of Limit line width option</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/engrave_width_limit_original.png"/>
              </imageobject>
              <caption>
                <para>Original image</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/engrave_width_limit_yes.png"/>
              </imageobject>
              <caption>
                <para>Limit line width option enabled</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/engrave_width_limit_no.png"/>
              </imageobject>
              <caption>
                <para>Limit line width option disabled</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-erase-rows">
  <title>Erase Every Other Row</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Erase Every Other Row</tertiary>
  </indexterm>
  <indexterm>
    <primary>Erase Every Other Row or Column</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>
        Example for the <quote>Erase Every Other row</quote> filter
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_rows.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Erase Every Other row</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter not only can erase each other row or column of the active
      layer but also can change them to the background color.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Erase Every Other Row</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Erase Every Other row</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/erase_rows.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      These options are self-explanatory. Only one remark: if the active
      layer has an Alpha channel, erased rows or
      columns will be transparent. If it doesn't have an Alpha channel (then
      its name is in bold letters in the Layer Dialog), the Background color
      of the toolbox will be used.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-distort-introduction">
  <title>Introduction</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <para>
    The distort filters transform your image in many different ways.
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-iwarp">
  <title>IWarp</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>IWarp</tertiary>
  </indexterm>
  <indexterm>
    <primary>IWarp</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the IWarp filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-iwarp.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>IWarp</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter allows you to deform interactively some parts of the image
      and, thanks to its Animate option, to create the elements of a fade
      in/fade out animation between the original image and the deformed one,
      that you can play and use in a Web page.
    </para>
    <para>
      To use it, first select a deform type then click on the Preview and drag
      the mouse pointer.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distort</guisubmenu>
        <guimenuitem>Iwarp</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      The options of this filter are so numerous that they come in two tabs.
      The first tab contains general options. The second tab holds animation
      options.
    </para>

    <sect4>
      <title>Settings</title>
      <figure>
        <title><quote>IWarp</quote> filter options (Settings tab)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/distort/iwarp-options-1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        The Settings tab allows you to set parameters which will affect
        the preview you are working on. So, you can apply different deform
        modes to different parts of the preview.
      </para>

      <variablelist>
        <varlistentry>
          <term>Preview</term>
          <listitem>
            <para>
              Here, the Preview is your work space: You click on the
              Preview and drag mouse pointer. The underlying part of image
              will be deformed according to the settings you have chosen.
              If your work is not convenient, press the
              <emphasis>Reset</emphasis> button.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Deform Mode</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Move</guilabel></term>
                <listitem>
                  <para>
                    Allows you to <emphasis>stretch</emphasis> parts of the
                    image.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Remove</guilabel></term>
                <listitem>
                  <para>
                    This remove the distortion where you drag the mouse
                    pointer, partially or completely. This allows you to avoid
                    pressing Reset button, working on the whole image. Be
                    careful when working on an animation: this option will
                    affect one frame only.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Grow</guilabel></term>
                <listitem>
                  <para>
                    This option inflates the pointed pattern.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Shrink</guilabel></term>
                <listitem>
                  <para>Self explanatory.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Swirl CCW</guilabel></term>
                <listitem>
                  <para>Create a vortex counter clockwise.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Swirl CW</guilabel></term>
                <listitem>
                  <para>Create a vortex clockwise.</para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Deform radius</term>
          <listitem>
            <para>
              Defines the radius, in pixels (5-100), of the filter action
              circle around the pixel pointed by the mouse.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Deform amount</term>
          <listitem>
            <para>
              Sets how much out of shape your image will be put (0.0-1.0).
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Bilinear</term>
          <listitem>
            <para>
              This option smooths the IWarp effect.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Adaptive supersample</term>
          <listitem>
            <para>
              This option renders a better image at the cost of increased
              calculation.
            </para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Max Depth</guilabel></term>
                <listitem>
                  <para>
                    This value limits the maximum sampling iterations
                    performed on each pixel.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Threshold</guilabel></term>
                <listitem>
                  <para>
                    When the value difference between a pixel and the adjacent
                    ones exceeds this threshold a new sampling iteration is
                    performed on the pixel.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Animate</title>
      <figure>
        <title><quote>IWarp</quote> filter options (Animation tab)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/distort/iwarp-options-2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab allows to generate several intermediate images between
        the original image and the final deformation of this image. You
        can play this animation thanks to the
        <link linkend="plug-in-animationplay">Playback</link> plug-in.
      </para>
      <variablelist>
        <varlistentry>
          <term>Number of frames</term>
          <listitem>
            <para>
              That's the number of images in your animation (2-100). These
              frames are stored as layers attached to your image. Use the
              XCF format when saving it.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Reverse</term>
          <listitem>
            <para>
              This option plays the animation backwards.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Ping pong</term>
          <listitem>
            <para>
              When the animation ends one way, it goes backwards.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-lens-distortion">
  <title>Lens Distortion</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Lens Distortion</tertiary>
  </indexterm>
  <indexterm>
    <primary>Lens Distortion</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Lens Distortion</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-lens-distortion.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Lens Distortion</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter lets you simulate but also correct the typical distortion
      effect introduced in photo images by the glasses contained in the camera
      lenses.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Lens Distortion</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Lens Distortion</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/lens-distortion.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The allowed range of all options is from -100.0 to 100.0.
    </para>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The result of your settings will appear in the Preview without
            affecting the image until you click on <guibutton>OK</guibutton>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Main</term>
        <listitem>
          <para>
            The amount of spherical correction to introduce. Positive values
            make the image convex while negative ones make it concave. The
            whole effect is similar to wrapping the image inside or outside a
            sphere.
          </para>
          <figure>
            <title>Example result of Main option</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-main-low.png"/>
              </imageobject>
              <caption>
                <para>-100.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-original.png"/>
              </imageobject>
              <caption>
                <para>0.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-main-high.png"/>
              </imageobject>
              <caption>
                <para>+100.0</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge</term>
        <listitem>
          <para>
            Specifies the amount of additional spherical correction at image
            edges.
          </para>
          <figure>
            <title>Example result of Edge option (Main set to 50.0)</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-edge-low.png"/>
              </imageobject>
              <caption>
                <para>-60.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-original.png"/>
              </imageobject>
              <caption>
                <para>0.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-edge-high.png"/>
              </imageobject>
              <caption>
                <para>+60.0</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Zoom</term>
        <listitem>
          <para>
            Specifies the amount of the image enlargement or reduction caused
            by the hypothetical lens.
          </para>
          <figure>
            <title>Example result of Zoom option</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-zoom-low.png"/>
              </imageobject>
              <caption>
                <para>-100.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-original.png"/>
              </imageobject>
              <caption>
                <para>0.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-zoom-high.png"/>
              </imageobject>
              <caption>
                <para>+100.0</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Brighten</term>
        <listitem>
          <para>
            The amount of the <quote>vignetting</quote> effect: the brightness
            decrease/increase due to the lens curvature that produces a
            different light absorption.
          </para>
          <para>
            The <guilabel>Main</guilabel> or <guilabel>Edge</guilabel> options
            must be non zero for this option to produce noticeable results.
          </para>
          <figure>
            <title>Example result of Brigthen option (Main set to 75.0)</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-brighten-low.png"/>
              </imageobject>
              <caption>
                <para>-25.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-original.png"/>
              </imageobject>
              <caption>
                <para>0.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-brighten-high.png"/>
              </imageobject>
              <caption>
                <para>+25.0</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>X shift</term>
        <term>Y shift</term>
        <listitem>
          <para>
            These two options specify the shift of the image produced by not
            perfectly centered pairs of lenses.
          </para>
          <para>
            As above this option produces visible results only if the
            <guilabel>Main</guilabel> or <guilabel>Edge</guilabel> options
            are non zero.
          </para>
          <figure>
            <title>Example result of X shift option (Main set to 70.0)</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-xshift-low.png"/>
              </imageobject>
              <caption>
                <para>-100.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-original.png"/>
              </imageobject>
              <caption>
                <para>0.0</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/lensdistortion-xshift-high.png"/>
              </imageobject>
              <caption>
                <para>+100.0</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-mosaic">
  <title>Mosaic</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Mosaic</tertiary>
  </indexterm>
  <indexterm>
    <primary>Mosaic</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the <quote>Mosaic</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-mosaic.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Mosaic</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      It cuts the active layer or selection into many squares or polygons
      which are slightly raised and separated by joins, giving so an aspect
      of mosaic.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Mosaic</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Mosaic</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/mosaic.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <!-- changed 2010-05-17 ude: looks like just the opposite is true...
            Note that the preview displays the whole image, even if the final
            result will concern a selection.
          -->
          <para>
            All your setting changes will appear in the Preview without
            affecting the image until you click on <guilabel>OK</guilabel>.
            Note that the preview displays only a part of the whole image if
            the filter is applied to an selection. Don't keep
            <guilabel>Preview</guilabel> checked if your computer is too slow.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tiling primitives</term>
        <listitem>
          <para>
            This option is self-understanding:
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Squares</guilabel></term>
              <listitem>
                <para>4 edges</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Hexagons</guilabel></term>
              <listitem>
                <para>6 edges (hexa = 6)</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Octagons &amp; squares</guilabel></term>
              <listitem>
                <!--TODO: check: it looks like "squares" is a lie-->
                <para>8 or 4 edges (octa = 8)</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Triangles</guilabel></term>
              <listitem>
                <para>3 edges (tri = 3)</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile size</term>
        <listitem>
          <para>
            Slider and input box allow you to set the size of tile
            surface.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile height</term>
        <listitem>
          <para>
            That's ledge, relief of tiles. Value is width of the lit
            border in pixels.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile spacing</term>
        <listitem>
          <para>
            That's width of the join between tiles.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile neatness</term>
        <listitem>
          <para>
            When set to 1, most of tiles have the same size. With 0
            value, size is determined at random and this may lead to
            shape variation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Light direction</term>
        <listitem>
          <para>
            By default light comes from the upper left corner
            (135Â°). You can change this direction from 0 to 360
            (counter clockwise).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color variation</term>
        <listitem>
          <para>
            Each tile has only one color. So the number of colors is reduced,
            compared to the original image. Here you can increase the number
            of colors a little.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Antialiasing</term>
        <listitem>
          <para>
            This option reduces the stepped aspect that may have
            borders.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color averaging</term>
        <listitem>
          <para>
            When this option is unchecked, the image drawing can be
            recognized inside tiles.  When checked, the colors inside
            tiles are averaged into a single color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Allow tile splitting</term>
        <listitem>
          <para>
            This option splits tiles in areas with many colors, and
            so allows a better color gradation and more details in
            these areas.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pitted surfaces</term>
        <listitem>
          <para>
            With this option tile surface looks pitted.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>FG/BG lighting</term>
        <listitem>
          <para>
            When this option is checked, tiles are lit by the
            foreground color of the toolbox, and shadow is colored by
            the background color.  Joins have the background color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-newsprint">
  <title>Newsprint</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Newsprint</tertiary>
  </indexterm>
  <indexterm>
    <primary>Newsprint</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Newsprint filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-newsprint.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Newsprint</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter halftones the image using a clustered-dot dither. Halftoning
      is the process of rendering an image with multiple levels of grey or
      color (i.e. a continuous tone image) on a device with fewer tones;
      often a bi-level device such as a printer or typesetter.
    </para>
    <para>
      The basic premise is to trade off resolution for greater apparent tone
      depth (this is known as spatial dithering).
    </para>
    <para>
      There are many approaches to this, the simplest of which is to throw
      away the low-order bits of tone information; this is what the posterize
      filter does. Unfortunately, the results don't look too good. However, no
      spatial resolution is lost.
    </para>
    <para>
      This filter uses a clustered-dot ordered dither, which reduces the
      resolution of the image by converting cells into spots which grow or
      shrink according to the intensity that cell needs to represent.
    </para>
    <para>
      Imagine a grid super-imposed on the original image.  The image is
      divided into cells by the grid - each cell will ultimately hold a single
      spot made up of multiple output pixels in order to approximate the
      darkness of the original image in that cell.
    </para>
    <para>
      Obviously, a large cell size results in a heavy loss in resolution! The
      spots in the cells typically start off as circles, and grow to be
      diamond shaped. This change in shape is controlled by a
      <guilabel>Spot&nbsp;function</guilabel>. By using different spot
      functions, the evolution in the shape of the spots as the cell goes from
      fully black to fully white may be controlled.
    </para>
  </sect3>

  <sect3>
    <title>Starting filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Newsprint</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Newsprint</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/newsprint.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <!-- changed 2010-05-17 ude: looks like just the opposite is true...
            Note that the preview displays the whole image, even if the final
            result will concern a selection.
          -->
          <para>
            All your setting changes will appear in the Preview without
            affecting the image until you click on <guilabel>OK</guilabel>.
            Note that the preview displays only a part of the whole image if
            the filter is applied to an selection. Don't keep
            <guilabel>Preview</guilabel> checked if your computer is too slow.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Resolution</term>
        <listitem>
          <para>
            This group controls the cell size, either by setting the input and
            output resolutions, or directly.
          </para>
          <variablelist>
            <varlistentry>
              <term>Input SPI</term>
              <listitem>
                <para>
                  Resolution of the original input image, in Samples Per Inch
                  (SPI). This is automatically initialised to the input
                  image's resolution.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Output LPI</term>
              <listitem>
                <para>
                  Desired output resolution, in Lines Per Inch (LPI).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Cell size</term>
              <listitem>
                <para>
                  Resulting cell size, in pixels. Most often you will want to
                  set this directly.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Screen</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Separate To RGB, CMYK, Intensity</term>
              <listitem>
                <para>
                  Select which colorspace you wish to operate in.  In
                  <emphasis>RGB</emphasis> mode, no colorspace conversion is
                  performed. In <emphasis>CMYK</emphasis>, the image is first
                  internally converted to CMYK, then each color channel is
                  separately halftoned, before finally being recombined back
                  to an RGB image. In <emphasis>Intensity</emphasis> mode,
                  the image is internally converted to grayscale, halftoned,
                  then the result used as the alpha channel for the input
                  image. This is good for special effects, but requires a
                  little experimentation to achieve best results.  Hint: try
                  CMYK if you don't know which to go for initially.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Black pullout (%)</term>
              <listitem>
                <para>
                  When doing RGB-&gt;CMYK conversion, how much K (black)
                  should be used?
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Lock channels</term>
              <listitem>
                <para>
                  Make channel modifications apply to all channels.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Factory Defaults</term>
              <listitem>
                <para>
                  Restore the default settings which should give pleasing
                  results.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Angle</term>
              <listitem>
                <para>Cell grid angle for this channel.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Spot function</term>
              <listitem>
                <para>
                  Spot function to be used for this channel (see preview in
                  blue cell-boxes).
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Antialiasing</term>
        <listitem>
          <para>
            Proper halftoning does not need antialiasing: the aim is to
            reduce the color depth after all!  However, since this
            plugin is mainly for special effects, the results are
            displayed on screen rather than by a black/white printer.
            So it is often useful to apply a little anti-aliasing to
            simulate ink smearing on paper.  If you do want to print the
            resulting image then set the antialising to 1 (ie, off).
          </para>
          <variablelist>
            <varlistentry>
              <term>Oversample</term>
              <listitem>
                <para>
                  Number of subpixels to sample to produce each output pixel.
                  Set to 1 to disable this feature. Warning: large numbers
                  here will lead to very long filter runtimes!
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Example for Newsprint</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/newsprint.png"/>
        </imageobject>
        <caption>
          <para>An example from plug-in author</para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-pagecurl">
  <title>Page Curl</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Page Curl</tertiary>
  </indexterm>
  <indexterm>
    <primary>Page Curl</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Page Curl filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-pagecurl.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Page Curl</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter curls a corner of the current layer or selection into a
      kind of cornet showing the underlying layer in the cleared area. A new
      <quote>Curl Layer</quote> and a new Alpha channel are created. The part
      of the initial layer corresponding to this cleared area is also
      transparent.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Page Curl</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/pagecurl.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Curl Location</term>
        <listitem>
          <para>
            You have there four radio buttons to select the corner you want
            raise. The Preview is redundant and doesn't respond to other
            options.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Curl Orientation</term>
        <listitem>
          <para>
            <emphasis>Horizontal</emphasis> and <emphasis>Vertical</emphasis>
            refer to the border you want raise.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shade under curl</term>
        <listitem>
          <para>
            This is the shadow inside the cornet.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Foreground / background colors</term>
        <term>Current gradient</term>
        <term>Current gradient (reversed)</term>
        <listitem>
          <para>
            This option refers to the outer face of the cornet.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            Refers to the visibility of the layer part underlying the cornet.
            It may be set also in the Layer Dialog.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-polar-coords">
  <title>Polar Coords</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Polar Coords</tertiary>
  </indexterm>
  <indexterm>
    <primary>Polar Coords</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for Polar Coords filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-polarcoords.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Polar Coords</quote> filter applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      It gives a circular or a rectangular representation of your image with
      all the possible intermediates between both.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Polar Coords</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Polar Coords</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/polarcoords.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The result of your settings will appear in the Preview without
            affecting the image until you click on <guibutton>OK</guibutton>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Circle depth in percent</term>
        <listitem>
          <para>
            Slider and input box allow you to set the "circularity" of the
            transformation, from rectangle (0%) to circle (100%).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Offset angle</term>
        <listitem>
          <para>
            This option controls the angle the drawing will start from
            (0 - 359Â°), and so turns it around the circle center.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Map backwards</term>
        <listitem>
          <para>
            When this option is checked, the drawing will start from the
            right instead of the left.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Map from top</term>
        <listitem>
          <para>
            If unchecked, the mapping will put the bottom row in the middle
            and the top row on the outside. If checked, it will be the
            opposite.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>To polar</term>
        <listitem>
          <para>
            If unchecked, the image will be circularly mapped into a rectangle
            (odd effect). If checked, the image will be mapped into a circle.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Examples</title>
    <figure>
      <title>With text</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/polcoords1.png"/>
        </imageobject>
        <caption>
          <para>
            If you have just written the text, you must Flatten the
            image before using the filter.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>With two horizontal bars</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/polcoords2.png"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-ripple">
  <title>Ripple</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Ripple</tertiary>
  </indexterm>
  <indexterm>
    <primary>Ripple filter</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title><quote>Ripple</quote> filter example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-ripple.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Ripple</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      It displaces the pixels of the active layer or selection to waves or
      ripples reminding a reflection on disturbed water.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Ripple</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Ripple</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/ripple.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The result of your settings will appear in the Preview without
            affecting the image until you click on <guibutton>OK</guibutton>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Options</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>Antialiasing</guilabel></term>
              <listitem>
                <para>
                  This improves the scaled look the image borders may have.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Retain tileability</guilabel></term>
              <listitem>
                <para>
                  This preserves the seamless properties if your image is a tile pattern.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Orientation</term>
        <listitem>
          <para>
            That's the <guilabel>Horizontal</guilabel> or
            <guilabel>Vertical</guilabel> direction of waves.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edges</term>
        <listitem>
          <para>
            Because ripples cause pixel displacement, some pixels may be
            missing on the image sides:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                With <guilabel>Wrap</guilabel>, pixels going out one side
                will come back on the other side, replacing so the missing
                pixels.
              </para>
            </listitem>
            <listitem>
              <para>
                With <guilabel>Smear</guilabel>, the adjacent pixels will
                spread out to replace the mixing pixels.
              </para>
            </listitem>
            <listitem>
              <para>
                With <guilabel>Blank</guilabel>, the missing pixels will be
                replaced by black pixels, if the layer does not have an
                Alpha channel. If an Alpha channel exists in the layer,
                transparent pixels replace the missing pixels after applying
                this option.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Wave Type</term>
        <listitem>
          <para>
            Choose how the wave should look like:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Sawtooth</guilabel>
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Sine</guilabel>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Period</term>
        <listitem>
          <para>
            It is related to wavelength (0-200 pixels)
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Amplitude</term>
        <listitem>
          <para>
            It is related to wave height (0-200 pixels).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Phase shift</term>
        <listitem>
          <para>
            It is angle to delay the wave (0-360 degree). 
            Appling this filter again with the same setting
            but Phase shift differs by 180 brings the once processed image
            back to become almost similar to the first original image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-shift">
  <title>Shift</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Shift</tertiary>
  </indexterm>
  <indexterm>
    <primary>Shift</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Shift filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-shift.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Shift</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      It shifts all pixel rows, horizontally or vertically, in the current
      layer or selection, on a random distance and within determined limits.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Shift</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Shift</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/distort/shift.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The result of your settings will appear in the Preview without
            affecting the image until you click on <guibutton>OK</guibutton>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shift horizontally</term>
        <term>Shift vertically</term>
        <listitem>
          <para>
            This option sets the dimension where pixels are moved.
          </para>
          <para>
            Pixels going out one side will come back on the other side.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shift amount</term>
        <listitem>
          <para>
            With this option, you can set the maximum shift, between 1 and
            200 pixels, or in another unit of measurement.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-video">
  <title>Video</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Video</tertiary>
  </indexterm>
  <indexterm>
    <primary>Video</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the <quote>Video</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-video.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Video</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Apply low dot-pitch RGB simulation to the specified drawable.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter </title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Video</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Video</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/distort/video.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This preview is unusual: Changes appear always on the same image
            which is not yours.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Video Pattern</term>
        <listitem>
          <para>
            It would be rather difficult to describe what each pattern
            will render. It's best to see what they render in the Preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Additive</term>
        <listitem>
          <para>
            Set whether the function adds the result to the original image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Rotated</term>
        <listitem>
          <para>Rotate the result by 90Â°.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-vpropagate">
  <title>Value Propagate</title>

  <indexterm>
    <primary>Value Propagate</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Value Propagate filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-vpropagate.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Value Propagate</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter works on color borders. It spreads pixels that differ in a
      specified way from their neighbouring pixels.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Value Propagate</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Value propagate</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/vpropagate.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The result of your settings will appear in the Preview without
            affecting the image until you click on <guibutton>OK</guibutton>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Mode</term>
        <listitem>
          <variablelist>
            <para>
              The examples will be about the following image:
            </para>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/vpropag-base.png"/>
              </imageobject>
            </mediaobject>
            <varlistentry>
              <term>More white (larger value)</term>
              <listitem>
                <para>
                  Pixels will be propagated from upper value pixels towards
                  lower value pixels. So bright areas will enlarge.
                </para>
                <figure>
                  <title>More white</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/filters/examples/vpropag1.png" format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        Bright pixels have been propagated to dark pixels in
                        the four directions : top, bottom, right and left.
                        Filter applied several times to increase effect.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>More black (smaller value)</term>
              <listitem>
                <para>
                  Pixels will be propagated from lower value pixels towards
                  upper value pixels. So dark areas will enlarge.
                </para>
                <figure>
                  <title>More black</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag2.png"/>
                    </imageobject>
                  </mediaobject>
                </figure>
                <figure>
                  <title>To bottom only</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag2-bis.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        The same as above with <guilabel>To bottom</guilabel>
                        direction only checked.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Middle value to peaks</term>
              <listitem>
                <para>
                  On a border between the selected thresholds, the average of
                  both values is propagated.
                </para>
                <figure>
                  <title>Middle value to peaks</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag3.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        A thin border with a transitional color has been
                        added to objects. It is not visible around objects
                        with smoothed borders.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag3-zoom.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Green area zoomed x800. A thin border (one pixel wide)
                        has been added. Its value is the average between grey
                        (90%) and green (78%) : (90 + 78) / 2 = 84.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Foreground to peaks</term>
              <listitem>
                <para>
                  The propagated areas will be filled with the foreground
                  color of the toolbox.
                </para>
                <figure>
                  <title>Foreground to peaks</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag4.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        In this example, the foreground color in Toolbox is
                        Red. A thin border, one pixel wide, red, is added
                        around objects. With smoothed objects, this border is
                        located at the furthest limit of smoothing. Here,
                        another border appears inside. This is an artifact due
                        to the small size of the object which makes the
                        smoothing area of opposite sides to overlap.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Only foreground</term>
              <listitem>
                <para>
                  Only areas with the Toolbox Foreground color will propagate.
                </para>
                <figure>
                  <title>Only foreground</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag5.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        In this example, the foreground color in Toolbox is
                        that of the green object. After applying filter
                        several times, the green area is clearly enlarged.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Only background</term>
              <listitem>
                <para>
                  Only areas with the Background color will propagate.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>More opaque</term>
              <term>More transparent</term>
              <listitem>
                <para>
                  These commands work like <quote>More white</quote> and
                  <quote>More black</quote>. Opaque (transparent) areas will
                  be propagated over less opaque (transparent) areas. These
                  commands need an image with an alpha channel.
                </para>
                <figure>
                  <title>More opaque</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag6a.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Original layer, with a transparent background.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/filters/examples/vpropag6b.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Filter applied several times: the green, opaque, area
                        got increased.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Propagate</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Lower threshold</term>
              <term>Upper threshold</term>
              <listitem>
                <para>
                  A pixel will be propagated (spread) if the difference in
                  value between the pixel and its neighbour is no smaller than
                  the lower threshold and no larger than the upper threshold.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Propagating rate</term>
              <listitem>
                <para>
                  That's the propagating amount. The higher it will be the
                  more colored the propagation will be.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <!--Propagating direction-->
              <term>To left</term>
              <term>To top</term>
              <term>To right</term>
              <term>To bottom</term>
              <listitem>
                <para>
                  You can select one or more directions.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Propagating alpha channel</term>
              <listitem>
                <para>
                  If checked, the pixel alpha value will be propagated,
                  otherwise the pixel will get the alpha of the neighbouring
                  pixels. This checkbox is only visible when the active layer
                  has an alpha channel.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Propagating value channel</term>
              <listitem>
                <para>
                  If checked, the pixel's color channels (gray channel on
                  grayscaled images) will be propagated. The option is
                  checked by default, of course. This checkbox too is only
                  visible when the active layer has an alpha channel.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-waves">
  <title>Waves</title>

  <indexterm>
    <primary>Waves</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Waves filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-waves.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Waves</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      With this filter you get the same effect as a stone thrown in a quiet
      pond, giving concentric waves.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Waves</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Waves</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/distort/waves.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            All your setting changes will appear in the Preview without
            affecting the image until you click on <guilabel>OK</guilabel>.
            Don't keep <guilabel>Preview</guilabel> checked if your computer
            is too slow.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Mode</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>Smear</guilabel></term>
              <listitem>
                <para>
                  Because of the waves, areas are rendered empty on sides. The
                  adjacent pixels will spread to fill them.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Blacken</guilabel></term>
              <listitem>
                <para>
                  The empty areas will be filled by black color.
                </para>
            </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reflective</term>
        <listitem>
          <para>
            Waves bounce on sides and interfere with the arriving ones.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Amplitude</term>
        <listitem>
          <para>Varies the height of waves.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Phase</term>
        <listitem>
          <para>This command shifts the top of waves.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Wavelength</term>
        <listitem>
          <para>Varies the distance between the top of waves.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-whirl-pinch">
  <title>Whirl and Pinch</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Whirl and Pinch</tertiary>
  </indexterm>
  <indexterm>
    <primary>Whirl and Pinch</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Whirl and Pinch filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-whirlpinch.jpg"/>
        </imageobject>
        <caption>
          <para>Filter applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      <quote>Whirl and Pinch</quote> distorts your image in a concentric way.
    </para>
    <para>
      <quote>Whirl</quote> (applying a non-zero
      <guilabel>Whirl&nbsp;angle</guilabel>) distorts the image much like the
      little whirlpool that appears when you empty your bath.
    </para>
    <para>
      <quote>Pinch</quote>, with a nil rotation, can be compared to
      applying your image to a soft
      rubber surface and squeezing the edges or corners. If the Pinch amount
      slider is set to a negative value, it will look as if someone
      tried to push a round object up toward you from behind the
      rubber skin. If the Pinch amount is set to a positive value, it
      looks like someone is dragging or sucking on the surface from
      behind, and away from you.
    </para>
    <tip>
      <para>
        The <quote>pinch</quote> effect can sometimes be used to compensate
        for image distortion produced by telephoto or fish-eye lenses
        (<quote>barrel distortion</quote>).
      </para>
    </tip>
    <figure>
      <title>Illustration</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/whirlpinch-orig.png"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/whirlpinch-whirl.png"/>
        </imageobject>
        <caption>
          <para>Whirled</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/whirlpinch-pinch.png"/>
        </imageobject>
        <caption>
          <para>Pinched</para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Whirl and Pinch</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Parameter Settings</title>
    <figure>
      <title><quote>Whirl and Pinch</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/distort/whirlpinch.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            Changes to parameters are immediately displayed into the
            <emphasis>Preview</emphasis>. The whirlpool is focused around the
            center of the current layer or selection.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Whirl angle</term>
        <listitem>
          <para>
            Clockwise or counter clockwise (-360 to +360). Controls how many
            degrees the affected part of the image is rotated.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pinch amount</term>
        <listitem>
          <para>
            Whirlpool depth(-1 to +1). Determines how strongly the affected
            part of the image is pinched.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Radius</term>
        <listitem>
          <para>
            Whirlpool width (0.0-2.0). Determines how much of the image is
            affected by the distortion. If you set
            <parameter>Radius</parameter> to 2, the entire image will be
            affected. If you set <parameter>Radius</parameter> to 1, half the
            image will be affected. If <parameter>Radius</parameter> is set to
            0, nothing will be affected (think of it as the radius in a circle
            with 0 in the center and 1 halfway out).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-wind">
  <title>Wind</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Distorts</secondary>
    <tertiary>Wind</tertiary>
  </indexterm>
  <indexterm>
    <primary>Wind</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title><quote>Wind</quote> filter example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/distort-taj-wind.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Wind</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Wind filter can be used to create motion blur, but it can
      also be used as a general distort filter. What is characteristic
      about this filter is that it will render thin black or white
      lines. Wind will detect the edges in the image, and stretch out
      thin white or black lines from that edge. This is why you can
      create the illusion of motion, because the edges are what will
      be blurred in a photograph of a moving object.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Distorts</guisubmenu>
        <guimenuitem>Wind</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Wind</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/distort/wind.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The interface is quite simple. You can set the
      <parameter>Strength</parameter> of the wind and a
      <parameter>Threshold</parameter> value. <parameter>Threshold</parameter>
      will restrict the effect to fewer areas of the image.
      <parameter>Strength</parameter> controls the amount of wind, so a high
      value will render a storm. You can also increase the effect by setting
      the <parameter>Style</parameter> to Blast, which will produce thicker
      lines than Wind.
    </para>
    <para>
      You can only set the wind in two directions, either Left or Right.
      However, you can control which edge the wind will come from using the
      values Leading, Trailing or Both. Because Trailing will produce a black
      wind, it creates a less convincing motion blur than Leading, which will
      produce white wind.
    </para>
    <para>
       The following illustrations are based on this image:
    </para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/filters/examples/wind0.png" format="PNG"/>
      </imageobject>
    </mediaobject>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            All your setting changes will appear in the Preview without
            affecting the image until you click on <guilabel>OK</guilabel>.
            It reproduces a part of the image only, centred on the first
            modified area it encounters.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Style</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>Wind</guilabel></term>
              <listitem>
                <para>
                  This option is the most suggestive of a moving effect.
                  Trails are thin.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Blast</guilabel></term>
              <listitem>
                <para>
                  This option tries to suggest a blast due to an explosion.
                  Trails are thick.
                </para>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/filters/examples/blast1.png"/>
                  </imageobject>
                </mediaobject>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Direction</term>
        <listitem>
          <para>
            You can select the direction, <guilabel>Left</guilabel> or
            <guilabel>Right</guilabel>, from which the wind comes.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge Affected</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>Leading</guilabel></term>
              <listitem>
                <para>
                  Trails will start from the front border, falling on the
                  object itself. It suggests that a violent wind is pulling
                  color out.
                </para>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/filters/examples/wind2.png"/>
                  </imageobject>
                </mediaobject>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Trailing</guilabel></term>
              <listitem>
                <para>
                  Trails start from the back border of the object.
                </para>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/filters/examples/wind1.png"/>
                  </imageobject>
                </mediaobject>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Both</guilabel></term>
              <listitem>
                <para>Combines both effects.</para>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/filters/examples/wind3.png"/>
                  </imageobject>
                </mediaobject>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Threshold</term>
        <listitem>
          <para>
            The threshold to detect borders. The higher it is, the fewer
            borders will be detected.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Strength</term>
        <listitem>
          <para>
            Higher values increase the strength of the effect.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-distort">
  <title>Distort Filters</title>
  <figure>
    <title>The Distort filters menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/filters/distorts.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <xi:include href="distort/introduction.xml"/>
  <xi:include href="distort/blinds.xml"/>
  <xi:include href="distort/curve_bend.xml"/>
  <xi:include href="distort/emboss.xml"/>
  <xi:include href="distort/engrave.xml"/>
  <xi:include href="distort/erase_rows.xml"/>
  <xi:include href="distort/IWarp.xml"/>
  <xi:include href="distort/lens-distortion.xml"/>
  <xi:include href="distort/mosaic.xml"/>
  <xi:include href="distort/newsprint.xml"/>
  <xi:include href="distort/pagecurl.xml"/>
  <xi:include href="distort/polarcoords.xml"/>
  <xi:include href="distort/ripple.xml"/>
  <xi:include href="distort/shift.xml"/>
  <xi:include href="distort/vpropagate.xml"/>
  <xi:include href="distort/video.xml"/>
  <xi:include href="distort/waves.xml"/>
  <xi:include href="distort/whirlpinch.xml"/>
  <xi:include href="distort/wind.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-dog">
  <title>Difference of Gaussians</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Edge Detect</secondary>
    <tertiary>Difference of Gaussians</tertiary>
  </indexterm>
  <indexterm>
    <primary>Difference of Gaussians</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>
        Applying example for the <quote>Difference of Gaussians</quote> filter
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-dog.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Difference of Gaussians</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter does edge detection using the
      so-called <quote>Difference of Gaussians</quote>
      algorithm, which works by performing two different Gaussian blurs on the
      image, with a different blurring radius for each, and subtracting them
      to yield the result. This algorithm is very widely used in artificial
      vision (maybe in biological vision as well!), and is pretty fast because
      there are very efficient methods for doing Gaussian blurs. The most
      important parameters are the blurring radii for the two Gaussian blurs.
      It is probably easiest to set them using the preview, but it may help to
      know that increasing the smaller radius tends to give thicker-appearing
      edges, and decreasing the larger radius tends to increase the
      <quote>threshold</quote>
      for recognizing something as an edge. In most cases you will get nicer
      results if Radius 2 is smaller than Radius 1, but nothing prevents you
      from reversing them, and in situations where you have a light figure on
      the dark background, reversing them may actually improve the result.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Edge-Detect</guisubmenu>
        <guimenuitem>Difference of Gaussians</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>
        Gaussian Difference filter options
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/edge-detect/diff-gauss.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Smoothing Parameters</term>
        <listitem>
          <para>
            <guilabel>Radius 1</guilabel> and <guilabel>Radius 2</guilabel>
            are the blurring radii for the two Gaussian blurs. The only
            constraints on them is that they cannot be equal, or else the
            result will be a blank image. If you want to produce something
            that looks like a sketch, in most cases setting
            <quote>Radius&nbsp;2</quote> smaller than
            <quote>Radius&nbsp;1</quote> will give better results.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Normalize</term>
        <listitem>
          <para>
            Checking this box causes the brightness range in the result to be
            stretched as much as possible, increasing contrast. Note that in
            the preview, only the part of the image that is shown is taken
            into account, so with <guilabel>Normalize</guilabel>
            checked the preview is not completely accurate. (It is accurate
            except in terms of global contrast, though.)
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Invert</term>
        <listitem>
          <para>
            Checking this box inverts the result, so that you see dark edges
            on a white background, giving something that looks more like a
            drawing.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-edge">
  <title>Edge</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Edge Detect</secondary>
    <tertiary>Edge</tertiary>
  </indexterm>
  <indexterm>
    <primary>Edge</primary>
  </indexterm>
  <indexterm>
    <primary>Sobel</primary>
  </indexterm>
  <indexterm>
    <primary>Laplace</primary>
  </indexterm>
  <indexterm>
    <primary>Roberts</primary>
  </indexterm>
  <indexterm>
    <primary>Gradient</primary>
  </indexterm>
  <indexterm>
    <primary>Prewitt compass</primary>
  </indexterm>
  <indexterm>
    <primary>Differential</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Edge filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-edge-sobel.jpg"/>
        </imageobject>
        <caption>
          <para>After applying the filter (Sobel option)</para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Applying examples for the Edge filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-edge-prewitt.jpg"/>
        </imageobject>
        <caption>
          <para>After applying the filter (Prewitt compass option)</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-edge-gradient.jpg"/>
        </imageobject>
        <caption>
          <para>After applying the filter (Gradient option)</para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Applying example for the Edge filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-edge-roberts.jpg"/>
        </imageobject>
        <caption>
          <para>After applying the filter (Roberts option)</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-edge-differential.jpg"/>
        </imageobject>
        <caption>
          <para>After applying the filter (Differential option)</para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Applying example for the Edge filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-edge-laplace.jpg"/>
        </imageobject>
        <caption>
          <para>After applying the filter (Laplace option)</para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Edge-Detect</guisubmenu>
        <guimenuitem>Edge...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Edge filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/edge-detect/edge.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Algorithm</term>
        <listitem>
          <variablelist>
            <para>Edge detector offers several detection methods:</para>
            <varlistentry>
              <term><guilabel>Sobel</guilabel></term>
              <listitem>
                <para>
                  Here, this method has no options and so is less interesting
                  than the specific Sobel.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Prewitt compass</guilabel></term>
              <listitem>
                <para>Result doesn't look different from Sobel.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Gradient</guilabel></term>
              <listitem>
                <para>
                  Edges are thinner, less contrasted and more blurred than
                  Sobel.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Roberts</guilabel></term>
              <listitem>
                <para>No evident difference from Sobel.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Differential</guilabel></term>
              <listitem>
                <para>Edges less bright.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Laplace</guilabel></term>
              <listitem>
                <para>Less interesting than the specific one.</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Amount</term>
        <listitem>
          <para>
            A low value results in black, high-contrasted image with thin
            edges. A high value results in thick edges with low contrast and
            many colors in dark areas.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Wrap</term>
        <term>Smear</term>
        <term>Black</term>
        <listitem>
          <para>
            Where the edge detector will get adjoining pixels for its
            calculations when it is working on the image boundaries. This
            option will only have an effect on the boundaries of the result
            (if any). <guilabel>Smear</guilabel> is the default and the best
            choice.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-edges-introduction">
  <title>Introduction</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Edge Detect</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <indexterm>
    <primary>Edge-Detect</primary>
  </indexterm>
  <para>
    Edge detect filters search for borders between different colors
    and so can detect contours of objects.
  </para>
  <para>
    They are used to make selections and for many artistic purposes.
  </para>
  <mediaobject>
    <imageobject>
      <!--was: images/filters/filters-edgedetect-fig.png-->
      <imagedata format="PNG"
        fileref="images/filters/edge-detect/gradient-calculation-fig.png"/>
    </imageobject>
  </mediaobject>
  <para>
    Most of them are based on gradient calculation methods and give thick
    border lines. Look at fig.1 which represents color intensity
    variations. On the left is a slow color gradient which is not a border.
    On the right is a quick variation which is an edge. Now, let us
    calculate the gradient, the variation speed, of this edge, i.e. the first
    derivative (fig.2). We have to decide that a border is detected when
    gradient is more than a threshold value (the exact border is at top of
    the curve, but this top varies according to borders). In most cases,
    threshold is under top and border is thick.
  </para>
  <para>
    The Laplacian edge detection uses the second derivative (fig.3).
    The top of the curve is now at zero and clearly identified. That's
    why Laplace filter renders a thin border, only a pixel wide. But
    this derivative gives several zeros corresponding to small
    ripples, resulting in false edges.
  </para>
  <para>
    Some blurring before applying edge filters is often necessary: it
    flattens small ripples in signal and so prevents false edges.
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-laplace">
  <title>Laplace</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Edge Detect</secondary>
    <tertiary>Laplace</tertiary>
  </indexterm>
  <indexterm>
    <primary>Laplace</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Laplace filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-laplace.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Laplace</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter detects edges in the image using Laplacian method,
      which produces thin, pixel wide borders.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filtres</guimenu>
        <guisubmenu>Edge-Detect</guisubmenu>
        <guimenuitem>Laplace</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-neon">
  <title>Neon</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Edge Detect</secondary>
    <tertiary>Neon</tertiary>
  </indexterm>
  <indexterm>
    <primary>Neon</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Neon filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-neon.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Neon</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter detects edges in the active layer or selection and gives
      them a bright neon effect.
    </para>
    <para>
      You will find in <acronym>GIMP</acronym> a Script-Fu also named Neon,
      which works in a different manner. The Script-Fu is an easy shortcut to
      construct logo-like letters outlined with a configurable neon-effect.
      See <xref linkend="script-fu-neon-logo-alpha"/> for details.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Edge-Detect</guisubmenu>
        <guimenuitem>Neon...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Neon filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/edge-detect/neon.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Radius</term>
        <listitem>
          <para>
            This option lets you determine how wide the detected edge will be.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Amount</term>
        <listitem>
          <para>
            This option lets you determine how strong the filter effect will
            be.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-sobel">
  <title>Sobel</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Edge Detect</secondary>
    <tertiary>Sobel</tertiary>
  </indexterm>
  <indexterm>
    <primary>Sobel</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example of the Sobel filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/edge-taj-sobel.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Sobel</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Sobel's filter detects horizontal and vertical edges separately on a
      scaled image. Color images are turned into RGB scaled images. As with
      the Laplace filter, the result is a transparent image with black lines
      and some rest of colors.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Edge-Detect</guisubmenu>
        <guimenuitem>Sobel</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Sobel filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/edge-detect/sobel.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, changes in the image are displayed in the Preview in
            real time before being applied to the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sobel horizontally</term>
        <listitem>
          <para>Renders near horizontal edges.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sobel vertically</term>
        <listitem>
          <para>Renders near vertical edges.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep sign of result</term>
        <listitem>
          <para>
            This option allows you to set how the filter will work if you have
            selected one direction for use only: a flat relief with bumps and
            hollows will be created.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-edge">
  <title>Edge-Detect Filters</title>

  <xi:include href="edge-detect/introduction.xml"/>
  <xi:include href="edge-detect/dog.xml"/>
  <xi:include href="edge-detect/edge_detect.xml"/>
  <xi:include href="edge-detect/laplace.xml"/>
  <xi:include href="edge-detect/neon.xml"/>
  <xi:include href="edge-detect/sobel.xml"/>
</sect1>
-#-#-
    <para>
      The Antialias filter works as follows:
    </para>
    <procedure>
      <para>For every pixel,</para>
      <step>
        <para>
          the filter expands the original pixel in 9 (3x3) new pixels
          according to the Scale3X algorithm, using the colors of the pixel
          and its 8 adjacent pixels (extrapolation);
        </para>
      </step>
      <step>
        <para>
          then the filter subsamples the new pixels to a weighted average
          pixel.
        </para>
      </step>
    </procedure>
<!--
    <para>
      The Antialias filter works as follows: for every pixel, the filter
      expands the original pixel in 9 (3x3) new pixels according to the
      Scale3X algorithm, using the colors of the pixel and its 8 adjacent
      pixels (extrapolation); then it subsamples the new pixels to a weighted
      average pixel.
    </para>
-->
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Enhance</guisubmenu>
        <guimenuitem>Antialias</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Examples</title>
    <para>
      The following examples illustrate the effect on some patterns. The
      small squares are one pixel in size (zoom 16:1).
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/enhance/antialias-orig.png"/>
      </imageobject>
      <caption>
        <para>Original image (zoom 16:1)</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/enhance/antialias-applied.png"/>
      </imageobject>
      <caption>
        <para><quote>Antialias</quote> applied (zoom 16:1)</para>
      </caption>
    </mediaobject>
  </sect3>
</sect2>
-#-#-
        <term>Keep odd fields</term>
        <term>Keep even fields</term>
        <listitem>
          <para>
            One of them may render a better result. You must try both.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Simple applying example for the Deinterlace filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/interlaced.png"/>
        </imageobject>
        <caption>
          <para>
            Top: even lines pixels are shifted by one pixel to the right.
            Bottom: one line is missing. These images are zoomed to show
            pixels.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/deinterlaced-1.png"/>
        </imageobject>
        <caption>
          <para>
            <quote>Keep even fields</quote> checked.
            Top: odd lines have been shifted to the right, to align
            themselves with the even lines. Bottom: the empty line has been
            filled with red.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/deinterlaced-2.png"/>
        </imageobject>
        <caption>
          <para>
            <quote>Keep odd fields</quote> checked.
            Top: even lines have been shifted to the left, to align
            themselves with the odd lines. Bottom: the empty line persists,
            but joins up and down through a gradient.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-enhance-introduction">
  <title>Introduction</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Enhance</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <para>
    Enhance filters are used to compensate for image imperfections. Such
    imperfections include dust particles, noise, interlaced frames (coming
    usually from a TV frame-grabber) and insufficient sharpness.
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-nlfilt">
  <title>NL Filter</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Enhance</secondary>
    <tertiary>NL filter</tertiary>
  </indexterm>
  <indexterm>
    <primary>NL filter</primary>
  </indexterm>
  <indexterm>
    <primary>Nonlinear filter</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the NL-Filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/enhance-taj-nl-filter.jpg"/>
        </imageobject>
        <caption>
          <para><quote>NL Filter</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      NL means <quote>Non Linear</quote>. Derived from the Unix
      <command>pnmnlfilt</command> program, it joins smoothing, despeckle
      and sharpen enhancement functions. It works on the whole layer, not
      on the selection.
    </para>
    <para>
      This is something of a swiss army knife filter. It has 3 distinct
      operating modes. In all of the modes each pixel in the image is examined
      and processed according to it and its surrounding pixels values. Rather
      than using 9 pixels in a 3x3 block, it uses an hexagonal block whose
      size can be set with the Radius option.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Enhance</guisubmenu>
        <guimenuitem>NL Filter</guimenuitem>
      </menuchoice>.
    </para>
    <para>
      The filter does not work if the active layer has an alpha channel. Then
      the menu entry is insensitive and grayed out.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>NL Filter</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/enhance/nlfilter.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            When checked, parameter setting results are interactively
            displayed in preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Filter</term>
        <listitem>
          <para>
            The <link linkend="plug-in-nlfilt-mode">Operating Mode</link>
            is described below.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Alpha</term>
        <listitem>
          <para>
            Controls the amount of the filter to apply. Valid range is
            0.00-1.00. The exact meaning of this value depends on the selected
            operating mode. Note that this parameter is related to but not
            the same as the <parameter>alpha</parameter> parameter used in the
            <command>pnmnlfilt</command> program.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Radius</term>
        <listitem>
          <para>
            Controls the size of the effective sampling region around each
            pixel. The range of this value is 0.33-1.00, where 0.33 means just
            the pixel itself (and thus the filter will have no effect), and
            1.00 means all pixels in the 3x3 grid are sampled.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="plug-in-nlfilt-mode">
    <title>Operating Modes</title>
    <para>
      This filter can perform several distinct functions:
    </para>
    <variablelist>
      <varlistentry>
        <term>Alpha trimmed mean</term>
        <listitem>
          <para>
            The value of the center pixel will be replaced by the mean of
            the 7 hexagon values, but the 7 values are sorted by size and
            the top and bottom <parameter>Alpha</parameter> portion of the 7
            are excluded from the mean. This implies that an
            <parameter>Alpha</parameter> value of 0.0 gives the same sort of
            output as a normal convolution (i.e. averaging or smoothing
            filter), where <parameter>Radius</parameter> will determine the
            <quote>strength</quote> of the filter. A good value to start from
            for subtle filtering is
            <parameter>Alpha</parameter> = 0.0,
            <parameter>Radius</parameter> = 0.55.
            For a more blatant effect, try
            <parameter>Alpha</parameter> = 0.0 and
            <parameter>Radius</parameter> = 1.0.
          </para>
          <para>
            An <parameter>Alpha</parameter> value of 1.0 will cause the
            median value of the 7 hexagons to be used to replace the center
            pixel value. This sort of filter is good for eliminating
            <quote>pop</quote> or single pixel noise from an image without
            spreading the noise out or smudging features on the image.
            Judicious use of the <parameter>Radius</parameter> parameter will
            fine tune the filtering.
          </para>
          <para>
            Intermediate values of <parameter>Alpha</parameter> give effects
            somewhere between smoothing and "pop" noise reduction. For subtle
            filtering try starting with values of
            <parameter>Alpha</parameter> = 0.8,
            <parameter>Radius</parameter> = 0.6.
            For a more blatant effect try
            <parameter>Alpha</parameter> = 1.0,
            <parameter>Radius</parameter> = 1.0 .
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Optimal estimation</term>
        <listitem>
          <para>
            This type of filter applies a smoothing filter adaptively over
            the image. For each pixel the variance of the surrounding
            hexagon values is calculated, and the amount of smoothing is
            made inversely proportional to it. The idea is that if the
            variance is small then it is due to noise in the image, while if
            the variance is large, it is because of <quote>wanted</quote>
            image features.
            As usual the <parameter>Radius</parameter> parameter controls
            the effective radius, but it probably advisable to leave  the
            radius between 0.8 and 1.0 for the variance calculation to be
            meaningful. The <parameter>Alpha</parameter> parameter sets the
            noise threshold, over which less smoothing will be done. This
            means that small values of <parameter>Alpha</parameter> will
            give the most subtle filtering effect, while large values will
            tend to smooth all parts of the image. You could start with
            values like
            <parameter>Alpha</parameter>  = 0.2,
            <parameter>Radius</parameter> = 1.0,
            and try increasing or decreasing the
            <parameter>Alpha</parameter> parameter to  get the desired
            effect. This type of filter is best for filtering out dithering
            noise in both bitmap and color images.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge enhancement</term>
        <listitem>
          <para>
            This is the opposite type of filter to the smoothing filter. It
            enhances edges. The <parameter>Alpha</parameter> parameter
            controls the amount of edge enhancement, from subtle (0.1) to
            blatant (0.9). The <parameter>Radius</parameter> parameter
            controls the effective radius as usual, but useful values are
            between 0.5 and 0.9. Try starting with values of
            <parameter>Alpha</parameter> = 0.3,
            <parameter>Radius</parameter> = 0.8.
        </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <simplesect>
      <title>Combination use</title>
      <para>
        The various operating modes can be used one after the other to get the
        desired result. For instance to turn a monochrome dithered image into
        grayscale image you could try one or two passes of the smoothing
        filter, followed by a pass of the optimal estimation filter, then some
        subtle edge enhancement. Note that using edge enhancement is only
        likely to be useful after one of the  non-linear filters (alpha
        trimmed mean or optimal estimation filter), as edge enhancement is the
        direct opposite of smoothing.
      </para>
      <para>
        For reducing color quantization noise in images (i.e. turning .gif
        files back into 24 bit files) you could try a pass of the optimal
        estimation filter (<parameter>Alpha</parameter> = 0.2,
        <parameter>Radius</parameter> = 1.0), a pass of the median filter
        (<parameter>Alpha</parameter> = 1.0, <parameter>Radius</parameter> =
        0.55), and possibly a pass of the edge enhancement filter. Several
        passes of the optimal estimation filter with declining
        <parameter>Alpha</parameter> values are more effective than a single
        pass with a large <parameter>Alpha</parameter> value. As usual, there
        is a trade-off between filtering effectiveness and losing detail.
        Experimentation is encouraged.
      </para>
    </simplesect>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-red-eye-removal">
  <title>Red Eye Removal</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Enhance</secondary>
    <tertiary>Red Eye Removal</tertiary>
  </indexterm>
  <indexterm>
    <primary>Red Eye Removal</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Red Eye Removal</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/enhance-red-eye-before.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/enhance-red-eye-after.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Red Eye Removal</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The aim of this filter is - guess what - to remove red eyes from an
      image. Before applying the <quote>Red Eye Removal</quote>
      you must do a selection (lasso or elliptical) of the boundary of the
      iris of the eye(s) having a red pupil. After only you can apply the
      filter on this selection. If you don't make this selection, the filter
      inform you that :
      <quote>Manually selecting the eyes may improve the results</quote>.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Enhance</guisubmenu>
        <guimenuitem>Red Eye Removal</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Red Eye Removal</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/enhance/red-eye-removal.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If you check <quote>Preview</quote>
            you can see the modifications in real-time in the preview
            window. And you can choose the good value of threshold compared
            with what you see, and then validate it.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Threshold</term>
        <listitem>
          <para>
            If you move the cursor of threshold the amount of red color to
            eliminate will vary.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-unsharp-mask">
  <title>Unsharp Mask</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Enhance</secondary>
    <tertiary>Unsharp Mask</tertiary>
  </indexterm>
  <indexterm>
    <primary>Unsharp Mask</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Unsharp Mask filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/enhance-taj-unsharp-mask.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Unsharp mask</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Out-of-focus photographs and most digitized images often need a
      sharpness correction. This is due to the digitizing process that must
      chop a color continuum up in points with slightly different colors:
      elements thinner than sampling frequency will be averaged into an
      uniform color. So sharp borders are rendered a little blurred. The same
      phenomenon appears when printing color dots on paper.
    </para>
    <para>
      The Unsharp Mask filter (what an odd name!) sharpens edges of the
      elements without increasing noise or blemish. It is the king of the
      sharpen filters.
    </para>
    <tip>
      <para>
        Some imaging devices like digital cameras or scanners offer to sharpen
        the created images for you. We strongly recommend you disable the
        sharpening in this devices and use the GIMP filters instead. This way
        you regain the full control over the sharpening of your images.
      </para>
    </tip>
    <para>
      To prevent color distortion while sharpening, Decompose your image to
      HSV and work only on Value. Then Compose the image to HSV. Go to
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Components</guisubmenu>
        <guimenuitem>Decompose...</guimenuitem>
      </menuchoice>.
      Make sure the <guilabel>Decompose to Layers</guilabel>
      box is checked. Choose HSV and click OK. You will get a new grey-level
      image with three layers, one for Hue, one for Saturation, and one for
      Value. (Close the original image so you won't get confused). Select
      the Value layer and apply your sharpening to it. When you are done,
      with that same layer selected, reverse the process. Go to
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Components</guisubmenu>
        <guimenuitem>Compose...</guimenuitem>
      </menuchoice>.
      Again choose HSV and click OK. You will get back your original image
      except that it will have been sharpened in the Value component.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Enhance</guisubmenu>
        <guimenuitem>Unsharp Mask</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Unsharp Mask</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/enhance/unsharp-mask.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview. Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Radius</term>
        <listitem>
          <para>
            The slider and input boxes (0.1-120) allow you to set how many
            pixels on either side of an edge will be affected by sharpening.
            High resolution images allow higher radius. It is better to always
            sharpen an image at its final resolution.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Amount</term>
        <listitem>
          <para>
            This slider and input boxes (0.00-5.00) allow you to set
            strength of sharpening.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Threshold</term>
        <listitem>
          <para>
            This slider and input boxes (0-255) allow you to set the minimum
            difference in pixel values that indicates an edge where sharpen
            must be applied. So you can protect areas of smooth tonal
            transition from sharpening, and avoid creation of blemishes in
            face, sky or water surface.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>How does an unsharp mask work?</title>
    <para>
      Using an unsharp mask to sharpen an image can seem rather weird. Here is
      the explanation:
    </para>
    <para>
      Think of an image with a contrast in some place. The intensity curve of
      the pixels on a line going through this contrast will show an abrupt
      increase of intensity: like a stair if contrast is perfectly sharp, like
      an S if there is some blur.
    </para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/filters/examples/unsharp-mask-1.png"/>
      </imageobject>
    </mediaobject>
    <para>
      Now, we have an image with some blur we want to sharpen (black curve).
      We apply some more blur: the intensity variation will be more gradual
      (green curve).
    </para>
    <para>
      Let us subtract the blurredness intensity from the intensity of the
      image. We get the red curve, which is more abrupt : contrast and
      sharpness are increased. QED.
    </para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/filters/examples/unsharp-mask-2.png"/>
      </imageobject>
    </mediaobject>

    <para>
      Unsharp mask has first been used in silver photography. The photograph
      first creates a copy of the original negative by contact, on a film,
      placing a thin glass plate between both; that will produce a blurred
      copy because of light diffusion. Then he places both films, exactly
      corresponding, in a photo enlarger, to reproduce them on paper. The dark
      areas of the positive blurred film, opposed to the clear areas of the
      original negative will prevent light to go through and so will be
      subtracted from the light going through the original film.
    </para>

    <procedure>
      <para>
        In digital photography, with GIMP, you will go through the following
        steps:
      </para>
      <step>
        <para>
          Open your image and duplicate it
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Duplicate</guimenuitem>
          </menuchoice>
        </para>
      </step>
      <step>
        <para>
          In the copy, duplicate the layer
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Duplicate layer</guimenuitem>
          </menuchoice>, then drop the Filters menu down and apply
          <menuchoice>
            <guimenu>Blur</guimenu>
            <guimenuitem>Gaussian Blur</guimenuitem>
          </menuchoice>
          to the duplicated layer with the default IIR option and radius 5.
        </para>
      </step>
      <step>
        <para>
          In the layer dialog of the duplicated image, change Mode to
          <quote>Subtract</quote>, and in the right-clic menu, select
          <quote>Merge down</quote>.
        </para>
      </step>
      <step>
        <para>
          Click and drag the only layer you got into the original image, where
          it appears as a new layer.
        </para>
      </step>
      <step>
        <para>
          Change the Mode in this layer dialog to <quote>Addition</quote>.
        </para>
      </step>
    </procedure>

    <para>
      VoilÃ . The <quote>Unsharp Mask</quote> plug-in does the same for you.
    </para>
    <para>
      At the beginning of the curve, you can see a dip. If blurring is
      important, this dip is very deep; the result of the subtraction can be
      negative, and a complementary color stripe will appear along the
      contrast, or a black halo around a star on the light background of a
      nebula (black eye effect).
    </para>
    <figure>
      <title>Black eye effect</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/unsharp-mask-3.png"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-convmatrix">
  <title>Convolution Matrix</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Generic</secondary>
    <tertiary>Convolution Matrix</tertiary>
  </indexterm>
  <indexterm>
    <primary>Convolution Matrix</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <para>
      Here is a mathematician's domain. Most of filters are using convolution
      matrix. With the Convolution Matrix filter, if the fancy takes you, you
      can build a custom filter.
    </para>
    <para>
      What is a convolution matrix? It's possible to get a rough idea of it
      without using mathematical tools that only a few ones know. Convolution
      is the treatment of a matrix by another one which is called
      <quote>kernel</quote>.
    </para>
    <para>
      The Convolution Matrix filter uses a first matrix which is the Image to
      be treated. The image is a bi-dimensional collection of pixels in
      rectangular coordinates. The used kernel depends on the effect you want.
    </para>
    <para>
      GIMP uses 5x5 or 3x3 matrices. We will consider only 3x3 matrices, they
      are the most used and they are enough for all effects you want. If all
      border values of a kernel are set to zero, then system will consider it
      as a 3x3 matrix.
    </para>
    <para>
      The filter studies successively every pixel of the image. For each of
      them, which we will call the <quote>initial pixel</quote>, it
      multiplies the value of this pixel and values of the 8 surrounding
      pixels by the kernel corresponding value. Then it adds the results,
      and the initial pixel is set to this final result value.
    </para>
    <para>
      A simple example:
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/examples/convolution-calculate.png"/>
      </imageobject>
    </mediaobject>
    <para>
      On the left is the image matrix: each pixel is marked with its value.
      The initial pixel has a red border. The kernel action area has a green
      border. In the middle is the kernel and, on the right is the convolution
      result.
    </para>
    <para>
      Here is what happened: the filter read successively, from left to right
      and from top to bottom, all the pixels of the kernel action area. It
      multiplied the value of each of them by the kernel corresponding value
      and added results. The initial pixel has become 42:
      (40*0)+(42*1)+(46*0) + (46*0)+(50*0)+(55*0) + (52*0)+(56*0)+(58*0) = 42.
      (the filter doesn't work on the image but on a copy). As a graphical
      result, the initial pixel moved a pixel downwards.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Generic</guisubmenu>
        <guimenuitem>Convolution Matrix</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Convolution matrix</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/generic/convolution.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Matrix</term>
        <listitem>
          <para>
            This is the 5x5 kernel matrix: you enter wanted values directly
            into boxes.
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Divisor</guilabel></term>
              <listitem>
                <para>
                  The result of previous calculation will be divided by this
                  divisor. You will hardly use 1, which lets result unchanged,
                  and 9 or 25 according to matrix size, which gives the
                  average of pixel values.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Offset</guilabel></term>
              <listitem>
                <para>
                  This value is added to the division result. This is useful
                  if result may be negative. This offset may be negative.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Border</term>
        <listitem>
          <para>
            When the initial pixel is on a border, a part of kernel is out of
            image. You have to decide what filter must do:
          </para>
          <para>
            <inlinemediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/generic/convolution-milord.png"/>
              </imageobject>
            </inlinemediaobject>
            <inlinemediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/generic/convolution-extend.png"/>
              </imageobject>
            </inlinemediaobject>
            <inlinemediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/generic/convolution-wrap.png"/>
              </imageobject>
            </inlinemediaobject>
            <inlinemediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/generic/convolution-crop.png"/>
              </imageobject>
            </inlinemediaobject>
          </para>
          <para>
            From left: source image, <guilabel>Extend</guilabel> border,
            <guilabel>Wrap</guilabel> border, <guilabel>Crop</guilabel> border
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Extend</guilabel></term>
              <listitem>
                <para>This part of kernel is not taken into account.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Wrap</guilabel></term>
              <listitem>
                <para>
                  This part of kernel will study pixels of the opposite
                  border, so pixels disappearing from one side reappear on the
                  other side.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Crop</guilabel></term>
              <listitem>
                <para>
                  Pixels on borders are not modified, but they are cropped.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Channels</term>
        <listitem>
          <para>
            You can select there one or several channels the filter will work
            with.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Normalise</term>
        <listitem>
          <para>
            If this option is checked, The Divisor takes the result value of
            convolution. If this result is equal to zero (it's not possible
            to divide by zero), then a 128 offset is applied. If it is
            negative (a negative color is not possible), a 255 offset is
            applied (inverts result).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Alpha-weighting</term>
        <listitem>
          <para>
            If this option is not checked, the filter doesn't take in account
            transparency and this may be cause of some artefacts when
            blurring.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Examples</title>
    <para>
      Design of kernels is based on high levels mathematics. You can find
      ready-made kernels on the Web. Here are a few examples:
    </para>
    <figure>
      <title>Sharpen</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/convolution-sharpen.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/generic-taj-convmatrix-sharpen.jpg"/>
        </imageobject>
      </mediaobject>
    </figure>
    <figure>
      <title>Blur</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/convolution-blur.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/generic-taj-convmatrix-blur.jpg"/>
        </imageobject>
      </mediaobject>
    </figure>
    <figure>
      <title>Edge enhance</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/convolution-edge.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/generic-taj-convmatrix-edge-enhance.jpg"/>
        </imageobject>
      </mediaobject>
    </figure>
    <figure>
      <title>Edge detect</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/convolution-edge-detect1.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/generic-taj-convmatrix-edge-detect.jpg"/>
        </imageobject>
      </mediaobject>
    </figure>
    <figure>
      <title>Emboss</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/convolution-emboss.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/generic-taj-convmatrix-emboss.jpg"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-dilate">
  <title>Dilate</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Generic</secondary>
    <tertiary>Dilate</tertiary>
  </indexterm>
  <indexterm>
    <primary>Dilate</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Dilate filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/generic-taj-dilate.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Dilate</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter widens and enhances dark areas of the active layer or
      selection.
    </para>
    <para>
      For every image pixel, it brings the pixel Value (luminosity) into line
      with the lowest Value (the darkest) of the 8 neighbouring pixels (3x3
      matrix). So, a dark pixel is added around dark areas. An isolated pixel
      on a brighter background will be changed to a big <quote>pixel</quote>,
      composed of 9 pixels, and that will create some noise in the image.
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/generic/dilate-pixel.png"/>
      </imageobject>
    </mediaobject>
    <para>
      In this image, the studied pixel has a red border and the studied
      matrix has a green border. I hope you have understood how to go on
      with the process and get a 3x3 pixel block: when the <quote>I</quote>
      pixel is inside the green border, the studied pixel turns to black.
    </para>
    <para>
      A larger dark area will dilate by one pixel in all directions:
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/generic/dilate-zone.png"/>
      </imageobject>
    </mediaobject>
    <para>
      The filter was applied 3 times.
    </para>
    <para>
      On more complex images, dark areas are widened and enhanced the same,
      and somewhat pixellated. Here, the filter was applied 3 times:
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/filters/generic/dilate-milord.png"/>
      </imageobject>
    </mediaobject>
    <para>
      Of course, if background is darker than foreground, it will cover the
      whole image.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Generic</guisubmenu>
        <guimenuitem>Dilate</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Examples</title>
    <figure>
      <title>Dilate text</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/dilate-text.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <figure>
      <title>Dilate neon effect</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/dilate-neon.png"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-erode">
  <title>Erode</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Generic</secondary>
    <tertiary>Erode</tertiary>
  </indexterm>
  <indexterm>
    <primary>Erode</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Erode noise</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/generic-taj-erode.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Erode noise</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter widens and enhances bright areas of the active layer or
      selection.
    </para>
    <para>
      For every image pixel, it brings the pixel Value (luminosity) into line
      with the upper value (the brightest) of the 8 neighbouring pixels (3x3
      matrix). So, a bright pixel is added around bright areas. An isolated
      pixel on a brighter background will be deleted. A larger bright area
      will dilate by one pixel in all directions.
    </para>
    <para>
      On complex images, bright areas are widened and enhanced the same, and
      somewhat pixellated.
    </para>
    <para>
      On a solid background, this filter can delete noise:
      <figure>
        <title><quote>Erode noise</quote> example</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/examples/erode-noise.png"/>
          </imageobject>
        </mediaobject>
      </figure>
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Generic</guisubmenu>
        <guimenuitem>Erode</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-generic-introduction">
  <title>Introduction</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Generic</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <para>
    Generic filters are a catch-all for filters which can't be placed
    elsewhere. You can find:
  </para>
  <itemizedlist>
    <listitem>
      <para>
        The <link linkend="plug-in-convmatrix">Convolution Matrix</link>
        filter which lets you build custom filters.
      </para>
    </listitem>
    <listitem>
      <para>
        The <link linkend="plug-in-dilate">Dilate</link> filter.
      </para>
    </listitem>
    <listitem>
      <para>
        The <link linkend="plug-in-erode">Erode</link> filter.
      </para>
    </listitem>
  </itemizedlist>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-generic">
  <title>Generic Filters</title>

  <xi:include href="generic/introduction.xml"/>
  <xi:include href="generic/convol-matrix.xml"/>
  <xi:include href="generic/dilate.xml"/>
  <xi:include href="generic/erode.xml"/>
</sect1>
-#-#-
<sect1 id="filter-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary><secondary>Introduction</secondary>
  </indexterm>
  <indexterm>
    <primary>Preview</primary><secondary>Filter</secondary>
  </indexterm>

  <para>
    A filter is a special kind of tool designed to take an input layer or
    image, apply a mathematical algorithm to it, and return the input layer or
    image in a modified format. <acronym>GIMP</acronym>
    uses filters to achieve a variety of effects and those effects are
    discussed here.
  </para>

  <itemizedlist>
    <para>The filters are divided into several categories:</para>
    <listitem>
      <para><xref linkend="filters-blur"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-enhance"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-distort"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-light-and-shadow"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-noise"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-edge"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-generic"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-combine"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-artistic"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-decor"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-map"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-render"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-web"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-animation"/></para>
    </listitem>
    <listitem>
      <para><xref linkend="filters-alpha-to-logo"/></para>
    </listitem>
  </itemizedlist>

  <sect2>
    <title>Preview</title>
    <para>
      Most filters have a Preview where changes in the image are displayed, in
      real time (if the <quote>Preview</quote> option is checked), before
      being applied to the image.
    </para>
    <figure>
      <title>Preview submenu</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/preview-submenu.png"/>
        </imageobject>
        <caption>
          <para>
            Right clicking on the Preview window opens a submenu which lets
            you set the Style and the Size of checks representing
            transparency.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect2>
</sect1>
-#-#-
<sect2 id="plug-in-applylens">
  <title>Apply Lens</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Apply Lens</tertiary>
  </indexterm>
  <indexterm>
    <primary>Apply Lens</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>The same image, before and after applying lens effect.</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/glass-taj-apply-lens.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Apply lens</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      After applying this filter, a part of the active layer is rendered as
      through a spherical lens.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Apply Lens</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Apply Lens</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/apply-lens.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview. Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep original surroundings</term>
        <listitem>
          <para>The lens seems to be put on the active layer.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Set surroundings to background color</term>
        <listitem>
          <para>
            The part of the active layer outside the lens will have the
            background color selected in the toolbox.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Make surroundings transparent</term>
        <listitem>
          <para>
            The part of the active layer outside the lens will be transparent.
            This option exists only if the active layer has an alpha channel.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Lens refraction index</term>
        <listitem>
          <para>Lens will be more or less convergent (1-100).</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-drop-shadow">
  <title>Drop Shadow</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Drop Shadow</tertiary>
  </indexterm>
  <indexterm>
    <primary>Drop Shadow</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Drop Shadow</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/light-taj-drop-shadow.jpg"/>
        </imageobject>
        <caption>
          <para>
            <quote>Drop Shadow</quote> applied
            (white background layer added manually)
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds a drop-shadow to the current selection or to the image
      if there's no active selection. Optional the filter resizes the image if
      that's necessary for displaying the shadow.
    </para>
    <para>
      You may choose the color, position, and size of the shadow.
    </para>
    <para>
      Please note that the filter does not add a background layer to make the
      shadow visible. The shadow's background is transparent. The white
      background in the above example has not been created by the filter,
      instead it has been added later to let you see the shadow.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image menu menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Drop Shadow</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Drop Shadow</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/drop-shadow.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Offset X</term>
        <term>Offset Y</term>
        <listitem>
          <para>
            The layer containing the drop shadow will be moved horizontally
            by X pixels, vertically by Y pixels. So, X and Y offset
            determine where the shadow will be placed in relation to the
            image. High values make the imaginary source of light look like
            it's far away in horizontal or vertical direction, and low
            values will make it look closer to the image.
          </para>
          <para>
            The offsets may be negative, leading to a shadow on the left of
            the selection if offset X &lt; 0, or above the selection if offset
            Y &lt; 0.
          </para>
          <para>
            If there's no active selection, you must have <guilabel>Allow
            resizing</guilabel> enabled to see any effect.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur radius</term>
        <listitem>
          <para>
            After creating the shadow, a
            <link linkend="plug-in-gauss">Gaussian blur</link> with the
            specified radius is applied to the shadow layer, resulting in the
            realistic appearance of the drop shadow. It may be necessary to
            enable <guilabel>Allow resizing</guilabel>, since blurring extends
            the shadow.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            The shadow may have any color. Just click on the button, and
            select a color when the color selector pops up.
          </para>
          <figure>
            <title><quote>Drop Shadow</quote> color example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/drop-shadow-color.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            The shadow's opacity is just the opacity of the new layer
            containing the shadow (see
            <xref linkend="gimp-layer-properties"/>). It defaults to 80%, but
            you may select any other value from 0 (full transparency) to 100
            (full opacity) here. After applying the filter to an image you can
            change the opacity in the <link linkend="gimp-layer-dialog">layers
            dialog</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Allow resizing</term>
        <listitem>
          <para>
            If enabled, the filter will resize the image if that is needed to
            make place for the shadow. The new size depends on the size of the
            selection, the blur radius, and the shadow offsets.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-flarefx">
  <title>Lens Flare</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Lens Flare</tertiary>
  </indexterm>
  <indexterm>
    <primary>Lens Flare</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Lens Flare filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/light-taj-flarefx.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Lens Flare</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter gives the impression that sun hit the objective when taking
      a shot. You can locate the reflection with a reticule you can move, but
      you have not the possibilities that the
      <link linkend="plug-in-gflare">Gradient Flare</link> filter offers.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image menu menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Lens Flare</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Lens Flare</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/flarefx.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview. Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Center of Flare Effect</term>
        <listitem>
          <para>
            You can set <guilabel>X</guilabel> and <guilabel>Y</guilabel>
            (pixels) coordinates of glint using the input box or by clicking
            into the preview. The coordinate origin is at the upper left
            corner.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show position</term>
        <listitem>
          <para>
            When this option is checked, a reticule appears in preview and you
            can move it with the mouse pointer to locate the center of Lens
            Flare effect.
          </para>
          <tip>
            <para>
              The mouse cursor, which looks like a cross when it moves over
              the preview, lets you locate the filter effect even without the
              reticule.
            </para>
          </tip>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-gflare">
  <title>Gradient Flare</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Gradient Flare</tertiary>
  </indexterm>
  <indexterm>
    <primary>Gradient Flare</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Gradient Flare filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/light-taj-gflare.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Gradient Flare</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Gradient Flare effect reminds the effect you get when you take a
      photograph of a blinding light source, with a halo and radiations around
      the source.  The Gradient Flare image has three components:
      <emphasis>Glow</emphasis> which is the big central fireball,
      <emphasis>Rays</emphasis> and <emphasis>Second Flares</emphasis>
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Gradient Flare</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      The <emphasis>Settings</emphasis> tab allows you to set manually the
      parameters while the <emphasis>Selector</emphasis> tab let you choose
      presets in a list.
    </para>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            When <guilabel>Auto update preview</guilabel> is checked,
            parameter setting results are interactively displayed in preview
            without modifying the image until you click on
            <guilabel>OK</guilabel> button.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <sect4>
      <title>Settings</title>
      <figure>
        <title><quote>Gradient Flare</quote> filter options (Settings)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/gflare-options-1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Center</term>
          <listitem>
            <para>
              You can set X and Y (pixels) coordinates of glint using the
              input box or by clicking into the preview. The coordinate origin
              is at the upper left corner.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Parameters</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Radius</guilabel></term>
              <listitem>
                <para>
                  The radius of the effect. The slider limits the range of
                  possible values, but using the input box you can enter
                  greater values.
                </para>
              </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Rotation</guilabel></term>
                <listitem>
                  <para>Turn the effect.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Hue rotation</guilabel></term>
                <listitem>
                  <para>Change the tint (color) of the effect.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Vector angle</guilabel></term>
                <listitem>
                  <para>Turn the Second flares.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Vector length</guilabel></term>
                <listitem>
                  <para>Vary the distance applied for the Second flares.</para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Adaptive supersampling</term>
          <listitem>
            <para>
              Settings of the anti-aliasing following parameters like Depth
              and Threshold. (See also
              <xref linkend="glossary-supersampling"/>.)
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Selector</title>
      <figure>
        <title><quote>Gradient Flare</quote> filter options (Selector)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/gflare-options-2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        The Selector tab allows you to select a Gradient Flare pattern, to
        change it and save it.
      </para>
      <variablelist>
        <varlistentry>
          <term>New</term>
          <listitem>
            <para>
              When you click on this button, you create a new Gradient Flare
              pattern.  Give it a name of your choice.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Edit</term>
          <listitem>
            <para>
              This button brings up the
              <link linkend="plug-in-gflare-editor">Gradient Flare
              Editor</link> (see below).
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Copy</term>
          <listitem>
            <para>
              This button allows you to duplicate selected Gradient Flare
              pattern.  You can edit the copy without altering the original.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Delete</term>
          <listitem>
            <para>
              This button deletes the selected Gradient Flare pattern.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>

  <sect3 id="plug-in-gflare-editor">
    <title>Gradient Flare Editor</title>
    <para>
      The Gradient Flare Editor is also organized in tabs:
    </para>

    <sect4 id="plug-in-gflare-editor-general">
      <title>General</title>
      <figure>
        <title><quote>Gradient Flare Editor</quote> options (General)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/gflare-editor-1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Glow Paint Options</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term>Opacity</term>
                <listitem>
                  <para>
                    Slider and input box allows you to reduce glow opacity
                    (0-100).
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Paint mode</term>
                <listitem>
                  <para>You can choose between four modes:</para>
                  <variablelist>
                    <varlistentry>
                      <term><guilabel>Normal</guilabel></term>
                      <listitem>
                        <para>
                          In this mode, the glow covers the image without
                          taking into account what is beneath.
                        </para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term><guilabel>Addition</guilabel></term>
                      <listitem>
                        <para>
                          Pixel RGB values of glow are added to RGB values of
                          the corresponding pixels in the image. Colors get
                          lighter and white areas may appear.
                        </para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term><guilabel>Overlay</guilabel></term>
                      <listitem>
                        <para>
                          Light/Dark areas of glow enhance corresponding
                          light/dark areas of image.
                        </para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term><guilabel>Screen</guilabel></term>
                      <listitem>
                        <para>
                          Dark areas of image are enlightened by corresponding
                          light areas of glow. Imagine two slides projected
                          onto the same screen.
                        </para>
                      </listitem>
                    </varlistentry>
                  </variablelist>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Rays Paint Options</term>
          <listitem>
            <para>
              Options are the same as for
              <guilabel>Glow&nbsp;Paint&nbsp;Options</guilabel>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Second Flare Paint Options</term>
          <listitem>
            <para>
              Options are the same as for
              <guilabel>Glow&nbsp;Paint&nbsp;Options</guilabel>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4 id="plug-in-gflare-editor-glow">
      <title>Glow</title>
      <figure>
        <title><quote>Gradient Flare Editor</quote> options (Glow)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/gflare-editor-2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Gradients</term>
          <listitem>
            <variablelist>
              <para>
                By clicking on the rectangular buttons, you can develop a long
                list of gradients. <quote>%</quote> gradients belong to the
                Editor.
              </para>
              <varlistentry>
                <term><guilabel>Radial gradient</guilabel></term>
                <listitem>
                  <para>
                    The selected gradient is drawn radially, from center to
                    edge.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Angular gradient</guilabel></term>
                <listitem>
                  <para>
                    The selected gradient develops around center,
                    counter-clockwise, starting from three o'clock if the
                    <guilabel>Rotation</guilabel> parameter is set to 0.
                    Radial and angular gradients are combined according to the
                    Multiply mode: light areas are enhanced and colors are
                    mixed according to CMYK color system (that of your
                    printer).
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Angular size gradient</guilabel></term>
                <listitem>
                  <para>
                    This is a gradient of radius size which develops
                    angularly. Radius is controlled according to gradient
                    Luminosity: if luminosity is zero (black), the radius is
                    0%. If luminosity is 100% (white), the radius is also
                    100%.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Parameters</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Size (%)</guilabel></term>
              <listitem>
                <!--FIXME: percent of what?-->
                <para>
                  Sets size of glow in percent (0-200).
                </para>
              </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Rotation</guilabel></term>
              <listitem>
                <para>
                  Sets the origin of the angular gradient (-180 +180).
                </para>
              </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Hue rotation</guilabel></term>
              <listitem>
                <para>
                  Sets glow color, according to the HSV color circle (-180
                  +180). (Cf. <link linkend="gimp-colorselector-triangle">The
                  triangle color selector</link>.)
                </para>
              </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4 id="plug-in-gflare-editor-rays">
      <title>Rays</title>
      <figure>
        <title><quote>Gradient Flare Editor</quote> options (Rays)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/gflare-editor-3.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Gradients</term>
          <listitem>
            <para>
              The options are the same as for
              <link linkend="plug-in-gflare-editor-glow">Glow</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Parameters</term>
          <listitem>
            <variablelist>
              <para>
                The first three options are the same as in
                <link linkend="plug-in-gflare-editor-glow">Glow</link>.
                Two are new:
              </para>
              <varlistentry>
                <term><guilabel># of Spikes</guilabel></term>
                <listitem>
                  <para>
                    This option determines the number of spikes (1-300) but
                    also their texture.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Spike thickness</guilabel></term>
                <listitem>
                  <para>
                    When spikes get wider (1-100), they look like flower
                    petals.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4 id="plug-in-gflare-editor-secondflares">
      <title>Second Flares</title>
      <figure>
        <title>
          <quote>Gradient Flare Editor</quote> options (Second Flares)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/gflare-editor-4.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Gradients</term>
          <listitem>
            <para>
              The options are the same as for
              <link linkend="plug-in-gflare-editor-glow">Glow</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Parameters</term>
          <listitem>
            <para>
              Options are the same as in
              <link linkend="plug-in-gflare-editor-glow">Glow</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Shape of Second Flares</term>
          <listitem>
            <para>
              Second flares, these satellites of the main flare, may have
              two shapes: <guilabel>Circle</guilabel> and
              <guilabel>Polygon</guilabel>. You can set the
              <emphasis>Number</emphasis> polygon sides. The option
              accepts 1 side (!), not 2.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Random seed</term>
          <listitem>
            <para>
              The random generator will use this value as a seed to generate
              random numbers. You can use the same value to repeat the same
              <quote>random</quote> sequence several times.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Randomize</term>
          <listitem>
            <para>
              When you click on this button, you produce a random seed that
              will be used by the random generator. It is each time different.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-glasstile">
  <title>Glass Tile</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Glass Tile</tertiary>
  </indexterm>
  <indexterm>
    <primary>Glass Tile</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>
        The same image, before and after applying glass tile effect.
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/glass-taj-glass-tile.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Glass Tile</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      After applying this filter, the active layer or selection is rendered
      as through a glass brick wall.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
       You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Glass Tile</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Glass Tile</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/glasstile.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview. Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile width</term>
        <term>Tile length</term>
        <listitem>
          <para>Sets tile width and length (10-50 pixels).</para>
          <para>
            By default, width and height are linked, indicated by the chain
            symbol next to the input boxes. If you want to set width and
            height separately, click on that chain symbol to unlink them.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-light-and-shadow-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
  </indexterm>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Light Effects</secondary>
  </indexterm>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Glass Effects</secondary>
  </indexterm>

  <para>
    Here you will find three groups of filters:
  </para>
  <itemizedlist>
    <listitem>
      <para>
        The original <emphasis>Light Effects</emphasis> filters, which render
        several illumination effects of the image.
      </para>
    </listitem>
    <listitem>
      <para>
        Some <emphasis>Script-Fu</emphasis> and <emphasis>Python-Fu</emphasis>
        scripts, which create various kinds of shadows.
      </para>
    </listitem>
    <listitem>
      <para>
        <emphasis>Glass Effects</emphasis> filters result in an image as if it
        were seen through a lens or glass tiles.
      </para>
    </listitem>
  </itemizedlist>
</sect2>
-#-#-
<sect2 id="plug-in-lighting">
  <title>Lighting Effects</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Lighting effects</tertiary>
  </indexterm>
  <indexterm>
    <primary>Lighting effects</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>The same image, before and after applying Lighting filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/light-taj-lighting.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Lighting Effects</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter simulates the effect you get when you light up a wall with
      a spot. It doesn't produce any drop shadows and, of course, doesn't
      reveal any new details in dark zones.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Lighting Effects</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Lighting</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/lighting.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            When <guilabel>Interactive</guilabel> is checked, parameter
            setting results are interactively displayed in preview without
            modifying the image until you click on <guilabel>OK</guilabel>
            button.
          </para>
          <para>
            If <guilabel>Interactive</guilabel> is not checked, changes are
            displayed in preview only when you click on the
            <guibutton>Update</guibutton> button.
            This option is useful with a slow computer.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      Any other options are organized in tabs:
    </para>

    <sect4>
      <title>General Options</title>
      <figure>
        <title>
          <quote>Lighting</quote> filter options (General Options)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/lighting1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Transparent background</term>
          <listitem>
            <para>
               Makes destination image transparent when bumpmap height
               is zero (height is zero in black areas of the bumpmapped
               image).
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create new image</term>
          <listitem>
            <para>
               Creates a new image when applying filter.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>High quality preview</term>
          <listitem>
            <para>
               For quick CPU...
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Distance</term>
          <listitem>
            <para>
              You can specify the distance of the light source from the
              center of the image with this slider. The range of values
              is from 0.0 to 2.0.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Light Settings</title>
      <figure>
        <title>
          <quote>Lighting</quote> filter options (Light Settings)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/lighting2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <para>
          In this tab, you can set light parameters. With
          <guilabel>Light&nbsp;1</guilabel> ...
          <guilabel>Light&nbsp;6</guilabel> you can create six light sources
          and work on each of them separately.
        </para>
        <varlistentry>
          <term>Type</term>
          <listitem>
            <para>
              The filter provides several <emphasis>light types</emphasis> in
              a drop-down list:
            </para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Point</guilabel></term>
                <listitem>
                  <para>
                    Displays a blue point at center of preview. You can click
                    and drag it to move light all over the preview.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Directional</guilabel></term>
                <listitem>
                  <para>
                    The blue point is linked to preview center by a line which
                    indicates the direction of light.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>None</guilabel></term>
                <listitem>
                  <para>
                    This deletes the light source (light may persist...).
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Color</term>
          <listitem>
            <para>
              When you click on the color swatch, you bring a dialog up
              where you can select the light source color.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Intensity</term>
          <listitem>
            <para>
              With this option, you can set light intensity.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Position</term>
          <listitem>
            <para>
              Determines the light point
              position according to three coordinates: X coordinate for
              horizontal position, Y for vertical position, Z for source
              distance (the light darkens when distance increases). Values
              are from -1 to +1.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Direction</term>
          <listitem>
            <para>
              This option should allow you to fix the light direction in
              its three <guilabel>X</guilabel>, <guilabel>Y</guilabel>
              and <guilabel>Z</guilabel> coordinates.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Isolate</term>
          <listitem>
            <para>
              With this option, you can decide whether all light sources
              must appear in the Preview, or only the source you are
              working on.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Lighting preset</term>
          <listitem>
            <para>
              You can save your settings with the <guibutton>Save
              </guibutton> and get them back later with the
              <guibutton>Open</guibutton>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Material Properties</title>
      <figure>
        <title>
          <quote>Lighting</quote> filter options (Material Properties)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/lighting3.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        These options don't concern light itself, but light reflected by
        objects.
      </para>
      <para>
        Small spheres, on both ends of the input boxes, represent the
        action of every option, from its minimum (on the left) to its
        maximum (on the right). Help pop ups are more useful.
      </para>
      <variablelist>
        <varlistentry>
          <term>Glowing</term>
          <listitem>
            <para>
              With these option, you can set the amount of original
              color to show where no direct light falls.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Bright</term>
          <listitem>
            <para>
              With this option, you can set the intensity of original
              color when hit directly by a light source.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Shiny</term>
          <listitem>
            <para>
              This option controls how intense the highlight will be.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Polished</term>
          <listitem>
            <para>
              With this option, higher values make the highlight more
              focused.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Metallic</term>
          <listitem>
            <para>
              When this option is checked, surfaces look metallic.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Bump Map</title>
      <figure>
        <title>
          <quote>Lighting</quote> filter options (Bump Map)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/lighting4.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab, you can set filter options that give relief to the
        image. See <xref linkend="glossary-bumpmapping"/>.
      </para>
      <variablelist>
        <varlistentry>
          <term>Enable bump mapping</term>
          <listitem>
            <para>
              With this option, bright parts of the image will appear
              raised and dark parts will appear depressed. The aspect
              depends on the light source position.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Bumpmap image</term>
          <listitem>
            <para>
              You have to select there the grey-scale image that will
              act as a bump map. See <link linkend="plug-in-bump-map">Bump
              Map</link> plug-in for additional explanations.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Curve</term>
          <listitem>
            <para>
              This option defines the method that will be used when applying
              the bump map; that is, the bump height is a function of the
              specified curve.
              Four curve types are available:
              <emphasis>Linear</emphasis>,
              <emphasis>Logarithmic</emphasis>,
              <emphasis>Sinusoidal</emphasis> and
              <emphasis>Spherical</emphasis>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Maximum height</term>
          <listitem>
            <para>
              This is the maximum height of bumps.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Environment Map</title>
      <figure>
        <title>
          <quote>Lighting</quote> filter options (Environment Map)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/light-and-shadow/lighting5.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Enable environment mapping</term>
          <listitem>
            <para>
              When you check this box, the following option is enabled:
            </para>
          </listitem>
        </varlistentry>
        <!-- FIXME: what's the effect of the environment image? -->
        <varlistentry>
          <term>Environment image</term>
          <listitem>
            <para>
              You have to select there a RGB image, present on your
              screen. Please note that for this option to work you
              should load another image with <acronym>GIMP</acronym>
              <emphasis>before</emphasis> using it.
            </para>
            <para>
              An example can be found at
              <xref linkend="bibliography-online-golden-text"/>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-nova">
  <title>Supernova</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Supernova</tertiary>
  </indexterm>
  <indexterm>
    <primary>Supernova</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Supernova filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/light-taj-nova.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Supernova</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter creates a big star reminding a super-nova. It works with
      RGB and GRAY images. Light effect decreases according to 1/r where r
      is the distance from star center.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Supernova</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Parameter Settings</title>
    <figure>
      <title><quote>Supernova</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/nova.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview. Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Center of Nova</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>X</guilabel></term>
              <term><guilabel>Y</guilabel></term>
              <listitem>
                <para>
                  You can use input boxes to set horizontal (X) and vertical
                  (Y) coordinates of SuperNova center. You can also click the
                  SuperNova center in the <emphasis>preview</emphasis> box.
                </para>
                <tip>
                  <para>
                    To center Supernova precisely, select
                    <quote>percent</quote> option in the Unit dropdown list
                    and fix X and Y to 50%.
                  </para>
              </tip>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Show position</guilabel></term>
              <listitem>
                <para>
                  This option brings up a reticle in preview, centered on the
                  SuperNova.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            When you click on the color swatch, you bring up the usual color
            selector.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Radius</term>
        <listitem>
          <para>
            This is radius of the SuperNova center (1-100). When you
            increase the value, you increase the number of central white
            pixels according to r*r (1, 4, 9...).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spikes</term>
        <listitem>
          <para>
            This is number of rays (1-1024).  Each pixel in the nova center
            emit one pixel wide rays. All these rays are more or less
            superimposed resulting in this glittering effect you get when
            you move this slider.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Random hue</term>
        <listitem>
          <para>
            Color rays at random. (0-360) value seems to be a range in
            HSV color circle.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-perspective-shadow">
  <title>Perspective</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Perspective</tertiary>
  </indexterm>
  <indexterm>
    <primary>Perspective</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Perspective</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/perspective-shadow-orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/perspective-shadow-applied.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Perspective</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds a perspective shadow to the selected region or
      alpha-channel as a layer below the active layer. You may select
      color, length and direction of the shadow as well as the distance of
      the horizon.
    </para>
    <para>
      If necessary, the filter may resize the image. But it will not add a
      background to make the shadow visible.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can access this filter in the image window menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Perspective</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Perspective</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/perspective-shadow.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>
            The angle determines the direction of the shadow or the imaginary
            source of light, respectively. Values range from 0Â° to 180Â°,
            where 90Â° represents a light source just in front of the selection
            or layer. For angles less than 90Â°, the shadow is at the right
            side, so the light source is on the left. For angles greater than
            90Â°, it's the other way round. Tip: think of the slider's handle
            as source of light.
          </para>
          <figure>
            <title><quote>Angle</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-angle15.png"/>
              </imageobject>
              <caption>
                <para>Angle 15Â°</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-default.png"/>
              </imageobject>
              <caption>
                <para>Angle 45Â° (default)</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-angle105.png"/>
              </imageobject>
              <caption>
                <para>Angle 105Â° (90Â° + 15Â°)</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Relative distance of horizon</term>
        <listitem>
          <para>
            This option determines how far away the imaginary horizon is. The
            <guilabel>relative distance</guilabel> is the distance from the
            ground-line of the selection or layer, the <quote>unit</quote> of
            measurement is the height of the selection or layer.
          </para>
          <para>
            Value range is from 0.1 to 24.1, where 24.1 means (nearly)
            <quote>infinite</quote>. Note that the <guilabel>relative length
            of shadow</guilabel> must not exceed the distance of horizon.
          </para>
          <figure>
            <title><quote>Distance of horizon</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-distance.png"/>
              </imageobject>
              <caption>
                <para>
                  Angle = 45Â°. Distance = 2.4. Length = 1.8.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            In the example above, the yellow area is the selection the filter
            is applied to. The blue line at the top represents the imaginary
            horizon. The angle between the selection's ground-line and the red
            line is 45Â°. The length of the red line is 1.8 times the height of
            the yellow selection. Extended to the horizon, the length is 2.4
            times the selection's height.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Relative length of shadow</term>
        <listitem>
          <para>
            With this option you can set the length of shadow with respect to
            the height of the selection or layer. In the above example, the
            red line represents the length of shadow, its length is 1.8
            relative to the height of the yellow selection.
          </para>
          <para>
            Value range is from 0.1 to 24.1, although the length of shadow
            must not exceed the <guilabel>relative distance of
            horizon</guilabel> - you can't go beyond the horizon.
          </para>
          <figure>
            <title><quote>Length of Shadow</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-default.png"/>
              </imageobject>
              <caption>
                <para>Length = 1.0 (default)</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-length15.png"/>
              </imageobject>
              <caption>
                <para>Length = 1.5</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blur radius</term>
        <listitem>
          <para>
            After creating the shadow, a
            <link linkend="plug-in-gauss">Gaussian blur</link> with the specified
            radius is applied to the shadow layer, resulting in the realistic
            appearance of the shadow.
          </para>
          <figure>
            <title>Blur example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-default.png"/>
              </imageobject>
              <caption>
                <para>Blur radius = 3 (default)</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-noblur.png"/>
              </imageobject>
              <caption>
                <para>Without blur (blur radius = 0)</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            Of course, the default color of the shadow is black. But a click
            on the button opens the color selector, where you may select
            any other color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            The shadow's opacity is the opacity of the new layer containing
            the shadow (see <xref linkend="gimp-layer-properties"/>). It
            defaults to 80%, but you may select any other value from 0 (full
            transparency) to 100 (full opacity) here. After applying the
            filter to an image you can change the opacity in the
            <link linkend="gimp-layer-dialog">layers dialog</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Interpolation</term>
        <listitem>
          <para>
            This drop-down list lets you choose the method of
            <link linkend="glossary-interpolation">interpolation</link> used
            when the shadow layer is transformed, for example rotated by the
            specified angle. Using <guilabel>None</guilabel> will usually
            result in aliasing, using any interpolation method may change the
            color of the shadow in some areas. <guilabel>Linear</guilabel> is
            a good choice.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Allow resizing</term>
        <listitem>
          <para>
            If enabled, the filter will resize the image if that is needed to
            make place for the shadow.
          </para>
          <para>
            In the example below, the yellow area is the active selection,
            background is light blue. The white area has been added after
            resizing to make the shadow visible.
          </para>
          <figure>
            <title><quote>Allow resizing</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-resize.png"/>
              </imageobject>
              <caption>
                <para>Allow resizing</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/perspective-shadow-noresize.png"/>
              </imageobject>
              <caption>
                <para>Don't allow resizing</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-sparkle">
  <title>Sparkle</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Sparkle</tertiary>
  </indexterm>
  <indexterm>
    <primary>Sparkle</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Sparkle filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/light-taj-sparkle.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Sparkle</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds sparkles to your image. It uses the lightest points
      according to a threshold you have determined. It is difficult to foresee
      where sparkles will appear. But you can put white points on your image
      where you want sparkles to be.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Sparkle</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Parameter Settings</title>
    <figure>
      <title><quote>Sparkle</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/sparkle.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Sliders and input boxes allow you to set values.
    </para>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview. Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Luminosity threshold</term>
        <listitem>
          <para>
            The higher the threshold, the more areas are concerned by
            sparkling (0.0-0.1).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Flare intensity</term>
        <listitem>
          <para>
            When this value increases, the central spot and rays widen
            (0.0-1.0).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spike length</term>
        <listitem>
          <para>
            This is ray length (1-100). When you reduce it, small spikes
            decrease first.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spike points</term>
        <listitem>
          <para>
            Number of starting points for spikes (0-16). It's the number of
            big spikes. There is the same number of small spikes. When
            number is odd, small spikes are opposite the big ones. When
            number is even, big spikes are opposite another big spike.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spike angle</term>
        <listitem>
          <para>
            This is angle of first big spike with horizontal (-1 +360). -1
            determines this value at random.  If a spot has several pixels
            within required threshold, each of them will generate a
            sparkle.  If angle is positive, they will all be
            superimposed. With -1, each sparkle will have a random rotation
            resulting in numerous thin spikes.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spike density</term>
        <listitem>
          <para>
            This option determines the number of sparkles on your image. It
            indicates the percentage (0.0-1.0) of all possible sparkles that
            will be preserved.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Transparency</term>
        <listitem>
          <para>
            When you increase transparency (0.0-1.0), sparkles become more
            transparent and the layer beneath becomes visible. If there is no
            other layer, sparkle saturation decreases.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Random hue</term>
        <listitem>
          <para><!--FIXME: How does the numbers influence the randomness? -->
            This option should change sparkle hue at random... (0.0-1.0).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Random saturation</term>
        <listitem>
          <para>
            This option should change sparkle saturation at random...
            (0.0-1.0).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preserve luminosity</term>
        <listitem>
          <para>
            Gives to all central pixels the luminosity of the brightest pixel,
            resulting in increasing the whole sparkle luminosity.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Inverse</term>
        <listitem>
          <para>
            Instead of selecting brightest pixels in image, Sparkle will
            select the darkest ones, resulting in dark sparkles.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add border</term>
        <listitem>
          <para>
            Instead of creating sparkles on brightest pixels, this option
            creates an image border made up of numerous sparkles.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Natural color</term>
        <term>Foreground color</term>
        <term>Background color</term>
        <listitem>
          <para>
            You can change there the color of central pixels. This color will
            be added in Screen mode (Multiply if <guilabel>Inverse</guilabel>
            is checked). <quote>Natural color</quote> is the color of the
            pixel in the image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-xach-effect">
  <title>Xach-Effect</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Light and Shadow</secondary>
    <tertiary>Xach-Effect</tertiary>
  </indexterm>
  <indexterm>
    <primary>Xach-Effect</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Xach-Effect</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/light-taj-xach-effect.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Xach-Effect</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter adds a subtle translucent 3D effect to the selected region
      or alpha channel. This 3D effect is achieved by
    </para>
    <orderedlist>
      <listitem>
        <para>
          Highlighting the selection: a new layer (<quote>Highlight</quote>)
          will be created above the active layer, filled with the highlight
          color. Then a <link linkend="gimp-layer-mask">layer mask</link> will
          be added to that layer making the unmasked pixel partially
          transparent.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/examples/xach-effect-layers.png"/>
          </imageobject>
          <caption>
            <para>Highlight layer with layer mask</para>
          </caption>
        </mediaobject>
      </listitem>
      <listitem>
        <para>
          Painting the selection's left and top edges with the highlight
          color: for that the <quote>Highlight</quote> layer will be extended
          by one pixel left and up. These small areas will be opaque.
        </para>
      </listitem>
      <listitem>
        <para>
          Creating a <link linkend="script-fu-drop-shadow">drop shadow</link>
          at the bottom right side of the selection.
        </para>
      </listitem>
    </orderedlist>
    <para>
      You may vary these default settings, for example select different colors
      for highlight or shadow and change amount and directions of offsets.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      The filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Light and Shadow</guisubmenu>
        <guimenuitem>Xach-Effect</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      There are two groups of options, each controlling the highlight or the
      shadow, and a checkbox for the selection behaviour.
    </para>
    <figure>
      <title><quote>Xach-Effect</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/light-and-shadow/xach-effect.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Highlight X offset</term>
        <term>Highlight Y offset</term>
        <listitem>
          <para>
            The selection's left and top edge are painted with the highlight
            color. The highlight offset is the size (width or height) of the
            respective area. If offset is less than 0 (this is the default),
            the left (X offset &lt; 0) or top (Y offset &lt; 0) area will be
            colored. If offset is greater than 0, the right (X offset &gt; 0)
            or bottom (Y offset &gt; 0) area will be painted.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Highlight color</term>
        <listitem>
          <para>
            This is the color used to highlight the selected area. It defaults
            to white, but clicking on the swatch button brings up a color
            selector and you may select any other color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Highlight opacity</term>
        <listitem>
          <para>
            The selection will be covered by a partially transparent area
            filled with the highlight color. This option lets you set the
            level of transparency. Since a
            <link linkend="gimp-layer-mask">layer mask</link> will be used,
            the value ranges from 0 (full transparency) to 255 (full opacity).
          </para>
          <para>
            The highlight opacity defaults to 66, which is equivalent to 26%.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Drop shadow options</term>
        <listitem>
          <para>
            These options work like the respective
            <link linkend="script-fu-drop-shadow">Drop Shadow</link> options
            (without resizing). Briefly:
          </para>
          <variablelist>
            <varlistentry>
              <term>Drop shadow color</term>
              <listitem>
                <para>
                  Click on the button to open a color selector.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Drop shadow opacity</term>
              <listitem>
                <para>
                  The opacity (0% - 100%) of the layer containing the shadow.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Drop shadow blur radius</term>
              <listitem>
                <para>
                  The radius used by the
                  <link linkend="plug-in-gauss">Gaussian blur</link> filter,
                  which will be applied to the shadow.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Drop shadow X offset</term>
              <term>Drop shadow Y offset</term>
              <listitem>
                <para><!--TODO check: is this correct English?-->
                  Direction and amount, by which the shadow will be moved from
                  the selection.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep selection</term>
        <listitem>
          <para>
            If checked, the active selection will remain active when the
            filter has been applied.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-light-and-shadow">
  <title>Light and Shadow Filters</title>
  <figure>
    <title>The Light and Shadow filters menu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/filters/light-and-shadow.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <xi:include href="light-and-shadow/introduction.xml"/>
  <!-- Light Effects -->
  <xi:include href="light-and-shadow/gflare.xml"/>
  <xi:include href="light-and-shadow/flarefx.xml"/>
  <xi:include href="light-and-shadow/lighting.xml"/>
  <xi:include href="light-and-shadow/sparkle.xml"/>
  <xi:include href="light-and-shadow/nova.xml"/>
  <!-- Shadows -->
  <xi:include href="light-and-shadow/drop-shadow.xml"/>
  <xi:include href="light-and-shadow/perspective-shadow.xml"/>
  <xi:include href="light-and-shadow/xach-effect.xml"/>
  <!-- Glass Effects -->
  <xi:include href="light-and-shadow/apply_lens.xml"/>
  <xi:include href="light-and-shadow/glasstile.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-bump-map">
  <title>Bump Map</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>bump-map</tertiary>
  </indexterm>
  <indexterm>
    <primary>Bump Map</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title><quote>bump-map</quote> example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/example-map-bumpmap.png"/>
        </imageobject>
        <caption>
          <para>
            On the left, the original image that we want to emboss: a solid
            blue. In the middle, the bump map : a grayscale image, where
            black pixels will emboss backwards and white pixels will emboss
            forwards. On the right, the bump-mapped image. The filter adds a
            shadow effect.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter creates a 3D effect by embossing an image (the card) and
      then mapping it to another image. Bump height depends on pixel
      luminosity and you can set light direction. See
      <link linkend="plug-in-emboss">Emboss</link> for more information
      about embossing. You can bump map any type of image, unlike the Emboss
      filter.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Bump Map</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Bump Map</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/map/bumpmap.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview.  Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Bump map</term>
        <listitem>
          <para>
            This drop-down list allows you to select the image that will be
            used as a map for bump-mapping. This list contains images that are
            present on your screen when you launch the filter. Images opened
            after starting filter are not present in this list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Map type</term>
        <listitem>
          <para>
            This option allows you to define the method that will be used
            when creating the map image:
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Linear</guilabel></term>
              <listitem>
                <para>
                  Bump height is a direct function of luminosity.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Sinusoidal</guilabel></term>
              <listitem>
                <para>
                  Bump height is a sinusoidal function of luminosity.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Spheric</guilabel></term>
              <listitem>
                <para>
                  Bump height is a spheric function of luminosity.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Compensate for darkening</term>
        <listitem>
          <para>
            Bump-mapping tends to darken image. You can compensate this
            darkening by checking this option.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Invert bumpmap</term>
        <listitem>
          <para>
            Bright pixels default to bumps and dark pixels to hollows. You can
            invert this effect by checking this option.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile bumpmap</term>
        <listitem>
          <para>
            If you check this option, there will be no relief break if
            you use your image as a pattern for a web page: patterns will
            be placed side by side without any visible joins.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Azimut</term>
        <listitem>
          <para>
            This is about lighting according to the points of the compass
            (0 - 360). East (0Â°) is on the left. Increasing value goes
            counter-clockwise.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Elevation</term>
        <listitem>
          <para>
            That's height from horizon (0.50Â°), up to zenith (90Â°).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Depth</term>
        <listitem>
          <para>
            With this slider, you can vary bump height and hollow depth. The
            higher the value, the higher the difference between both. Values
            vary from 1 to 65.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>X offset</term>
        <term>Y offset</term>
        <listitem>
          <para>
            With this slider, you can adjust the map image position
            compared with the image, horizontally (X) and/or vertically
            (Y).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Waterlevel</term>
        <listitem>
          <para>
            If your image has transparent areas, they will be treated like
            dark areas and will appear as hollows after bump-mapping. With this
            slider, you can reduce hollows as if sea level was raising. This
            hollows will disappear when sea level value reaches 255. If the
            Invert bump-map option is checked, transparent areas will be
            treated as bright areas, and then Waterlevel slider will plane
            bumps down.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Ambient</term>
        <listitem>
          <para>
            This slider controls the intensity of ambient light. With high
            values, shadows will fade and relief lessen.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-displace">
  <title>Displace</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Displace</tertiary>
  </indexterm>
  <indexterm>
    <primary>Displace</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Displacement examples</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/map-displace7a.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/map-displace7b.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The displacement map has four grey stripes with values of 210,
            160, 110, and 60, respectively.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/map-displace7c.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            X displacement coefficient is 30. Vacated pixels are black. The
            image areas corresponding to light gray (128) were displaced
            19 and 8 pixels to the left. The image areas corresponding to dark
            gray (127) were displaced 4 and 15 pixels to the right.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter uses a <quote>displace-map</quote>
      to displace corresponding pixels of the image. This filter displaces
      the content of the specified drawable (active layer or selection) by
      the amounts specified in X and Y Displacement multiplied by the
      intensity of the corresponding pixel in the 'displace map' drawables.
      <emphasis>
        Both X and Y displace maps should be gray-scale images and have the
        same size as the drawable
      </emphasis>. This filter allows interesting distortion effects.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Displace</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3 id="plug-in-displace-general-options">
    <title>Options</title>
    <figure>
      <title>Displace filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/map/displace.png"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            Uncheck this option if your processor is slow.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Displacement Mode</term>
        <listitem>
          <para>
            You can choose working in
            <link linkend="plug-in-displace-cartesian">Cartesian</link>
            coordinates, where pixels are displaced in X or Y direction, or
            working in
            <link linkend="plug-in-displace-polar">Polar</link> coordinates,
            where the image is pinched and whirled by displacing pixels in
            radial or tangent direction.
          </para>
          <para>
            Please see the next sections for details about these options.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge Behavior</term>
        <listitem>
          <para>
            These options allows you to set displacement behaviour on active
            layer or selection edges:
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Wrap</guilabel></term>
              <listitem>
                <para>
                  With this option, what disappears on one edge reappears on
                  the opposite edge.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Smear</guilabel></term>
              <listitem>
                <para>
                  With this option, pixels vacated by displacement are
                  replaced with pixels stretched from the adjacent part of the
                  image.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Black</guilabel></term>
              <listitem>
                <para>
                  With this option, pixels vacated by displacement are
                  replaced with black.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>

    <sect4 id="plug-in-displace-cartesian">
      <title>Cartesian Displacement Mode</title>
      <figure>
        <title>Displace filter options (Cartesian)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/displace-cartesian.png"/>
          </imageobject>
          <caption>
            <para>Displacement Mode: Cartesian</para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        In both modes, direction and amount of displacement depend on the
        intensity of the corresponding pixel in the displacement map.
      </para>
      <para>
        The map, that should be a grayscale image, has 256 gray levels
        (0-255), the (theoretical) average value is 127.5. The filter
        displaces image pixels corresponding to pixels with values less than
        127.5 (0 to 127) in map to one direction, corresponding to pixels with
        values from 128 to 255 to the opposite direction.
      </para>
      <variablelist>
        <varlistentry>
          <term>X displacement</term>
          <term>Y displacement</term>
          <listitem>
            <para>
              If the respective option is activated, image pixels
              corresponding to pixels from 0 to 127 will be displaced to the
              right for X, downwards for Y, image pixels corresponding to
              pixels from 128 to 255 will be displaced to the left for X,
              upwards for Y.
            </para>
            <para>
              What you enter in input boxes, directly or by using arrow-head
              buttons, is not the actual displacement. It's a coefficient used
              in a
              <inlineequation>
                <alt role="latex">
                  $displacement = (intensity x coefficient)$
                </alt>
                <graphic fileref="images/math/displace0.png"
                  format="PNG"/>
              </inlineequation>
              formula, which gives the pixel actual displacement according to
              the scaled intensity
              <footnote><para>
                  Scaled intensity = (intensity - 127.5) / 127.5;
                  see <xref linkend="plug-in-displace-calculation"/>.
                </para></footnote>
              of the corresponding pixel in map, modulated by the coefficient
              you enter. Introducing intensity into formula is important: this
              allows progressive displacement by using a gradient map.
            </para>
            <para>
              This value may be positive or negative. A negative displacement
              is reverse of a positive one. The value varies in limits equal
              to the double of image dimensions.
            </para>
            <para>
              When you click on the drop-down list button, a list appears
              where you can select a displacement map. To be present in this
              list, an image must respect two conditions. First, this image
              must be present on your screen when you call filter. Then, this
              image must have the same dimensions as the original image. Most
              often, it will be a duplicate original image, which is
              transformed to grey scale and modified appropriately, with a
              gradient. It may be possible to use RGB images, but color
              luminosity is used making result prevision difficult. Map may be
              different in horizontal and vertical directions.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4 id="plug-in-displace-polar">
      <title>Polar Displacement Mode</title>
      <figure>
        <title>Displace filter options (Polar)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/displace-polar.png"/>
          </imageobject>
          <caption>
            <para>Displacement Mode: Polar</para>
          </caption>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Pinch</term>
          <listitem>
            <para>
              If this option is activated, the radial coordinates (i.e. the
              distance to the image's midpoint, the <quote>pole</quote>)
              of the pixels will be changed. Image pixels corresponding to
              map pixels from 0 to 127 will be displaced outwards, image
              pixels corresponding to pixels from 128 to 255 will be displaced
              towards center.
            </para>
            <para>
              For the values and the displacement map see above
              (<quote>X/Y displacement</quote>).
            </para>
            <para>
              The displacement is independent from the polar distance, all
              pixels are displaced by the same amount. So the image will not
              only be stretched or compressed, but also distorted:
            </para>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/filters/examples/map-displace-pinch.png"
                  format="PNG"/>
              </imageobject>
              <caption>
                <para>Image distortion by Pinch option</para>
              </caption>
            </mediaobject>
            <para>
              A 160x120 pixel image, plain white displacement map, and
              displacement coefficient 20.0: this results in a 20 pixels
              displacement towards center. This is a horizontal reduction in
              size by 25%, vertical by 33%, and diagonal by 20%, so the image
              will be distorted.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Whirl</term>
          <listitem>
            <para>
              If this option is activated, the angular coordinates of the
              image pixels will be <quote>displaced</quote> by a map pixel
              dependent amount. For a plain displacement map, the image will
              be rotated, otherwise it will be whirled.
            </para>
            <para>
              Image pixels corresponding to pixels from 0 to 127 in the map
              will be displaced counterclockwise, image pixels corresponding
              to pixels from 128 to 255 will be displaced clockwise.
            </para>
            <para>
              For the values and the displacement map see above.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>
          For a plain, non neutral map, if displace mode <quote>Polar</quote>
          is enabled, this filter works like
          <link linkend="plug-in-whirl-pinch">Whirl and Pinch</link>.
        </para>
      </note>
    </sect4>
  </sect3>

  <sect3>
    <title>Using gradient to bend a text</title>
    <para>Follow following steps:</para>
    <procedure>
      <step>
        <para>Start with opening your image.</para>
      </step>
      <step>
        <para>
          Duplicate this image. Activate this duplicate and make it
          gray-scaled
          (<menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Mode</guisubmenu>
            <guimenuitem>GrayScale</guimenuitem>
          </menuchoice>).
          Fill it with the wanted gradient. This image will be your
          <emphasis>Displacement map</emphasis>, with the dimensions of
          original image.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/filters/examples/2zinnias-c.png"
              format="PNG"/>
          </imageobject>
        </mediaobject>
      </step>
      <step>
        <para>
          Activate original image. Create a <emphasis>Text Layer</emphasis>
          with your text. Set layer to image size: right-click on the layer
          in layer dialog and, in the pop-menu, click on <quote>Layer to
          image size</quote>. Note that letters in text layer lie on a
          transparent background; now this filter doesn't displace
          transparent pixels. Only letters will be displaced.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/filters/examples/2zinnias-i.png"
              format="PNG"/>
          </imageobject>
        </mediaobject>
      </step>
      <step>
        <para>
          Activate the text layer. Open the Displace filter window. Set
          parameters, particularly the displacement coefficient, according to
          the result in Preview. Click <guilabel>OK</guilabel>.
        </para>
      </step>
    </procedure>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/filters/examples/map-displace5.png"
          format="PNG"/>
      </imageobject>
    </mediaobject>
    <para>This method also applies to standard layers:</para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/filters/examples/map-displace6.png"
          format="PNG"/>
      </imageobject>
    </mediaobject>
    <tip>
      <para>
        To get the wanted gradient, first draw a black to white gradient.
        Then use the <link linkend="gimp-tool-curves">Curves</link> tool to
        modify the gradient curve.
      </para>
    </tip>
  </sect3>

  <sect3 id="plug-in-displace-calculation">
    <title>Displacement Calculation</title>
    <para>
      The following section will show you how to calculate the amount of
      displacement, if you are interested in these details. If you don't want
      to know it, you can safely omit this section.
    </para>
    <para>
      The overview example showed the X displacement using a coefficient of
      30.0: 19, 8, 4, or 15 pixels, depending on the grey level of the
      displacement map's color.
    </para>
    <para>Why just these amounts? That's easy:</para>
    <para>
      <informalequation>
        <alt role="latex">$30.0 * \frac{I - 127.5}{127.5} = D$</alt>
        <graphic fileref="images/math/displace1.png" format="PNG"/>
      </informalequation>
    </para>
    <para>
      <informalequation>
        <alt role="latex">$30.0 * \frac{210 - 127.5}{127.5} = 19$</alt>
        <graphic fileref="images/math/displace2.png" format="PNG"/>
      </informalequation>
    </para>
    <para>
      <informalequation>
        <alt role="latex">$30.0 * \frac{(160 - 127.5)}{127.5} = 8$</alt>
        <graphic fileref="images/math/displace3.png" format="PNG"/>
      </informalequation>
    </para>
    <para>
      <informalequation>
        <alt role="latex">$30.0 * \frac{(110 - 127.5)}{127.5} = -4$</alt>
        <graphic fileref="images/math/displace4.png" format="PNG"/>
      </informalequation>
    </para>
    <para>
      <informalequation>
        <alt role="latex">$30.0 * \frac{(60 - 127.5)}{127.5} = -15$</alt>
        <graphic fileref="images/math/displace5.png" format="PNG"/>
      </informalequation>
    </para>
    <para>
      If you check these equations, you will notice that the values they give
      are not exactly the results we retained in the example
      (using non-integers, that's not surprising). So, were the results
      rounded to the nearest integer and then the pixels were
      displaced by a whole-numbered amount? No. Every pixel is displaced
      exactly by the calculated amount; a <quote>displacement by a fractional
      amount</quote> is realized by interpolation. A closer look at the
      example image will show it:
    </para>
    <figure>
      <title>A closer look at the displacement example</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/map-displace8.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>A small area zoomed in by 800 percent.</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The displacement causes small (one pixel wide) areas of intermediate
      colors at the edges of plain color areas. E.g., the black area (zoomed
      in image) is caused by a displacement of -4.12, so the intermediate
      color is 12% black and 88% gold.
    </para>
    <para>
      So if you select a displacement coefficient of 30.01 instead of 30.00,
      you will indeed get a different image, although you won't see the
      difference, of course.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-fractal-trace">
  <title>Fractal Trace</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Fractal Trace</tertiary>
  </indexterm>
  <indexterm>
    <primary>Fractal trace</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Fractal Trace</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/kvitveis-orig.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/kvitveis-fractal.png"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Fractal Trace</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter transforms the image with the Mandelbrot fractal: it maps
      the image to the fractal.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Fractal trace</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Fractal trace</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/map/fractal-trace.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>Mandelbrot parameters</title>
      <varlistentry>
        <term>X1</term>
        <term>X2</term>
        <term>Y1</term>
        <term>Y2</term>
        <term>Depth</term>
        <listitem>
          <para>
            These parameters are similar to X/YMIN, X/YMAX and ITER
            parameters of the
            <link linkend="plug-in-fractalexplorer">Fractal Explorer</link>
            filter. They allow you to vary fractal spreading and detail
            depth.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Outside Type</term>
        <listitem>
          <para>
            Mapping image to fractal may reveal empty areas. You can select
            to fill them with <guilabel>Black</guilabel>,
            <guilabel>White</guilabel>, <guilabel>Transparency</guilabel> or
            make what disappears on one side reappear on the opposite side
            with <guilabel>Wrap</guilabel> option.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-illusion">
  <title>Illusion</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Illusion</tertiary>
  </indexterm>
  <indexterm>
    <primary>Illusion</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Illusion</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/kvitveis-orig.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/kvitveis-illusion.png"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Fractal Trace</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      With this filter, your image (active layer or selection) looks like
      a kaleidoscope. This filter duplicates your image in many copies, more
      or less dimmed and split, and puts them around the center of the image.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Illusion</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Illusion</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/map/illusion.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview.  Scroll bars allow you to move around the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Divisions</term>
        <listitem>
          <para>
            That's the number of copies you want to apply to image. This
            value varies from -32 to 64. Negative values invert
            kaleidoscope rotation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Mode 1</term>
        <term>Mode 2</term>
        <listitem>
          <para>
            You have two arrangement modes for copies in image:
          </para>
          <figure>
            <title>
              From left to right: original image, mode 1, mode 2, with
              Divisions=4
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-illusiona.png"/>
              </imageobject>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-illusionb.png"/>
              </imageobject>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/map-illusionc.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-map-introduction">
  <title>Introduction</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <para>
    Map filters use an object named <emphasis>map</emphasis> to modify an
    image: you map the image to the object. So, you can create 3D effects
    by mapping your image to another previously embossed image
    (<quote>Bumpmap</quote> Filter) or to a sphere (<quote>Map Object</quote>
    filter). You can also map a part of the image elsewhere into the same
    image (<quote>Illusion</quote> and <quote>Make Seamless</quote> filters),
    bend a text along a curve (<quote>Displace</quote> filter)...
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-make-seamless">
  <title>Make Seamless</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Make Seamless</tertiary>
  </indexterm>
  <indexterm>
    <primary>Make Seamless</primary>
  </indexterm>
  <sect3>
    <title>Overview</title>
    <figure>
      <title>An example of Make Seamless.</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/map-taj-seamless.jpg"/>
        </imageobject>
        <caption>
          <para>Make Seamless applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter modifies the image for tiling by creating seamless edges.
      Such an image can be used as a pattern for a web-page. This filter has
      no option, and result may need correction.
    </para>
  </sect3>

  <sect3>
    <title>Activation</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Make Seamless</guimenuitem>
      </menuchoice>
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-map-object">
  <title>Map Object</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Map Object</tertiary>
  </indexterm>
  <indexterm>
    <primary>Map Object</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>
        The <quote>Map Object</quote> filter applied to a photograph
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/map-taj-map-object.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Map Object</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter maps a picture to an object (plane, sphere, box or
      cylinder).
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Map Object</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>

    <sect4>
      <title>Preview</title>
      <para>This preview has several possibilities:</para>
      <variablelist>
        <varlistentry>
          <term>Preview!</term>
          <listitem>
            <para>
              Preview is automatic for some options but you will have to press
              this button to update Preview after modifying many other
              parameters.
            </para>
            <para>
              When mouse pointer is on Preview and the Light tab is selected,
              it takes the form of a small hand to grab the <emphasis>blue
              point</emphasis> which marks light source origin and to
              displace it.
              This blue point may not be visible if light source has negative
              X and Y settings in the Light tab.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Zoom out</term>
          <term>Zoom in</term>
          <listitem>
            <para>
              Zoom buttons allow you to enlarge or to reduce image in Preview.
              Their action is limited, but may be useful in case of a large
              image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Show preview wireframe</term>
          <listitem>
            <para>
              Puts a grid over the preview to make displacements and rotations
              more easy. Works well on a plan.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>General Options</title>
      <figure>
        <title><quote>Map Object</quote> options (General)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/mapobject-options-1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Map to</term>
          <listitem>
            <para>
              This drop-down list allows you to select the object the image
              will be mapped on. It can be a <emphasis>Plane</emphasis>, a
              <emphasis>Sphere</emphasis>, a <emphasis>Box</emphasis> or a
              <emphasis>Cylinder</emphasis>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Transparent background</term>
          <listitem>
            <para>
              This option makes image transparent around the object. If not
              set, the background is filled with the current background color.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Tile source image</term>
          <listitem>
            <para>
              When moving Plane object and displacing it with Orientation tab
              options, a part of the image turns empty. By checking the
              <guilabel>Tile source image</guilabel>, source image copies
              will fill this empty space in. This option seems not to work
              with the other objects.
            </para>
            <note>
              <para>
                This option works with <quote>Plane</quote> only.
              </para>
            </note>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create new image</term>
          <listitem>
            <para>
              When this option is checked, a new image is created with the
              result of filter application, so preserving the original image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Enable antialiasing</term>
          <listitem>
            <para>
              Check this option to conceal this unpleasant aliasing effect
              on borders. When checked, this option lets appear two settings:
            </para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Depth</guilabel></term>
                <listitem>
                  <para>
                    Defines antialiasing quality, to the detriment of
                    execution speed.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Threshold</guilabel></term>
                <listitem>
                  <para>
                    Defines antialiasing limits. Antialiasing stops when value
                    difference between pixels becomes lower than this set
                    value.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Light</title>
      <figure>
        <title><quote>Map Object</quote> options (Light)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/mapobject-options-2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Light Settings</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Lightsource type</guilabel></term>
                <listitem>
                  <para>
                    In this dropdown list, you can select among
                    <emphasis>Point light</emphasis>, <emphasis>Directionnal
                    light</emphasis> and <emphasis>No light</emphasis>.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Lightsource color</guilabel></term>
                <listitem>
                  <para>
                    Press this button to open the Color Selector dialog.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Position</term>
          <listitem>
            <para>
              If <quote>Point light</quote> is selected, you can control there
              light source <emphasis>Position</emphasis> (the blue point),
              according to X, Y and Z coordinates.
            </para>
            <para>
              If <quote>Directional light</quote> is selected, these X, Y and
              Z parameters control the <quote>Direction vector</quote>
              (effect is not evident).
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Material</title>
      <figure>
        <title><quote>Map Object</quote> options (Material)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/mapobject-options-3.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Intensity Levels</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Ambient</guilabel></term>
                <listitem>
                  <para>
                    Amount of color to show where no light falls directly.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Diffuse</guilabel></term>
                <listitem>
                  <para>
                    Intensity of original color when lit by a light source.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Reflectivity</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Diffuse</guilabel></term>
                <listitem>
                  <para>
                    Higher values make object reflect more light (looks
                    brighter).
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Specular</guilabel></term>
                <listitem>
                  <para>
                    Controls how intense the highlights will be.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Highlight</guilabel></term>
                <listitem>
                  <para>
                    Higher values make the highlights more focused.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Orientation</title>
      <figure>
        <title><quote>Map Object</quote> options (Orientation)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/mapobject-options-4.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Position</term>
          <listitem>
            <para>
              These three sliders and their input boxes allows you to vary
              object position in image, according to the X, Y, Z coordinates
              of the object upper left corner.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Rotation</term>
          <listitem>
            <para>
              These three sliders make the object rotate around X, Y, Z axes
              respectively.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Box</title>
      <para>
        This tab appears only when you select the Box object.
      </para>
      <figure>
        <title><quote>Map Object</quote> options (Box)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/mapobject-options-5.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Match Images to Box Faces</term>
          <listitem>
            <para>
              This function name is self explanatory: you can select an image
              for every face of the box. These images must be present on your
              screen when you call the Map Object filter.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Scale</term>
          <listitem>
            <para>
              These X, Y, Z sliders allow you to change the size of
              every X, Y, Z dimension of the box.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Cylinder</title>
      <para>
        This tab appears only when you select the Cylinder object.
      </para>
      <figure>
        <title><quote>Map Object</quote> options (Cylinder)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/map/mapobject-options-6.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Images for the Cap Faces</term>
          <listitem>
            <para>
              The name of this option is self-explanatory. Images must be
              present on your screen when you call the Map Object filter.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Size</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term><guilabel>Radius</guilabel></term>
                <listitem>
                  <para>
                    This slider and its input boxes let you control the
                    Cylinder diameter. Unfortunately, this setting works on the
                    image mapped onto the cylinder and resamples this image to
                    adapt it to the new cylinder size. It would be better to
                    have the possibility of setting size cylinder before mapping
                    so that we could map a whole image.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Length</guilabel></term>
                <listitem>
                  <para>
                    Controls cylinder length.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-papertile">
  <title>Paper Tile</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Paper Tile</tertiary>
  </indexterm>
  <indexterm>
    <primary>Paper Tile</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title><quote>Papertile</quote> filter example.</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/map-taj-papertile.jpg"/>
        </imageobject>
        <caption>
          <para>
            Filter <quote>Papertile</quote> applied
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter cuts the image (active layer or selection) into several
      pieces, with square form, and then slides them so that they, more or
      less, overlap or move apart. They can go out image borders a little.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Paper Tile</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Paper Tile</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/map/papertile.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Division</term>
        <listitem>
          <para>
            <guilabel>X</guilabel>, <guilabel>Y</guilabel> and <guilabel>
            Size</guilabel> parameters are linked, because filter starts
            cutting image before it displaces pieces; so, piece size and
            number of pieces in horizontal (X) and vertical (Y) directions
            must be convenient to image size.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Movement</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term><guilabel>Max (%)</guilabel></term>
              <listitem>
                <para>
                  This is the maximum displacement percentage against the side
                  size of squares.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Wrap around</guilabel></term>
              <listitem>
                <para>
                  As tiles move, some can go out image borders. If this option
                  is checked, what goes out on one side goes in on the
                  opposite side.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fractional Pixels</term>
        <listitem>
          <para>
            Because of image cutting, original pixels can persist. There are
            three ways treating them:
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Background</guilabel></term>
              <listitem>
                <para>
                  Remaining pixels will be replaced with the background type
                  defined in the following section.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Ignore</guilabel></term>
              <listitem>
                <para>
                  <guilabel>Background Type</guilabel> option is not taken
                  into account and remaining pixels are kept.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Force</guilabel></term>
              <listitem>
                <para>
                  Remaining pixels will be cut also.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Background Type</term>
        <listitem>
          <para>
            You can select the background type which will be used, if the
            <guilabel>Background</guilabel> radio-button is checked, among
            six options:
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Transparent</guilabel></term>
              <listitem>
                <para>
                  Background will be transparent.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Inverted image</guilabel></term>
              <listitem>
                <para>
                  Background colors will be inverted (255-value in every color
                  channel).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Image</guilabel></term>
              <listitem>
                <para>
                  Background colors will be unchanged. The original image is
                  the background.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Foreground color</guilabel></term>
              <listitem>
                <para>
                  Remaining pixels will be replaced by the Foreground color of
                  Toolbox.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Background color</guilabel></term>
              <listitem>
                <para>
                  Remaining pixels will be replaced by the Background color of
                  Toolbox.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Select here</guilabel></term>
              <listitem>
                <para>
                  When this radio-button is checked, clicking in the color
                  dwell will open a Color Selector where you can select the
                  color you want for background.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Centering</term>
        <listitem>
          <para>
            If this option is checked, tiles will rather be gathered together
            in the center of the image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-small-tiles">
  <title>Small Tiles</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Small Tiles</tertiary>
  </indexterm>
  <indexterm>
    <primary>Small Tiles</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Small Tiles</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/map-taj-smalltile.jpg"/>
        </imageobject>
        <caption/>
      </mediaobject>
    </figure>
    <para>
      This filter reduces the image (active layer or selection) and
      displays it in many copies inside the original image.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Small Tiles</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Small Tiles</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/map/smalltiles.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Flip</term>
        <listitem>
          <para>
            You can flip tiles according to the
            <guilabel>Horizontal</guilabel> or/and
            <guilabel>Vertical</guilabel> axis by checking the corresponding
            option(s).
          </para>
          <para>
            You can also decide which tiles will be flipped:
            <variablelist>
              <varlistentry>
                <term><guilabel>All tiles</guilabel></term>
                <listitem>
                  <para>
                    No comment.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Alternate tiles</guilabel></term>
                <listitem>
                  <para>
                    Only odd tiles will be flipped.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Explicit tile</guilabel></term>
                <listitem>
                  <para>
                    You can define a particular tile using both
                    <guilabel>Row</guilabel> and <guilabel>Column</guilabel>
                    input boxes.  This tile will be marked with a box in
                    Preview. Press <guibutton>Apply</guibutton> to mark this
                    explicit tile. Repeat this procedure to mark more than one
                    tile.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            With this slider and its input box, you can set the opacity of
            the resulting image. This option is valid only if your image has
            an Alpha channel.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number of Segments</term>
        <listitem>
          <para>
            <guilabel>nÂ²</guilabel> means <quote>the image into n to
            the power of two tiles</quote>, where <quote>n</quote> is the
            number  you set with the slider or its input box. n = 3 will
            make nine tiles in the image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-tile">
  <title>Tile</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Tile</tertiary>
  </indexterm>
  <indexterm>
    <primary>Tile</primary>
  </indexterm>
  <sect3>
    <title>Overview</title>
    <figure>
      <title>The same image, before and after applying Tile filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/2zinnias.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/map-tile.png"/>
        </imageobject>
        <caption>
          <para>(We have reduced image size intentionally)</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter makes several copies of the original image, in a same or
      reduced size, into a bigger (new) image.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Tile</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Tile</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/map/tile.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>Tile to New Size</title>
      <varlistentry>
        <term>Width</term>
        <term>Height</term>
        <listitem>
          <para>
            Input boxes and their arrow-heads allow you to enter the
            dimensions for the new image. Both directions are linked by
            default with a chain
            <guiicon>
              <inlinemediaobject>
                <imageobject><imagedata format="PNG"
                    fileref="images/dialogs/stock-vchain-24.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>.
            You can make them independent by breaking
            this chain. You can choose a unit else than pixel by clicking on
            the drop-down list button.
          </para>
          <para>
            <emphasis>The new image must be bigger than the original
            one</emphasis>. Else, you will get an image sample only. Choose
            sizes which are multiple of original sizes if you don't want to
            have truncated tiles.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Create new image</term>
        <listitem>
          <para>
            It's in your interest to keep this option checked to avoid
            modifying your original image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-warp">
  <title>Warp</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Map</secondary>
    <tertiary>Warp</tertiary>
  </indexterm>
  <indexterm>
    <primary>Warp</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <para>
      This filter displaces pixels of active layer or selection according to
      the grey levels of a <emphasis>Displacement map</emphasis>. Pixels are
      displaced according to the gradient slope in the displacement map.
      Pixels corresponding to solid areas are not displaced; the higher the
      slope, the higher the displacement.
    </para>
    <figure>
      <title>
        From left to right: original image, displace map, displaced image
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/example-map-warp1.png"/>
        </imageobject>
        <caption>
          <para>
            Solid areas of displacement map lead to no displacement. Abrupt
            transitions give an important displacement. A linear gradient
            gives a regular displacement. Displacement direction is
            perpendicular to gradient direction (angle = 90Â°).
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>With a non-linear gradient</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/example-map-warp2.png"/>
        </imageobject>
        <caption>
          <para>A non-linear gradient leads to curls.</para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>With a complex gradient:</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/example-map-warp3.png"/>
        </imageobject>
        <caption>
          <para>
            And a complex gradient, such as the
            <link linkend="plug-in-solid-noise">Solid Noise</link>
            filter can create, gives a swirl effect.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter offers the possibility of masking a part of the image to
      protect it against filter action.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Warp</guimenuitem>
      </menuchoice>.
      This filter has no Preview.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Warp filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/map/warp.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>Basic Options</title>
      <varlistentry>
        <term>Step size</term>
        <listitem>
          <para>
            <quote>Step</quote> is displacement distance for every filter
            iteration. A 10 value is necessary to get a one pixel
            displacement. This value can be negative to invert
            displacement direction.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Iterations</term>
        <listitem>
          <para>
            The number of repetitions of effect when applying filter.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>On edges</term>
        <listitem>
          <para>
            Because of displacement, a part of pixels are driven over the
            borders of layer or selection, and, on the opposite side, pixels
            places are emptying. Four following options allow you to fix this
            issue:
          </para>
          <variablelist>
            <varlistentry>
              <term><guilabel>Wrap</guilabel></term>
              <listitem>
                <para>
                  What goes out on one side is going into the opposite side
                  (this is the default).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Smear</guilabel></term>
              <listitem>
                <para>
                  Emptying places are filled with a spreading of the
                  neighbouring image line.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Black</guilabel></term>
              <listitem>
                <para>
                  Emptying places are filled with black color.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><guilabel>Foreground color</guilabel></term>
              <listitem>
                <para>
                  Emptying places are filled with the Foreground color of the
                  color area in Toolbox.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Displacement map</term>
        <listitem>
          <para>
            To be listed in this drop-down list, the displacement map, which
            should be a grayscaled image, must be <emphasis>present on your
            screen when you call filter and must have the same size as the
            original image</emphasis>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Advanced Options</title>
      <varlistentry>
        <term>Dither size</term>
        <listitem>
          <para>
            Once all pixels displaced, this option scatters them randomly,
            giving grain to the image. The higher this value (0.00-100.00),
            the thinner the grain.
          </para>
          <figure>
            <title>With a 3.00 dither size:</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/example-map-warp4.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Rotation angle</term>
        <listitem>
          <para>
            This option sets displacement angle of pixels according to the
            slope direction of gradient. Previous examples have been created
            with a vertical gradient and a 90Â° angle: so, pixels were
            displaced horizontally and nothing went out of the image borders.
            Here is an example with a 10Â° angle and 6 iterations:
          </para>
          <figure>
            <title>With a 10Â° angle and 6 iterations:</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/example-map-warp5.png"/>
              </imageobject>
              <caption>
                <para>
                  Displacement is made according to a 10Â° angle against
                  vertical. Pixels going out the lower border on every
                  iteration are going into through the upper border (Wrap
                  option checked), giving a dotted line.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Substeps</term>
        <listitem>
          <!-- CHECK: I'm unsure whether this is (a) makes senses, and
               (b) is correct... :-| (ude, 2010-07-19) -->
          <para>
            If you specify a value > 1, the displacement vector is computed in
            several substeps, giving you a finer control to the displace
            process.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Magnitude map</term>
        <listitem>
          <para>
            In addition to displacement map, you can add a Magnitude map. This
            map should also be a grayscaled image, with the same size as the
            source image and which must be present on your screen when you
            call filter.  This map gives more or less strength to filter on
            some parts of the image, according to the grey levels of this
            magnitude map. Image areas corresponding to white parts of this
            map will undergo all the strength of filter. Image areas
            corresponding to black parts of the map will be spared by filter.
            Intermediate grey levels will lessen filter action on
            corresponding areas of the image.
            <guilabel>Use&nbsp;magnitude&nbsp;map</guilabel> must be checked
            for that.
          </para>
          <figure>
            <title>Magnitude Map example:</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/example-map-warp6.png"/>
              </imageobject>
              <caption>
                <para>
                  From left to right: original image, displacement map,
                  magnitude map, after applying <quote>Warp</quote>
                  filter. You can see that the black areas of magnitude map
                  prevent filter to take action.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>More Advanced Options</title>
      <para>
        These extra options let you add two new maps, a gradient map and/or
        a vector map.
      </para>
      <note>
        <para>
          To test these options alone, you must use a map with a solid color
          for all the other maps.
        </para>
      </note>
      <varlistentry>
        <term>Gradient scale</term>
        <listitem>
          <para>
            Using a gradient map, (this map should also be a grayscaled
            image), the displacement of pixels depends on the direction of
            grayscale transitions. The <guilabel>Gradient scale</guilabel>
            option lets you set how much the grayscale variations will
            influence the displacement of pixels. On every iteration, the
            filter works of the whole image, not only on the red object: this
            explains blurredness.
          </para>
          <figure>
            <title>Gradient scale example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/example-map-warp7.png"/>
              </imageobject>
              <caption>
                <para>
                  From left to right: original image, Gradient map, filter
                  applied.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            In the example above, <quote>Warp</quote> filter is applied with a
            gradient map (Gradient scale = 10.0). Gradient is oblique, from
            top left to right bottom. The part of the image corresponding to
            the gradient is moved obliquely, 90Â° rotated (Rotation angle 90Â°
            in Advanced Options).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Vector mag</term>
        <listitem>
          <para>
            With this map, the displacement depends on the angle you set in
            the <guilabel>Angle</guilabel> text box. 0Â° is upwards.  Angles go
            counter-clockwise. The <emphasis>vector control map</emphasis>
            determines by how many pixels the image will move on every
            iteration.
          </para>
          <figure>
            <title>Vector mag example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/example-map-warp8.png"/>
              </imageobject>
              <caption>
                <para>
                  From left to right: original image, displacement map,
                  filter applied.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            In the above example, <quote>Warp</quote> filter is applied with a
            Vector mag. Gradient is vertical, from top to bottom. Vector angle
            is 45Â°. The image is moved obliquely, 45Â° to the top left corner.
            The image is blurred because every iteration works on the whole
            image, and not only on the red bar.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>Angle for fixed vector map (see above).</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-map">
  <title>Map Filters</title>
  <xi:include href="map/introduction.xml"/>
  <xi:include href="map/bumpmap.xml"/>
  <xi:include href="map/displace.xml"/>
  <xi:include href="map/fractal-trace.xml"/>
  <xi:include href="map/illusion.xml"/>
  <xi:include href="map/make-seamless.xml"/>
  <xi:include href="map/map-object.xml"/>
  <xi:include href="map/papertile.xml"/>
  <xi:include href="map/smalltiles.xml"/>
  <xi:include href="map/tile.xml"/>
  <xi:include href="map/warp.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-hsv-noise">
  <title>HSV Noise</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Noise</secondary>
    <tertiary>HSV Noise</tertiary>
  </indexterm>
  <indexterm>
    <primary>HSV Noise</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of applying the <quote>HSV Noise</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/noise/taj-hsv-noise.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>HSV Noise</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The HSV Noise filter creates noise in the active layer or selection by
      using the Hue, Saturation, Value (luminosity) color model.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Noise</guisubmenu>
        <guimenuitem>HSV Noise</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>HSV Noise</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/noise/hsv-noise.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This preview displays interactively changes before they are
            applied to the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Holdness</term>
        <listitem>
          <para>
            This slider (1 -8) controls how much the new pixel color value is
            allowed to be applied compared to the existing color. A low
            holdness will give an important hue variation. A high holdness
            will give a weak variation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Hue</term>
        <listitem>
          <para>
            This slider changes the color of the pixels in a random pattern.
            It selects an increasing available color range in the HSV color
            circle starting from the original pixel color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Saturation</term>
        <listitem>
          <para>
            This slider increases saturation of scattered pixels.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Value</term>
        <listitem>
          <para>
            This slider increases brightness of scattered pixels.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-randomize-hurl">
  <title>Hurl</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Noise</secondary>
    <tertiary>Hurl</tertiary>
  </indexterm>
  <indexterm>
    <primary>Hurl</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Hurl</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/noise-taj-hurl.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Hurl</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Noise</guisubmenu>
        <guimenuitem>Hurl</guimenuitem>
      </menuchoice>.
    </para>
    <para>
      The Hurl filter changes each affected pixel to a random color, so it
      produces real <emphasis>random noise</emphasis>. All color channels,
      including an alpha channel (if it is present) are randomized. All
      possible values are assigned with the same probability. The original
      values are not taken into account. All or only some pixels in an active
      layer or selection are affected, the percentage of affected pixels is
      determined by the <guilabel>Randomization (%)</guilabel> option.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Hurl</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/noise/hurl.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Random seed</term>
        <listitem>
          <para>
            Controls randomness of hurl.  If the same random seed in the
            same situation is used, the filter produces exactly the same
            results. A different random seed produces different
            results. Random seed can be entered manually or generated
            randomly by pressing <guibutton>New Seed</guibutton> button.
          </para>
          <para>
            When the <guilabel>Randomize</guilabel> option is checked, random
            seed cannot be entered manually, but is randomly generated each
            time the filter is run. If it is not checked, the filter remembers
            the last random seed used.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Randomization (%)</term>
        <listitem>
          <para>
            This slider represents the percentage of pixels of the active
            layer or selection which will be hurled. The higher value, the
            more pixels are hurled.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Repeat</term>
        <listitem>
          <para>
            It represents the number of times the filter will be
            applied. In the case of the Hurl filter it is not very useful,
            because the same results can be obtained faster just by using a
            higher <guilabel>Randomization (%)</guilabel> value.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-noise-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Noise</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <para>
    Noise filters <emphasis>add</emphasis> noise to the active layer or to the
    selection. To <emphasis>remove</emphasis> small defects from an image, see
    the <link linkend="plug-in-despeckle">Despeckle</link> and
    <link linkend="plug-in-sel-gauss">Selective Gaussian Blur</link> filters.
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-randomize-pick">
  <title>Pick</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Noise</secondary>
    <tertiary>Pick</tertiary>
  </indexterm>
  <indexterm>
    <primary>Pick</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of applying the <quote>Pick</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/noise-taj-pick.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Pick</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Pick filter replaces each affected pixel by a pixel value randomly
      chosen from its eight neighbours and itself (from a 3Ã—3 square the pixel
      is center of). All or only some pixels in an active layer or selection
      are affected, the percentage of affected pixels is determined by the
      <guilabel>Randomization (%)</guilabel> option.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Noise</guisubmenu>
        <guimenuitem>Pick</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Pick</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/noise/pick.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Random seed</term>
        <listitem>
          <para>
            Controls randomness of picking.  If the same random seed in the
            same situation is used, the filter produces exactly the same
            results. A different random seed produces different
            results. Random seed can be entered manually or generated
            randomly by pressing <guibutton>New Seed</guibutton> button.
          </para>
          <para>
            When the <guilabel>Randomize</guilabel> option is checked, random
            seed cannot be entered manually, but is randomly generated each
            time the filter is run. If it is not checked, the filter remembers
            the last random seed used.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Randomization (%)</term>
        <listitem>
          <para>
            This slider represents the percentage of pixels of the active
            layer or selection which will be picked. The higher value, the
            more pixels are picked.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Repeat</term>
        <listitem>
          <para>
            This slider represents the number of times the filter will be
            applied. Higher values result in more picking, pixel values
            being transferred farther away.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-rgb-noise">
  <title>RGB Noise</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Noise</secondary>
    <tertiary>RGB Noise</tertiary>
  </indexterm>
  <indexterm>
    <primary>RGB Noise</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of applying the <quote>RGB Noise</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/noise/taj-rgb-noise.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>RGB Noise</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The RGB Noise filter adds a normally distributed noise to a layer or a
      selection. It uses the RGB color model to produce the noise (noise is
      added to red, green and blue values of each pixel). A normal
      distribution means, that only slight noise is added to the most pixels
      in the affected area, while less pixels are affected by more extreme
      values. (If you apply this filter to an image filled with a solid grey
      color and then look at its histogram, you will see a classic bell-shaped
      Gaussian curve.)
    </para>
    <para>
      The result is very naturally looking noise.
    </para>
    <para>
      This filter does not work with indexed images.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Noise</guisubmenu>
        <guimenuitem>RGB Noise</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>RGB Noise</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/noise/rgb-noise.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This preview displays interactively changes before they are
            applied to the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Correlated noise</term>
        <listitem>
          <para>
            Noise may be additive (uncorrelated) or multiplicative (correlated
            - also known as speckle noise). When checked, every channel value
            is multiplied by an normally distributed value. So the noise
            depends on the channel values: a greater channel value leads to
            more noise, while dark colors (small values) tend to remain dark.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Independent RGB</term>
        <listitem>
          <para>
            When this radio button is checked, you can move each RGB slider
            separately.  Otherwise, sliders R, G and B will be moved all
            together. The same relative noise will then be added to all
            channels in each pixel, so the hue of pixels does not change much.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Red</term>
        <term>Green</term>
        <term>Blue</term>
        <term>Alpha</term>
        <listitem>
          <para>
            These slidebars and adjacent input boxes allow to set noise level
            (0.00&nbsp;-&nbsp;1.00) in each channel. Alpha channel is only
            present if your layer holds such a channel. In case of a grayscale
            image, a <guilabel>Grey</guilabel> is shown instead of color
            sliders.
          </para>
          <para>
            The value set by these sliders actually determine the standard
            deviation of the normal distribution of applied noise. The used
            standard deviation is a half of the set value (where 1 is the
            distance between the lowest and highest possible value in a
            channel).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-randomize-slur">
  <title>Slur</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Noise</secondary>
    <tertiary>Slur</tertiary>
  </indexterm>
  <indexterm>
    <primary>Slur</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of applying the Slur filter</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/taj_orig.jpg"
            format="JPG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/noise-taj-slur.jpg"
            format="JPG"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Slur</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Slurring produces an effect resembling melting the image downwards; if a
      pixel is to be slurred, there is an 80% chance that it is replaced by
      the value of a pixel directly above it; otherwise, one of the two pixels
      to the left or right of the one above is used. All or only some pixels
      in an active layer or selection are affected, the percentage of affected
      pixels is determined by the <guilabel>Randomization (%)</guilabel>
      option.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Noise</guisubmenu>
        <guimenuitem>Slur</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Slur filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/noise/slur.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Random seed</term>
        <listitem>
          <para>
            It controls randomness of slurring.  If the same random seed in
            the same situation is used, the filter produces exactly the
            same results. A different random seed produces different
            results. Random seed can be entered manually or generated
            randomly by pressing <guibutton>New Seed</guibutton> button.
          </para>
          <para>
            When the <guilabel>Randomize</guilabel> option is checked, random
            seed cannot be entered manually, but is randomly generated each
            time the filter is run. If it is not checked, the filter remembers
            the last random seed used.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Randomization (%)</term>
        <listitem>
          <para>
            This slider represents the percentage of pixels of the active
            layer or selection which will be slurred. The higher value, the
            more pixels are slurred, but because of the way the filter
            works, its effect is most noticeable if this slider is set to a
            medium value, somewhere around 50.  Experiment with it and try
            for yourself!
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Repeat</term>
        <listitem>
          <para>
            This slider represents the number of times the filter will be
            applied. Higher values result in more slurring, moving the
            color over a longer distance.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-spread">
  <title>Spread</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Noise</secondary>
    <tertiary>Spread</tertiary>
  </indexterm>
  <indexterm>
    <primary>Spread</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of applying the Spread filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/noise-taj-spread.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Spread</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Spread filter swaps each pixel in the active layer or selection with
      another randomly chosen pixel by a user specified amount. It works on
      color transitions, not on plain color areas. No new color is introduced.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Noise</guisubmenu>
        <guimenuitem>Spread</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Spread</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/noise/spread.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This preview displays interactively changes before they are
            applied to the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spread Amount</term>
        <listitem>
          <para>
            You can set the distance that pixels will be moved along
            <guilabel>Horizontal</guilabel> and
            <guilabel>Vertical</guilabel> axis. The axis can be locked by
            clicking the Chain icon. You can also define the Unit to be
            used.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-checkerboard">
  <title>Checkerboard</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Checkerboard</tertiary>
  </indexterm>
  <indexterm>
    <primary>Checkerboard</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Checkerboard filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-checkerboard1.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Checkerboard</quote> applied</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-checkerboard2.jpg"/>
        </imageobject>
        <caption>
          <para>Psychobilly <quote>Checkerboard</quote></para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter creates a checkerboard pattern replacing the current layer
      content. Colors used for pattern are current Fore- and Back ground
      colors of toolbox.
    </para>
  </sect3>

  <sect3>
    <title>Starting filter</title>
    <para>
      You can find this filter in the image menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>Checkerboard</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Checkerboard</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/checkerboard.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            With this option, you can set checkerboard square size, in
            pixels, or in your chosen unit by using the drop-down list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Psychobilly</term>
        <listitem>
          <para>
            This option gives an eiderdown look to the Checkerboard.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-circuit">
  <title>Circuit</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Circuit</tertiary>
  </indexterm>
  <indexterm>
    <primary>Circuit</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of Circuit</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-circuit.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Circuit</quote> applied.</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      <guimenuitem>Circuit</guimenuitem> command is a script that fills the
      selected region (or alpha) with traces like those on the back of an old
      circuit board. It looks even better when gradmapped with a suitable
      gradient.
    </para>
    <tip>
      <para>
        <!--This script doesn't handle or color combos well, i.e. black/black
        doesn't work. (I don't understand this)-->
        The effect seems to work best on odd shaped selections because of
        some limitations in the maze codes selection handling ability.
      </para>
    </tip>
    <para>
      If the image is in indexed colors, this menu entry is grayed out
      and unavailable.
    </para>
    <note>
      <para>
        This filter creates a grey level image in <acronym>RGB</acronym> mode.
      </para>
      <para>
        The resulting image doesn't depend on the original image.
      </para>
    </note>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guimenuitem>Circuit...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Circuit</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/circuit.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
    </para>
    <variablelist>
      <varlistentry>
        <term>Oilify mask size</term>
        <listitem>
          <para>
            With this option you can set the option value of the
            <link linkend="plug-in-oilify">Oilify</link> filter in pixels
            (range 3 to 50).  Larger values make lines more fuzzy.
            17 is the default value.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Circuit seed</term>
        <listitem>
          <para>
            You can give a randomizing seed number between 1 and 3000000.
            The default value is 3.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>No background (only for separate layer)</term>
        <listitem>
          <para>
            If this option is enabled, dark pixels of the circuit are made
            transparent so that the underlying image is shown through
            these holes.  This option is disabled in default settings.
            The <guilabel>Separate layer</guilabel> option is required.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep selection</term>
        <listitem>
          <para>
            If an active selection exists when this script is called,
            you can keep the selection and its marching ants with this option.
            This option is enabled in default settings.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Separate layer</term>
        <listitem>
          <para>
            If this option is not checked, the generated texture is drawn
            on the active layer.  When this option is enabled (in default),
            this script adds a layer to draw the circuit texture is on.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Making the Circuit effect</title>
    <para>The Circuit effect is achieved through the following steps:</para>
      <procedure>
        <step>
          <para>
            First, <link linkend="plug-in-maze">draw maze</link> with 5 pixels
            width pathways and walls with the <quote>Depth First</quote>
            algorithm.  The pattern of maze is set by <guilabel>Circuit
            seed</guilabel>.
          </para>
        </step>
        <step>
          <para>
            <link linkend="plug-in-oilify">Oilify</link> this maze with a
            brush of <guilabel>Oilify mask size</guilabel>.
          </para>
        </step>
        <step>
          <para>
            Then apply the <link linkend="plug-in-edge">extract edge</link>
            filter with Sobel algorithm, Smear option and Amount to 2.0, to
            the oilified maze image. This crowds high contrast winding curves
            like as a circuit map.
          </para>
        </step>
        <step>
          <para>
            Finally, <link linkend="gimp-tool-desaturate">Desaturate</link>
            the map with gray color in <acronym>RGB</acronym> mode.
          </para>
        </step>
      </procedure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-cml-explorer">
  <title>CML Explorer</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>CML Explorer</tertiary>
  </indexterm>
  <indexterm>
    <primary>CML Explorer</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>CML Explorer</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata  format="JPG"
            fileref="images/filters/examples/render-taj-cmlexplorer.jpg"/>
        </imageobject>
        <caption>
          <para>
            Filter <quote>CML Explorer</quote> applied with default options
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter is the king of texture creating filters. It is extremely
      efficient but very complex. It uses a mathematical method named Cellular
      Automata <xref linkend="bibliography-online-wkpd-cellular-automata"/>.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter from the image menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>CML Explorer</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>

    <simplesect>
      <title>General Options</title>
      <para>
        Filter options are distributed among
        <guilabel>Hue</guilabel>,<guilabel>Saturation</guilabel>,
        <guilabel>Value</guilabel>, <guilabel>Advanced</guilabel>,
        <guilabel>Others</guilabel> and <guilabel>Misc Ops.</guilabel>
        tabs. Some more options are available. They will be described
        in following section.
      </para>
      <variablelist>
        <varlistentry>
          <term>Preview</term>
          <listitem>
            <para>
              This filter offers you a Preview where you can see the
              result of your settings before they are applied to the
              image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>New Seed</term>
          <term>Fix Seed</term>
          <term>Random Seed</term>
          <listitem>
            <para>
              Random plays a large part in creating patterns. With these
              options, you can influence the way random is generated. By
              clicking on the <guibutton>New Seed</guibutton> button, you
              can force random to use a new source of random. The preview
              will show you the result.
              <guibutton>Fix Seed</guibutton> lets you keep the same seed
              and so to reproduce the same effect with the filter.
              <guibutton>Random Seed</guibutton> generates a random seed
              at random.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Open</term>
          <term>Save</term>
          <listitem>
            <para>
              With these both command buttons you can save pattern
              settings in a file, and to get them back later.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </simplesect>

    <simplesect>
      <title><quote>CML Explorer</quote> filter options (Hue)</title>
      <figure>
        <title>Hue tab</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/cmlexplorer1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This filter works in the
        <link linkend="glossary-hsv">HSV</link> color model. In this tab, you
        can set options for Hue.
      </para>
      <variablelist>
        <varlistentry>
          <term>Function type</term>
          <listitem>
            <para>
              In this drop-down list, you can select the method that
              will be used to treat the current layer. These methods
              are:
            </para>
            <variablelist>
              <varlistentry>
                <term><guilabel>Keep image's values</guilabel></term>
                <listitem>
                  <para>
                    With this option, image hue values will be kept.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Keep the first value</guilabel></term>
                <listitem>
                  <para>
                    With this option, starting color will be standard cyan.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Fill with parameter k</guilabel></term>
                <listitem>
                  <para>
                    Pattern look will depend on <parameter>k</parameter> that
                    you will set later in options.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Miscellaneous f(k)</term>
                <listitem>
                  <para>
                    See above, <quote>Fill with k parameter</quote>.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>Delta function</guilabel></term>
                <term><guilabel>Delta function stepped</guilabel></term>
                <listitem>
                  <para>
                    // TODO
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term><guilabel>sin^p-based function</guilabel></term>
                <term><guilabel>sin^p, stepped</guilabel></term>
                <listitem>
                  <para>
                    These options create wave-like patterns, like aurora
                    borealis or curtain folds.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Composition</term>
          <listitem>
            <para>
              Here, these options concern Hue. You can choose among several
              functions, and a book could be filled with results of all these
              functions. Please, experiment!
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Misc. arrange</term>
          <listitem>
            <para>
              This drop-down list offers you several other parameters.
              Also a book would be necessary to explain all possibilities of
              these parameters.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Use cyclic range</term>
          <listitem>
            <para>
              // TODO
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Mod. rate</term>
          <listitem>
            <para>
              With this slider and the input box, you can set
              modification rate from 0.0 to 1.0. Low value results in a
              lined pattern.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Env. sensitivity</term>
          <listitem>
            <para>
              Value is from 0.0 to 1.0
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Diffusion dist.</term>
          <listitem>
            <para>
              Diffusion distance: from 2 to 10.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term># of subranges</term>
          <listitem>
            <para>
              Number of sub-rangers: from 1 to 10.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>(P)ower factor</term>
          <listitem>
            <para>
              With this option you can influence the
              <guilabel>Function types</guilabel> using the
              <parameter>p</parameter> parameter. Value from 0.0 to 10.0.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Parameter k</term>
          <listitem>
            <para>
              With this option you can influence the
              <guilabel>Function types</guilabel> using the
              <parameter>k</parameter> parameter. Value from 0.0 to 10.0.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Range low</term>
          <listitem>
            <para>
              Set lower limit of hue that will be used for calculation.
              values vary from 0.0 to 1.0.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Range high</term>
          <listitem>
            <para>
              Set the upper limit of hue that will be used for
              calculation. Variations are from 0.0 to 1.0.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Plot a Graph of the Settings</term>
          <listitem>
            <para>
              By clicking on this large button, you can open a window
              that displays the graph of hue present settings.
            </para>
            <figure>
              <title>Function graph of present settings</title>
              <mediaobject>
                <imageobject>
                  <imagedata  format="PNG"
                    fileref="images/filters/render/cmlexplorer1a.png"/>
                </imageobject>
              </mediaobject>
            </figure>
          </listitem>
        </varlistentry>
      </variablelist>
    </simplesect>

    <simplesect>
      <title><quote>CML Explorer</quote> filter options (Saturation)</title>
      <figure>
        <title>Saturation tab</title>
        <mediaobject>
          <imageobject>
            <imagedata  format="PNG"
              fileref="images/filters/render/cmlexplorer2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab, you can set how Saturation component of the HSV
        color model will be used in pattern calculation.
      </para>
      <para>
        These options are similar to Hue tab options.
      </para>
    </simplesect>

    <simplesect>
      <title><quote>CML Explorer</quote> filter options (Value)</title>
      <figure>
        <title>Value tab</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/cmlexplorer3.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab, you can set how the Value (Luminosity) component of
        the HSV color model will be used in pattern calculation.
      </para>
      <para>
        These options are similar to Hue tab options.
      </para>
    </simplesect>

    <simplesect>
      <title><quote>CML Explorer</quote> filter options (Advanced)</title>
      <figure>
        <title>Advanced tab</title>
        <mediaobject>
          <imageobject>
            <imagedata  format="PNG"
              fileref="images/filters/render/cmlexplorer4.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        These tab settings apply to the three HSV channels.
      </para>
      <variablelist>
        <varlistentry>
          <!--Ch. sensitivity-->
          <term>Channel sensitivity</term>
          <listitem>
            <para>// TODO</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Mutation rate</term>
          <listitem>
            <para>// TODO</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <!--Mutation dist.-->
          <term>Mutation distance</term>
          <listitem>
            <para>// TODO</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </simplesect>

    <simplesect>
      <title><quote>CML Explorer</quote> filter options (Others)</title>
      <figure>
        <title>Others tab</title>
        <mediaobject>
          <imageobject>
            <imagedata  format="PNG"
              fileref="images/filters/render/cmlexplorer5.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab, you can find various parameters about image display
        and random intervention.
      </para>
      <variablelist>
        <varlistentry>
          <term>Initial value</term>
          <listitem>
            <para>// TODO</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Zoom scale</term>
          <listitem>
            <para>// TODO</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Start offset</term>
          <listitem>
            <para>// TODO</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <!--Seed of Random (only for "From Seed" Modes)-->
          <term>Seed of Random</term>
          <listitem>
            <para>// TODO</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </simplesect>

    <simplesect>
      <title><quote>CML Explorer</quote> filter options (Misc Ops.)</title>
      <figure>
        <title>Miscellaneous options tab</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/cmlexplorer6.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In this tab you can find various options about copy and loading.
      </para>
      <variablelist>
        <varlistentry>
          <term>Copy Settings</term>
          <listitem>
            <para>
              These options allow you to transfer information from
              one of the HSV channel to another one.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Selective Load Settings</term>
          <listitem>
            <para>
              With the <guibutton>Open</guibutton> button of this
              filter,  you can load previously loaded settings. If you
              don't want to load all of them, you can select a source
              and a destination channel here.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </simplesect>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-difference-clouds">
  <title>Difference Clouds</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Difference Clouds</tertiary>
  </indexterm>
  <indexterm>
    <primary>Difference Clouds</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of Difference Clouds</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-diffcloud.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Difference Clouds</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>

    <!-- Difference layer mode:  E:=|I-M| -->
    <para>
      <guimenuitem>Difference Clouds</guimenuitem> command changes colors
      partially in cloud-like areas: The filter renders
      <link linkend="plug-in-solid-noise">Solid Noise</link> cloud in an
      automatically created new layer, and sets the layer mode to
      <link linkend="layer-mode-difference">Difference</link>,
      then merges this layer over the specified image.
    </para>
    <para>
      Before merging the layer, this script opens the dialog of the Solid
      Noise plug-in which allows to control its effect.
    </para>
    <para>
      If the image is in indexed colors, this menu entry is grayed out and
      unavailable.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Clouds</guisubmenu>
        <guimenuitem>Difference Clouds...</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      This script does not have its own dialog window but invokes the
      <link linkend="plug-in-solid-noise">Solid Noise</link> filter's dialog.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-diffraction">
  <title>Diffraction Patterns</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Diffraction</tertiary>
  </indexterm>
  <indexterm>
    <primary>Diffraction patterns (filter)</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Two examples of diffraction patterns</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/diffraction1.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/diffraction2.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This filter lets you make diffraction or wave interference textures.
      You can change the Frequency, Contours and Sharp Edges for each of the
      RGB  channels. You can also set Brightness, Scattering and Polarization
      of the texture. There is no automatic preview, so you must press the
      preview button to update. On a slow system, this may take a bit of
      time. Note that result doesn't depend on the initial image.
    </para>
    <para>
      This is a very useful filter if you want to create intricate patterns.
      It's perfect for making psychedelic, batik-like textures, or for
      imitating patterns in stained glass (as in a church window).
    </para>
    <para>
      It seems clear that the plugin works by simulating the physics of light
      striking a grating. Unfortunately, the original authors never got around
      to writing down the theory behind it, or explaining what the parameters
      mean. The best approach, then, is just to twiddle things and see what
      happens. Fortunately, almost anything you do seems to produce
      interesting results.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>Diffraction Patterns</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Diffraction Patterns</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/diffraction.png"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-flame">
  <title>Flame</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Flame</tertiary>
  </indexterm>
  <indexterm>
    <primary>Flame</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of a rendered Flame</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/flame1.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-flame.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Flame</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      With the Flame filter, you can create stunning, randomly
      generated fractal patterns. You can't control the fractals as
      you can with the <link linkend="plug-in-ifscompose">IFS
      Fractal</link> filter, but you can steer the
      random generator in a certain direction, and choose from
      variations of a theme you like.
    </para>
    <warning>
      <para>
        Unfortunately it turned out, that this filter is not working properly
        for large images. Even more unfortunate is, that its developer is
        currently not undertaking any actions with that plug-in at all, so
        there seems no quick fix in sight. Although we can't give you the exact
        numbers, the plug-in worked in a quick test for a 1024x768 pixel
        image, but didn't do it for a 2500x2500 pixel image.
      </para>
    </warning>
    <note>
      <para>
        This plug-in was given to GIMP by Scott Draves in 1997. He also holds
        the copyright for the plug-in. An descriptive page for the plug-in,
        provided by the author can be found in the internet
        <xref linkend="bibliography-online-gimp-plugin-flames"/>.
      </para>
    </note>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Nature</guisubmenu>
        <guimenuitem>Flame</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Flame</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/flame.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      In the main window, you can set Rendering and Camera
      parameters. The first three parameters in the Render display are
      Brightness, Contrast and Gamma. The result of these options is
      visible in the Preview window, but it's generally better to
      stick to the default values, and correct the rendered image
      later with Image/Colors.
    </para>
    <para>
      The other three parameters affect the rendering process and
      don't show in the preview window. Sample Density, which controls
      the resolution of the rendered pattern, is the most important of
      these. The Camera parameters allow
      you to zoom and offset the flame pattern, until you're happy
      with what you see in the preview window. Flame also offers the
      possibility to store and load your favorite patterns.
    </para>
    <variablelist>
      <varlistentry>
        <term>Edit</term>
        <listitem>
          <para>
            Pressing this button brings up the Edit dialog:
          </para>
          <figure>
            <title>The Edit Flame dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/render/flame-edit.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            The dialog shows nine different windows. The pattern displayed in
            the center is the current pattern, and the eight windows
            surrounding it are random variations of that pattern. Clicking on
            the central image creates eight new variations, which can be
            adjusted with the Speed control. You select a variation by
            clicking on it, and it instantly replaces the image in the middle.
            To pick a certain character or theme for the variations, you can
            choose from nine different themes in the
            <guilabel>Variations</guilabel> menu. You can also use
            <guibutton>Randomize</guibutton>, which replaces the current
            pattern with a new random pattern.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Open</term>
        <listitem>
          <para>
            This button brings up a file selector that allows you to
            open a previously saved Flame settings file.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Save</term>
        <listitem>
          <para>
            This button brings up a file save dialog that allows you
            to save the current settings for the plug-in, so that you
            can recreate them later.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Rendering</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/render/flame1.png"/>
        </imageobject>
      </mediaobject>
      <varlistentry>
        <term>Brightness</term>
        <listitem>
          <para>
            Controls the brightness of the flame object.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Contrast</term>
        <listitem>
          <para>
            Controls the contrast between brighter and dimmer parts of
            the flame.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gamma</term>
        <listitem>
          <para>
            Sets a gamma correction for parts with intermediate
            brightness.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sample density</term>
        <listitem>
          <para>
            Controls the resolution of the rendered pattern.  (Does
            not have any effect on the preview.)  A high sample
            density results in soft and smooth
            rendering (like a spider's web), whereas low density
            rendering resembles spray or particle clouds.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spatial oversample</term>
        <listitem>
          <para>
            What does this do?
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spatial filter radius</term>
        <listitem>
          <para>
            What does this do?
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Colormap</term>
        <listitem>
          <para>
            This menu gives you several options to set the color blend
            in the flame pattern:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                The current gradient as shown in the Toolbox.
              </para>
            </listitem>
            <listitem>
              <para>
                A number of preset colormaps.
              </para>
            </listitem>
            <listitem>
              <para>
                The colors from images that are presently open in
                <acronym>GIMP</acronym>.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Camera</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/render/flame2.png"/>
        </imageobject>
      </mediaobject>
      <varlistentry>
        <term>Zoom</term>
        <listitem>
          <para>
            Allows you to zoom the flame in or out.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>X</term>
        <term>Y</term>
        <listitem>
          <para>
            Allows you to move the flame around in the image area.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-fractalexplorer">
  <title>Fractal Explorer</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Fractal Explorer</tertiary>
  </indexterm>
  <indexterm>
    <primary>Fractal Explorer</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the Fractal Explorer filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-fractalexplorer.jpg"/>
        </imageobject>
        <caption>
          <para>
            Filter <quote>Fractal Explorer</quote> applied
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      With this filter, you can create fractals and multicolored pictures
      verging to chaos. Unlike the
      <link linkend="plug-in-ifscompose">IFS Fractal</link> filter, with which you
      can fix the fractal structure precisely, this filter lets you perform
      fractals simply.
    </para>
  </sect3>

  <sect3>
    <title>Starting filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guimenuitem>Fractal Explorer</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Fractal Explorer</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/fractalexplorer.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Fractal Explorer window contains two panes: on the left there is the
      Preview pane with a Zoom feature, on the right you find the main options
      organized in tabs: Parameters, Colors, and Fractals.
    </para>

    <sect4>
      <title>Preview</title>
      <variablelist>
        <varlistentry>
          <term>Realtime preview</term>
          <listitem>
            <para>
              Uncheck the <guilabel>Realtime preview</guilabel> only if your
              computer is slow. In this case, you can update preview by
              clicking on the <guibutton>Redraw preview</guibutton> button.
            </para>
            <para>
              By clicking-dragging mouse pointer on preview, you can draw a
              rectangle delimiting an area which will be zoomed.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Zoom</term>
          <listitem>
            <para>
              You have there some options to zoom in or zoom out. The
              <guibutton>Undo</guibutton> allows you to return to previous
              state, before zooming. The <guibutton>Redo</guibutton> allows
              you to reestablish the zoom you had undone, without having to
              re-create it with the <guibutton>Zoom In</guibutton> or 
              <guibutton>Zoom Out</guibutton> buttons.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Parameters</title>
      <figure>
        <title>
          <quote>Fractal Explorer</quote> filter options (Parameters)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/fractalexplorer1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab contains some options to set fractal calculation and select
        fractal type.
      </para>
      <variablelist>
        <varlistentry>
          <term>Fractal Parameters</term>
          <listitem>
            <para>
              Here, you have sliders and input boxes to set fractal
              spreading, repetition and aspect.
            </para>
            <variablelist>
              <varlistentry>
                <!--was: XMIN-->
                <term>Left</term>
                <!--was: XMAX-->
                <term>Right</term>
                <!--was: YMIN-->
                <term>Top</term>
                <!--was: YMAX-->
                <term>Bottom</term>
                <listitem>
                  <para>
                    You can set fractal spreading between a minimum and a
                    maximum, in the horizontal and/or vertical directions.
                    Values are from -3.0 to 3.0.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <!--was: ITER-->
                <term>Iterations</term>
                <listitem>
                  <para>
                    With this parameter, you can set fractal iteration,
                    repetition and so detail. Values are from 0.0 to 1000.0
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>CX</term>
                <term>CY</term>
                <listitem>
                  <para>
                    With these parameters, you can change fractal aspect, in
                    the horizontal (X) and/or vertical (Y) directions, except
                    for Mandelbrot and Sierpinski types.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Open</term>
                <term>Reset</term>
                <term>Save</term>
                <listitem>
                  <para>
                    With these three buttons, you can save your work
                    with all its parameters, open a previously saved
                    fractal, or return to the initial state before all
                    modifications.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Fractal Type</term>
          <listitem>
            <para>
              You can choose what fractal type will be, for instance
              <guilabel>Mandelbrot</guilabel>, <guilabel>Julia</guilabel>,
              <guilabel>Barnsley</guilabel> or
              <guilabel>Sierpinski</guilabel>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Colors</title>
      <figure>
        <title>
          <quote>Fractal Explorer</quote> filter options (Colors)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata  format="PNG"
              fileref="images/filters/render/fractalexplorer2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>This tab contains options for fractal color setting.</para>
      <variablelist>
        <title>Number of Colors</title>
        <varlistentry>
          <term>Number of colors</term>
          <listitem>
            <para>
              This slider and its input boxes allow you to set the number of
              colors for the fractal, between 2 and 8192. A palette of these
              colors is displayed at the bottom of the tab. Actually, that's a
              gradient between colors in fractal: you can change colors with
              <quote>Color Density</quote> and <quote>Color Function</quote>
              options. Fractal colors don't depend on colors of the original
              image (you can use a white image for fractals as well).
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Use loglog smoothing</term>
          <listitem>
            <para>
              If this option is checked, the band effect is smoothed.
            </para>
            <figure>
              <title>Loglog smoothing example</title>
              <mediaobject>
                <imageobject>
                  <imagedata  format="PNG"
                    fileref="images/filters/examples/render-fractalexpl.png"/>
                </imageobject>
              </mediaobject>
            </figure>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Color density</title>
        <varlistentry>
          <term>Red</term>
          <term>Green</term>
          <term>Blue</term>
          <listitem>
            <para>
              These three sliders and their text-boxes let you set the color
              intensity in the three color channels. Values vary from 0.0 to
              1.0.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Color Function</title>
        <para>
          For the <guilabel>Red</guilabel>, <guilabel>Green</guilabel> and
          <guilabel>Blue</guilabel> color channels, you can select how color
          will be treated:
        </para>
        <varlistentry>
          <term>Sine</term>
          <listitem>
            <para>
              Color variations will be modulated according to the sine
              function.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Cosine</term>
          <listitem>
            <para>
              Color densities will vary according to cosine function.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>None</term>
          <listitem>
            <para>Color densities will vary linearly.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Inversion</term>
          <listitem>
            <para>
              If you check this option, function values will be inverted.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Color Mode</title>
        <para>
          These options allow you to set where color values must be taken
          from.
        </para>
        <varlistentry>
          <term>As specified above</term>
          <listitem>
            <para>
              Color values will be taken from the <guilabel>Color
              Density</guilabel> options.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Apply active gradient to final image</term>
          <listitem>
            <para>
              Used colors will be that of active gradient. You should be able
              to select another gradient by clicking on the gradient source
              button.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Fractals</title>
      <figure>
        <title>
          <quote>Fractal Explorer</quote> filter options (Fractals)
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/fractalexplorer3.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab contains a big list of fractals with their parameters, that
        you can use as a model: only click on the wanted one.
      </para>
      <para>
        The <guibutton>Refresh</guibutton> allows you to update the list if
        you have saved your work, without needing to re-start
        <acronym>GIMP</acronym>. You can delete the selected fractal from the
        list by clicking on the <guibutton>Delete</guibutton>.
      </para>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-gfig">
  <title>Gfig</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Gfig</tertiary>
  </indexterm>
  <indexterm>
    <primary>Gfig</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>The same image, before and after using Gfig</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-gfig.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Gfig</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter is a tool: You can create geometrical figures to add them to
      the image. It is very complex. I hope this paper will help you.
    </para>
    <para>
      When using this filter, elements inserted in the image will be placed in
      a new layer. So the image will not be modified, all modifications
      occurring in this layer.
    </para>
  </sect3>

  <sect3>
    <title>Starting filter</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guimenuitem>Gfig</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3 id="plug-in-gfig-options">
    <title>Options</title>
    <figure>
      <title><quote>Gfig</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/gfig.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <!-- TODO: should we eliminate the word "Preview"? -->
    <para>
      The Preview (with a horizontal and a vertical ruler) on the left of the
      main window actually is your working area where you are adding your
      figures.
    </para>
    <para>
      You can add and modify figures using the Gfig tools
      (<link linkend="plug-in-gfig-toolbar">Gfig tool bar</link>)
      and using the appropriate options
      (<link linkend="plug-in-gfig-mainwindow">Gfig main window</link>).
    </para>

    <!-- FIXME: Gfig menu ("File", "Edit") is not documented -->
<!--
    <sect4 id="plug-in-gfig-menu">
    </sect4>
-->

    <sect4 id="plug-in-gfig-toolbar">
      <title>The Gfig tool bar</title>
      <para>
        At the top of dialog, you can find a set of icons which represents the
        functions of this filter. Help pop-ups are explicit.
      </para>
      <variablelist>
        <title>Functions for object drawing</title>
        <para>
          On the left part of tool bar, you can find some functions for object
          drawing. You enable them by clicking on the corresponding icon. You
          can create the following objects (note that <emphasis>Control
          points</emphasis> are created at the same time as object):
        </para>
        <varlistentry>
          <!--terms according to tooltips-->
          <term>Create line</term>
          <listitem>
            <para>
              With this tool, you can draw lines. Click on Preview to mark
              start point, then drag mouse pointer to the end point.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create rectangle</term>
          <listitem>
            <para>
              With this tool, you can draw rectangles. Click on Preview to
              mark start point, then drag mouse pointer to create the
              rectangle.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create circle</term>
          <listitem>
            <para>
              With this tool, you can draw circles. Click on Preview to mark
              center, then drag mouse pointer to the wanted radius.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create ellipse</term>
          <listitem>
            <para>
              With this tool, you can draw ellipses. Click on Preview to mark
              center, then drag mouse pointer to get the wanted size and form.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create arc</term>
          <listitem>
            <para>
              With this tool, you can draw circle arcs. Click on Preview to
              set start point. Click again to set another arc point. Without
              releasing mouse button, drag pointer; when you release mouse
              button, the arc end point is placed and an arc encompassing
              these three points is drawn.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create regular polygon</term>
          <listitem>
            <para>
              With this tool, you can create a regular polygon. Start with
              setting side number in <guilabel>Tool Options</guilabel> at the
              right of Preview. Then click on Preview to place center and,
              without releasing mouse button, drag pointer to get the wanted
              size and orientation.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create star</term>
          <listitem>
            <para>
              With this tool, you can create a star. Start with setting side
              number (spikes) in <guilabel>Tool Options</guilabel> at the
              right of Preview. Then click on Preview to place center and,
              without releasing mouse button, drag pointer to get the wanted
              size and orientation.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create spiral</term>
          <listitem>
            <para>
              With this tool, you can create a spiral. Start with setting
              spire number (sides) and spire orientation in <guilabel>Tool
              Options</guilabel> at the right of Preview. Then click on
              Preview to place center and, without releasing mouse button,
              drag pointer to get the wanted size.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Create bezier curve</term>
          <listitem>
            <para>
              With this tool, you can create B&eacute;zier curves. Click on
              Preview to set start point and the other points: the curve will
              be created between these points. To end point creation press
              <keycap>Shift</keycap> key when creating last point.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Functions for object management</title>
        <para>
          In the middle of tool bar, you can find tools to manage objects:
        </para>
        <varlistentry>
          <term>Move an object</term>
          <listitem>
            <para>
              With this tool, you can move the active object. To enable an
              object, click on a control point created at the same time as the
              object.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Move a single point</term>
          <listitem>
            <para>
              With this tool, you can click-and-drag one of the control points
              created at the same time as object. Each of these points moves
              the object in a different way.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Copy an object</term>
          <listitem>
            <para>
              With this tool, you can duplicate an object. Click on an object
              control point and drag it to the wanted place.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Delete an object</term>
          <listitem>
            <para>Click on an object control point to delete it.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Select an object</term>
          <listitem>
            <para>
              With this tool, you can select an object to active it. Simply
              click on one of its control points.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Functions for object organisation</title>
        <para>
          At the right of tool bar, you can find tools for object
          superimposing (you can also get them by clicking on the drop-down
          list button if they are not visible). You have:
        </para>
        <varlistentry>
          <term>Up (Raise selected object)</term>
          <term>Down (Lower selected object)</term>
          <listitem>
            <para>
              With this tool, you can push the selected object one level up or
              down.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <!--terms according to drop-down list-->
          <!--Raise selected object to top-->
          <term>Top</term>
          <!--Lower selected object to bottom-->
          <term>Bottom</term>
          <listitem>
            <para>Self explanatory.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Functions for object display</title>
        <varlistentry>
          <!--Show previous object-->
          <term>Back</term>
          <!--Show next object-->
          <term>Forward</term>
          <listitem>
            <para>
              These functions allow you to jump from one object to another.
              Only this object is displayed.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Show all objects</term>
          <listitem>
            <para>
              This function shows all objects again, after using both previous
              functions.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>
          If your window is too small to show all icons, the tool bar provides a
          drop-down list which offers you the missing functions.
        </para>
      </note>
    </sect4>

    <sect4 id="plug-in-gfig-mainwindow">
      <title>The Gfig main window</title>
      <variablelist>
        <varlistentry>
          <term>Object Details</term>
          <listitem>
            <para>
              The <guilabel>XY position</guilabel> shows the position of your
              pointer.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Tool Options</term>
          <listitem>
            <para>
              If the selected tool provides some options (like number of
              sides), you can change them here.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Stroke</term>
          <listitem>
            <para>
              If this option is checked, the object will be drawn. Two
              buttons are available, to select color and brush type.
              Changes to color or brush apply to existing objects too.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Fill</term>
          <listitem>
            <para>
              With help of this drop-down list, you can decide whether
              and how the object will be filled, with a color, a pattern
              or a gradient.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Show grid</term>
          <listitem>
            <para>
              If this option is checked, a grid is applied on Preview to
              make object positioning easier.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Snap to grid</term>
          <listitem>
            <para>
              If this option is checked, objects will align to the grid.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Show image</term>
          <listitem>
            <para>
              When this option is checked, the current image is displayed in
              Preview (working area).
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-grid">
  <title>Grid</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Grid</tertiary>
  </indexterm>
  <indexterm>
    <primary>Grid</primary>
    <secondary>Grid filter</secondary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Grid filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-grid.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Grid</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>

    <para>
      It renders a Cartesian grid in the active layer, on top of the existing
      contents. The width, spacing, offsets, and colors of the grid lines can
      all be set by the user. By default, the lines are with the
      <acronym>GIMP</acronym>'s foreground color. (Note: this plug-in
      was used to create demonstration images for many of the other plug-ins.)
    </para>
    <tip>
      <para>
        If you set the grid line widths to 0, then only the intersections
        will be drawn, as plus-marks.
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>Grid</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Grid</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/grid.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      There are separate options for controlling the horizontal grid
      lines, vertical grid lines, and intersections.  By default, the
      horizontal and vertical settings are locked together, so that
      all changes are applied symmetrically.  If you want to change
      just one of them, click on the <quote>chain</quote> symbol below it to
      unlock them.  The results of changing the Intersection parameters are
      rather complex.
    </para>
    <para>
      Besides, for some options, you can select the unit of measurement
      thanks to a drop-down list.
    </para>
    <variablelist>
      <varlistentry>
        <term>Width</term>
        <listitem>
          <para>
            Sets the widths of the horizontal or vertical grid
            lines, or of the symbols drawn at their intersections.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spacing</term>
        <listitem>
          <para>
            Sets the distance between grid lines.
            The <guilabel>Intersection</guilabel> parameter clears the space
            between the intersection point and the end of the arms of the
            intersection crosses.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Offset</term>
        <listitem>
          <para>
            Sets the offset for grid lines with respect to the upper left
            corner. For intersections, sets the length of the arms of the
            intersection crosses.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color Selectors</term>
        <listitem>
          <para>
            These allow you to set the colors of the grid lines and
            intersection marks.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <figure>
      <title>Intersection parameters</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/render-grid-detail1.png"/>
        </imageobject>
        <caption>
          <para>
            <parameter>Width</parameter> &lt;
            2 &times; <parameter>Spacing</parameter>
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/render-grid-detail2.png"/>
        </imageobject>
        <caption>
          <para>
            <parameter>Width</parameter> &gt;
            2 &times; <parameter>Spacing</parameter>
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-ifscompose">
  <title>IFS Fractal</title>

  <anchor id="plug-in-ifsfractal" xreflabel="IFS Fractal"/>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Fractal Composition</tertiary>
  </indexterm>
  <indexterm>
    <primary>IFS Fractal</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the IFS Fractal filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-ifscompose.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>IFS Fractal</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This fractal-based plug-in is truly wonderful! With this versatile
      instrument, you can create amazingly naturalistic organic shapes, like
      leaves, flowers, branches, or even whole trees. (<quote>IFS</quote>
      stands for <quote>Iterated Function System</quote>.)
    </para>
    <para>
      The key to use this plug-in lies in making very small and precise
      movements in fractal space. The outcome is always hard to predict, and
      you have to be extremely gentle when you change the pattern. If you make
      a component triangle too big, or if you move it too far (even ever so
      slightly), the preview screen will black out, or more commonly, you'll
      get stuck with a big shapeless particle cloud.
    </para>
    <para>
      A word of advice: When you have found a pattern you want to work with,
      make only small changes, and stick to variations of that pattern. It's
      all too easy to lose a good thing. Contrary to what you might believe,
      it's really much easier to create a leaf or a tree with IFS Fractal than
      to make a defined geometrical pattern (where you actually know what
      you're doing, and end up with the pattern you had in mind).
    </para>
    <para>
      For a brief introduction to IFS's see Foley and van Dam, et
      al,. <citetitle pubwork="book">Computer Graphics, Principles and
      Practice</citetitle><xref linkend="bibliography-books-foley01"/>.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Nature</guisubmenu>
        <guimenuitem>IFS Fractal</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>IFS Fractal</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/ifscompose.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The plug-in interface consists of the compose area to the left, a
      preview screen to the right, and some tabs and option buttons at the
      bottom of the dialog. The Default setting (in the preview window) is
      three equilateral triangles. (This gives rise to a fractal pattern
      called the <emphasis>Sierpinski Triangle</emphasis>).
    </para>
    <variablelist>
      <title>Toolbar</title>
      <para>
        Click on the toolbar buttons to use the following tools, or open the
        context menu of the compose area.
      </para>
      <varlistentry>
        <term>Move</term>
        <term>Rotate/Scale</term>
        <term>Stretch</term>
        <listitem>
          <para>Select the action to perform using the (mouse) pointer.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>New</term>
        <term>Delete</term>
        <listitem>
          <para>Add or remove fractals.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Undo</term>
        <term>Redo</term>
        <listitem>
          <para>Standard.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Select all</term>
        <listitem>
          <para>Link fractals and let apply actions to all fractals.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Recenter</term>
        <listitem>
          <!--TODO: when or why is this useful?-->
          <para>
            Recompute the center of the fractals. This does not have any
            visible effect to the resulting fractal.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Render Options</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Max. memory</term>
              <listitem>
                <para>
                  Enables you to speed up rendering time. This is
                  especially useful when working with a large spot
                  radius; just remember to use even multiples of the
                  default value: 4096, 8192, 16384, ...
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Iterations</term>
              <listitem>
                <para>
                  Determines how many times the fractal will repeat
                  itself. (A high value for Subdivide and Iterations is
                  for obvious reasons a waste of process time unless
                  your image is very large.)
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Subdivide</term>
              <listitem>
                <para>Controls the level of detail.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Spot radius</term>
              <listitem>
                <para>
                  Determines the density of the <quote>brushstrokes</quote> in
                  the rendered image. A low spot radius is good for thin
                  particle clouds or spray, while a high spot radius produces
                  thick, solid color strokes much like watercolor painting. Be
                  careful not to use too much spot radius &mdash; it takes a
                  lot of time to render.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Spatial Transformation</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/ifscompose1.png"/>
        </imageobject>
      </mediaobject>
      <para>
        Gives you information on the active fractal, and allows you to type a
        value instead of changing it manually. Changing parameters with the
        mouse isn't very accurate, so this is a useful option when you need to
        be exact.
      </para>
      <varlistentry>
        <term>X</term>
        <term>Y</term>
        <term>Scale</term>
        <term>Angle</term>
        <term>Shear</term>
        <listitem>
          <para>Move, scale, or shear the active fractal.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Asymmetry</term>
        <listitem>
          <para>Stretch the active fractal.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Flip</term>
        <listitem>
          <para>Flip the active fractal.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Color Transformation</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/ifscompose2.png"/>
        </imageobject>
      </mediaobject>
      <varlistentry>
        <term>Simple</term>
        <listitem>
          <para>
            Changes the color of the currently selected fractal
            component (default is the foreground color in the toolbox)
            to a color of your choice.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Full</term>
        <listitem>
          <para>
            Like the Simple color transformation but this time you can
            manage the color transformation for each color channel and
            for the alpha channel (shown as a black channel).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Scale hue by</term>
        <term>Scale value by</term>
        <listitem>
          <para>
            When you have many fractals with different colors, the
            colors blend into each other. So even if you set
            <quote>pure red</quote> for a fractal, it might actually
            be quite blue in some places, while another <quote>red
            </quote> fractal might have a lot of yellow in it. Scale
            Hue/Value changes the color strength of the active
            fractal, or how influential that fractal color should be.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Other</title>
      <varlistentry>
        <term>Relative probability</term>
        <listitem>
          <para>
            Determines influence or total impact of a certain fractal.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>A Brief Tutorial</title>
    <para>
      This is a rather complex plug-in, so to help you understand it, we'll
      guide you through an example where you'll create a leaf or branch.
    </para>
    <para>
      Many forms of life, and especially plants, are built like
      mathematical fractals, i.e., a shape that reproduces or repeats
      itself indefinitely into the smallest detail. You can easily
      reproduce the shape of a leaf or a branch by using four (or
      more) fractals. Three fractals make up the tip and sides of the
      leaf, and the fourth represents the stem.
    </para>
    <orderedlist>
      <listitem>
        <para>
          Before invoking the filter: Select
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>New Image</guimenuitem>
          </menuchoice>.
          Add a transparent layer with
          <menuchoice>
            <guimenu>Layers</guimenu>
            <guisubmenu>Layers and Channels</guisubmenu>
            <guimenuitem>New Layer</guimenuitem>
          </menuchoice>.
          Set the foreground color in the toolbox to black, and
          set the background to white.
        </para>
      </listitem>
      <listitem>
        <para>
          Open IFS Fractal. Start by rotating the right and bottom triangles,
          so that they point upward. You'll now be able to see the outline of
          what's going to be the tip and sides of the leaf. (If you have
          problems, it may help to know that the three vertices of a triangle
          are not equivalent.)
          <indexterm>
            <primary>Docks</primary><secondary>Add tab</secondary>
          </indexterm>
        </para>
        <figure>
          <title>Tutorial Step 2</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/examples/ifscompose-tut1.png"/>
            </imageobject>
            <caption>
              <para>
                Start by rotating triangles 2 and 3, trying to keep them nearly
                the same size.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          To make the leaf symmetrical, adjust the bottom triangle to
          point slightly to the left, and the right triangle to point
          slightly to the right.
        </para>
      </listitem>
      <listitem>
        <para>
          Press <guibutton>New</guibutton> to add a component to the
          composition. This is going to be the stem of the leaf, so we
          need to make it long and thin. Press
          <guibutton>Stretch</guibutton>, and drag to
          stretch the new triangle. Don't be alarmed if this messes up
          the image, just use <guibutton>Scale</guibutton> to adjust
          the size of the overlong
          triangle. You'll probably also have to move and rotate the
          new fractal to make it look convincing.
        </para>
        <figure>
          <title>Tutorial Step 3</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/examples/ifscompose-tut2.png"/>
            </imageobject>
            <caption>
              <para>
                Add a fourth component, then stretch, scale, and move it
                as shown.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          You still have to make it look more leaf-like. Increase the
          size of the top triangle, until you think it's thick and
          leafy enough. Adjust all fractals until you're happy with
          the shape. Right-click to get the pop-up menu, and choose
          <guibutton>Select all</guibutton>. Now all components are
          selected, and you can scale
          and rotate the entire leaf.
        </para>
        <figure>
          <title>Tutorial Step 4</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/examples/ifscompose-tut3.png"/>
            </imageobject>
            <caption>
              <para>
                Enlarge component 1, arrange the other components
                appropriately, then select all, scale and rotate.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          The final step is to adjust color. Click on the
          <guibutton>Color Transformation</guibutton> tab, and choose
          a different color for each fractal. To do this, check
          <guibutton>Simple</guibutton> and press the right color
          square. A color circle appears, where you can click or
          select to choose a color.
        </para>
        <figure>
          <title>Tutorial Step 5</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/filters/examples/ifscompose-tut4.png"/>
            </imageobject>
            <caption>
              <para>
                Assign a brownish color to component 4, and various shades
                of green to the other components.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          Press OK to apply the image, and voilÃ , you've just made a
          perfect fractal leaf! Now that you've got the hang of it,
          you'll just have to experiment and make your own
          designs. All plant-imitating fractals (be they oak trees,
          ferns or straws) are more or less made in this fashion,
          which is leaves around a stem (or several stems). You just
          have to twist another way, stretch and turn a little or add
          a few more fractals to get a totally different plant.
        </para>
      </listitem>
    </orderedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="filters-render-introduction">
  <title>Introduction</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>
  <indexterm>
    <primary>Patterns</primary>
    <secondary>Add a pattern to layer</secondary>
  </indexterm>

  <para>
    Most <acronym>GIMP</acronym> filters work on a layer by transforming its
    content, but the filters in the <quote>Render</quote> group are a bit
    different. They create patterns from scratch, in most cases obliterating
    anything that was previously in the layer. Some create random or noisy
    patterns, others regular of fractal patterns, and one (Gfig) is a
    general-purpose (but rather limited) vector graphics tool.
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-jigsaw">
  <title>Jigsaw</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Jigsaw</tertiary>
  </indexterm>
  <indexterm>
    <primary>Jigsaw</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Jigsaw filter example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-jigsaw.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Jigsaw</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter will turn your image into a jigsaw puzzle.
      The edges are not anti-aliased, so a little bit of smoothing often
      makes them look better (i. e., Gaussian blur with radius 1.0).
    </para>
    <tip>
      <para>
        If you want to be able to easily select individual puzzle-piece
        areas,  render the jigsaw pattern on a
        separate layer filled with solid white, and set the layer mode
        to Multiply.  You can then select puzzle pieces using the
        <link linkend="gimp-tool-fuzzy-select">magic wand</link> (fuzzy
        select) tool on the new jigsaw layer.
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>Jigsaw</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Jigsaw</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/jigsaw.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Number of Tiles</term>
        <listitem>
          <para>
            How many tiles across the image is, horizontally and
            vertically.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Bevel Edges</title>
      <varlistentry>
        <term>Bevel width</term>
        <listitem>
          <para>
            The Bevel width slider controls the slope of the edges of
            the puzzle pieces (a hard wooden puzzle would require a low
            Bevel width value, and a soft cardboard puzzle would require
            a higher value).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Highlight</term>
        <listitem>
          <para>
            The Highlight slider controls the strength of the
            highlight that will appear on the edges of each piece. You
            may compare it to the "glossiness" of the material the
            puzzle is made of. Highlight width is relative to the
            Bevel width. As a rule of thumb, the more pieces you add
            to the puzzle, the lower Bevel and Highlight values you
            should use, and vice versa. The default values are
            suitable for a 500x500 pixel image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Jigsaw Style</title>
      <para>You can choose between two types of puzzle:</para>
      <varlistentry>
        <term>Square</term>
        <listitem>
          <para>Then you get pieces made with straight lines.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Curved</term>
        <listitem>
          <para>Then you get pieces made with curves.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
    </para>
  </sect3>


  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guimenuitem>Lava</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      <!--
        Describe how the filter options are organized in general.
        This part is optional, but helps if the filter options dialog is a bit
        more complex e.g. has some tabs etc.
       -->
    </para>
    <figure>
      <title><quote>Lava</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/lava.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Seed</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Roughness</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep selection</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Separate layer</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use current gradient</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-maze">
  <title>Maze</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Maze</tertiary>
  </indexterm>
  <indexterm>
    <primary>Maze</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>An example of a rendered maze. </title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-maze.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Maze</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter generates a random black and white maze
      pattern.  The result completely overwrites the previous
      contents of the active layer.  A typical example is shown
      below.  Can you find the route from the center to the edge?
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>Maze</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Maze</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/maze.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>Maze Size</title>
      <varlistentry>
        <term>Width</term>
        <term>Height</term>
        <listitem>
          <para>
            These sliders control how many pathways the maze should have. The
            lower the values for width and height, the more paths you will
            get. The same happens if you increase the number of pieces in the
            Width and Height <guilabel>Pieces</guilabel> fields. The result
            won't really look like a maze unless the width and height are
            equal.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Algorithm</title>
      <varlistentry>
        <term>Seed</term>
        <listitem>
          <para>
            You can specify a seed for the random number generator, or
            ask the program to generate one for you.  Unless you need
            to later reproduce exactly the same maze, you might as
            well have the program do it.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Depth first</term>
        <term>Prim's algorithm</term>
        <listitem>
          <para>
            You can choose between these two algorithms for maze. Only a
            computer scientist can tell the difference between them.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tileable</term>
        <listitem>
          <para>
            If you want to use it in a pattern, you can make the maze
            tileable by checking this check-button.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-plasma">
  <title>Plasma</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Plasma</tertiary>
  </indexterm>
  <indexterm>
    <primary>Plasma</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of a rendered plasma</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-plasma.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Plasma</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      All of the colors produced by Plasma are completely saturated.
      Sometimes the strong colors may be distracting, and a more
      interesting surface will appear when you desaturate the image
      using
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Desaturate</guimenuitem>
      </menuchoice>.
    </para>
    <!-- XXX: plug-in not found (ude, 2010-11-30)
    <note>
      <para>
        An enhanced version of the Plasma plug-in, called
        <emphasis>Plasma2</emphasis>, with many more options and
        parameters, is available from the GIMP Plugin Registry
        <xref linkend="bibliography-online-gimp-plugin-plasma2"/>.
      </para>
    </note>
    -->
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Clouds</guisubmenu>
        <guimenuitem>Plasma</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Plasma</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/plasma.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Random seed</term>
        <listitem>
          <para>
            This option controls the randomization element. The
            <guibutton>Randomize</guibutton> check-button will set the seed
            using the hardware clock of the computer. There is no reason to
            use anything else unless you want to be able to repeat the exact
            same pattern of randomization on a later occasion.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Turbulence</term>
        <listitem>
          <para>
            This parameter controls the complexity of the plasma.
            High values give a hard feeling to the cloud (like an
            abstract oil painting or mineral grains), low values
            produce a softer cloud (like steam, mist or smoke).  The
            range is 0.1 to 7.0.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-qbist">
  <title>Qbist</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Random textures</tertiary>
  </indexterm>
  <indexterm>
    <primary>Qbist</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying examples for the Qbist filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/qbist1.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/qbist2.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/qbist3.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Qbist filter generates random textures containing geometric figures
      and color gradients.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>Qbist</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Qbist</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/qbist.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      The Qbist filter generates random textures. A starting texture is
      displayed in the middle square, and different variations surround it. If
      you like one of the alternative textures, click on it. The chosen
      texture now turns up in the middle, and variations on that specific
      theme are displayed around it. When you have found the texture you want,
      click on it and then click OK. The texture will now appear on the
      currently active layer, completely replacing its previous contents.
    </para>

    <variablelist>
      <varlistentry>
        <term>Antialiasing</term>
        <listitem>
          <para>
            If you check this, it will make edges appear smooth rather than
            stair-step-like.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Undo</term>
        <listitem>
          <para>Lets you go back one step in history.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Open</term>
        <term>Save</term>
        <listitem>
          <para>
            These buttons allow you to save and reload your textures. This is
            quite handy because it's almost impossible to re-create a good
            pattern by just clicking around.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-sinus">
  <title>Sinus</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Sinusoidal textures</tertiary>
  </indexterm>
  <indexterm>
    <primary>Sinus</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Applying example for the Sinus filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-sinus.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Sinus</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      You can find this filter from the image menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Pattern</guisubmenu>
        <guimenuitem>Sinus</guimenuitem>
      </menuchoice>.
    </para>
    <para>
      The Sinus filter lets you make sinusoidally based textures,
      which look rather like watered silk or maybe plywood. This plug-in
      works by using two different colors that you can define in the
      Colors tab. These two colors then create wave patterns based on
      a sine function.
    </para>
    <para>
      You can set the X and Y scales, which determine how stretched or
      packed the texture will be. You can also set the Complexity of
      the function: a high value creates more interference or
      repetition in the pattern.  An example is shown below.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>

    <sect4>
      <title>Settings</title>
      <figure>
        <title><quote>Sinus</quote> filter options (Settings)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/sinus1.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <title>Drawing Settings</title>
        <varlistentry>
          <term>X scale</term>
          <term>Y scale</term>
          <listitem>
            <para>
              A low X/Y value will maximize the horizontal/vertical
              stretch of the texture, whereas a high value will compress
              it.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Complexity</term>
          <listitem>
            <para>
              This controls how the two colors interact with each other
              (the amount of interplay or repetition).
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Calculation Settings</title>
        <varlistentry>
          <term>Random seed</term>
          <listitem>
            <para>
              This option controls the random
              behaviour of the filter. If the same random seed in the
              same situation is used, the filter produces exactly the
              same results. A different random seed produces different
              results. Random seed can be entered manually or generated
              randomly by pressing the <guibutton>New Seed</guibutton>
              button.
            </para>
            <para>
              When the <guilabel>Randomize</guilabel> option is checked,
              random seed cannot be entered manually, but is randomly
              generated each time the filter is run. If it is not
              checked, the filter remembers the last random seed used.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Force tiling?</term>
          <listitem>
            <para>
              If you check this, you'll get a pattern that can be
              used for tiling. For example, you can use it as a
              background in an HTML page, and the tile edges will be
              joined seamlessly.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Ideal</term>
          <term>Distorted</term>
          <listitem>
            <para>
              This options give additional control of the interaction between
              the two colors. <quote>Distorted</quote> creates a more
              distorted interference between the two colors than
              <quote>Ideal</quote>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Colors</title>
      <figure>
        <title><quote>Sinus</quote> filter options (Colors)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/sinus2.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Colors</term>
          <listitem>
            <para>
              Here, you set the two colors that make up your texture. You can
              use <guilabel>Black &amp; white</guilabel> or the
              <guilabel>Foreground &amp; background</guilabel> colors in the
              toolbox, or you can <guilabel>Choose</guilabel> a color with the
              color icons.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Alpha Channels</term>
          <listitem>
            <para>
              This sliders allow you to assign an opacity to each of the
              colors. (If the layer you are working on does not have an alpha
              channel, they will be grayed out.)
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Blend</title>
      <figure>
        <title><quote>Sinus</quote> filter options (Blend)</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/render/sinus3.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Gradient</term>
          <listitem>
            <para>
              You can choose between three functions to set the shapes of the
              waves that are produced:  Linear, Bilinear and Sinusoidal.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Exponent</term>
          <listitem>
            <para>
              The Exponent controls which of the two colors is dominant, and
              how dominant it is. If you set the exponent to -7.5, the left
              color will dominate totally, and if you set it to +7.5 it will
              be the other way around. A zero value is neutral.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-solid-noise">
  <title>Solid Noise</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Solid Noise</tertiary>
  </indexterm>
  <indexterm>
    <primary>Solid noise</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of turbulent solid noise</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-solidnoise.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Solid noise</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Solid Noise is a great texture maker. Note that this noise is
      always gray, even if you applied it to a very colorful image (it
      doesn't matter what the original image looks like -- this filter
      completely overwrites any existing background in the layer it is
      applied to). This is also a good tool to create displacement maps for
      the <link linkend="plug-in-warp">Warp</link> plug-in or for the
      <link linkend="plug-in-bump-map">Bump Map</link> plug-in. With the
      "turbulence" setting active, the results look quite a bit like real
      clouds.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guisubmenu>Clouds</guisubmenu>
        <guimenuitem>Solid noise</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Solid Noise</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/solid-noise.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If checked, parameter setting results are interactively displayed
            in preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Random seed</term>
        <listitem>
          <para>
            This option controls random behaviour of the filter. If the same
            random seed in the same situation is used, the filter produces
            exactly the same results. A different random seed produces
            different results. Random seed can be entered manually or
            generated randomly by pressing <guibutton>New Seed</guibutton>
            button.
          </para>
          <para>
            When the <guilabel>Randomize</guilabel> option is checked, random
            seed cannot be entered manually, but is randomly generated each
            time the filter is run. If it is not checked, the filter remembers
            the last random seed used.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Turbulent</term>
        <listitem>
          <para>
            If you check this, you'll get very interesting effects,
            often something that looks much like oil on water, or
            clouds of smoke, or living tissue, or a Rorschach blot.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Detail</term>
        <listitem>
          <para>
            This controls the amount of detail in the noise
            texture. Higher values give a higher level of detail, and
            the noise seems to be made of spray or small particles,
            which makes it feel hard. A low value makes it more soft
            and cloudy.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tileable</term>
        <listitem>
          <para>
            If you check Tileable, you'll get a noise which can be
            used as tiles. For example, you can use it as a background
            in an HTML page, and the tile edges will be joined
            seamlessly.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>X size</term>
        <term>Y size</term>
        <listitem>
          <para>
            These control the size and proportion of the noise shapes
            in X (horizontal) and Y (vertical) directions (range 0.1
            to 16.0).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-spheredesigner">
  <title>Sphere Designer</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Render</secondary>
    <tertiary>Sphere Designer</tertiary>
  </indexterm>
  <indexterm>
    <primary>Sphere Designer</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>
        The same image, before and after the application of
         <quote>Sphere Designer</quote> filter.
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/render-taj-spheredesigner.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Sphere Designer</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter creates a three dimensional sphere with different textures.
      It replaces the original image.
    </para>
  </sect3>

  <sect3>
    <title>Activating Sphere Designer</title>
    <para>
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guimenuitem>Sphere Designer</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Sphere Designer</quote> filter parameters</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/spheredesigner.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            All your setting changes will appear in the Preview without
            affecting the image until you click on <guilabel>OK</guilabel>.
            Note that the preview displays the whole image, even if the
            final result will concern a selection. Click the button
            <emphasis>Update Preview</emphasis> to see the result of the
            current settings.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <title>Textures</title>
      <para>
        The list of textures applied to the sphere. There textures are applied
        in the order listed. Each item shows the type and the name of the
        texture.
      </para>
      <varlistentry>
        <term>New</term>
        <listitem>
          <para>
            Creates a new texture and adds it to the end of the list. The name
            and the features of this new texture are the ones which are
            displayed in the Texture Properties area, but you can change them
            by operating in this area, provided that your new texture is
            highlighted.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Duplicate</term>
        <listitem>
          <para>
            Copies the selected texture and adds the copy to the end of the
            list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Delete</term>
        <listitem>
          <para>
            Deletes the selected texture from the list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Open</term>
        <term>Save</term>
        <listitem>
          <para>
            Allows to save current settings or load previously saved settings.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <title>Properties</title>
      <varlistentry>
        <term>Type</term>
        <listitem>
          <para>Determines the type of action on the sphere.</para>
          <variablelist>
            <varlistentry>
              <term>Texture</term>
              <listitem>
                <para>Covers the sphere with a specific pattern.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Bumpmap</term>
              <listitem>
                <para>Gives some relief to the texture.</para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Light</term>
              <listitem>
                <para>
                  Lets you set the parameters of the light shining on the
                  sphere.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Texture</term>
        <listitem>
          <para>
            Determines the pattern used by the texture type. If the texture
            applies to light then the light is distorted by this texture as if
            it was going through this texture before falling onto the sphere.
            If the texture applies to the texture itself, the texture is
            applied directly to the sphere. Several options are available.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Colors</term>
        <listitem>
          <para>
            Sets the two colors to be used for a texture. By pressing the
            color button a color selection dialog appears.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Scale</term>
        <listitem>
          <para>
            Determines the size of separate elements composing the texture.
            For example, for the <quote>Checker</quote> texture this parameter
            determines the size of black and white squares. Value range is
            from 0 to 10.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Turbulence</term>
        <listitem>
          <para>
            Determines the degree of texture distortion before applying the
            texture to the sphere. Value range is from 0 to 10. With values of
            up to 1.0 you can still make out the undistorted patterns; beyond
            that the texture gradually turns into noise.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Amount</term>
        <listitem>
          <para>
            Determines the degree of influence the texture has on the final
            result. Value range is from 0 to 1. With the value of 0 the
            texture does not affect the result.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <!--Exp.-->
        <term>Exponent</term>
        <listitem>
          <para>
            With the Wood texture, this options gives an aspect of venetian
            blind, more or less open.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <title>Transformations</title>
      <varlistentry>
        <term>Scale X</term>
        <term>Scale Y</term>
        <term>Scale Z</term>
        <listitem>
          <para>
            Determines the degree of stretching/compression of the texture on
            the sphere along the three directions. The value range is from 0
            to 10.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Rotate X</term>
        <term>Rotate Y</term>
        <term>Rotate Z</term>
        <listitem>
          <para>
            Determines the amount of a turn of the texture on the sphere
            around the three axes. The value range is from 0 to 360.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Position X</term>
        <term>Position Y</term>
        <term>Position Z</term>
        <listitem>
          <para>
            Determines the position of the texture relative to the sphere.
            When type is Light, this parameter refers to the position of the
            light floodlighting the sphere.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>
      The <guibutton>Reset</guibutton> button sets all parameters to the
      default values.
    </para>
  </sect3>
</sect2>
-#-#-
    </para>
  </sect3>


  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Render</guisubmenu>
        <guimenuitem>Spyrogimp</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      <!--
        Describe how the filter options are organized in general.
        This part is optional, but helps if the filter options dialog is a bit
        more complex e.g. has some tabs etc.
       -->
    </para>
    <figure>
      <title><quote>Spyrogimp</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/render/spyrogimp.png" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term>Type</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shape</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Outer teeth</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Inner teeth</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Margin (pixels)</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Hole ratio</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Start angle</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tool</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Brush</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color method</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient</term>
        <listitem>
          <para>
            TODO
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
  <xi:include href="render/difference-clouds.xml"/>
  <xi:include href="render/fog.xml"/>
  <xi:include href="render/plasma.xml"/>
  <xi:include href="render/solid_noise.xml"/>
  <!-- Nature -->
  <xi:include href="render/flame.xml"/>
  <xi:include href="render/ifsfractal.xml"/>
  <!-- Pattern -->
  <xi:include href="render/checkerboard.xml"/>
  <xi:include href="render/cmlexplorer.xml"/>
  <xi:include href="render/diffraction.xml"/>
  <xi:include href="render/grid.xml"/>
  <xi:include href="render/jigsaw.xml"/>
  <xi:include href="render/maze.xml"/>
  <xi:include href="render/qbist.xml"/>
  <xi:include href="render/sinus.xml"/>
  <!-- -->
  <xi:include href="render/circuit.xml"/>
  <xi:include href="render/fractalexplorer.xml"/>
  <xi:include href="render/gfig.xml"/>
  <xi:include href="render/lava.xml"/>
  <xi:include href="render/line-nova.xml"/>
  <xi:include href="render/spheredesigner.xml"/>
  <xi:include href="render/spyrogimp.xml"/>
</sect1>
-#-#-
<sect2 id="plug-in-imagemap">
  <title>ImageMap</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Web</secondary>
    <tertiary>Clickable image</tertiary>
  </indexterm>
  <indexterm>
    <primary>ImageMap</primary>
  </indexterm>

  <para>
    In Web sensitive images are frequently used to get some effects when
    defined areas are enabled by the pointer. Obviously the most used effect
    is a dynamic link to another web page when one of the sensitive areas is
    clicked on. This <quote>filter</quote> allows you to design easily
    sensitive areas within an image. Web site design softwares have this as a
    standard function. In <acronym>GIMP</acronym> you can do this in a similar
    way.
  </para>

  <sect3>
    <title>Overview</title>
    <para>
      This plug-in lets you design graphically and friendly all areas you
      want to delimit over your displayed image. You get the relevant part
      of html tags that must be merged into the right place in your page html
      code. You can define some actions linked to these areas too.
    </para>
    <para>
      This is a complex tool which is not completely described here
      (it works about like Web page makers offering this function). However
      we want to describe here some of the most current handlings. If you
      want, you can find a more complete descriptions in Grokking the GIMP
      with the
      link <xref linkend="bibliography-online-grokking-gimp-imagemap"/>.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      From an image window, you can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Web</guisubmenu>
        <guimenuitem>ImageMap</guimenuitem>
      </menuchoice>
    </para>
    <para>
      The window is a small one, but you can magnify it.
      The main useful areas are:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
      <listitem>
        <para>
          completely on the left are vertically displayed icons, one for
          pointing, three for calling tools to generate various shape areas,
          one to edit zone properties, and finally one to erase a selected
          zone; you can call these functions with the Mapping menu,
        </para>
      </listitem>
      <listitem>
        <para>
          just on the right is your working area where you can draw all the
          shapes areas you want with the relevant tools,
        </para>
      </listitem>
      <listitem>
        <para>
          on the right is displayed an icon vertical set; its use is obvious
          but a help pop-up gives you some information about each function,
        </para>
      </listitem>
      <listitem>
        <para>
          finally, even on the right is a display area, as a property list of
          the created areas. A click on one item of the list selects
          automatically the corresponding shape in the working area,
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Imagemap filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/web/imagemap.png"/>
        </imageobject>
        <caption>
          <para>Imagemap window</para>
        </caption>
      </mediaobject>
    </figure>

    <sect4>
      <title>The Menu Bar</title>
      <para>
        The menu bar is similar to the image window menu bar, only a few menus
        or menu entries are different:
      </para>
      <variablelist>
        <varlistentry>
          <term>File</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term>Save; Save As</term>
                <listitem>
                  <para>
                    Contrary to other filters, this plug-in doesn't make an
                    image but a text file. So you must save your work in a
                    text format.
                  </para>
                  <tip>
                    <para>
                      With
                      <menuchoice>
                        <guimenu>View</guimenu>
                        <guimenuitem>Source</guimenuitem>
                      </menuchoice>
                      you can preview this text file content.
                    </para>
                  </tip>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Open; Open recent</term>
                <listitem>
                  <para>
                    In the plug-in you can open the saved text file. The
                    areas defined in your file will be loaded and
                    overdisplayed; if the displayed image is not the
                    original one or not with the same size,
                    <acronym>GIMP</acronym> will ask you for adapting the
                    scale.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Edit</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term>Edit area info</term>
                <listitem>
                  <figure>
                    <title>Editing an imagemap area</title>
                    <mediaobject>
                      <imageobject>
                        <imagedata format="PNG"
                          fileref="images/filters/web/imagemap-area.png"/>
                      </imageobject>
                    </mediaobject>
                  </figure>
                  <para>
                    In the settings dialog you can edit the area information
                    of a selected area. This dialog will pop up automatically
                    whenever you create a new area.
                    <!--CHECK: If you are opening the HTML file from the pull
                      down menu only the file name is added. You have to add
                      the path manually.  In the tag JavaScript you may add
                      functions for onMouseover, onMouseout etc.-->
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>View</term>
          <listitem>
            <para>
              This menu offers you special functions:
            </para>
            <variablelist>
              <varlistentry>
                <term>Area list</term>
                <listitem>
                  <para>
                    Here you can hide or show the selection area.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Source</term>
                <listitem>
                  <para>
                    Here you see the raw data as you would save it to or read
                    it from a file.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Color; Grayscale</term>
                <listitem>
                  <para>
                    You can select the image mode here and work with a
                    Grayscale display.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Mapping</term>
          <listitem>
            <para>
              You will seldom use this menu, since you can more easily access
              selection tools by clicking on icons on the left of the working
              area.
            </para>
            <variablelist>
              <varlistentry>
                <term>Arrow</term>
                <listitem>
                  <para>
                    The arrow here represents the Move tool. When activated
                    tool is selected, you can select and move an area on the
                    image.
                  </para>
                  <para>
                    With a polygon, you can use the arrow to move one of
                    the red points. Right-click on a segment between two
                    red points to open a pop-up menu that offers, with
                    several others, the possibility to add a new point. If
                    you right-click on a red point, you can remove it.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Rectangle; Circle; Polygon</term>
                <listitem>
                  <para>
                    These tools let you create various shape areas: click on
                    the image, move the pointer, and click again.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Edit Map Info</term>
                <listitem>
                  <figure>
                    <title>Editing the imagemap data</title>
                    <mediaobject>
                      <imageobject>
                        <imagedata format="PNG"
                          fileref="images/filters/web/imagemap-info.png"/>
                      </imageobject>
                    </mediaobject>
                  </figure>
                  <para>
                    With this simple dialog you can enter some items, which
                    will be written to the resulting output file; either as
                    comments (<guilabel>Author</guilabel>,
                    <guilabel>Description</guilabel>)
                    or as attribute values of the HTML tags
                    (<guilabel>Image name</guilabel>,
                    <guilabel>Title</guilabel>,
                    <guilabel>Default URL</guilabel>).
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Tools</term>
          <listitem>
            <para>With the <quote>Tools</quote> menu
              you can create guides and even regularly spaced rectangular areas.
            </para>
            <variablelist>
              <varlistentry>
                <term>Grid; Grid settings</term>
                <listitem>
                  <figure>
                    <title>Grid options</title>
                    <mediaobject>
                      <imageobject>
                        <imagedata format="PNG"
                          fileref="images/filters/web/imagemap-grid.png"/>
                      </imageobject>
                    </mediaobject>
                  </figure>
                  <para>
                    Here you can enable and disable the image grid or
                    configure some grid properties.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Use GIMP guides; Create guides</term>
                <listitem>
                  <para>
                    The guide lines are created at the border of the image but
                    can be moved around by clicking on the red squares on each
                    line something similar to the GIMP guide lines. By using
                    the guides you are able to create active rectangles in the
                    image.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Create guides</term>
                <listitem>
                  <figure>
                    <title>Guide options</title>
                    <mediaobject>
                      <imageobject>
                        <imagedata format="PNG"
                          fileref="images/filters/web/imagemap-guides-options.png"/>
                      </imageobject>
                      <caption>
                        <para>The guide options</para>
                      </caption>
                    </mediaobject>
                  </figure>
                  <para> 
                    Instead of creating geometrical shapes to select the
                    active areas you may use an array of rectangles, each
                    representing an active area, by clicking on the
                    <quote>Create guides</quote>. In the menu popping
                    up you set the width and height of the rectangles, the
                    space between them, the number of rows and 
                    columns, and the upper and left startpoint for the array.
                    All measures are in pixels. If you are not satisfied with
                    the result you may adjust each rectangle by moving the
                    red squares as usual.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>The Tool Bar</title>
      <para>
        Most entries here are just shortcuts for some functions already
        described. Exceptions:
      </para>
      <variablelist>
        <varlistentry>
          <term>Move to Front; Send to Back</term>
          <listitem>
            <para>
              Here you can move an area entry to the bottom (<quote>Move to
              Front</quote>) <!--sic!--> or top (<quote>Send to Back</quote>)
              of the area list.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>The Working Area</title>
      <figure>
        <title>The Working Area</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/filters/web/imagemap-draw.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        In the main area of the imagemap window, on the left side, you will
        find your working area where you can draw all the shapes areas you
        want with the relevant tools.
      </para>
      <para>
        Beside the working area there are vertically displayed icons, one for
        pointing, three for calling tools to generate various shape areas, one
        to edit zone properties, and finally one to erase a selected zone; you
        can call these functions with the Mapping menu too.
      </para>
      <caution>
        <para>
          Note that the areas should not overlap.
        </para>
      </caution>
    </sect4>

    <sect4>
      <title>The selection area</title>
      <para>
        On the right is a display area, as a property list of the created
        areas. A click on one item of the list selects automatically the
        corresponding shape in the working area, then you can modify it.
      </para>
      <para>
        Beside the display is an icon vertical set; its use is obvious
        but a help pop-up gives you some information about each
        function.
      </para>
      <para>
        Unfortunately, the arrow symbols for moving a list entry up or down do
        not work here.
        <!--You can use <guiicon>Move to Front</guiicon> or
        <guiicon>Send to Back</guiicon> in the tool bar instead. Or you can
        activate the arrow tool and open the context menu of a selected area,
        with menu items <guimenuitem>Move Up</guimenuitem> and
        <guimenuitem>Move Down</guimenuitem>.-->
        But of course you carefully avoided to create overlapping areas, so
        you do not use these functions at all.
      </para>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-semiflatten">
  <title>Semi-Flatten</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Web</secondary>
    <tertiary>Semi-Flatten</tertiary>
  </indexterm>
  <indexterm>
    <primary>Semi-Flatten</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <para>
      The Semi-flatten filter helps those in need of a solution to
      anti-aliasing indexed images with transparency. The GIF indexed format
      supports complete transparency (0 or 255 alpha value), but not
      semi-transparency (1 - 254): semi-transparent pixels will be
      transformed to no transparency or complete transparency, ruining
      anti-aliasing you applied to the logo you want to put onto your Web
      page.
    </para>
    <para>
      Before applying the filter, it's essential that you should know the
      background color of your Web page. Use the color-picker to determine
      the exact color which pops up as the Foreground color of the Toolbox.
      Invert FG/BG colors so that BG color is the same as Web background
      color.
    </para>
    <para>
      Semi-flatten process will combine FG color to layer (logo) color,
      proportionally to corresponding alpha values, and will rebuild correct
      anti-aliasing. Completely transparent pixels will not take the color.
      Very transparent pixels will take a few color and weakly transparent
      will take much color.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can access this filter in the image window menu through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Web</guisubmenu>
        <guimenuitem>Semi-Flatten</guimenuitem>
      </menuchoice>.
      It is available if your image holds an Alpha channel
      (see <xref linkend="gimp-layer-alpha-add"/>).
      Otherwise, it is greyed out.
    </para>
  </sect3>

  <sect3>
    <title>Example</title>
    <para>
      In the example below, the Toolbox Background color is pink, and the
      image has feathered edges on a transparent background.
    </para>
    <figure>
      <title>Semi-Flatten example</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/BGcolor.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Active background color</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/logo-semi-transp.png"/>
        </imageobject>
        <caption>
          <para>At 800% zoom level</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Full transparency is kept. Semi-tranparent pixels are colored with pink
      according to their transparency (Alpha value). This image will well
      merge into the pink background of the new page.
    </para>
    <figure>
      <title>Semi-Flatten filter applied</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/logo-semi-flatten.png"/>
        </imageobject>
        <caption>
          <para>
            Result, in GIF format, after applying Semi-flatten filter.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<!-- section history:
  2008-07-31 alex falappa: added 'it'
  2008-04-05 ude: created 'en','de'
-->
<sect2 id="python-fu-slice">
  <title>Slice</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Web</secondary>
    <tertiary>Slice</tertiary>
  </indexterm>
  <indexterm>
    <primary>Slice</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Slice</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_guides.jpg"/>
        </imageobject>
        <caption>
          <para>Original image with guides</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/web-taj-slice.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Slice</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter is a simple and easy to use helper for creating sensitive
      images to be used in HTML files. The filter slices up the source image
      (like the <link linkend="plug-in-guillotine">Guillotine</link> command
      does) along its horizontal and vertical guides, and produces a set of
      sub-images. At the same time it creates a piece of HTML code for a table
      saved in a text file. Every table cell contains one part of the image.
      The text file should then be embedded in an HTML document.
    </para>
    <para>
      Note that this filter is really a very simple helper. A typical HTML
      code produced by the filter may be not much more than this:
    </para>
    <example>
      <title>Simple <quote>Slice</quote> filter example output</title>
      <programlisting><!--
        <![CDATA[
<table cellpadding="0" border="0" cellspacing="0">
  <tr>
    <td><a href="#"><img alt="" src="slice_0_0.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_0_1.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_0_2.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_0_3.png"/></a></td>
  </tr>
  <tr>
    <td><a href="#"><img alt="" src="slice_1_0.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_1_1.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_1_2.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_1_3.png"/></a></td>
  </tr>
  <tr>
    <td><a href="#"><img alt="" src="slice_2_0.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_2_1.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_2_2.png"/></a></td>
    <td><a href="#"><img alt="" src="slice_2_3.png"/></a></td>
  </tr>
</table>
        ]]>
--><![CDATA[
<table cellpadding="0" border="0" cellspacing="0">
  <tr>
    <td><img alt="" src="slice_0_0.png"/></td>
    <td><img alt="" src="slice_0_1.png"/></td>
  </tr>
  <tr>
    <td><img alt="" src="slice_1_0.png"/></td>
    <td><img alt="" src="slice_1_1.png"/></td>
  </tr>
</table>
        ]]></programlisting>
      <para>
        Produced HTML code; the <quote>style</quote> attribute has been
        omitted.
      </para>
    </example>
    <para>
      When there are no guides in the image, the filter will no nothing. If,
      however, the guides are just hidden, the filter will work.
    </para>
    <tip>
      <para>
        The <link linkend="plug-in-imagemap">ImageMap</link> filter is a much
        more powerful and sophisticated tool for creating sensitive images.
        (But it is also much more complex...)
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Web</guisubmenu>
        <guimenuitem>Slice</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Slice</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/filters/web/slice.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <para>
        Most options are self-explanatory, but nevertheless:
      </para>
      <varlistentry>
        <term>Path for HTML export</term>
        <listitem>
          <para>
            Where the HTML file and the image files will be saved. By default
            these files will be stored in the current working directory.
            Clicking on the button to the right opens a pull-down menu, where
            you can select a different location.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Filename for export</term>
        <listitem>
          <para>
            The name of the HTML file. You can change the filename using the
            textbox.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Image name prefix</term>
        <listitem>
          <para>
            The name of an image file produced by this filter is
            <filename>prefix_i_k.ext</filename>, where
            <filename>prefix</filename> is that part of the filename which you
            can freely select using the textbox to the right, by default:
            <filename>slice</filename>.
            (<filename>i</filename> and <filename>k</filename> are the numbers
            of the row and the column, each starting with 0;
            <filename class="extension">.ext</filename> is the filename
            extension depending on the selected
            <guilabel>ImageÂ format</guilabel>.)
          </para>
          <para>
            This option is particularly useful when you want to create
            <guilabel>Javascript for onmouseover and clicked</guilabel> and
            need different sets of images.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Image format</term>
        <listitem>
          <para>
            You can choose to create image files in the
            <link linkend="glossary-gif">GIF</link>,
            <link linkend="glossary-jpeg">JPG</link>, or
            <link linkend="glossary-png">PNG</link>
            <link linkend="glossary-fileformat">fileÂ format</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Separate image folder</term>
        <term>Folder for image export</term>
        <listitem>
          <para>
            When <guilabel>Separate image folder</guilabel> is enabled, a
            folder will be created where the image files will be placed. By
            default, the name of this destination folder is
            <filename class="directory">images</filename>, but you can change
            it in the <guilabel>Folder for image export</guilabel> textbox.
          </para>
          <example>
            <title>With separate image folder</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/slice-folder.png"/>
              </imageobject>
              <caption>
                <para>
                  Result of enabled <quote>Separate image folder</quote>
                </para>
              </caption>
            </mediaobject>
          </example>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Space between table elements</term>
        <listitem>
          <para>
            This value (0-15) will be passed as <quote>cellspacing</quote>
            attribute to the HTML table. The result is, that horizontal and
            vertical guides will be replaced with stripes of the specified
            width:
          </para>
          <example>
            <title>Space between table elements</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/slice-cellspacing.png"/>
              </imageobject>
              <caption>
                <para>Corresponding HTML code snippet</para>
              </caption>
            </mediaobject>
          </example>
          <para>
            Note that the image will not be enlarged by the size of these
            stripes. Instead, the resulting HTML image will look like you have
            drawn the stripes with the Eraser tool.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Javascript for onmouseover and clicked</term>
        <listitem>
          <para>
            When this option is enabled, the filter will also add some
            JavaScript code. Like the HTML code, this code does not work as
            is, rather it's a good starting point for adding some dynamic
            functionality. The JavaScript code provides a function to handle
            events like <quote>onmouseover</quote>:
          </para>
          <example>
            <title>JavaScript code snippet</title>
            <programlisting><![CDATA[
function exchange (image, images_array_name, event)
  {
    name = image.name;
    images = eval (images_array_name);

    switch (event)
      {
        case 0:
          image.src = images[name + "_plain"].src;
          break;
        case 1:
          image.src = images[name + "_hover"].src;
          break;
        case 2:
          image.src = images[name + "_clicked"].src;
          break;
        case 3:
          image.src = images[name + "_hover"].src;
          break;
      }
  }
              ]]></programlisting>
          </example>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Skip animation for table caps</term>
        <listitem>
          <para>
            When disabled, the filter will add a
            <code language="HTML">&lt;aÂ href="#"&gt;Â ...Â &lt;/a&gt;</code>
            hyperlink stub to every table cell. When enabled (this is the
            default) and there are at least two horizontal or two vertical
            guides, the filter will not add a hyperlink stub to the first and
            last cell in a column or row. This may be useful when you have an
            image with border and you don't want to make the border sensitive.
          </para>
          <example>
            <title>
              Skipped animation for table caps (simplified HTML code)
            </title>
            <programlisting><![CDATA[
<table cellpadding="0" border="0" cellspacing="0">
  <tr>
    <td><img alt="" src="images/slice_0_0.png"/></td>
    <td><img alt="" src="images/slice_0_1.png"/></td>
    <td><img alt="" src="images/slice_0_2.png"/></td>
    <td><img alt="" src="images/slice_0_3.png"/></td>
  </tr>
  <tr>
    <td><img alt="" src="images/slice_1_0.png"/></td>
    <td><a href="#"><img alt="" src="images/slice_1_1.png"/></a></td>
    <td><a href="#"><img alt="" src="images/slice_1_2.png"/></a></td>
    <td><img alt="" src="images/slice_1_3.png"/></td>
  </tr>
  <tr>
    <td><img alt="" src="images/slice_2_0.png"/></td>
    <td><img alt="" src="images/slice_2_1.png"/></td>
    <td><img alt="" src="images/slice_2_2.png"/></td>
    <td><img alt="" src="images/slice_2_3.png"/></td>
  </tr>
</table>
              ]]></programlisting>
            <para>
              Only inner cells have (empty) hyperlinks.
            </para>
          </example>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="filters-web">
  <title> Web Filters </title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Web</secondary>
    <tertiary>Introduction</tertiary>
  </indexterm>

  <sect2 id="filters-web-introduction">
    <title>Introduction</title>
    <figure>
      <title>The Web filters menu</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/filters/web.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This filters are mostly used on images mentioned for web sites. The
      filter <link linkend="plug-in-imagemap">ImageMap</link> is used to add
      clickable <quote>hot spots</quote> on the image. The filter
      <link linkend="plug-in-semiflatten">Semi-Flatten</link> is used to
      simulate semi-transparency in image formats without alpha channel.
      The <link linkend="python-fu-slice">Slice</link> filter creates HTML
      tables of sensitive images.
    </para>
  </sect2>
  <xi:include href="web/imagemap.xml"/>
  <xi:include href="web/semiflatten.xml"/>
  <xi:include href="web/slice.xml"/>
</sect1>
-#-#-
<book xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-main">
  <bookinfo>
    <title>GNU Image Manipulation Program</title>
    <subtitle>User Manual</subtitle>
    <copyright>
      <year>2002</year>
      <year>2003</year>
      <year>2004</year>
      <year>2005</year>
      <year>2006</year>
      <year>2007</year>
      <year>2008</year>
      <year>2009</year>
      <year>2010</year>
      <year>2011</year>
      <year>2012</year>
      <year>2013</year>
      <year>2014</year>
      <holder>The GIMP Documentation Team</holder>
    </copyright>
    <legalnotice>
      <title>Legal Notice</title>
      <para>
        Permission is granted to copy, distribute and/or modify this document
        under the terms of the GNU Free Documentation License, Version 1.2 or
        any later version published by the Free Software Foundation; with no
        Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A
        copy of the license is included in the section enphrased
        <link linkend="legal">GNU Free Documentation License</link>.
      </para>
    </legalnotice>
  </bookinfo>
  <toc/>
  <preface id="preface">
    <title>Preface</title>
    <xi:include href="preface/authors.xml"/>
  </preface>
  <part id="getting-started">
    <title>Getting Started</title>
    <chapter id="introduction">
      <title>Introduction</title>
      <xi:include href="introduction.xml"/>
      <xi:include href="introduction/whats-new.xml"/>
    </chapter>
    <chapter id="gimp-fire-up">
      <title>Fire up the GIMP</title>
      <xi:include href="concepts/intro.xml"/>
      <xi:include href="concepts/setup.xml"/>
    </chapter>
    <chapter id="gimp-first-steps">
      <title>First Steps with Wilber</title>
      <xi:include href="concepts/concepts.xml"/>
      <xi:include href="concepts/basic-setup.xml"/>
      <xi:include href="concepts/undo.xml"/>
      <xi:include href="tutorial/quickies.xml"/>
      <xi:include href="tutorial/straight-lines.xml"/>
    </chapter>
    <chapter id="gimp-getting-unstuck">
      <title>Getting Unstuck</title>
      <xi:include href="using/getting-unstuck.xml"/>
    </chapter>
  </part>
  <part id="become-a-gimp-wizard">
    <title>
      How do I Become a <acronym>GIMP</acronym> Wizard?
    </title>
    <chapter id="gimp-images-in">
      <title>Getting Images into GIMP</title>
      <para><!-- new: 2007-03-15 -->
        This chapter is about getting images into GIMP. It explains how to
        create new images, how to load images from files, how to scan them and
        how to make screenshots.
      </para>
      <para><!-- new: 2007-03-15 -->
        But first we want to introduce you to the general structure of images
        in GIMP.
      </para>
      <xi:include href="concepts/image-types.xml"/>
      <xi:include href="concepts/images.xml"/>
      <xi:include href="concepts/images-loading.xml"/>
    </chapter>
    <chapter id="gimp-images-out">
      <title>Getting Images out of GIMP</title>
      <xi:include href="using/fileformats.xml"/>
      <xi:include href="using/web.xml"/>
    </chapter>
    <chapter id="gimp-painting">
      <title>Painting with GIMP</title>
      <xi:include href="concepts/selection.xml"/>
      <xi:include href="using/selections.xml"/>
      <xi:include href="concepts/qmask.xml"/>
      <xi:include href="using/qmask.xml"/>
      <xi:include href="using/paths.xml"/>
      <xi:include href="concepts/brushes.xml"/>
      <xi:include href="using/brushes.xml"/>
      <xi:include href="using/animated-brushes.xml"/>
      <xi:include href="using/variable-size-brush.xml"/>
      <xi:include href="concepts/gradients.xml"/>
      <xi:include href="concepts/patterns.xml"/>
      <xi:include href="concepts/palettes.xml"/>
      <xi:include href="concepts/tools-presets.xml"/>
      <xi:include href="using/simpleobjects.xml"/>
    </chapter>
    <chapter id="gimp-image-combining">
      <title>Combining Images</title>
      <xi:include href="concepts/layers.xml"/>
      <xi:include href="concepts/layer-modes.xml"/>
      <xi:include href="using/layers.xml"/>
      <xi:include href="concepts/layer-groups.xml"/>
    </chapter>
    <chapter id="gimp-image-text-management">
      <title>Text Management</title>
      <xi:include href="concepts/text-management.xml"/>
      <xi:include href="using/text-tool-box.xml"/>
      <xi:include href="using/fonts-and-text.xml"/>
    </chapter>
    <chapter id="gimp-imaging-photos">
      <title>Enhancing Photographs</title>
      <xi:include href="using/photography.xml"/>
    </chapter>
    <chapter id="gimp-imaging-color-management">
      <title>Color Management with GIMP</title>
      <xi:include href="concepts/color-management.xml"/>
    </chapter>
    <chapter id="gimp-pimping">
      <title>Enrich my GIMP</title>
      <xi:include href="using/preferences/preferences_introduction.xml"/>
      <xi:include href="concepts/grid-and-guides.xml"/>
      <xi:include href="using/grid-and-guides.xml"/>
      <xi:include href="using/setup.xml"/>
      <xi:include href="using/shortcuts.xml"/>
      <!--<xi:include href="using/docks.xml"/>-->
      <xi:include href="using/customize-splashscreen.xml"/>
    </chapter>
    <chapter id="gimp-scripting">
      <title>Scripting</title>
      <xi:include href="concepts/plugins.xml"/>
      <xi:include href="concepts/script-fu.xml"/>
      <xi:include href="using/script-fu-tutorial.xml"/>
    </chapter>
  </part>
  <part id="gimp-function-reference">
    <title>Function Reference</title>
    <chapter id="gimp-tools">
      <title>Tools</title>
      <xi:include href="toolbox/intro.xml"/>
      <xi:include href="toolbox/selection-tools.xml"/>
      <xi:include href="toolbox/paint-tools.xml"/>
      <xi:include href="toolbox/transform-tools.xml"/>
      <xi:include href="toolbox/color-tools.xml"/>
      <xi:include href="toolbox/other-tools.xml"/>
    </chapter>
    <chapter id="dialogs">
      <title>Dialogs</title>
      <xi:include href="dialogs/dialogs_introduction.xml"/>
      <xi:include href="dialogs/dialogs-structure.xml"/>
      <xi:include href="dialogs/dialogs-content.xml"/>
      <xi:include href="dialogs/dialogs-management.xml"/>
      <xi:include href="dialogs/dialogs-misc.xml"/>
    </chapter>
    <chapter id="menus">
      <title>Menus</title>
      <xi:include href="menus/introduction.xml"/>
      <xi:include href="menus/file.xml"/>
      <xi:include href="menus/edit.xml"/>
      <xi:include href="menus/select.xml"/>
      <xi:include href="menus/view.xml"/>
      <xi:include href="menus/image.xml"/>
      <xi:include href="menus/layer.xml"/>
      <xi:include href="menus/colors.xml"/>
      <xi:include href="menus/tools.xml"/>
      <xi:include href="menus/filters.xml"/>
      <xi:include href="menus/windows.xml"/>
      <xi:include href="menus/help.xml"/>
    </chapter>
    <chapter id="filters">
      <title>Filters</title>
      <xi:include href="filters/introduction.xml"/>
      <xi:include href="filters/blur.xml"/>
      <xi:include href="filters/enhance.xml"/>
      <xi:include href="filters/distort.xml"/>
      <xi:include href="filters/light-and-shadow.xml"/>
      <xi:include href="filters/noise.xml"/>
      <xi:include href="filters/edge-detect.xml"/>
      <xi:include href="filters/generic.xml"/>
      <xi:include href="filters/combine.xml"/>
      <xi:include href="filters/artistic.xml"/>
      <xi:include href="filters/decor.xml"/>
      <xi:include href="filters/map.xml"/>
      <xi:include href="filters/render.xml"/>
      <xi:include href="filters/web.xml"/>
      <xi:include href="filters/animation.xml"/>
      <!-- -->
      <xi:include href="filters/alpha-to-logo.xml"/>
    </chapter>
    <xi:include href="key-reference.xml"/>
  </part>
  <xi:include href="glossary/glossary.xml"/>
<!--
  <xi:include href="dictionary/dictionary.xml"/>
-->
  <xi:include href="appendix/bibliography.xml"/>
  <xi:include href="appendix/history.xml"/>
  <xi:include href="appendix/bugs.xml"/>
  <xi:include href="appendix/fdl.xml"/>
  <xi:include href="help-missing.xml"/>
  <index id="gimp-help-index"/>
</book>
-#-#-
      <para>
        A channel refers to a certain component of an image. For instance, the
        components of an <link linkend="glossary-rgb">RGB</link> image are the
        three primary colors red, green, blue, and sometimes transparency
        (alpha).
      </para>
      <para>
        Every channel is a grayscale image of exactly the same size as the
        image and, consequently, consists of the same number of pixels. Every
        pixel of this grayscale image can be regarded as a container which can
        be filled with a value ranging from 0 to 255. The exact meaning of
        this value depends on the type of channel, e.g. in the
        <acronym>RGB</acronym> color model the value in the
        <emphasis>R</emphasis>-channel means the amount of red which is added
        to the color of the different pixels; in the selection channel, the
        value denotes how strongly the pixels are selected; and in the alpha
        channel the values denote how opaque the corresponding pixels are.
        See also <xref linkend="gimp-concepts-channels"/>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-clipboard">
    <glossterm>
      <phrase>Clipboard</phrase>
    </glossterm>
    <glossdef>
      <para>
        The Clipboard is a temporary area of memory which is used to
        transfer data between applications or documents. It is used when you
        Cut, Copy or Paste data in <acronym>GIMP</acronym>.
      </para>
      <para>
        The clipboard is implemented slightly differently under different
        operating systems. Under Linux/XFree, <acronym>GIMP</acronym> uses
        the XFree clipboard for text and the <acronym>GIMP</acronym>
        internal image clipboard for transferring images between image
        documents. Under other operating systems, the clipboard may work
        somewhat differently. See the <acronym>GIMP</acronym> documentation
        for your operating system for further information.
      </para>
      <!--TODO: this para should go to concepts/using-->
      <para>
        The basic operations provided by the clipboard are
        <quote>Cut</quote>, <quote>Copy</quote>, and <quote>Paste</quote>.
        Cut means that the item is removed from the document and copied to
        the clipboard. Copy leaves the item in the document and copies it to
        the clipboard. Paste copies the contents of the clipboard to the
        document. The <acronym>GIMP</acronym> makes an intelligent decision
        about what to paste depending upon the target. If the target is a
        canvas, the Paste operation uses the image clipboard. If the target
        is a text entry box, the paste operation uses the text clipboard.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-cmyk">
    <glossterm>
      <phrase>CMY, CMYK</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>CMYK</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Color</primary>
      <secondary>Subtractive color synthesis</secondary>
    </indexterm>
    <glossdef>
      <para>
        CMYK is a <link linkend="glossary-colormodel">color model</link>
        which has components for Cyan, Magenta, Yellow and Black. It is a
        subtractive color model, and that fact is important when an image
        is printed. It is complementary to the
        <link linkend="glossary-rgb">RGB</link> color model.
      </para>
      <para>
        The values of the individual colors vary between 0% and 100%, where 0%
        corresponds to an unprinted color, and 100% corresponds to a
        completely printed area of color. Colors are formed by mixing the
        three basic colors.
      </para>
      <para>
        The last of these values, K (Black), doesn't contribute to
        the color, but merely serves to darken the other colors.  The
        letter K is used for Black to prevent confusion, since B usually
        stands for Blue.
      </para>
      <figure float="0">
        <title>Subtractive color model</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/glossary/color-model-subtractive.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        <acronym>GIMP</acronym> does not currently support the CMYK model.
        (An experimental plug-in providing rudimentary CMYK support can be
        found <xref linkend="bibliography-online-plugin-separate"/>.)
      </para>
      <para>
        This is the mode used in printing. These are the colors in the ink
        cartridges in your printer. It is the mode used in painting and in all
        the objects around us, where light is reflected, not emmitted. Objects
        absorb part of the light waves and we see only the reflected part.
        Note that the cones in our eyes see this reflected light in RGB mode.
        An object appears Red because Green and Blue have been absorbed. Since
        the combination of Green and Blue is Cyan, Cyan is absorbed when you
        add Red. Conversely, if you add Cyan, its complementary color, Red, is
        absorbed. This system is <emphasis>subtractive</emphasis>.
        If you add Yellow, you decrease Blue, and if you add Magenta, you
        decrease Green.
      </para>
      <para>
        It would be logical to think that by mixing Cyan, Magenta and Yellow,
        you would subtract Red, Green and Blue, and the eye would see no light
        at all, that is, Black. But the question is more complex. In fact, you
        would see a dark brown. That is why this mode also has a Black value,
        and why your printer has a Black cartridge. It is less expensive that
        way. The printer doesn't have to mix the other three colors to create
        an imperfect Black, it just has to add Black.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-colordepth">
    <glossterm>
      <phrase>Color depth</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Color depth</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>bpp</primary>
    </indexterm>
    <glossdef>
      <para>
        Color depth is simply the number of bits used to represent a color
        (bits per pixel : bpp). There are 3 channels for a pixel (for Red,
        Green and Blue). <acronym>GIMP</acronym> can support 8 bits per
        channel, referred as <emphasis>eight-bit color</emphasis>. So,
        <acronym>GIMP</acronym> color depth is 8&nbsp;*&nbsp;3&nbsp;=&nbsp;24,
        which allows
        256&nbsp;*&nbsp;256&nbsp;*&nbsp;256&nbsp;=&nbsp;16,777,216 possible
        colors (8 bits allow 256 colors).
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-colormodel">
    <glossterm>
      <phrase>Color model</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Color model</primary>
    </indexterm>
    <glossdef>
      <para><!-- Reorganised "color models" to be more like de. There's no need
             to repeat the information again.  scb -->
        A color model is a way of describing and specifying a color. The term
        is often used loosely to refer to both a color space system and the
        color space on which it is based.
      </para>
      <para>
        A color space is a set of colors which can be displayed or
        recognized by an input or output device (such as a scanner, monitor,
        printer, etc.). The colors of a color space are specified as values
        in a color space system, which is a coordinate system in which the
        individual colors are described by coordinate values on various axes.
        Because of the structure of the human eye, there are three axes in
        color spaces which are intended for human observers. The practical
        application of that is that colors are specified with three
        components (with a few exceptions). There are about 30 to 40 color
        space systems in use. Some important examples are:
      </para>
      <itemizedlist>
        <listitem>
          <para>
            <link linkend="glossary-rgb">RGB</link>
          </para>
        </listitem>
        <listitem>
          <para>
            <link linkend="glossary-hsv">HSV</link>
          </para>
        </listitem>
        <listitem>
          <para>
            <link linkend="glossary-cmyk">CMY(K)</link>
          </para>
        </listitem>
        <listitem>
          <para>
            <link linkend="glossary-yuv">YUV</link>
          </para>
        </listitem>
        <listitem>
          <para>
            <link linkend="glossary-ycbcr">YCbCr</link>
          </para>
        </listitem>
      </itemizedlist>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-dithering">
    <glossterm>
      <phrase>Dithering</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Dithering</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Color</primary>
      <secondary>Dithering</secondary>
    </indexterm>
    <glossdef>
      <para>
        Dithering is a technique used in computer graphics to create the
        illusion of more colors when displaying an image which has a low
        <link linkend="glossary-colordepth">color depth</link>. In a
        dithered image, the missing colors are reproduced by a certain
        arrangement of pixels in the available colors. The human eye
        perceives this as a mixture of the individual colors.
      </para>
      <para>
        The <link linkend="gimp-tool-blend">Gradient</link> tool uses
        dithering. You may also choose to use dithering when you convert an
        image to <link linkend="gimp-image-convert-indexed">Indexed</link>
        format. If you are working on an image with indexed colors, some
        tools (such as the pattern fill tool) may also use dithering, if the
        correct color is not available in the colormap.
      </para>
      <para>
        The <link linkend="plug-in-newsprint">Newsprint</link> filter
        uses dithering as well. You can use the
        <link linkend="plug-in-nlfilt">NL Filter</link> (Non Linear filter)
        to remove unwanted dithering noise from your image.
      </para>
      <para>
        Also note that although <acronym>GIMP</acronym> itself uses 24-bit
        colors, your system may not actually be able to display that many
        colors. If it doesn't, then the software in between
        <acronym>GIMP</acronym> and your system may also dither colors while
        displaying them.
      </para>
      <para>
        See also the glossary entry on
        <link linkend="glossary-floyd-steinberg-dithering">Floyd-Steinberg
        dithering</link>, which is used in <acronym>GIMP</acronym>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-exif">
    <glossterm>
      <phrase>EXIF</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>EXIF</primary>
    </indexterm>
    <glossdef>
      <para>
        Exchangeable image file format (official abbreviation Exif, not
        EXIF) is a specification for the image file format used by digital
        cameras. It was created by the Japan Electronic Industry Development
        Association (JEIDA). The specification uses the existing JPEG, TIFF
        Rev. 6.0, and RIFF WAVE file formats, with the addition of specific
        metadata tags. It is not supported in JPEG 2000 or PNG. Version 2.1 of
        the specification is dated June 12, 1998 and version 2.2 is dated
        April 2002. The Exif tag structure is taken from that of TIFF files.
        There is a large overlap between the tags defined in the TIFF, Exif,
        TIFF/EP and DCF standards
        <xref linkend="bibliography-online-wkpd-exif"/>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-feathering">
    <glossterm>
      <phrase>Feathering</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Feathering</primary>
    </indexterm>
    <glossdef>
      <para>
        The process of Feathering makes a smooth transition between a region
        and the background by softly blending the edges of the region.
      </para>
      <para>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/glossary/feather.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </para>
      <para>
        In <acronym>GIMP</acronym>, you can feather the edges of a
        selection. Brushes can also have feathered edges.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-fileformat">
    <glossterm>
      <phrase>File Format</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>File format</primary>
    </indexterm>
    <glossdef>
      <para>
        A file format or file type is the form in which computer data is
        stored. Since a file is stored by an operating system as a linear
        series of bytes, which cannot describe many kinds of real data in
        an obvious way, conventions have been developed for interpreting
        the information as representations of complex data. All of the
        conventions for a particular <quote>kind</quote> of file constitute
        a file format.
      </para>
      <para>
        Some typical file formats for saving images are JPEG, TIFF, PNG and
        GIF. The best file format for saving an image depends upon how the
        image is intended to be used. For example, if the image is intended
        for the internet, file size is a very important factor, and if the
        image is intended to be printed, high resolution and quality have
        greater significance. See
        <link linkend="gimp-using-fileformats">Format types</link>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-floatingselection">
    <glossterm>Floating Selection</glossterm>
    <indexterm>
      <primary>Selection</primary>
      <secondary>Floating selection</secondary>
    </indexterm>
    <glossdef>
      <para>
        A floating selection (sometimes called a <quote>floating
        layer</quote>) is a type of temporary layer which is similar in
        function to a normal layer, except that a floating selection must be
        <link linkend="gimp-layer-anchor">anchored</link> before you can
        resume working on any other layers in the image.
      </para>
      <para>
        In early versions of <acronym>GIMP</acronym>, when
        <acronym>GIMP</acronym> did not use layers, floating selections were
        used for performing operations on a limited part of an image (you can
        do that more easily now with layers). Now floating selections have no
        practical use, but you must know what you have to do with them.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-floyd-steinberg-dithering">
    <glossterm>
      <phrase>Floyd-Steinberg Dithering</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Floyd-Steinberg</primary>
    </indexterm>
    <glossdef>
      <para>
        Floyd-Steinberg dithering is a method of
        <link linkend="glossary-dithering">dithering</link> which was first
        published in 1976 by Robert W. Floyd and Louis Steinberg. The
        dithering process begins in the upper left corner of the image. For
        each pixel, the closest available color in the palette is chosen and
        the difference between that color and the original color is computed
        in each RGB channel. Then specific fractions of these differences
        are dispersed among several adjacent pixels which haven't yet been
        visited (below and to the right of the original pixel). Because of
        the order of processing, the procedure can be done in a single pass
        over the image.
      </para>
      <para>
        When you convert an image to
        <link linkend="gimp-image-convert-indexed">Indexed</link>
        mode, you can choose between two variants of Floyd-Steinberg
        dithering.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-gamma">
    <glossterm>
      <phrase>Gamma</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Gamma</primary>
    </indexterm>
    <glossdef>
      <para>
        Gamma or gamma correction is a non-linear operation which is used to
        encode and decode luminance or color values in video or still image
        systems. It is used in many types of imaging systems to straighten out
        a curved signal-to-light or intensity-to-signal response. For example,
        the light emitted by a CRT is not linear with regard to its input
        voltage, and the voltage from an electric camera is not linear with
        regard to the intensity (power) of the light in the scene. Gamma
        encoding helps to map the data into a perceptually linear domain, so
        that the limited signal range (the limited number of bits in each RGB
        signal) is better optimized perceptually.
      </para>
      <para>
        Gamma is used as an exponent (power) in the correction equation. Gamma
        compression (where gamma &lt; 1) is used to encode linear luminance or
        RGB values into color signals or digital file values, and gamma
        expansion (where gamma &gt; 1) is the decoding process, and usually
        occurs where the current-to-voltage function for a CRT is non-linear.
      </para>
      <para>
        For PC video, images are encoded with a gamma of about 0.45 and
        decoded with a gamma of 2.2. For Mac systems, images are typically
        encoded with a gamma of about 0.55 and decoded with a gamma of 1.8.
        The sRGB color space standard used for most cameras, PCs and printers
        does not use a simple exponential equation, but has a decoding gamma
        value near 2.2 over much of its range.
      </para>
      <para>
        In <acronym>GIMP</acronym>, gamma is an option used in the brush tab
        of the <link linkend="plug-in-gimpressionist">GIMPressionist</link>
        filter and in the <link linkend="plug-in-flame">Flame</link> filter.
        The <link linkend="gimp-display-filter-dialog">display filters</link>
        also include a Gamma filter. Also see the
        <link linkend="gimp-tool-levels">Levels Tool</link>, where you can
        use the middle slider to change the gamma value.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-gamut">
    <glossterm>
      <phrase>Gamut</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Gamut</primary>
    </indexterm>
    <glossdef>
      <para>
        In color reproduction, including computer graphics and photography,
        the gamut, or color gamut (pronounced /ËˆgÃ¦mÉ™t/), is a certain complete
        subset of colors. The most common usage refers to the subset of colors
        which can be accurately represented in a given circumstance, such as
        within a given color space or by a certain output device. Another
        sense, less frequently used but not less correct, refers to the
        complete set of colors found within an image at a given time. In this
        context, digitizing a photograph, converting a digitized image to a
        different color space, or outputting it to a given medium using a
        certain output device generally alters its gamut, in the sense that
        some of the colors in the original are lost in the process.
        <xref linkend="bibliography-online-wkpd-gamut"/>
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-gif">
    <glossterm>
      <phrase>GIF</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>GIF</primary>
    </indexterm>
    <glossdef>
      <para>
        <trademark class="trade">GIF</trademark> stands for Graphics
        Interchange Format.  It is a <link linkend="glossary-fileformat">file
        format</link> with good, lossless compression for images with low
        <link linkend="glossary-colordepth">color depth</link>
        (up to 256 different colors per image). Since GIF was developed, a
        new format called
        <link linkend="file-png-save-defaults">Portable Network Graphics
        (PNG)</link> has been developed, which is better than GIF in all
        respects, with the exception of animations and some rarely-used
        features.
      </para>
      <para>
        GIF was introduced by CompuServe in 1987. It became popular mostly
        because of its efficient, LZW compression. The size of the image files
        required clearly less disk space than other usual graphics formats of
        the time, such as PCX or MacPaint. Even large images could be
        transmitted in a reasonable time, even with slow modems. In addition,
        the open licensing policy of CompuServe made it possible for any
        programmer to implement the GIF format for his own applications free
        of charge, as long as the CompuServe copyright notice was attached to
        them.
      </para>
      <para>
        Colors in GIF are stored in a color table which can hold up to 256
        different entries, chosen from 16.7 million different color values.
        When the image format was introduced, this was not a much of a
        limitation, since only a few people had hardware which could display
        more colors than that. For typical drawings, cartoons, black-and-white
        photographs and similar uses, 256 colors are quite sufficient as a
        rule, even today. For more complex images, such as color photographs,
        however, a huge loss of quality is apparent, which is why the format
        is not considered to be suitable for those purposes.
      </para>
      <para>
        One color entry in the palette can be defined to be transparent.
        With transparency, the GIF image can look like it is non-rectangular
        in shape. However, semi-transparency, as in
        <link linkend="file-png-save-defaults">PNG</link>, is not possible.
        A pixel can only be either entirely visible or completely
        transparent.
      </para>
      <para>
        The first version of GIF was 87a. In 1989, CompuServe published an
        expanded version, called 89a. Among other things, this made it
        possible to save several images in one GIF file, which is especially
        used for simple animation. The version number can be distinguished
        from the first six bytes of a GIF file. Interpreted as ASCII symbols,
        they are <quote>GIF87a</quote> or <quote>GIF89a</quote>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-gnu">
    <glossterm>
      <phrase>GNU</phrase>
    </glossterm>
    <glossdef>
      <para>
        The GNU project was started in 1983 by Richard Stallman with the
        goal of developing a completely free operating system. It is
        especially well-known from the GNU General Public License (GPL) and
        GNU/Linux, a GNU-variant with a Linux kernel.
      </para>
      <para>
        The name came about from the naming conventions which were in
        practice at MIT, where Stallman worked at the time.
        For programs which were similar to other programs, recursive
        acronyms were chosen as names. Since the new system was to be based
        on the widespread operating system, Unix, Stallman looked for that
        kind of name and came up with GNU, which stands for
        <quote>GNU is not Unix</quote>. In order to avoid confusion, the
        name should be pronounced with the <quote>G</quote>, not like
        <quote>new</quote>. There were several reasons for making GNU
        Unix-compatible. For one thing, Stallman was convinced that most
        companies would refuse a completely new operating system, if the
        programs they used wouldn't run on it. In addition, the architecture
        of Unix made quick, easy and distributed development possible,
        since Unix consists of many small programs that can be developed
        independently of each other, for the most part. Also, many parts of
        a Unix system were freely available to anyone and could therefore
        be directly integrated into GNU, for example, the typesetting
        system, TeX, or the X Window System. The missing parts were newly
        written from the ground up.
      </para>
      <para>
        <acronym>GIMP</acronym> (GNU Image Manipulation Program) is an
        official GNU application
        <xref linkend="bibliography-online-wkpd-gnu"/>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-grayscale">
    <glossterm>
      <anchor id="glossary-graylevel" xreflabel="Grayscale"/>
      <phrase>Grayscale</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Grayscale</primary>
      <secondary>Overview</secondary>
    </indexterm>
    <glossdef>
      <para>
        Grayscale is a mode for encoding the colors of an image which
        contains only black, white and shades of gray.
      </para>
      <para>
        When you create a new image, you can choose to create it in
        Grayscale mode (which you can colorize later, by changing it to RGB
        mode). You can also change an existing image to grayscale by using
        the <link linkend="gimp-image-convert-grayscale">Grayscale</link>,
        <link linkend="gimp-tool-desaturate">Desaturate</link>,
        <link linkend="plug-in-decompose-registered">Decompose</link>,
        <link linkend="plug-in-colors-channel-mixer">Channel
        Mixer</link>, although not all formats will accept these changes.
        Although you can create images in Grayscale mode and convert images
        to it, it is not a color model, in the true sense of the word.
      </para>
      <para>
        As explained in <link linkend="glossary-rgb">RGB mode</link>, 24-bit
        <acronym>GIMP</acronym> images can have up to 256 levels of gray. If
        you change from Grayscale to RGB mode, your image will have an RGB
        structure with three color channels, but of course, it will still be
        gray.
      </para>
      <para>
        Grayscale image files (8-bit) are smaller than RGB files.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-guides">
    <glossterm>
      <phrase>Guides</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Guides</primary>
      <secondary>Using</secondary>
    </indexterm>
    <glossdef>
      <para>
        Guides are lines you can temporarily display on an image while you are
        working on it. You can display as many guides as you would like, in
        either the horizontal or the vertical direction. These lines help you
        position a selection or a layer on the image. They do not appear when
        the image is printed.
      </para>
      <para>
        For more information see
        <xref linkend="gimp-concepts-image-guides"/>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-histogram">
    <glossterm>
      <phrase>Histogram</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Histogram</primary>
    </indexterm>
    <glossdef>
      <para>
        In digital image processing, a histogram is a graph representing the
        statistical frequency of the gray values or the color values in an
        image. The histogram of an image tells you about the occurrence of
        gray values or color values, as well as the contrast range and the
        brightness of the image. In a color image, you can create one
        histogram with information about all possible colors, or three
        histograms for the individual color channels. The latter makes the
        most sense, since most procedures are based on grayscale images and
        therefore further processing is immediately possible.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-hsv">
    <glossterm>
      <phrase>HSV</phrase>
    </glossterm>
    <glossdef>
      <para>
        HSV is a <link linkend="glossary-colormodel">color model</link>
        which has components for Hue (the color, such as blue or red),
        Saturation (how strong the color is) and Value (the brightness).
      </para>
      <para>
        The RGB mode is very well suited to computer screens, but it doesn't
        let us describe what we see in everyday life; a light green, a
        pale pink, a dazzling red, etc. The HSV model takes these
        characteristics into account. HSV and RGB are not completely
        independent of each other. You can see that with the Color Picker
        tool; when you change a color in one of the color models, the other
        one also changes. Brave souls can read
        <emphasis>Grokking the GIMP</emphasis>, which explains their
        interrelationship.
      </para>
      <variablelist>
        <para>Brief description of the HSV components:</para>
        <varlistentry>
          <term>Hue</term>
          <listitem>
            <para>
              This is the color itself, which results from the combination of
              primary colors. All shades (except for the gray levels) are
              represented in a <emphasis>chromatic circle</emphasis>: yellow,
              blue, and also purple, orange, etc. The chromatic circle (or
              <quote>color wheel</quote>) values range between 0Â° and 360Â°.
              (The term <quote>color</quote> is often used instead of
              <quote>Hue</quote>. The RGB colors are <quote>primary
              colors</quote>.)
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Saturation</term>
          <listitem>
            <para>
              This value describes how pale the color is. A completely
              unsaturated color is a shade of gray. As the saturation
              increases, the color becomes a pastel shade. A completely
              saturated color is pure. Saturation values go from 0 to 100,
              from white to the purest color.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Value</term>
          <listitem>
            <para>
              This value describes the luminosity, the luminous intensity. It
              is the amount of light emitted by a color. You can see a change
              of luminosity when a colored object is moved from being in the
              shadow to being in the sun, or when you increase the luminosity
              of your screen. Values go from 0 to 100. Pixel values in the
              three channels are also luminosities: <quote>Value</quote> in
              the HSV color model is the maximum of these elementary values in
              the RGB space (scaled to 0-100).
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-html-notation">
    <glossterm>
      <phrase>HTML notation</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>HTML notation</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Color</primary>
      <secondary>HTML notation</secondary>
    </indexterm>
    <glossdef>
      <para>
        A hex triplet is a way of encoding a color for a computer. The
        <quote>#</quote> symbol indicates that the numbers which follow it
        are encoded in hexadecimal. Each color is specified in two
        hexadecimal digits which make up a triplet (three pairs) of
        hexadecimal values in the form <quote>#rrggbb</quote>, where
        <quote>rr</quote> represents red, <quote>gg</quote> represents green
        and <quote>bb</quote> represents blue.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-imagehose">
    <glossterm>
      <phrase>Image Hose</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Image Hose</primary>
    </indexterm>
    <glossdef>
      <para>
        An image hose in <acronym>GIMP</acronym> is a special type of brush
        which consists of several images. For example, you could have a
        brush with footprints, which consists of two images, one for the
        left footprint and one for the right. While painting with this
        brush, a left footprint would appear first, then a right footprint,
        then a left one, etc. This type of brush is very powerful.
      </para>
      <para>
        An image hose is also sometimes called an <quote>image pipe</quote>
        or <quote>animated brush</quote>. An image hose is indicated in the
        Brushes dialog by a small red triangle in the lower right corner of
        the brush's symbol.
      </para>
      <para>
        For information concerning creating an image hose, please see the
        <xref linkend="gimp-using-animated-brushes"/> and
        <xref linkend="gimp-using-brushes"/>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-incremental">
    <glossterm>
      <phrase>Incremental, paint mode</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Incremental</primary>
    </indexterm>
    <glossdef>
      <para>
        Incremental mode is a paint mode where each brush stroke is drawn
        directly on the active layer. When it is set, each additional stroke
        of the brush increases the effect of the brush, up to the maximum
        opacity for the brush.
      </para>
      <para>
        If incremental mode is not set, brush strokes are drawn on a canvas
        buffer, which is then combined with the active layer. The maximum
        effect of a brush is then determined by the opacity, and stroking with
        the brush repeatedly does not increase the effect beyond this limit.
      </para>
      <para>
        <inlinemediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/glossary/tool-opt-increment.png"/>
          </imageobject>
        </inlinemediaobject>
        <inlinemediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/glossary/tool-opt-nonincrement.png"/>
          </imageobject>
        </inlinemediaobject>
      </para>
      <para>
        The two images above were created using a brush with spacing set to
        60 percent. The image on the left shows non-incremental painting and
        the image on the right shows the difference with incremental painting.
      </para>
      <para>
        Incremental mode is a tool option that is shared by several brush
        tools, except those which have a <quote>rate</quote> control, which
        automatically implies an incremental effect. You can set it by
        checking the <guilabel moreinfo="none">Incremental</guilabel> checkbox in the
        tool option dialog for the tool (Paintbrush, Pencil and Eraser).
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-indexedcolors">
    <glossterm>
      <phrase>Indexed Colors</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Indexed Colors</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Color</primary>
      <secondary>Indexed colors</secondary>
    </indexterm>
    <glossdef>
      <para>
        Indexed color mode is a mode for encoding colors in an image where
        each pixel in the image is assigned an 8-bit color number. The color
        which corresponds to this number is then put in a table (the palette).
        Changing a color in the palette changes all the pixels which refer
        to this palette color. Although you can create images in
        <emphasis>Indexed Color</emphasis> mode and can transform images to
        it, it is, strictly speaking, not a
        <link linkend="glossary-colormodel">color model</link>.
      </para>
      <para>
        See also the <link linkend="gimp-indexed-palette-dialog">Indexed
        Palette</link> section and the
        <link linkend="gimp-image-convert-indexed">Convert Image to Indexed
        Colors</link> command.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-interpolation">
    <glossterm>
      <phrase>Interpolation</phrase>
    </glossterm>
    <glossdef>
      <para>
        Interpolation means calculating intermediate values. When you
        enlarge (<quote>digitally zoom</quote>) or otherwise transform
        (rotate, shear or give perspective to) a digital image,
        interpolation procedures are used to compute the colors of the
        pixels in the transformed image. <acronym>GIMP</acronym> offers
        three interpolation methods, which differ in quality and speed. In
        general, the better the quality, the more time the interpolation
        takes (see
        <link linkend="gimp-tool-interpolation-methods">Interpolation
        methods</link>).
      </para>
      <para>
        <acronym>GIMP</acronym> uses interpolation when you
        <link linkend="gimp-image-scale">Scale</link> an image,
        <link linkend="gimp-layer-scale">Scale</link> a layer, and when you
        <link linkend="gimp-tools-transform">Transform</link> an image.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-jpeg">
    <glossterm>
      <phrase>JPEG</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>JPEG</primary>
    </indexterm>
    <glossdef>
      <para>
        JPEG is a <link linkend="glossary-fileformat">file format</link>
        which supports compression and works at all color depths. The
        image compression is adjustable, but beware: Too high a compression
        could severely reduce image quality, since JPEG compression is lossy.
      </para>
      <para>
        Use JPEG to create web graphics or if you don't want your
        image to take up a lot of space. JPEG is a good format for
        photographs and for computer-generated images (CGI). It is not well
        suited for:
      </para>
      <itemizedlist>
        <listitem>
          <para>
            digital line drawings (for example, screenshots or vector
            graphics), in which there are many neighboring pixels with the
            same color values, few colors and hard edges,
          </para>
        </listitem>
        <listitem>
          <para>
            Black and white images (only black and white, one bit per pixel)
            or
          </para>
        </listitem>
        <listitem>
          <para>half-toned images (newsprint).</para>
        </listitem>
      </itemizedlist>
      <para>
        Other formats, such as GIF, PNG or JBIG, are far better for these
        kinds of images.
      </para>
      <para>
        In general, JPEG transformations are not reversible. Opening and
        then saving a JPEG file causes a new, lossy compression. Increasing
        the quality factor later will not bring back the image information
        which was lost.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-lab">
    <glossterm>
      <phrase>L*a*b*</phrase>
    </glossterm>
    <glossdef>
      <para>
        The Lab color space (also called the L*a*b* color space) is a
        <link linkend="glossary-colormodel">color model</link>
        developed in the beginning of the 1930s by the Commission
        Internationale d`Eclairage (CIE). It includes all the colors that
        the human eye can perceive. That contains the colors of the
        RGB and the CMYK color spaces, among others. In Lab, a color is
        indicated by three values: L, a and b. Here, the L stands for the
        luminance component â€” corresponding to the gray value â€” and a and b
        represent the red-green and blue-yellow parts of the color,
        respectively.
      </para>
      <para>
        In contrast to RGB or CMYK, Lab is not dependent upon the
        various input and output devices. For that reason, it is used as an
        exchange format between devices. Lab is also the internal color
        model of PostScript Level II.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-layer">
    <glossterm>
      <phrase>Layer</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Layer</primary>
    </indexterm>
    <glossdef>
      <para>
        You can think of layers as being a stack of slides which are more or
        less transparent. Each layer represents an aspect of the image and
        the image is the sum of all of these aspects. The layer at the bottom
        of the stack is the background layer. The layers above it are the
        components of the foreground.
      </para>
      <para>
        You can view and manage the layers of the image through the
        <link linkend="gimp-layer-dialog">Layers dialog</link>.
      </para>
      <figure>
        <title>Example image with layers</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/dialogs/layers_overview.png"/>
          </imageobject>
          <caption>
            <para>Representation of an image with layers</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/dialogs/layers_example.png"/>
          </imageobject>
          <caption><para>The final image</para></caption>
        </mediaobject>
      </figure>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-marching-ants">
    <glossterm>
      <phrase>Marching Ants</phrase>
    </glossterm>
    <glossdef>
      <para>
        Marching ants is a term which describes the dotted line which
        surrounds a selection. The line is animated, so it looks as if
        little ants are running around behind each other.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-masks">
    <glossterm>
      <phrase>Masks</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Masks</primary>
      <secondary>Overview</secondary>
    </indexterm>
    <glossdef>
      <para>
        A mask is like a veil put over a layer (layer mask) or all the layers
        of an image (selection mask). You can remove this mask by painting
        with white color, and you can complete it by painting with black
        color. When the mask is <quote>applied</quote>, non masked pixels
        will remain visible (the others will be transparent) or will be
        selected, according to the type of mask.
      </para>
      <para>There are two types of masks:</para>
      <itemizedlist>
        <listitem>
          <para>
            <emphasis>Layer Mask</emphasis>:
            Every layer can have its own mask. The layer mask represents the
            Alpha channel of the layer and allows you to manage its
            transparency. By painting on the layer mask, you can make parts of
            the layer opaque or transparent: painting with black makes the
            layer transparent, painting with white makes the layer opaque and
            painting with shades of gray makes the layer semi-transparent. You
            can use all paint tools to paint on the mask. You can also apply a
            filter or copy-paste. You can use the Layer mask for transition
            effects, volume effects, merging elements from another image, etc.
            See the <link linkend="gimp-layer-mask">Layer Mask</link>
            section for more details.
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis>Channel Mask</emphasis>, also called
            <emphasis>Selection Mask</emphasis>:
            Channel Masks determine the transparency of a selection. By
            painting on a Channel Mask with white, you remove the mask and
            increase the selection; with black, you reduce the selection.
            This procedure lets you create a selection very precisely. You
            can also save your selections to a Channel Mask with the
            <link linkend="gimp-selection-to-channel">Save to Channel</link>
            command. You can retrieve it later by using the
            <quote>Channel to selection</quote> command from the
            <link linkend="gimp-channel-menu">Channel menu</link>. Channel
            masks are so important in <acronym>GIMP</acronym> that a
            special type has been implemented: the
            <link linkend="gimp-qmask">Quick&nbsp;mask</link>. See the
            <link linkend="gimp-channel-mask">Selection&nbsp;mask</link>
            section for more details.
          </para>
        </listitem>
      </itemizedlist>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-moire">
    <glossterm>
      <phrase>Moir&eacute; Effect</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Moir&eacute;</primary>
    </indexterm>
    <glossdef>
      <para>
        The moir&eacute; effect (pronounce <quote>Moa-ray</quote>) is an
        unintended pattern which appears when a regular pattern of grids or
        lines interferes with another regular pattern placed over it. This can
        happen, for example, when you are scanning an image with a periodic
        structure (such as a checkered shirt or a half-toned image), scanning
        a digital image, taking a digital photograph of a periodic pattern,
        or even when silkscreening.
       </para>
      <para>
         If you discover the problem in time, the best solution is to move
         the original image a little bit in the scanner or to change the
         camera angle slightly.
       </para>
      <para>
         If you cannot re-create the image file, <acronym>GIMP</acronym>
         offers some filters which may help you with the problem. For more
         information, see the
         <link linkend="plug-in-despeckle">Despeckle</link> and
         <link linkend="plug-in-nlfilt">NL Filter</link> (Non-Linear)
         filters.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-parasite">
    <glossterm>
      <phrase>Parasite</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>XCF</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>.xcf</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Parasite</primary>
    </indexterm>
    <glossdef>
      <para>
        A Parasite is additional data which may be written to an XCF file. A
        parasite is identified by a name, and can be thought of as an
        extension to the other information in an XCF file.
      </para>
      <para>
        Parasites of an image component may be read by
        <acronym>GIMP</acronym>
        plug-ins. Plug-ins may also define their own parasite names, which are
        ignored by other plug-ins. Examples of parasites are comments, the
        save options for the TIFF, JPEG and PNG file formats, the gamma value
        the image was created with and EXIF data.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-path">
    <glossterm>
      <phrase>Path</phrase>
    </glossterm>
    <glossdef>
      <para>
        A Path is a contour composed of straight lines, curves, or both. In
        <acronym>GIMP</acronym>, it is used to form the boundary of a
        selection, or to be <emphasis>stroked</emphasis> to create visible
        marks on an image. Unless a path is stroked, it is not visible when
        the image is printed and it is not saved when the image is written
        to a file (unless you use XCF format).
      </para>
      <para>
        See the <link linkend="gimp-concepts-paths">Paths Concepts</link>
        and <link linkend="gimp-using-paths">Using Paths</link> sections for
        basic information on paths, and the
        <link linkend="gimp-tool-path">Path Tool</link> section for
        information on how to create and edit paths. You can manage the
        paths in your image with the
        <link linkend="gimp-path-dialog">Paths dialog</link>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-pdb">
    <glossterm>
      <phrase>PDB</phrase>
    </glossterm>
    <glossdef>
      <para>
        All of the functions which <acronym>GIMP</acronym> and its
        extensions make available are registered in the Procedure Database
        (PDB). Developers can look up useful programming information about
        these functions in the PDB by using the
        <link linkend="plug-in-dbbrowser">Procedure Browser</link>.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-pdf">
    <glossterm>
      <phrase>PDF</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>PDF</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Formats</primary>
      <secondary>PDF</secondary>
    </indexterm>
    <glossdef>
      <para>
        PDF (Portable Document Format) is a
        <link linkend="glossary-fileformat">file format</link> which was
        developed by Adobe to address some of the deficiencies of
        PostScript. Most importantly, PDF files tend to be much smaller than
        equivalent PostScript files. As with PostScript,
        <acronym>GIMP</acronym>'s support of the PDF format is through the
        free Ghostscript libraries.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-pixel">
    <glossterm>
      <phrase>Pixel</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Pixel</primary>
    </indexterm>
    <glossdef>
      <para>
        A pixel is a single dot, or <quote>picture element</quote>, of an
        image. A rectangular image may be composed of thousands of pixels,
        each representing the color of the image at a given location. The
        value of a pixel typically consists of several
        <link linkend="glossary-channels">Channels</link>, such as the Red,
        Green and Blue components of its color, and sometimes its Alpha
        (transparency).
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-plug-in">
    <glossterm>
      <anchor id="glossary-plugin" xreflabel="Plugin"/>
      <phrase>Plugin</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Plugins</primary>
      <secondary>Definition</secondary>
    </indexterm>
    <glossdef>
      <para>
        Optional extensions for the <acronym>GIMP</acronym>. Plugins are
        external programs that run under the control of the main GIMP
        application and provide specific functions on-demand. See
        <xref linkend="gimp-concepts-plugins"/> for further information.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-png">
    <glossterm>
      <phrase>PNG</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>PNG</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>.png</primary>
    </indexterm>
    <glossdef>
      <para>
        PNG is the acronym of <quote>Portable Network Graphic</quote>
        (pronounce <quote>ping</quote>. This recent format offers many
        advantages and a few drawbacks: it is not lossy and gives files
        more heavy than the JPEG format, but it is perfect for saving your
        images because you can save them several times without losing
        data each time (it is used for this Help). It supports True Colors
        (several millions of colors), indexed images (256 colors like GIF),
        and 256 transparency levels (while GIF supports only two levels).
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-postscript">
    <glossterm>PostScript</glossterm>
    <indexterm>
      <primary>Formats</primary>
      <secondary>PostScript</secondary>
    </indexterm>
    <glossdef>
      <para>
        Created by Adobe, PostScript is a page description language mainly
        used by printers and other output devices. It's also an excellent way
        to distribute documents. <acronym>GIMP</acronym> does not support
        PostScript directly: it depends on a powerful free software program
        called Ghostscript.
      </para>
      <para>
        The great power of PostScript is its ability to represent vector
        graphicsâ€”lines, curves, text, paths, etc.â€”in a resolution-independent
        way. PostScript is not very efficient, though, when it comes to
        representing pixel-based raster graphics. For this reason, PostScript
        is not a good format to use for saving images that are later going to
        be edited using <acronym>GIMP</acronym> or another graphics program.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-psd">
    <glossterm>
      <phrase>PSD</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>PSD</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>.psd</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Formats</primary>
      <secondary>PSD</secondary>
    </indexterm>
    <glossdef>
      <para>
        PSD is Adobe Photoshop's native
        <link linkend="glossary-fileformat">file format</link>, and it is
        therefore comparable to <link linkend="glossary-xcf">XCF</link>
        in complexity. <acronym>GIMP</acronym>'s ability to handle PSD files
        is sophisticated but limited: some
        features of PSD files are not loaded, and only older versions of PSD
        are supported. Unfortunately, Adobe has now made the Photoshop
        Software Development Kit â€” which includes their file format
        specifications â€” proprietary, and only available to a limited set of
        developers approved by Adobe. This does not include the
        <acronym>GIMP</acronym>
        development team, and the lack of information makes it very difficult
        to maintain up-to-date support for PSD files.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-quantization">
    <glossterm>
      <phrase>Quantization</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Quantization</primary>
    </indexterm>
    <glossdef>
      <para>
        Quantization is the process of reducing the color of a pixel into one
        of a number of fixed values by matching the color to the nearest color
        in the colormap. Actual pixel values may have far more precision than
        the discrete levels which can be displayed by a digital display. If
        the display range is too small, then abrupt changes in colors (false
        contours, or banding) may appear where the color intensity changes
        from one level to another. This is especially noticeable in Indexed
        images, which have 256 or fewer discrete colors.
      </para>
      <para>
        One way to reduce quantization effects is to use
        <link linkend="glossary-dithering">Dithering</link>. The
        operations in <acronym>GIMP</acronym> which perform
        dithering are the
        <link linkend="gimp-tool-blend">Blend tool</link>
        (if you have enabled the dithering option) and the
        <link linkend="gimp-image-convert-indexed">Convert to Indexed</link>
        command. However, they only work on RGB images and not on Indexed
        images.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-rendering-intent">
    <glossterm>
      <phrase>Rendering Intent</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Color Management</primary>
    </indexterm>
    <glossdef>
      <para>
        Rendering intents are ways of dealing with colors that are
        out-of-<xref linkend="glossary-gamut"/> colors present in the source
        space that the destination space is incapable of producing. There are
        four rendering intents defined by the ICC:
      </para>
      <variablelist>
        <varlistentry>
          <term>Perceptual</term>
          <listitem>
            <para>
              This rendering intent is typically used for photographic
              content. It scales one gamut to fit into the other while
              maintaining the relative position of colors.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Relative colorimetric</term>
          <listitem>
            <para>
              This rendering intent is typically used for spot colors. Colors
              that are not out of gamut are left unchanged. Colors outside the
              gamut are converted to colors with the same lightness, but
              different saturation, at the edge of the gamut.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Saturation</term>
          <listitem>
            <para>
              This method is typically used for business graphics. The
              relative saturation of colors is mostly maintained, but
              lightning is usually changed.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Absolute colorimetric</term>
          <listitem>
            <para>
              This rendering intent is most often used in proofing. It
              preserves the native device white point of the source image.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-rgb">
    <glossterm>
      <phrase>RGB</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>RGB</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Color</primary>
      <secondary>Additive color model</secondary>
    </indexterm>
    <glossdef>
      <figure float="0">
        <title>
          <phrase>Additive color model</phrase>
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/glossary/color-model-additive.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        RGB is a <link linkend="glossary-colormodel">color model</link>
        which has components for Red, Green and Blue. These colors are
        emitted by screen elements and not reflected as they are with paint.
        The resulting color is a combination of the three primary RGB colors,
        with different degrees of lightness. If you look closely at your
        television screen, whose pitch is less than that of a computer
        screen, you can see the red, green and blue elements lit with
        different intensities. The RGB color model is
        <emphasis>additive</emphasis>.
      </para>
      <para><acronym>GIMP</acronym> uses eight bits per channel for each primary
        color. That means there are 256 intensities (Values) available,
        resulting in 256Ã—256Ã—256 = 16,777,216 colors.
      </para>
      <para>
        It is not obvious why a given combination of primary colors produces a
        particular color. Why, for instance, does 229R+205G+229B give a shade
        of pink? This depends upon the human eye and brain. There is no color
        in nature, only a continuous spectrum of wavelengths of light. There
        are three kinds of cones in the retina. The same wavelength of light
        acting upon the three types of cones stimulates each of them
        differently, and the mind has learned, after several million years of
        evolution, how to recognize a color from these differences.
      </para>
      <para>
        It is easy to see that no light (0R+0G+0B) produces complete darkness,
        black, and that full light (255R+255G+255B) produces white. Equal
        intensity on all color channels produces a level of gray. That is why
        there can only be 256 gray levels in <acronym>GIMP</acronym>.
      </para>
      <para>
        Mixing two <emphasis>Primary colors</emphasis> in RGB mode
        gives a <emphasis>Secondary color</emphasis>, that is, a
        color in the CMY model. Thus combining Red and Green gives
        Yellow, Green and Blue give Cyan, Blue and Red give Magenta.
        Don't confuse secondary colors with
        <emphasis>Complementary colors</emphasis> which are
        directly opposite a primary color in the chromatic
        circle:
      </para>
      <figure float="0">
        <title>Colorcircle</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/glossary/colorcircle.png"/>
          </imageobject>
          <caption>
            <para>
              Mixing a primary color with its complementary color gives gray
              (a neutral color).
            </para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        It is important to know what happens when you are dealing with colors
        in <acronym>GIMP</acronym>.
        The most important rule to remember is that decreasing the intensity
        of a primary color results in increasing the intensity of the
        complementary color (and vice versa). This is because when you
        decrease the value of a channel, for instance Green, you automatically
        increase the relative importance of the other two, here Red and Blue.
        The combination of these two channels gives the secondary color,
        Magenta, which is the complementary color of Green.
      </para>
      <!-- this is definitely off-topic in a glossary!
           TODO: move this para to somewhere else
      <para>
        <emphasis>Exercise</emphasis>:
        You can check this out. Create a new image with only a white
        background (255R+255G+255B). Open the
        <menuchoice>
          <guimenu>Tools</guimenu>
          <guisubmenu>Color Tools</guisubmenu>
          <guimenuitem>Levels</guimenuitem>
        </menuchoice>
        dialog and select the Red channel. If necessary, check the preview
        box. Move the white slider to the left to decrease the Red value. You
        will notice that the background of your image gets closer and closer
        to Cyan. Now, decrease the Blue channel: only the Green will remain.
        For practice, go backwards, add a color and try to guess what hue will
        appear.
      </para>
      -->
      <!-- probably this is off-topic too... -->
      <para>
        The <link linkend="gimp-tool-color-picker">Color Picker</link>
        tool lets you find out the RGB values of a pixel and the
        <link linkend="glossary-html-notation">hextriplet</link>
        for the color.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-samplemerge">
    <glossterm>
      <phrase>Sample Merge</phrase>
    </glossterm>
    <glossdef>
      <para>
        Sample Merged is an option you can set when you use the
        <link linkend="gimp-tool-bucket-fill">Bucket Fill</link>
        tool, the <link linkend="gimp-tool-color-picker">Color Picker</link>
        tool and various selection tools. It is useful when you are working on
        an image with several layers and the active layer is either
        semi-transparent or has a
        <link linkend="gimp-concepts-layer-modes">Layer Mode</link>
        which is not set to Normal. When you check the Sample Merged option,
        the color which is used for the operation is the composite color of
        all the visible layers. When the Sample Merged option is not checked,
        the color used is the color of the active layer itself.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-saturation">
    <glossterm>
      <phrase>Saturation</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Saturation</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Color</primary>
      <secondary>Saturation</secondary>
    </indexterm>
    <glossdef>
      <para>
        This term refers to color purity. Imagine you add pigment to white
        paint. Saturation varies from 0 (white, fully toned down, fully
        diluted) to 100 (pure color).
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-supersampling">
    <glossterm>
      <phrase>Supersampling</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Supersampling</primary>
    </indexterm>
    <glossdef>
      <para>
      Supersampling is a more sophisticated antialiasing technique, that
      is, a method of reducing jagged and stair-stepped edges along a
      slanted or curved line. Samples are taken at several locations
      <emphasis>within</emphasis> each pixel, not just at the center, and
      an average color is calculated. This is done by rendering the image
      at a much higher resolution than the one being displayed and then
      shrinking it to the desired size, using the extra pixels for
      calculation. The result is a smoother transition from one line of
      pixels to another along the edges of objects.
    </para>
      <para>
      The quality of the result depends on the number of samples.
      Supersampling is often performed at a range of 2Ã— to 16Ã— the original
      size. It greatly increases the amount of time needed to draw the image
      and also the amount of space needed to store the image in memory.
    </para>
      <para>
      One way to reduce the space and time requirement is to use Adaptive
      Supersampling. This method takes advantage of the fact that very few
      pixels are actually on an object boundary, so only those pixels need to
      be supersampled. At first, only a few samples are taken within a pixel.
      If the colors are very similar to each other, only those samples are
      used to calculate the final color. If not, more samples are used. This
      means that the higher number of samples is calculated only where
      necessary, which improves performance.
    </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-svg">
    <glossterm>
      <phrase>SVG</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>SVG</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Formats</primary>
      <secondary>SVG</secondary>
    </indexterm>
    <glossdef>
      <para>
        SVG stands for Scalable Vector Graphics. It is a format for
        two-dimensional vector graphics, both static and animated. You can
        export GIMP paths to SVG and you can import SVG documents into GIMP
        from a vector graphic software. See
        <xref linkend="bibliography-online-wkpd-svg"/> for more details.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-tga">
    <glossterm><phrase>TGA</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>TGA</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>TARGA</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Formats</primary>
      <secondary>TGA</secondary>
    </indexterm>
    <glossdef>
      <para>
        TGA (TARGA Image File) is a
        <link linkend="glossary-fileformat">file format</link> which
        supports 8, 16, 24 or 32 bits per pixel and optional RLE compression.
        It was originally developed by the Truevision company.
        <quote>TGA</quote> stands for Truevision Graphics Adapter and
        <quote>TARGA</quote> stands for Truevision Advanced Raster Graphics
        Adapter.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-tiff">
    <glossterm>
      <phrase>TIFF</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>TIFF</primary>
    </indexterm>
    <glossdef>
      <para>
        TIFF (Tagged Image File Format) is a
        <link linkend="glossary-fileformat">file format</link> which was
        developed primarily for scanned
        raster graphics for color separation. Six different encoding routines
        are supported, each with one of three different image modes: black and
        white, grayscale and color. Uncompressed TIFF images may be 1, 4, 8 or
        24 bits per pixel. TIFF images compressed using the LZW algorithm may
        be 6, 8 or 24 bits per pixel. Besides Postscript format, TIFF is one
        of the most important formats for preliminary stages of printing. It
        is a high quality file format, which is perfect for images you want to
        import to other programs like FrameMaker or CorelDRAW.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-tile">
    <glossterm>
      <phrase>Tile</phrase>
    </glossterm>
    <glossdef>
      <para>
        A Tile is a part of an image which <acronym>GIMP</acronym>
        currently has open. In order to avoid having to store an
        entire image in memory at the same time,
        <acronym>GIMP</acronym> divides it into smaller pieces.
        A tile is usually a square of 64 x 64 pixels, although tiles at
        the edges of an image may be smaller than that.
      </para>
      <para>
        At any time, a tile may be in main memory, in the tile cache
        in RAM, or on disk. Tiles which are currently being worked on are
        in main memory. Tiles which have been used recently are in RAM.
        When the tile cache in RAM is full, tiles which have been used
        least recently are written to disk. <acronym>GIMP</acronym>
        can retrieve the tiles from RAM or disk when they are needed.
      </para>
      <para>
        Do not confuse these tiles with those in the
        <link linkend="plug-in-tile">Tile Filter</link>
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-uri">
    <glossterm>
      <phrase>URI</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>URI</primary>
    </indexterm>
    <glossdef>
      <para>
        A Uniform Resource Identifier (URI) is a string of characters that
        serves to identify an abstract or a physical resource. URIs are used
        for the identification of resources in the Internet (such as web
        pages, miscellaneous files, calling up web services, and for receivers
        of e-mail) and they are especially used in the Worldwide Web.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-url">
    <glossterm>
      <phrase>URL</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>URL</primary>
    </indexterm>
    <glossdef>
      <para>
        URLs (Uniform Resource Locators) are one type of Uniform Resource
        Identifiers (URIs). URLs identify a resource by its primary access
        mechanism (commonly http or ftp) and the location of the resource in
        the computer network. The name of the URI scheme is therefore
        generally derived from the network protocol used for it. Examples of
        network protocols are http, ftp and mailto.
      </para>
      <para>
        Since URLs are the first and most common kinds of URIs, the terms are
        often used synonymously.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-value">
    <glossterm>
      <phrase>Value</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>Value</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Color</primary>
      <secondary>Value</secondary>
    </indexterm>
    <glossdef>
      <para>
        This term often refers to the light intensity, the luminosity of
        a color. It varies from 0 (black) to 100 (full light).
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-xcf">
    <glossterm>
      <phrase>
      XCF
    </phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>XCF</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>.xcf</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>.xcf.gz</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Formats</primary>
      <secondary>XCF</secondary>
    </indexterm>
    <glossdef>
      <para>
        XCF is a <link linkend="glossary-fileformat">file format</link>
        which is special because it is <acronym>GIMP</acronym>'s
        native file format: that is, it was designed specifically to store all
        of the data that goes to make up a <acronym>GIMP</acronym> image.
        Because of this, XCF files may be quite complicated, and there are
        few programs other than <acronym>GIMP</acronym> that can read them.
      </para>
      <para>
        When an image is stored as an XCF file, the file encodes nearly
        everything there is to know about the image: the pixel data for each
        of the layers, the current selection, additional channels if there are
        any, paths if there are any, and guides. The most important thing that
        is <emphasis>not</emphasis> saved in an XCF file is the undo history.
      </para>
      <para>
        The pixel data in an XCF file is represented
        in a lossless compressed form: the image byte blocks are compressed
        using the lossless RLE algorithm. This means that no matter how many
        times you load and save an image using this format, not a single
        pixel or other image data is lost or modified because of this format.
        XCF files can become very large, however <acronym>GIMP</acronym>
        allows you to compress the files themselves, using either the gzip
        or bzip2 compression methods, both of which are fast, efficient, and
        freely available. Compressing an XCF file will often shrink it by a
        factor of 10 or more.
      </para>
      <para>
        The <acronym>GIMP</acronym> developers have made a great effort to
        keep the XCF file format compatible across versions. If you create a
        file using <acronym>GIMP</acronym> 2.0, it ought to be possible to
        open the file in <acronym>GIMP</acronym> 1.2. However, some of the
        information in the file may not be usable: for example,
        <acronym>GIMP</acronym> 2.0 has a much more sophisticated way of
        handling text than <acronym>GIMP</acronym> 1.2, so a text layer
        from a <acronym>GIMP</acronym> 2.0 XCF file will appear as an
        ordinary image layer if the file is opened in
        <acronym>GIMP</acronym> 1.2.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-ycbcr">
    <glossterm>
      <phrase>YCbCr</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>YCbCr</primary>
    </indexterm>
    <glossdef>
      <para>
        YCbCr is a <link linkend="glossary-colormodel">color model</link>
        which was developed for the PAL television standard as a simple
        modification to the YUV color model. In the
        meantime, it has become the CCIR-601 standard for image and video
        recording. For example, it is used for JPEG pictures and MPEG videos,
        and therefore also on DVDs, video CDs and for most other widespread
        digital video standards. Note that a color model is still not a color
        space, since it doesn't determine which colors are actually meant by
        <quote>red</quote>, <quote>green</quote> and <quote>blue</quote>.
        For a color space, there must still be a reference to a specific
        absolute color value.
      </para>
      <para>
        There are color models which do not express a color by the additive
        basic colors, red, green and blue (RGB), but by other properties, for
        example, the brightness-color model. Here, the criteria are the basic
        brightness of the colors (from black, through gray, to white), the
        colors with the largest portion (red, orange, yellow, green, blue,
        violet, or other pure colors that lie between them) and the saturation
        of the colors (<quote>gaudy</quote> to pale). This color model is
        based on the
        ability of the eye to recognize small differences in luminosity
        better than small color differences, and to recognize those better
        than small differences in saturation. That makes gray text written on
        a black background easy to read, but blue text on a red background
        very hard to read, even with the same basic brightness. Such color
        models are called brightness-color models.
      </para>
      <para>
        The YCbCr model is a slight adaptation of such a brightness-color
        model. An RGB color value is divided into a basic brightness, Y, and
        two components, Cb and Cr, where Cb is a measurement of the deviation
        from gray in the blue direction, or if it is less than 0.5, in the
        direction of yellow. Cr is the corresponding measurement for the
        difference in the direction of red or turquoise. This representation
        uses the peculiarity of the eye of being especially sensitive to green
        light. That is why most of the information about the proportion of
        green is in the basic brightness, Y, an only the deviations for the
        red and blue portions need to be represented. The Y values have twice
        the resolution of the other two values, Cb and Cr, in most practical
        applications, such as on DVDs.
      </para>
    </glossdef>
  </glossentry>

  <glossentry id="glossary-yuv">
    <glossterm>
      <phrase>YUV</phrase>
    </glossterm>
    <indexterm significance="normal">
      <primary>YUV</primary>
    </indexterm>
    <glossdef>
      <para>
        YUV is a <link linkend="glossary-colormodel">color model</link>
        which uses two components to represent the color
        information, luma (the strength of the light per area) and the
        chrominance, or proportion of color (chroma), where the chrominance
        again consists of two components. The development of the YUV color
        model also goes back to the development of color television (PAL),
        where ways were sought for transmitting the color information
        along with the black-and-white signal, in order to achieve backwards
        compatibility with old black and white televisions without having to
        increase the available transmission bandwidth. From the YUV color
        model of the analog television techiques, the YCrCb color model was
        developed, which is used for most kinds of digital image and video
        compression. Erroneously, the YUV color model is also often spoken
        about in those fields, although the YCbCr model is actually used.
        This often causes confusion.
      </para>
      <para>
        For the calculation of the luma signals, the underlying RGB data is
        first adjusted with the <link linkend="glossary-gamma">gamma</link>
        value of the output device, and an R'G'B' signal is obtained. The
        three individual components are added together with different
        weights, to form the brightness information, which also functions as
        the VBS signal (Video Baseband Signal, the black-and-white signal)
        for the old black and white televisions.
      </para>
      <para>Y=R+G+B</para>
      <para>
        The exact calculation is more complicated, however, since some aspects
        of the color perception of the human eye have to be taken into
        account. For example, green is perceived to be lighter than red, and
        this is perceived to be lighter than blue. Furthermore, in some
        systems gamma correction of the basic color is first performed.
      </para>
      <para>
        The chrominance signals, and the color difference signals also,
        contain the color information. They are formed by the difference of
        blue minus luma or red minus luma.
      </para>
      <para>U=B-Y</para>
      <para>V=R-Y</para>
      <para>
        From the three generated components, Y, U and V, the individual
        color proportions of the basic color can be calculated again later:
      </para>
      <para>Y + U = Y + ( B - Y ) = Y - Y + B = B</para>
      <para>Y + V = Y + ( R - Y ) = Y - Y + R = R</para>
      <para>Y - B - R = ( R + G + B ) - B - R = G</para>
      <para>
        Furthermore, because of the structure of the retina of the human
        eye, it turns out that the brightness information is perceived at a
        higher resolution than the color, so that many formats based on
        the YUV color model compress the chrominance to save bandwidth
        during transmission.
      </para>
    </glossdef>
  </glossentry>
</glossary>
-#-#-
<appendix id="help-missing">
  <title>Eeek! There is Missing Help</title>
  <para>
    Sorry, but a help item is missing for the function you're looking for.
    You may be able to find it in the online version of the help at the
    <ulink url="http://docs.gimp.org/en"><acronym>GIMP</acronym> docs</ulink>
    website.
  </para>
  <para>
    Feel free to join us and fill the gap by writing documentation for
    <acronym>GIMP</acronym>. For more information, subscribe to our
    <ulink url="https://mail.gnome.org/mailman/listinfo/gimp-docs-list">Mailing
      list</ulink>. Generally, it's a good idea to check the
    <ulink url="http://www.gimp.org/docs"><acronym>GIMP</acronym> project
    page</ulink>.
  </para>
  <para>
    Found a <emphasis role="bold">content error</emphasis> or just
    something which doesn't look right?
    <!-- This link is also used to render a small link in the left hand
         side of the footer, to help users filing bug reports.
         Bug: 711318
      -->
    <ulink id="reportbug" url="https://bugzilla.gnome.org/enter_bug.cgi?product=GIMP-manual">
      Report an error in Bugzilla
    </ulink> and let us know.
  </para>
</appendix>
-#-#-
<sect1 id="gimp-introduction-whats-new">
  <title>What's New in GIMP 2.8? </title>
  
  <para>
    <acronym>GIMP</acronym> 2.8 is another important release from a
    development point of view, even more that it was for 2.6. It
    features a big change to the user interface addressing one of the
    most often received complaints: the lack of a single window
    mode. Moreover the integration effort of GEGL library had taken a
    big step forward, reaching more than 90% of the
    <acronym>GIMP</acronym> core, a new powerful transformation tool,
    layer groups, new common options, new brushes, improved text tool,
    and more.
  </para>

  <variablelist>
    <title>User Interface</title>
    
    <varlistentry>
      <term>New single window mode</term>
      <listitem>
        <para>
          With this new feature it will be possible to work with all
          the <acronym>GIMP</acronym> dialogs inside one big window,
          usually with the image(s) centered inside.  No more floating
          panels or toolbox but the dialogs could be arranged inside
          this single window.  This mode could be enabled or disabled
          all the time, even while working, and the option will be
          remembered through the sessions.
        </para>
        <figure>
          <title>The new look of the single window mode</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/single-window-mode.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>
    
    <varlistentry>
      <term>New file save workflow</term>
      <listitem>
        <para>
          Now Save and Save as work only with xcf formats. If you
          want to export an image in another format, say jpg or png,
          you have to explicitly Export it. This enhances the workflow
          and lets you simply overwrite the original file or export to
          various other formats.
         </para>
        <figure>
          <title>The new image workflow</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/save-image-overwrite.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>New image bar</term>
      <listitem>
        <para>
          A new useful image bar comes with the single window mode,
          which lets you switch easily between open images through the
          means of a tab bar with image thumbnails. 
         </para>
        <figure>
          <title>The new image bar</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/multiple-image-tabs.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>New arrangement options</term>
      <listitem>
        <para>
          <acronym>GIMP</acronym> will make users working with two screens
          (one for dialogs, the other for images) 
          happy: now it is possible to arrange the dialogs one over the other,
          in tabs and in columns too.
        </para>
        <figure>
          <title>Multi column docks</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/multi-column-docks.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>New resources tags</term>
      <listitem>
        <para>
          <acronym>GIMP</acronym> Brushes, Gradients, Pattern and
          Palettes can be filtered and searched via tags. Tags are
          text labels that the user can assign to resources. With Tags
          the user can easily find the resources by means of an input
          text box. Tags can be manually assigned by the user with the
          same input box used for searching tags, or they can be
          automatically tagged using the directory name of the
          imported items.
        </para>
        <figure>
          <title>Resource tags</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/painting-resources-tags.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Simple math in size entries</term>
      <listitem>
        <para>
          Enhancements have also been made to the size entry widget,
          which is used for inputting most of the x, y, width, height
          parameters. For example, in the scale dialog it is now
          possible to write <quote>50%</quote> in the Width field to
          scale the image to 50% of the width. Expressions such as
          <quote>30in + 40px</quote> and <quote>4 * 5.4in</quote>
          work, too.
        </para>
        <figure>
          <title>Math size entries</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/math-size-entries.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Minor changes</term>
      <listitem>
      <itemizedlist>

      <listitem>
        <para>
          The new <quote>Lock Pixels</quote> option in the layers
          dialog can avoid undesired painting on a layer when
          working with several layers.
        </para>
        <figure>
          <title>The new Lock Pixels option</title>
          <mediaobject>
            <imageobject>
      <imagedata format="PNG"
        fileref="images/using/image-lock-pixels.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>

        <listitem>
          <para>
            Now you can move between images in single and multi
            window mode using the shortcuts 
<keycombo><keycap>Ctrl</keycap><keycap>PageUp/PageDown</keycap></keycombo>
            or
            <keycombo><keycap>Alt</keycap><keycap>Number</keycap></keycombo>.
          </para>
        </listitem>

        <listitem>
          <para>
            Add support for F2 to rename items in lists.
          </para>
        </listitem>

        <listitem>
          <para>
            You can now
            <keycombo><keycap>Alt</keycap><keycap>Click</keycap></keycombo>
            on layers in the Layers dialog to create a selection from
            it. Add, subtract and intersect modifiers
            <keycap>Click</keycap>, <keycap>Shift</keycap> and
            <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap></keycombo>
            keys work too. This makes it easy to compose contents of a
            layer based on the contents of other layers, without
            detours.
          </para>
        </listitem>

        <listitem>
          <para>
            Since the keyboard shortcuts
            <keycombo><keycap>Ctrl</keycap><keycap>E</keycap></keycombo>
            and
            <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap><keycap>E</keycap></keycombo>
            have been redirected to image export mechanisms, new
            keyboard shortcuts have been setup for <quote>Shrink
            Wrap</quote> and <quote>Fit in Window</quote>, namely
            <keycombo><keycap>Ctrl</keycap><keycap>J</keycap></keycombo>
            and
            <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap><keycap>J</keycap></keycombo>
            respectively.
          </para>
        </listitem>

        <listitem>
          <para>
            Added
            <menuchoice><guimenu>Windows</guimenu><guimenuitem>Hide
            docks</guimenuitem></menuchoice> menu item that does what
            <quote>Tab</quote> does and also displays its state, which
            is now persistent across sessions, too.
          </para>
        </listitem>

        <listitem>
          <para>
            The layer modes have been rearranged into more logical and
            useful groups based on the effect they have on layers. Layer
            modes that make the layer lighter are in one group, layer modes that
            make the layer darker in another group, and so forth.
          </para>
        </listitem>

        <listitem>
          <para>
            In multi-window mode, you can now close the Toolbox without
            quitting GIMP.
          </para>
        </listitem>

        <listitem>
          <para>
            Allow binding arbitrary actions to extra mouse buttons.
          </para>
        </listitem>

        <listitem>
          <para>
            Now it is possible to change the application language
            directly from the preference menu.
          </para>
        </listitem>

      </itemizedlist>
    </listitem>
    </varlistentry>
  </variablelist>

  <variablelist>
    <title>Tools, Filters and Plug-ins</title>

    <varlistentry>
      <term>A new tool: Cage Transform</term>
      <listitem>
        <para>
          With this new tool is now possible to create custom bending
          of a selection just moving control points.
          This is the result of one of our Google Summer of Code 2010
          students.
        </para>
        <figure>
          <title>Cage Transform</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/new-cage-tool.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Improved Text Tool</term>
      <listitem>
        <para>
          The text tool has been enhanced to support on canvas text
          writing and make possible changing the attributes of a single char.
        </para>
        <figure>
          <title>Improved text tool</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/improved-text-tool.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>New layer groups</term>
      <listitem>
        <para>
          It is now possible to group set of layers and treat them
          like an entity. It is possible to switch a group on or off and
          to move the group in the layers dialog. It is easy to add /
          remove existing layers to a group or to create / delete a
          layer inside the group and it is even possible to create
          embedded groups of groups. It is possible to apply a
          layer mode to a group as you do with a single layer. All this greatly
          improves the workflow with complex multilayer images making
          them easier to manage.
        </para>
        <figure>
          <title>New layer groups</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/image-layer-groups.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Rotating brushes</term>
      <listitem>
        <para>
          Brushes can now be rotated at will, acting on the brush
          option <quote>Angle</quote>.
        </para>
        <figure>
          <title>Rotating brushes</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/rotating-brushes.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Minor changes</term>
      <listitem>
        <itemizedlist>
          <listitem>
            <para>
              The default Quick Mask color is now configurable.
            </para>
          </listitem>

          <listitem>
            <para>
              The RTL mode (right to left writing) has been improved in the Text
              tool.
            </para>
          </listitem>

          <listitem>
            <para>
              You can specify the written language in the Text
              Tool. This helps choosing an appropriate font, or
              appropriate glyphs for the selected language.
            </para>
          </listitem>

          <listitem>
            <para>
              Added optional diagonal guides to the crop tool.
            </para>
          </listitem>

          <listitem>
            <para>
              Added <quote>Rule of fifths</quote> crop guide overlay.
            </para>
          </listitem>

          <listitem>
            <para>
              A Cairo based PDF exporter has been implemented. Although being
              somewhat simplistic, the exporter saves text, embedding
              fonts into the final PDF file, and attempts to convert
              bitmaps to vector objects.
            </para>
          </listitem>

          <listitem>
            <para>
              Brush dynamics improved.
            </para>
          </listitem>

          <listitem>
            <para>
              Added plug-in for loading JPEG2000 images.
            </para>
          </listitem>

          <listitem>
            <para>
              Added plug-ins for X11 Mouse Cursor import and export
              support.
            </para>
          </listitem>

          <listitem>
            <para>
              Added fundamental OpenRaster (.ora) import and export
              support.
            </para>
          </listitem>

          <listitem>
            <para>
              Added RGB565 support to the csource plug-in.
            </para>
          </listitem>

          <listitem>
            <para>
              Added a new <quote>Create</quote> command that allows loading 
              a Web page directly into GIMP using Webkit.
            </para>
          </listitem>

        </itemizedlist>
      </listitem>
    </varlistentry>

  </variablelist>

  <variablelist>
    <title>Under the Hood</title>

    <varlistentry>
      <term><acronym>GEGL</acronym></term>
      <listitem>
        <para>
          The porting of the <acronym>GIMP</acronym> core towards the
          new high bit-depth and non-destructive editing GEGL <xref
          linkend="bibliography-online-gegl"/> library has taken big
          steps and now more than 90% of the task is already finished.
        </para>
        <para>
          In addition to porting color operations to
          <acronym>GEGL</acronym>, an experimental GEGL Operation tool
          has been added, found in the Tools menu. It enables applying
          <acronym>GEGL</acronym> operations to an image and it gives
          on-canvas previews of the results. The screenshot below
          shows this for a Gaussian Blur.
        </para>
        <figure>
          <title><acronym>GEGL</acronym> operation</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/experimental-gegl-tool.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>

    </varlistentry>

    <varlistentry>

      <term>Cairo porting</term>
      <listitem>
        <para>
          Started with <acronym>GIMP</acronym> version 2.6, all tools rendering
          on canvas is now completely ported to <xref          
          linkend="bibliography-online-cairo"/>. It provides smooth
          antialiased graphics and improves <acronym>GIMP</acronym> look. Some
          plug-ins have been upgraded to Cairo as well. Additionally
          all tools now use an on-canvas progress indicator instead of
          the one in the statusbar.
        </para>
        <figure>
          <title>Progress indicator</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/cairo-progress-indicator.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>

    </varlistentry>

  </variablelist>

  <variablelist>

    <title>Miscellaneous</title>

    <varlistentry>
      <term>License change</term>
      <listitem>
        <para>
          The GIMP license has been changed to (L)GPLv3+.
        </para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>New script API</term>
      
      <listitem>
        <itemizedlist>
          <listitem>
            <para>
              A lot of GIMP APIs have been rebuilt to simplify
              developing new scripts.
            </para>
          </listitem>
          <listitem>
            <para>
              To further enhances scripting abilities, API changes to support
              layer groups have been made.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>Backwards Compatibility</term>
        <listitem>
          <para>
            To allow migrating from the old tools presets
            system to the new one, there is a Python <ulink
url="http://wiki.gimp.org/index.php/Mindstorm:Preset_converter">script</ulink>, 
            which you can download from the <acronym>GIMP</acronym> wiki
            site. However, the old tools presets are not 100%
            convertible to the new tool presets. For instance, brush
            scale from 2.6 can't be converted to brush size in 2.8.
          </para>
        </listitem>
    </varlistentry>

  <varlistentry>
      <term>Known Problems</term>
      <listitem>
        <para>
          Working with graphics tablets could be problematic due to
          the GTK+2 library in use. If in this case either use the
          older version 2.6 or wait for the up coming version 3.0
          for the full GTK+3 support.
        </para>
      </listitem>
  </varlistentry>
  
  </variablelist>

</sect1>
-#-#-
<sect1 id="introduction-gimp">
  <title>Welcome to GIMP</title>

  <indexterm>
    <primary>GIMP</primary>
    <secondary>Introduction</secondary>
  </indexterm>
  <para>
    <acronym>GIMP</acronym> is a multi-platform photo
    manipulation tool. <acronym>GIMP</acronym> is an acronym for
    <acronym>GNU</acronym> Image Manipulation Program. The
    <acronym>GIMP</acronym> is suitable for a variety of image
    manipulation tasks, including photo retouching, image composition, and
    image construction.
  </para>
  <para>
    <acronym>GIMP</acronym> has many capabilities. It can be used as a
    simple paint program, an
    expert quality photo retouching program, an online batch processing
    system, a mass production image renderer, an image format converter, etc.
  </para>
  <para>
    <acronym>GIMP</acronym> is expandable and extensible. It is designed
    to be augmented with
    plug-ins and extensions to do just about anything. The advanced scripting
    interface allows everything from the simplest task to the most complex
    image manipulation procedures to be easily scripted.
  </para>
  <para>
    One of The <acronym>GIMP</acronym>'s strengths is its free
    availability from many sources for many operating systems. Most
    <acronym>GNU</acronym>/<application>Linux</application> distributions
    include The <acronym>GIMP</acronym> as a standard application.
    The <acronym>GIMP</acronym> is also available for other
    operating systems such as <productname>Microsoft Windows</productname>
    or Apple's <productname>Mac OS X</productname>
    (<application>Darwin</application>). The <acronym>GIMP</acronym>
    is a Free Software application covered by the General Public License
    <xref linkend="bibliography-online-gpl"/>. The <acronym>GPL</acronym>
    provides users with the freedom to access and alter the source code that
    makes up computer programs.
  </para>

  <sect2 id="authors">
    <title>Authors</title>
    <para>
      The first version of the <acronym>GIMP</acronym>
      was written by Peter Mattis and Spencer Kimball. Many other developers
      have contributed more recently, and thousands have provided support and
      testing. <acronym>GIMP</acronym>
      releases are currently being orchestrated by Sven Neumann and Mitch
      Natterer and the other members of the
      <acronym>GIMP</acronym>-Team.
    </para>
  </sect2>

  <sect2 id="introduction-help">
    <title>The GIMP Help system</title>
    <para>
      The <acronym>GIMP</acronym> Documentation Team and other
      users have provided you with the information necessary to understand
      how to use <acronym>GIMP</acronym>. The User Manual is
      an important part of this help. The current version is on
      the web site of the Documentation Team
      <xref linkend="bibliography-online-gimp-docs"/> in HTML format. The HTML
      version is also available as context sensitive help (if you installed
      it) while using <acronym>GIMP</acronym> by pressing the
      <keycap>F1</keycap> key. Help on specific menu items can be accessed
      by pressing the <keycap>F1</keycap> key while the mouse pointer is
      focused on the menu item. Read on to begin your
      <acronym>GIMP</acronym> journey.
    </para>
  </sect2>

  <sect2 id="introduction-features">
    <title>Features and Capabilities</title>
    <para>
      The following list is a short overview of some of the features and
      capabilities which <acronym>GIMP</acronym> offers you:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          A full suite of painting tools including brushes, a pencil, an
          airbrush, cloning, etc.
        </para>
      </listitem>
      <listitem>
        <para>
          Tile-based memory management, so image size is limited only by
          available disk space
        </para>
      </listitem>
      <listitem>
        <para>
          Sub-pixel sampling for all paint tools for high-quality
          anti-aliasing
        </para>
      </listitem>
      <listitem>
        <para>
          Full Alpha channel support for working with transparency
        </para>
      </listitem>
      <listitem>
        <para>Layers and channels</para>
      </listitem>
      <listitem>
        <para>
          A procedural database for calling internal <acronym>GIMP</acronym>
          functions from external programs, such as Script-Fu
        </para>
      </listitem>
      <listitem>
        <para>Advanced scripting capabilities</para>
      </listitem>
      <listitem>
        <para>Multiple undo/redo (limited only by disk space)</para>
      </listitem>
      <listitem>
        <para>
          Transformation tools including rotate, scale, shear and flip
        </para>
      </listitem>
      <listitem>
        <para>
	  Support for a wide range of file formats, including GIF, JPEG, PNG,
	  XPM, TIFF, TGA, MPEG, PS, PDF, PCX, BMP and many others
        </para>
      </listitem>
      <listitem>
        <para>
          Selection tools, including rectangle, ellipse, free, fuzzy, bezier
          and intelligent scissors
        </para>
      </listitem>
      <listitem>
        <para>
          Plug-ins that allow for the easy addition of new file formats and
          new effect filters.
        </para>
      </listitem>
    </itemizedlist>
  </sect2>
</sect1>
-#-#-
  <refentry id="key-reference-dialogs">
    <refmeta>
      <refentrytitle>Dialogs</refentrytitle>
    </refmeta>
    <refnamediv>
      <refname>Dialogs</refname>
      <refpurpose>
        Key reference for <guimenuitem>Dockable Dialogs</guimenuitem> submenu
      </refpurpose>
    </refnamediv>
    <refsect1>
      <title>Dockable Dialogs</title>
      <variablelist>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + L</term>
          <listitem>
            <para>Layers</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + B
          </term>
          <listitem>
            <para>Brushes</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + P
          </term>
          <listitem>
            <para>Patterns</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + G</term>
          <listitem>
            <para>Gradients</para>
          </listitem>
        </varlistentry>
        <!-- No longer exists(?)
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + T
          </term>
          <listitem>
            <para>Tool-Options</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + P</term>
          <listitem>
            <para>Palettes</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + I
          </term>
          <listitem>
            <para>Info window</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + N
          </term>
          <listitem>
            <para>Navigation window</para>
          </listitem>
        </varlistentry>
        -->
      </variablelist>
      <note>
        <para>
          These open a new dialog window if it isn't open yet,
          otherwise the corresponding dialog gets focus.
        </para>
      </note>
      <variablelist>
        <title>Within a Dialog</title>
        <varlistentry>
          <term>
            <keycap function="alt">Alt</keycap> + F4,
            <keycap function="control">Ctrl</keycap> + W
          </term>
          <listitem>
            <para>Close the window</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Tab</term>
          <listitem>
            <para>Jump to next widget</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> + Tab
          </term>
          <listitem>
            <para>Jump to previous widget</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Enter</term>
          <listitem>
            <para>Set the new value</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Space,
            Enter
          </term>
          <listitem>
            <para>Activate current button or list</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="control">Ctrl</keycap> +
            <keycap function="alt">Alt</keycap> + PgUp
            <keycap function="control">Ctrl</keycap> +
            <keycap function="alt">Alt</keycap> + PgDn
          </term>
          <listitem>
            <para>In a multi-tab dialog, switch tabs</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>
          This accepts the new value you typed in a text field and
          returns focus to canvas.
        </para>
      </note>
      <variablelist>
        <title>Within a File Dialog</title>
        <varlistentry>
          <term><keycap function="shift">Shift</keycap> + L</term>
          <listitem>
            <para>Open Location</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="alt">Alt</keycap> + Up
          </term>
          <listitem>
            <para>Up-Folder</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="alt">Alt</keycap> + Down</term>
          <listitem>
            <para>Down-Folder</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="alt">Alt</keycap> + Home</term>
          <listitem>
            <para>Home-Folder</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Esc</term>
          <listitem>
            <para>Close Dialog</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
  </refentry>
  <refentry id="key-reference-view">
    <refmeta>
      <refentrytitle>View</refentrytitle>
    </refmeta>
    <refnamediv>
      <refname>View</refname>
      <refpurpose>
        Key reference for <guimenuitem>View</guimenuitem> menu
      </refpurpose>
    </refnamediv>
    <refsect1>
      <title>View</title>
      <variablelist>
        <title>Window</title>
        <varlistentry>
          <term>F10</term>
          <listitem>
            <para>Main Menu</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> + F10, right click
          </term>
          <listitem>
            <para>Drop-down Menu</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>F11</term>
          <listitem>
            <para>Toggle fullscreen</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="shift">Shift</keycap> + Q</term>
          <listitem>
            <para>Toggle quickmask</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + W</term>
          <listitem>
            <para>Close document window</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>
          Menus can also be activated by <keycap>Alt</keycap> with the letter
          underscored in the menu name.
        </para>
      </note>
      <variablelist>
        <title>Zoom</title>
        <varlistentry>
          <term>+</term>
          <listitem>
            <para>Zoom in</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>-</term>
          <listitem>
            <para>Zoom out</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>1</term>
          <listitem>
            <para>Zoom 1:1</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + E</term>
          <listitem>
            <para>Shrink wrap</para>
          </listitem>
        </varlistentry>
<!--No longer exists
        <varlistentry>
          <term><keycap function="shift">Shift</keycap>+
            <keycap function="control">Ctrl</keycap>+
            E
          </term>
          <listitem>
            <para>Fit image in window</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="shift">Shift</keycap>+
            mouse wheel
          </term>
          <listitem>
            <para>Zoom</para>
          </listitem>
        </varlistentry>-->
      </variablelist>
      <note>
        <para>This fits the window to the image size.</para>
      </note>
      <!-- No longer exists(?)
      <variablelist>
        <title>Scrolling (panning)</title>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + arrows</term>
          <listitem>
            <para>Scroll canvas</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>middle button drag</term>
          <listitem>
            <para>Scroll canvas</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>mouse wheel</term>
          <listitem>
            <para>Scroll canvas vertically</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + mouse wheel</term>
          <listitem>
            <para>Scroll canvas horizontally</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>
          Scrolling by keys is accelerated, i.e. it speeds up when you
          press Shift+arrows, or jumps to the borders with
          Ctrl+arrows.
        </para>
      </note>
      -->
      <variablelist>
        <title>Rulers and Guides</title>
        <varlistentry>
          <term>mouse drag</term>
          <listitem>
            <para>Drag off a ruler to create guide</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + mouse drag</term>
          <listitem>
            <para>Drag a sample point out of the rulers</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + R
          </term>
          <listitem>
            <para>Toggle rulers</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + T
          </term>
          <listitem>
            <para>Toggle guides</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>
          Drag off the horizontal or vertical ruler to create a new
          guideline. Drag a guideline off the image to delete it.
        </para>
      </note>
    </refsect1>
  </refentry>
  <refentry id="key-reference-edit">
    <refmeta>
      <refentrytitle>Edit</refentrytitle>
    </refmeta>
    <refnamediv>
      <refname>Edit</refname>
      <refpurpose>
        Key reference for <guimenuitem>Edit</guimenuitem> menu
      </refpurpose>
    </refnamediv>
    <refsect1>
      <title>Edit</title>
      <variablelist>
        <title>Undo/redo</title>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + Z</term>
          <listitem>
            <para>Undo</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + Y</term>
          <listitem>
            <para>Redo</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <variablelist>
        <title>Clipboard</title>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + C</term>
          <listitem>
            <para>Copy selection</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + X</term>
          <listitem>
            <para>Cut selection</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + V</term>
          <listitem>
            <para>Paste clipboard</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="delete">Del</keycap>
          </term>
          <listitem>
            <para>Erase selection</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + C
          </term>
          <listitem>
            <para>Named copy selection</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + X
          </term>
          <listitem>
            <para>Named cut selection</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + V
          </term>
          <listitem>
            <para>Named paste clipboard</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>This puts a copy of the selection on the GIMP clipboard.</para>
      </note>
      <variablelist>
        <title>Fill</title>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + ,</term>
          <listitem>
            <para>Fill with FG Color</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + .</term>
          <listitem>
            <para>Fill with BG Color</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + ;</term>
          <listitem>
            <para>Fill with Pattern</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
  </refentry>
  <refentry id="key-reference-layer">
    <refmeta>
      <refentrytitle>Layer</refentrytitle>
    </refmeta>
    <refnamediv>
      <refname>Layer</refname>
      <refpurpose>
        Key reference for <guimenuitem>Layer</guimenuitem> menu
      </refpurpose>
    </refnamediv>
    <refsect1>
      <title>Layers</title>
      <variablelist>
        <varlistentry>
          <term>PgUp, <keycap function="control">Ctrl</keycap> + Tab</term>
          <listitem>
            <para>Select the layer above</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
             PgDn,
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + Tab
          </term>
          <listitem>
            <para>Select the layer below</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Home</term>
          <listitem>
            <para>Select the first layer</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>End</term>
          <listitem>
            <para>Select the last layer</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + M</term>
          <listitem>
            <para>Merge visible layers</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + H</term>
          <listitem>
            <para>Anchor layer</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
  </refentry>
  <refentry id="key-reference-select">
    <refmeta>
      <refentrytitle>Select</refentrytitle>
    </refmeta>
    <refnamediv>
      <refname>Select</refname>
      <refpurpose>
        Key reference for <guimenuitem>Select</guimenuitem> menu
      </refpurpose>
    </refnamediv>
    <refsect1>
      <title>Selections</title>
      <variablelist>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + T</term>
          <listitem>
            <para>Toggle selections</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + A</term>
          <listitem>
            <para>Select all</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + A
          </term>
          <listitem>
            <para>Select none</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + I</term>
          <listitem>
            <para>Invert selection</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + L
          </term>
          <listitem>
            <para>Float selection</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="shift">Shift</keycap> + V</term>
          <listitem>
            <para>Path to selection</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
  </refentry>
  <refentry id="key-reference-filters">
    <refmeta>
      <refentrytitle>Filters</refentrytitle>
    </refmeta>
    <refnamediv>
      <refname>Filters</refname>
      <refpurpose>
        Key reference for <guimenuitem>Filters</guimenuitem> menu
      </refpurpose>
    </refnamediv>
    <refsect1>
      <title>Filters</title>
      <variablelist>
        <varlistentry>
          <term><keycap function="control">Ctrl</keycap> + F</term>
          <listitem>
            <para>Repeat last filter</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <keycap function="shift">Shift</keycap> +
            <keycap function="control">Ctrl</keycap> + F
          </term>
          <listitem>
            <para>Reshow last filter</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
  </refentry>
  <refentry id="key-reference-zoom">
    <refmeta>
      <refentrytitle>Zoom tool</refentrytitle>
    </refmeta>
    <refnamediv>
      <refname>Zoom tool</refname>
      <refpurpose>
        Key reference for the <guimenuitem>Zoom tool</guimenuitem> submenu
      </refpurpose>
    </refnamediv>
    <refsect1>
      <title>Zoom tool</title>
      <variablelist>
        <varlistentry>
          <term>click</term>
          <listitem>
            <para>Zoom in</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><keycap function="shift">Ctrl</keycap> + click</term>
          <listitem>
            <para>Zoom out</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>mouse drag</term>
          <listitem>
            <para>Zoom into the area</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
  </refentry>
</reference>
-#-#-
<sect2 id="plug-in-autostretch-hsv">
  <title>Stretch HSV</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Stretch colors in HSV space</secondary>
  </indexterm>
  <indexterm>
    <primary>Stretch HSV</primary>
  </indexterm>

  <para>
    The <guimenuitem>Stretch HSV</guimenuitem> command does the same thing
    as the <link linkend="plug-in-c-astretch">Stretch Contrast</link> command,
    except that it works in HSV color space, rather than RGB color space,
    and it preserves the Hue. Thus, it independently stretches the ranges of
    the Hue, Saturation and Value components of the colors. Occasionally the
    results are good, often they are a bit odd. <quote>Stretch HSV</quote>
    operates on layers from RGB and Indexed images. If the image is
    Grayscale, the menu entry is insensitive and grayed out.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Auto</guisubmenu>
            <guimenuitem>StretchÂ HSV</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Stretch HSV</quote> example</title>
    <figure>
      <title>Original image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/alice.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and Blue histograms
            before <quote>Stretch HSV</quote>.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Image after the command</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/stretch-hsv.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and Blue histograms after
            <quote>Stretch HSV</quote>.
            Contrast, luminosity and hues are enhanced.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-c-astretch">
  <title>Stretch Contrast</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Stretch contrast</secondary>
  </indexterm>
  <indexterm>
    <primary>Stretch Contrast</primary>
  </indexterm>
  <indexterm>
    <primary>Contrast</primary>
  </indexterm>

  <para>
    The <guimenuitem>Stretch Contrast</guimenuitem> command automatically
    stretches the histogram values in the active layer. For each channel
    of the active layer, it finds the minimum and maximum values and uses
    them to stretch the Red, Green and Blue histograms to the full contrast
    range. The bright colors become brighter and the dark colors become
    darker, which increases the contrast.
    This command produces a somewhat similar effect to the
    <link linkend="plug-in-normalize">Normalize</link> command, except that
    it works on each color channel of the layer individually. This usually
    leads to color shifts in the image, so it may not produce the desired
    result. <quote>Stretch Contrast</quote> works on layers of RGB,
    Grayscale and Indexed images. Use <quote>Stretch Contrast</quote> only
    if you want to remove an undesirable color tint from an image which
    should contain pure white and pure black.
  </para>
  <para>
    This command is also similar to the
    <link linkend="gimp-layer-white-balance">Color Balance</link>
    command, but it does not reject any of the very dark or very bright
    pixels, so the white might be impure.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          This command can be accessed from an image menubar as
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Auto</guisubmenu>
            <guimenuitem>StretchÂ Contrast</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Stretch Contrast</quote> Example</title>
    <figure>
      <title>Original image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/alice.png"/>
        </imageobject>
        <caption>
          <para>
            The layer and its Red, Green and Blue histograms before
            <quote>Stretch Contrast</quote>.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Image after the command</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/c-stretch.png"/>
        </imageobject>
        <caption>
          <para>
            The layer and its Red and Green and Blue histograms after
            <quote>Stretch Contrast</quote>.
            The pixel columns do not reach the right end of the histogram
            (255) because of a few very bright pixels, unlike
            <quote>White Balance</quote>.
          </para>
          <para>
            Histogram stretching creates gaps between the pixel columns,
            giving it a stripped look.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-color-enhance">
  <title>Color Enhance</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Color enhance</secondary>
  </indexterm>
  <indexterm>
    <primary>Color Enhance</primary>
  </indexterm>

  <para>
    The <guimenuitem>Color Enhance</guimenuitem> command increases the
    saturation range of the colors in the layer, without altering
    brightness or hue. It does this by converting the colors to HSV space,
    measuring the range of saturation values across the image, then
    stretching this range to be as large as possible, and finally
    converting the colors back to RGB. It is similar to
    <link linkend="plug-in-c-astretch">Stretch Contrast</link>, except that it
    works in the HSV color space, so it preserves the hue.  It works on
    layers from RGB and Indexed images. If the image is Grayscale, the menu
    entry is insensitive and grayed out.
  </para>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Auto</guisubmenu>
            <guimenuitem>ColorÂ Enhance</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Color Enhance</quote> example</title>
    <figure>
      <title><quote>Color Enhance</quote> example (Original image)</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/alice.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and Blue
            histograms before <quote>Color Enhance</quote>.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>
        <quote>Color Enhance</quote> example (Image after the command)
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/color-enhance.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and Blue histograms after
            <quote>Color Enhance</quote>.  The result may not always be
            what you expect.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<!-- id is still used by GIMP, do not change! -->
<sect2 id="gimp-layer-equalize">
  <title>Equalize</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Equalize</secondary>
  </indexterm>
  <indexterm>
    <primary>Equalize</primary>
  </indexterm>
  <para>
    The <guimenuitem>Equalize</guimenuitem>
    command automatically adjusts the brightness of colors across the active
    layer so that the histogram for the Value channel is as nearly flat as
    possible, that is, so that each possible brightness value appears at about
    the same number of pixels as every other value. You can see this in the
    histograms in the example below, in that pixel colors which occur
    frequently in the image are stretched further apart than pixel colors
    which occur only rarely. The results of this command can vary quite a bit.
    Sometimes <quote>Equalize</quote>
    works very well to enhance the contrast in an image, bringing out details
    which were hard to see before. Other times, the results look very bad. It
    is a very powerful operation and it is worth trying to see if it will
    improve your image. It works on layers from RGB and Grayscale images. If
    the image is Indexed, the menu entry is insensitive and grayed out.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Auto</guisubmenu>
            <guimenuitem>Equalize</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap><keycap>Page_Down</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Equalize</quote> example</title>
    <figure>
      <title>Original image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/alice.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green, Blue histograms before
            <quote>Equalize</quote>.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Image after the command</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/equalize.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green, Blue histograms after
            treatment.
          </para>
          <para>
            Histogram stretching creates gaps between pixel columns giving it
            a striped look.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-normalize">
  <title>Normalize</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Normalize</secondary>
  </indexterm>
  <indexterm>
    <primary>Normalize</primary>
  </indexterm>

  <para>
    The <guimenuitem>Normalize</guimenuitem> command scales the brightness
    values of the active layer so that the darkest point becomes black
    and the brightest point becomes as bright as possible, without altering
    its hue. This is often a <quote>magic fix</quote> for images that are
    dim or washed out. <quote>Normalize</quote> works on layers from RGB,
    Grayscale, and Indexed images.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu bar through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Auto</guisubmenu>
            <guimenuitem>Normalize</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Normalize</quote>Example</title>
    <figure>
      <title>Original image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/alice.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and Blue
            histograms before <quote>Normalize</quote>.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Image after the command</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/normalize.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and
            Blue histograms after <quote>Normalize</quote>. The contrast is
            enhanced.
          </para>
          <para>
            Histogram stretching creates gaps between the pixel columns,
            giving it a striped look.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<!-- id is still used by GIMP, do not change! -->
<sect2 id="gimp-layer-white-balance">
  <title>White Balance</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>White balance</secondary>
  </indexterm>
  <indexterm>
    <primary>White Balance</primary>
  </indexterm>

  <para>
    The <guimenuitem>White Balance</guimenuitem> command automatically
    adjusts the colors of the active layer by stretching the Red, Green and
    Blue channels separately. To do this, it discards pixel colors at each
    end of the Red, Green and Blue histograms which are used by only 0.05%
    of the pixels in the image and stretches the remaining range as much as
    possible. The result is that pixel colors which occur very infrequently
    at the outer edges of the histograms (perhaps bits of dust, etc.) do
    not negatively influence the minimum and maximum values used for
    stretching the histograms, in comparison with
    <link linkend="plug-in-c-astretch">Stretch Contrast</link>. Like
    <quote>Stretch Contrast</quote>, however, there may be hue shifts in
    the resulting image.
  </para>
  <para>
    This command suits images with poor white or black. Since it tends to
    create pure white (and black), it may be useful e.g. to enhance
    photographs.
  </para>
  <para>
    <guimenuitem>White Balance</guimenuitem> operates on layers from RGB
    images. If the image is Indexed or Grayscale, the menu item is insensitive
    and grayed out.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Auto</guisubmenu>
            <guimenuitem>WhiteÂ Balance</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>White Balance</quote> example</title>
    <figure>
      <title>Original image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/alice.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and Blue histograms
            before <quote>White Balance</quote>.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Image after the command</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/auto/white-balance.png"/>
        </imageobject>
        <caption>
          <para>
            The active layer and its Red, Green and Blue histograms after
            <quote>White Balance</quote>.  Poor white areas in the image
            became pure white.
          </para>
          <para>
            Histogram stretching creates gaps between the pixel columns,
            giving it a striped look.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-colors-auto-menu">
  <title>The <quote>Auto</quote> Submenu</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Auto</secondary>
  </indexterm>

  <figure>
    <title>The <quote>Colors/Auto</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/colors/auto.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guimenuitem>Auto</guimenuitem> submenu contains operations which
    automatically adjust the distribution of colors in the active layer,
    without requiring any input from the user. Several of these operations
    are actually implemented as plugins.
  </para>

  <sect3>
    <title>Activate submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image window through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Auto</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="gimp-color-stretch-commands">
    <title>Automatic Color-Stretching</title>
    <indexterm>
      <primary>Colors</primary>
      <secondary>Stretching</secondary>
    </indexterm>
 
    <para>
      <acronym>GIMP</acronym> has several automatic commands for stretching
      the columns of the histogram for the color channels of the active layer.
      By pushing bright pixels to the right and dark pixels to the left, they
      make bright pixels brighter and dark pixels darker, which enhances the
      contrast in the layer.
    </para>
    <para>
      Some of the commands stretch the three color channels equally, so that
      the hues are not changed. Other commands stretch each of the color
      channels separately, which changes the hues.
    </para>
    <para>
      The way the stretching is done varies with the different commands and
      the results look different. It is not easy to predict exactly what each
      command will do. If you know exactly what you are doing, you can get the
      same results, and even more, with the
      <link linkend="gimp-tool-levels">Levels</link> tool.
    </para>
    <para>
      Here are examples of the results of these commands, all together on one
      page, so you can compare them more easily. The most appropriate command
      depends upon your image, so you should try each of them to see which
      command works best on it.
    </para>

    <para>
      <figure>
        <title>The original layer and its histograms</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/colors/auto/alice.png"/>
          </imageobject>
          <caption>
            <para>
              This layer doesn't have any very bright or very dark pixels, so
              it works well with these commands.
            </para>
          </caption>
        </mediaobject>
      </figure>
    </para>
    <para>
      <figure>
        <title>
          The <link linkend="gimp-layer-equalize">Equalize</link> command
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/colors/auto/equalize.png"/>
          </imageobject>
          <caption>
            <para><quote>Equalize</quote> example</para>
          </caption>
        </mediaobject>
      </figure>
    </para>
    <para>
      <figure>
        <title>
          The <link linkend="gimp-layer-white-balance">White Balance</link>
          command
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/colors/auto/white-balance.png"/>
          </imageobject>
          <caption>
            <para>
              <quote>White Balance</quote> example
            </para>
          </caption>
        </mediaobject>
      </figure>
    </para>
    <para>
      <figure>
        <title>
          The <link linkend="plug-in-color-enhance">Color Enhance</link>
          command
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/colors/auto/color-enhance.png"/>
          </imageobject>
          <caption>
            <para>
              <quote>Color Enhance</quote> example
            </para>
          </caption>
        </mediaobject>
      </figure>
    </para>
    <para>
      <figure>
        <title>
          The <link linkend="plug-in-normalize">Normalize</link> command
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/colors/auto/normalize.png"/>
          </imageobject>
          <caption>
            <para>
              <quote>Normalize</quote> example
            </para>
          </caption>
        </mediaobject>
      </figure>
    </para>
    <para>
      <figure>
        <title>
          The <link linkend="plug-in-c-astretch">Stretch Contrast</link>
          command
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/colors/auto/c-stretch.png"/>
          </imageobject>
          <caption>
            <para>
              <quote>Stretch Contrast</quote> example
            </para>
          </caption>
        </mediaobject>
      </figure>
    </para>
    <para>
      <figure>
        <title>
          The <link linkend="plug-in-autostretch-hsv">Stretch HSV</link>
          command
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/colors/auto/stretch-hsv.png"/>
          </imageobject>
          <caption>
            <para>
              <quote>Stretch HSV</quote> example
            </para>
          </caption>
        </mediaobject>
      </figure>
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-colorify">
  <title>Colorify</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Colorify</secondary>
  </indexterm>
  <indexterm>
    <primary>Colorify</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Colorify</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-colorify.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Colorify</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter renders a greyscaled image like it is seen through a colored
      glass.
    </para>
    <para>
      For every pixel, the filter computes a weighted average value of the RGB
      channels (this is equivalent to
      <link linkend="gimp-tool-desaturate">desaturating</link> the image based
      on <link linkend="gimp-tool-desaturate-luminosity">Luminosity</link>).
      The resulted color is the product of this average value and the
      <quote>colorify color</quote>.
    </para>
    <para>
      Hence, this filter works only on images in RGB mode.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Colorify</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Colorify</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/colors/colorify.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      A color palette is available containing especially the
      <link linkend="glossary-rgb">RGB</link> colors Red, Green, Blue and the
      <link linkend="glossary-cmyk">CMY</link> colors Cyan, Magenta, Yellow.
    </para>
    <para>
      You can select your own color by clicking on the <guilabel>Custom
      Color</guilabel> swatch.
    </para>
  </sect3>
</sect2>
-#-#-
<!-- section history:
  2007-10-21 ude: moved here from filters/color/colortoalpha.xml ('en','de')
  2007-07-05 Added Spanish translation by AntI
  2007-04-05 KoSt: added 'no'
  2005-12-18 fixed messed up image filename by lexa
  2005-12-07 replaced <simplesect> by <sect3> by lexa
  2005-09-30 de replaced informalfigure by axel.wernicke
  2005-08-25 de added by axel.wernicke
-->
<sect2 id="plug-in-colortoalpha">
  <title>Color to Alpha</title>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for <quote>Color to Alpha</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-colortoalpha.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Color to Alpha</quote> applied on blue areas
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The Color to Alpha command makes transparent all pixels of the active
      layer that have a selected color. An Alpha channel is created.  It will
      attempt to preserve anti-aliasing information by using a partially
      intelligent routine that replaces weak color information with
      weak alpha information. In this way, areas that contain an
      element of the selected color will maintain a blended appearance
      with their surrounding pixels.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Color to Alpha</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Color to Alfa</quote> command options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/colortoalpha.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            Clicking on the <guilabel>From</guilabel> color swatch
            provides a color selection dialog where you can select a
            color. If selection of a precise color is required, use
            the Color Picker then drag and drop the selected color
            from the color picker to the From color swatch. Right
            clicking on the color will display a menu where you can
            select Foreground or Background colors, White or Black.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-colors-channel-mixer">
  <title>Channel Mixer</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Components</secondary>
    <tertiary>Channel mixer</tertiary>
  </indexterm>
  <indexterm>
    <primary>Channel Mixer</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Channel Mixer</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-channelmixer.jpg"/>
        </imageobject>
        <caption>
          <para><quote>Channel Mixer</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This command combines values of the RGB channels. It works with images
      with or without an alpha channel. It has monochrome mode and a preview.
    </para>
  </sect3>

  <sect3>
    <title>Activate the command</title>
    <para>
      You can find this command through
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Components</guisubmenu>
        <guimenuitem>Channel Mixer</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Channel Mixer</quote> command options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/components/channelmixer.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Output Channel</term>
        <listitem>
          <para>
            From this menu you select the channel to mix to. Choices are
            Red, Green, or Blue. It is insensitive when
            <guilabel>Monochrome</guilabel> option is checked.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Red, Green, Blue</term>
        <listitem>
          <para>
            These three sliders set the contribution of red, green or blue
            channel to output. Can be negative. These sliders are graduated
            from -200 to 200. They represent the percentage which will be
            attributed to the output channel. 100% corresponds to the value of
            the channel of the studied pixel in the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Monochrome</term>
        <listitem>
          <para>
            This option converts the RGB image into a gray-scale RGB image.
            The Channel Mixer command is often used with this aim in view,
            because it often provides a better result than the other ways
            (see <link linkend="glossary-graylevel">Grayscale</link> in
            Glossary). Makes the <guilabel>Output Channel</guilabel> menu
            insensitive.
          </para>
          <note>
            <para>
              <!--Verified for v2.6-->
              The 21%, 72%, 7% settings give you the same gray luminosity
              (Value) as the Grayscale command in Image/Mode. (They were 30%,
              59%, 11% in v2.2).
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preserve Luminosity</term>
        <listitem>
          <para>
            Calculations may result in too high values and an image too much
            clear. This option lessens luminosities of the color channels
            while keeping a good visual ratio between them. So, you can change
            the relative weight of the colors without changing the overall
            luminosity.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Buttons</title>
    <variablelist>
      <varlistentry>
        <term>Open</term>
        <listitem>
          <para>Load settings from a file.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Save</term>
        <listitem>
          <para>Save settings to a file.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reset</term>
        <listitem>
          <para>Set default settings.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>How does Channel Mixer work? </title>
    <variablelist>
      <varlistentry>
        <term>In RGB mode</term>
        <listitem>
          <para>
            In this mode, you have to select an <guilabel>Output Channel
            </guilabel>. This channel is the one which will be modified. In
            the dialog window, its default value is 100%, corresponding to
            the value of the channel in the original image. It can be
            increased or decreased. That's why slider ends are -200 and 200.
          </para>
          <para>
            Three RGB sliders let you give a percentage to every channel. For
            every pixel in the image, the sum of the calculated values for
            every channel from these percentages will be given to the Output
            Channel. Here is an example:
          </para>
          <figure>
            <title>The original image and its channels</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/channel-mixer-ex1.png"/>
              </imageobject>
              <caption>
                <para>
                  RGB values of the pixels in red, green, blue, gray squares
                  are displayed. The black rectangle is special, because black
                  (0;0;0) is not concerned by the command (0 multiplied by any
                  percentage always gives 0). The result can't exceed 255 nor
                  be negative.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>Output channel is red. Green Channel +50</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/channel-mixer-ex2.png"/>
              </imageobject>
              <caption>
                <para>
                  In the red square, the pixel values are 230;10;10. Relative
                  values are 1;0.5;0. The calculation result is 230*1 + 10*0,5
                  + 10*0 =235. The same reasoning is valid for the green and
                  the blue squares.
                </para>
                <para>
                  In the gray square, which contains red color, the
                  calculation result is above 255. It is reduced to 255. A
                  negative value would be reduced to 0.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>
              Output channel is red. Green Channel +50%. The Preserve
              Luminosity option is checked.
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/channel-mixer-ex3.png"/>
              </imageobject>
              <caption>
                <para>
                  The values attributed to the Red Output channel are lower,
                  preventing a too much clear image.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>In Monochrome mode</term>
        <listitem>
          <para>
            When this option is checked, the image preview turns to grayscale,
            but the image is still a RGB image with three channels, until the
            command action is validated.
          </para>
          <figure>
            <title>
              Monochrome option checked. Red: 100% Green: 50% Blue: 0%.
              Preserve Luminosity unchecked.
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/channel-mixer-ex4.png"/>
              </imageobject>
              <caption>
                <para>
                  In every square, pixels have been converted into a gray
                  level equal to the value of the Red channel in the original
                  image (The background has been painted with pink afterwards
                  to make all squares visible).
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            Here is how the <guilabel>Preserve Luminosity</guilabel>
            works in the monochrome mode:
            <quote>
              For example, suppose the sliders were Red:75%, Green:75%,
              Blue:0%. With <guilabel>Monochrome</guilabel> on and the
              <guilabel>Preserve Luminosity</guilabel>
              option off, the resulting picture would be at 75%+75%+0% =150%,
              very bright indeed. A pixel with a value of, say,
              R,G,B=127,100,80 would map to 127*0.75+100*0.75+80*0=170 for
              each channel. With the Preserve Luminosity option on, the
              sliders will be scaled so they always add up to 100%. In this
              example, that scale value is 1/(75%+75%+0%) or 0.667. So the
              pixel values would be about 113. The Preserve Luminosity option
              just assures that the scale values from the sliders always adds
              up to 100%. Of course, strange things happen when any of the
              sliders have large negative values
            </quote>
            (from the plug-in author himself).
          </para>
          <note>
            <para><emphasis>Which channel will you modify?</emphasis>
              This depends on what you want to do. In principle, the Red
              channel suits contrast modifications well. The Green channel is
              well adapted to details changes and the Blue channel to noise,
              grain changes. You can use the
              <link linkend="plug-in-decompose-registered">Decompose</link>
              command.
            </para>
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-compose">
  <title>Compose</title>

  <indexterm>
    <primary>CMYK</primary>
  </indexterm>
  <indexterm>
    <primary>HSV</primary>
  </indexterm>
  <indexterm>
    <primary>RGB</primary>
  </indexterm>
  <indexterm>
    <primary>YUV</primary>
  </indexterm>
  <indexterm>
    <primary>YCbCr</primary>
  </indexterm>
  <indexterm>
    <primary>Colors</primary>
    <secondary>Components</secondary>
    <tertiary>Compose</tertiary>
  </indexterm>
  <indexterm>
    <primary>Compose</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Compose</quote> command</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/cosmos-decomposed.png"/>
        </imageobject>
        <caption>
          <para>Decomposed image (RGB decomposition)</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/cosmos-1.png"/>
        </imageobject>
        <caption>
          <para><quote>Compose</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This command constructs an image from several grayscale images or
      layers, for instance from extracted RGB, HSV... components. You can also
      build an image from grayscale images or layers created independently.
    </para>
  </sect3>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can find this command in the image window menu under
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Components</guisubmenu>
            <guimenuitem>Composeâ€¦</guimenuitem>
          </menuchoice>.
          It is enabled if your image is grayscale.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Compose</quote> command options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/components/compose.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Compose Channels</term>
        <listitem>
          <para>
            You can select there the color space to be used: RGB, HSV...
            The options are described in the following
            <link linkend="plug-in-decompose-registered">Decompose</link>
            command.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Channel Representation</term>
        <listitem>
          <para>
            Allows you to select which channel will be affected to each image
            channel. You may use this option, for example, to exchange color
            channels:
          </para>
          <figure>
            <title>
              Channel Representation example: exchange two channels
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/menus/colors/components/compose-channels-ex1.jpg"/>
              </imageobject>
              <caption>
                <para>Original image</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/compose-channels-ex2.png"/>
              </imageobject>
              <caption>
                <para>Decomposed to layers</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/compose-channels-ex3.png"/>
              </imageobject>
              <caption>
                <para>Applied Channel Representation</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="JPG"
                  fileref="images/menus/colors/components/compose-channels-ex4.jpg"/>
              </imageobject>
              <caption>
                <para>Composed image</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            <guilabel>Mask Value</guilabel>: Instead of selecting a layer or
            an image to build the channel, you can give the channel a value
            from 0 to 255. But note that at least one channel must be formed
            from a layer or image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <tip>
      <para>
        If Compose options are different from Decompose ones, for
        instance an image decomposed to
        <link linkend="glossary-rgb">RGB</link> then re-composed to
        <link linkend="glossary-lab">LAB</link>, you will get
        interesting color effects. Test it!
      </para>
    </tip>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-decompose-registered">
  <title>
    <anchor id="plug-in-decompose"/>
    <phrase condition="tag-is-required">Decompose</phrase>
  </title>

  <indexterm>
    <primary>CMYK</primary>
  </indexterm>
  <indexterm>
    <primary>HSV</primary>
  </indexterm>
  <indexterm>
    <primary>RGB</primary>
  </indexterm>
  <indexterm>
    <primary>YUV</primary>
  </indexterm>
  <indexterm>
    <primary>YCbCr</primary>
  </indexterm>
  <indexterm>
    <primary>Colors</primary>
    <secondary>Components</secondary>
    <tertiary>Decompose</tertiary>
  </indexterm>
  <indexterm>
    <primary>Decompose</primary>
  </indexterm>
  <indexterm>
    <primary>Compose</primary>
  </indexterm>
  <indexterm>
    <primary>Channel</primary>
  </indexterm>
  <indexterm>
    <primary>Layer</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Decomposition to images (RGB)</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/taj_orig_2.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/components/decompose-ex1.png"/>
        </imageobject>
        <caption>
          <para>
            Command <quote>Decompose</quote> applied (RGB decomposition) with
            <guilabel>Decompose to layers</guilabel> unchecked.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Decomposition to layers (RGB)</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/taj_orig_2.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/components/decompose-ex2.png"/>
        </imageobject>
        <caption>
          <para>
            Command <quote>Decompose</quote> applied (RGB decomposition) with
            <guilabel>Decompose to layers</guilabel> checked.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This command separates the channels (RGB, HSV, CMYK...) of an image
      into separated images or layers.
    </para>
  </sect3>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can find this command in the image window menu under
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Components</guisubmenu>
            <guimenuitem>Decomposeâ€¦</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Decompose</quote> command options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/components/decompose.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>Extract Channels</title>
      <para>
        Following options are described with
        <link linkend="plug-in-decompose-to-layers">Decompose to
        layers</link> checked.
      </para>
      <varlistentry>
        <term>Color model</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>RGB</term>
              <listitem>
                <para>
                  If the RGB radio button is clicked, a grey level image is
                  created with three layers (Red, Green and Blue), and two
                  channels (Grey and Alpha).
                </para>
                <para>
                  This function is interesting when using Threshold tool. You
                  can also perform operations like cutting, pasting or moving
                  selections in a single RBG channel. You can use an
                  extracted grayscale as a selection or mask by saving it in
                  a channel (right-click&gt;Select&gt;Save to a channel).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>RGBA</term>
              <listitem>
                <para>
                  If the RGBA radio button is clicked, a image is created
                  similar at the RGB Decomposing with a additional Alpha
                  layer filled with the transparencies values of the source
                  image. Full transparent pixels are black and the full
                  opaque pixels are white.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>HSV</term>
              <listitem>
                <para>
                  This option decomposes image into three greyscaled layers,
                  one for Hue, one for Saturation and another for Value.
                </para>
                <para>
                  Although <guilabel>Hue</guilabel> is greyscaled, it does
                  represent hues. In color circle, white and black are
                  starting and arrival points and are superimposed. They
                  represent Red color at top of circle. Grey intermediate
                  levels are corresponding to intermediate hues on circle:
                  dark grey to orange, mid grey to green and light grey to
                  magenta.
                </para>
                <para><guilabel>Saturation</guilabel> and
                  <guilabel>Value</guilabel>: White is maximum Saturation
                  (pure color) and maximum Value (very bright). Black is
                  minimum Saturation (white) and minimum Value (black).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>HSL</term>
              <listitem>
                <para>
                  This option is similar to <guilabel>HSV</guilabel>. Instead
                  of the <emphasis>V</emphasis>alue, the third layer contains
                  the image's <emphasis>L</emphasis> component.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>CMY</term>
              <listitem>
                <para>
                  This option decomposes image into three greyscaled layers,
                  one for Yellow, one for Magenta and another for Cyan.
                </para>
                <para>
                  This option might be useful to transfer image into printing
                  softwares with CMY capabilities.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>CMYK</term>
              <listitem>
                <para>
                  This option is similar at the <guilabel>CMY Decomposing
                  </guilabel> with an additional layer for Black.
                </para>
                <para>
                  This option might be useful to transfer image into printing
                  softwares with CMYK capabilities.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Alpha</term>
              <listitem>
                <para>
                  This option extracts the image transparency stored in the
                  Alpha channel in
                  <link linkend="gimp-channel-dialog">Channel dialog</link>
                  in a separate image. The full transparent pixels are Black
                  the full opaque pixels are white. The graytones are smooth
                  transitions of the transparency in the source image.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>LAB</term>
              <listitem>
                <para>
                  This option decomposes image into three greyscaled layers,
                  layer <quote>L</quote> for Luminance, layer
                  <quote>A</quote> for colors between green and red, layer
                  <quote>B</quote> for colors between blue and yellow.
                </para>
                <para>
                  The LAB Decomposing is a color model of the Luminance-Color
                  family. A channel is used for the Luminosity while two other
                  channels are used for the Colors.
                  The LAB color model is used by Photoshop.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>YCbCr</term>
              <listitem>
                <para>
                  In <acronym>GIMP</acronym> there is four YCbCr
                  decompositions with different values.
                  Each option decomposes image in three greyscaled layers, a
                  layer for Luminance and two other for blueness and redness.
                </para>
                <para>
                  The YCbCr color model also called YUV is now used for
                  digital video (initially for PAL analog video). It's based
                  on the idea that the human eye is most sensitive to
                  luminosity, next to colors. The YCbCr Decomposing use a
                  transformation matrix and the different options are
                  different values recommended by ITU (International
                  Telecommunication Union) applied to the matrix .
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <varlistentry id="plug-in-decompose-to-layers">
        <term>Decompose to Layers</term>
        <listitem>
          <para>
            If this option is checked, a new grey-scaled image is created,
            with each layer representing one of the channels of the selected
            mode. If this option is not checked, every channel is represented
            with a specific image automatically and clearly named in the name
            bar.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Foreground as registration color</term>
        <listitem>
          <example>
            <title>Crop marks</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/regcolor.png"/>
              </imageobject>
              <caption>
                <para>Source image</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/regcolor-cyan.png"/>
              </imageobject>
              <caption>
                <para>Cyan component</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/components/regcolor-black.png"/>
              </imageobject>
              <caption>
                <para>Black component</para>
              </caption>
            </mediaobject>
            <para>(Magenta and Yellow components omitted.)</para>
          </example>
          <para>
            This option is for specialists. It is related to CMYK printing.
            When checked, every pixel of the current foreground color will
            be black in each component of the decomposed images/layers. This
            allows you to make crop marks visible on all channels, providing
            a useful reference for alignment. A thin cross printed in
            registration black can also be used to check whether the printing
            plates are lined up.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-recompose">
  <title>Recompose</title>

  <indexterm>
    <primary>CMYK</primary>
  </indexterm>
  <indexterm>
    <primary>HSV</primary>
  </indexterm>
  <indexterm>
    <primary>RGB</primary>
  </indexterm>
  <indexterm>
    <primary>YUV</primary>
  </indexterm>
  <indexterm>
    <primary>YCbCr</primary>
  </indexterm>
  <indexterm>
    <primary>Colors</primary>
    <secondary>Components</secondary>
    <tertiary>Recompose image from its components</tertiary>
  </indexterm>
  <indexterm>
    <primary>Recompose</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Recompose</quote> command</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-decompose.jpg"/>
        </imageobject>
        <caption>
          <para>Original image (decomposed to RGB)</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Command <quote>Recompose</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This command reconstructs an image from its RGB, HSV... components
      directly, unlike the <link linkend="plug-in-compose">Compose</link>
      command which uses a dialog.
    </para>
  </sect3>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          This command is found in the image window menu under
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guisubmenu>Components</guisubmenu>
            <guimenuitem>Recompose</guimenuitem>
          </menuchoice>:
          This command is active after using Decompose.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-colors-components-menu">
  <title>The <quote>Components</quote> Submenu</title>

  <para>This command leads to the following submenu</para>
  <figure>
    <title>The <quote>Components</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/colors/components.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    <itemizedlist>
      <listitem>
        <para>
          <xref linkend="plug-in-colors-channel-mixer"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="plug-in-compose"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="plug-in-decompose-registered"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="plug-in-recompose"/>
        </para>
      </listitem>
    </itemizedlist>
  </para>

  <sect3>
    <title>Activating the command</title>
    <para>
      This command is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Components</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-filter-pack">
  <title>Filter Pack</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Filter Pack</secondary>
  </indexterm>
  <indexterm>
    <primary>Filter Pack</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>

    <figure>
      <title>Example for the <quote>Filter Pack</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-filterpack.jpg"/>
        </imageobject>
        <caption>
          <para>
            Filter <quote>FilterPack</quote> applied (more Blue, more
            Saturation)
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This tool offers you a collection of unified filters to treat the image.
      Of course, same functions can be performed by particular filters, but
      you have here an interesting, intuitive, overview.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Filter Pack</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>All the options for filter <quote>Filter Pack</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/filterpack.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Original and Current previews</term>
        <listitem>
          <para>
            Two previews display respectively before treatment and after
            treatment images.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show</term>
        <listitem>
          <para>
            Sets what you want to preview:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Entire image</guilabel>
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Selection only</guilabel>:
                if a selection exists (default is the whole image).
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Selection in context</guilabel>:
                the selection within the image.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Windows</term>
        <listitem>
          <para>You can choose between:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Hue</guilabel>
                makes one preview for each of the three primary colors and the
                three complementary colors of the RGB color model. By clicking
                successively on a color, you add to this color into the
                affected range, according to Roughness. To subtract color,
                click on the opposite color, the complementary color.
              </para>
              <figure>
                <title>
                  Hue option of the <quote>Filterpack</quote> filter
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/colors/filterpack-hue.png"/>
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
            <listitem>
              <para>
                <guilabel>Saturation</guilabel>: Three previews for more or
                less saturation.
              </para>
              <figure>
                <title>
                  The saturation option of the <quote>Filterpack</quote>
                  filter
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/colors/filterpack-saturation.png"/>
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
            <listitem>
              <para>
                <guilabel>Value</guilabel>: Three previews for more or less
                luminosity.
              </para>
              <figure>
                <title>
                  Value option of the <quote>Filterpack</quote> filter
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/colors/filterpack-value.png"/>
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
            <listitem>
              <para>
                <guilabel>Advanced</guilabel>: developed later.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Affected range</term>
        <listitem>
          <para>
            Allows you to set which brightness you want to work with.
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Shadows</guilabel>: dark tones.</para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Midtones</guilabel>
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Highlights</guilabel>: bright tones
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Select pixels by</term>
        <listitem>
          <para>
            Determines what HSV channel the selected range will affect. You
            can choose between:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Hue</guilabel>
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Saturation</guilabel>
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Value</guilabel>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Roughness</term>
        <listitem>
          <para>
            This slider sets how image will change when you click on a
            window: taking a short step or a large one (0 - 1).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Advanced Options</term>
        <listitem>
          <figure>
            <title>
              Advanced options of the <quote>Filterpack</quote> filter
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/colors/filterpack-advanced.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            These advanced options let you work more precisely on the changes
            applied to the image and on the preview size.
          </para>
          <variablelist>
            <varlistentry>
              <term>Preview Size</term>
              <listitem>
                <para>
                  Something like a zoom on previews. Normal size is 80.
                </para>
                <tip>
                  <para>
                    In spite of Preview Size option, this size is often too
                    small. You can compensate this by working on an enlarged
                    selection, for instance a face on a photo. Then, you
                    invert selection to work on the other part of the image.
                  </para>
                </tip>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Affected range</term>
              <listitem>
                <para>
                  Here, you can set the tone range that the filter will
                  affect.
                </para>
                <para>
                  The curve in this window represents the importance of the
                  changes applied to the image. The aspect of this curve
                  depends on the Affected range you have selected: Shadows,
                  Midtons or Highlights. You can set the curve amplitude by
                  using the <guilabel>Roughness</guilabel>
                  slider in the main window of the filter.
                  <!-- added by ciampix 2008-08-19: please check it and
                       uncomment!
                  When the slider is set to zero, the curve is rectangular
                  and the transitions are steep. The triangles represent
                  the tone transition points. -->
                </para>
                <para><!-- changed 2008-08-19 by champix-->
                  By using the available controls (slider and triangles),
                  you can precisely set the form of this action curve.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-colors-filters">
  <title>The Color Filters</title>

  <para>
    The following color filters group contains miscellaneous filters to modify
    colors in an image, a layer or a selection. You can find some nice effects
    here.
  </para>
  <para>
    <itemizedlist>
      <listitem>
        <para><xref linkend="plug-in-colorify"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-colortoalpha"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-filter-pack"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-hot"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-max-rgb"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-retinex"/></para>
      </listitem>
    </itemizedlist>
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-hot">
  <title>Hot</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Hot</secondary>
  </indexterm>
  <indexterm>
    <primary>Hot</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <para>
      This command identifies and modifies pixels which might cause problem
      when displayed onto PAL or NTSC TV screen.
    </para>
  </sect3>

  <sect3>
    <title>Activate the command</title>
    <para>
      You can access the command from the image menu bar through
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Hot</guimenuitem>
      </menuchoice>.
    </para>
    <para>
      This command only works on images in RGB mode, and only if the active
      layer does not have an alpha channel. Otherwise the menu entry is
      insensitive and grayed out.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Hot</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/menus/colors/hot.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Mode</term>
        <listitem>
          <para>
            You have to select the TV mode: PAL or NTSC.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Action</term>
        <listitem>
          <para>
            You can select:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Reduce Luminency</guilabel>
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Reduce Saturation</guilabel>
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Blacken</guilabel>: this will turn hot pixels to
                black.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Create a new layer</term>
        <listitem>
          <para>
            With this option, work will be performed on a new layer instead
            of the image. This will give you peace of mind!
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-borderaverage">
  <title>Border Average</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Border Average</secondary>
  </indexterm>
  <indexterm>
    <primary>Border Average</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Border Average</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/taj_orig.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/color-taj-borderaverage.png"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Border Average</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This plug-in calculates the most often used color in a specified border
      of the active layer or selection. It can gather similar colors
      together so that they become predominant. The calculated color becomes
      the foreground color in the Toolbox. This filter is interesting when
      you have to find a Web page color background that differs as little as
      possible from your image border. The action of this filter is not
      registered in Undo History and can't be deleted with
      <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo> :
      it doesn't modify the image.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenu>Info</guimenu>
        <guimenuitem>Border Average</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Options of the <quote>Border Average Filter</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/info/borderaverage.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Border Size</term>
        <listitem>
          <para>
            You can set there the border <guilabel>Thickness</guilabel> in
            pixels.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number of Colors</term>
        <listitem>
          <para>
            The <guilabel>Bucket Size</guilabel> lets you control the number
            of colors considered as similar and counted with the same
            <quote>bucket</quote>. A low bucket size value (i.e. a high bucket
            number) gives you better precision in the calculation of the
            average color. Note that better precision does not necessarily
            mean better results (see example below).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>
      Examples illustrating the <quote>Border Average</quote> filter
    </title>
    <figure>
      <title>Original image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/borderaverage.png"/>
        </imageobject>
        <caption>
          <para>
            Original image: colors are pure Red (255;0;0), pure Blue
            (0;0;255), and different but similar kinds of Green
            ( 0;255;0 , 63;240;63 , 48;224;47 , 0;192;38 ).
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title><quote>Number of Colors</quote> is set to 8:</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/borderaverage08.png"/>
        </imageobject>
        <caption>
          <para>
            The resulting color is a Red (254,2,2).
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The bucket size is low. So the bucket number is high. All color shades
      can be stored in different buckets. Here, the bucket containing red is
      the most filled. The resulting color is a nearly pure
      Red (254,2,2) and becomes the foreground color of the Toolbox.
      </para>
    <figure>
      <title><quote>Number of Colors</quote> is set to 64:</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/borderaverage64.png"/>
        </imageobject>
        <caption>
          <para>
            The resulting color is Green (32,224,32).
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Here the bucket size is high, the number of buckets low. Similar colors
      (here green) are stored in a same bucket. This <quote>green</quote>
      bucket is now the most filled.
      All colors in this bucket have the same values for the two most
      significant bits: (00******;11******;00******). The remaining 6 bits
      may have any values from 0 to 63 for the respective channel. So
      in this bucket, color red channels range from 0 to 63, green channels
      from 192 to 255, blue channels from 0 to 63. The resulting color is
      Green (32,224,32), which, for every channel, is the average between the
      limits of the channel range (63 + 0)/2, (255+192)/2 , (63+0)/2.
    </para>
  </sect3>
</sect2>
-#-#-

<sect2 id="plug-in-ccanalyze">
  <title>Colorcube Analysis</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Colorcube Analysis</secondary>
  </indexterm>
  <indexterm>
    <primary>Colorcube Analysis</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Colorcube</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/taj_orig.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/color-taj-ccanalyse.jpg"/>
        </imageobject>
        <caption>
          <para>
            Filter <quote>Colorcube Analysis</quote> applied
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Information is reduced since GIMP 2.4: size and color number of the
      active layer.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Info</guisubmenu>
        <guimenuitem>Colorcube Analysis</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-colors-info-histogram">
  <title>Histogram</title>

  <para>
    The Histogram dialog is documented in
    <xref linkend="gimp-histogram-dialog"/>.
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-smooth-palette">
  <title>Smooth Palette</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Smooth Palette</secondary>
  </indexterm>
  <indexterm>
    <primary>Smooth Palette</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Smooth Palette</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-smoothpalette.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Smooth Palette</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      It creates a striped palette from colors in active layer or selection.
      The main purpose of this filter is to create color-maps to be used with
      the <link linkend="plug-in-flame">Flame</link> filter.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Info</guisubmenu>
        <guimenuitem>Smooth Palette</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Smooth Palette</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/info/smoothpalette.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Parameter Settings</term>
        <listitem>
          <para>
            You can set palette dimensions for <guilabel>Width</guilabel> and
            <guilabel>Height</guilabel>. Dimensions are linked when chain is
            not broken. You can also select unit.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Search Depth</term>
        <listitem>
          <para>
            Increasing Search Depth (1 - 1024) will result in more shades in
            palette.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-colors-info-menu">
  <title>The <quote>Info</quote> Submenu</title>

  <para>This command leads to the following submenu</para>
  <figure>
    <title>The <quote>Info</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/colors/info.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    <itemizedlist>
      <listitem>
        <para><xref linkend="gimp-colors-info-histogram"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-borderaverage"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-ccanalyze"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-smooth-palette"/></para>
      </listitem>
    </itemizedlist>
  </para>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-colors-introduction">
  <title>Introduction to the <quote>Colors</quote> Menu</title>

  <figure>
    <title>Contents of the <quote>Colors</quote> Menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/colors.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This section describes the
    <menuchoice><guimenu>Colors</guimenu></menuchoice> menu,
    which contains commands that affect the color of the image.
  </para>
  <xi:include href="../about-plugin-menuitems.xml"/>
</sect2>
-#-#-
<!-- id is still used by GIMP, do not change! -->
<sect2 id="gimp-layer-invert">
  <title>Invert</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Invert</secondary>
  </indexterm>
  <indexterm>
    <primary>Invert colors</primary>
  </indexterm>

  <para>
    The <guimenuitem>Invert</guimenuitem> command inverts all the pixel
    colors and brightness values in the current layer, as if the image were
    converted into a negative. Dark areas become bright and bright areas
    become dark. Hues are replaced by their complementary colors. For more
    information about colors, see the Glossary entry about
    <link linkend="glossary-colormodel">Color Model</link>.
  </para>

  <note>
    <para>
      This command only works on layers of RGB and Grayscale images. If the
      current image is Indexed, the menu entry is insensitive and grayed out.
    </para>
  </note>
  <warning>
    <para>
      Do not confuse this command with the
      <link linkend="gimp-selection-invert">Invert Selection</link> command.
    </para>
  </warning>

  <sect3>
    <title>Activate the Command</title>
    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Invert</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Invert colors</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/colors/invert-1.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/colors/invert-2.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>After the colors were inverted</para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-alienmap2">
  <title>Alien Map</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Alien Map</secondary>
  </indexterm>
  <indexterm>
    <primary>Alien Map</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Alien Map filter example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-alien2.jpg"/>
        </imageobject>
        <caption>
          <para>Filter applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter renders very modified colors by applying trigonometric
      functions. Alien Map can work on images having
      <link linkend="glossary-colormodel">RGB and HSV</link> color models.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Alien Map</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Options for the <quote>Alien Map</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/map/alienmap.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This preview displays results of filter application interactively.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Mode</term>
        <listitem>
          <para>
            Radio buttons <guilabel>RGB Color Channel</guilabel> and
            <guilabel>HSV Color Channel</guilabel>
            let you select the color space you want to use.
          </para>
          <para>
            Check boxes <guilabel>Modify ... Channel</guilabel> let you
            select RGB/HSV Channel you want to work with.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sliders</term>
        <listitem>
          <para>
            For each channel, you can set Frequency (0-5) and Phaseshift
            (0-360) of sine-cosine functions, using either sliders or input
            boxes and their arrowheads.
          </para>
          <para><guilabel>Frequency</guilabel> around 0.3 to 0.7 provides a
            curve that is similar to the linear function (original image),
            only darker or with more contrast. As you raise the frequency
            level, you'll get an increasing variation in pixel
            transformation, meaning that the image will get more and more
            <quote>alien</quote>.
          </para>
          <para><guilabel>Phase</guilabel> alters the value transformation. 0
            and 360 degrees are the same as a sine function and 90 is the
            same as a cosine function. 180 inverts sine and 270 inverts
            cosine.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-exchange">
  <title>Color Exchange</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Exchange colors</secondary>
  </indexterm>
  <indexterm>
    <primary>Color Exchange</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title><quote>Color Exchange</quote> filter example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-exchange.jpg"/>
        </imageobject>
        <caption>
          <para>Filter applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>This filter replaces a color with another one.</para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Color Exchange</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Option of the <quote>Two color exchange</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/map/exchange.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            In this preview, a part of the Image is displayed. A selection
            smaller than preview will be complete in preview. A bigger one
            will be cut out to be adapted to the preview.
          </para>
          <para>
            If you middle-click inside preview , the clicked pixel color
            will be selected and will appear as From Color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <varlistentry>
        <term>From color</term>
        <listitem>
          <para>
            In this section, you can choose the color to be used to select
            pixels that will be concerned by color exchange.
          </para>
          <para><guilabel>Three sliders for RVB colors</guilabel>: If you
            have clicked on preview, they are automatically positioned.
            But you can change them. Each slider acts on color intensity.
            Input boxes and arrowheads work the same. Result is
            interactively displayed in the From swatch box.
          </para>
          <para><guilabel>Three sliders for thresholds</guilabel>, for each
            color. The higher the threshold, the more pixels will be
            concerned. Result is interactively displayed in Preview.
          </para>
          <para><guilabel>Lock Thresholds</guilabel>: This option locks threshold
            sliders which will act all the same.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <varlistentry>
        <term>To color</term>
        <listitem>
          <para><guilabel>Three cursors</guilabel> allow to select the color
            that pixels will have. Result is displayed in swatch box and in
            preview. You can also click on the color dwell to get a color
            selector.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-gradmap">
  <title>Gradient Map</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Map</secondary>
    <tertiary>Gradient Map</tertiary>
  </indexterm>
  <indexterm>
    <primary>Gradient Map</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example of gradient map</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/gradmap-example.png"/>
        </imageobject>
        <caption>
          <para>
            Example of Gradient Mapping.  Top: Original image.  Middle: a
            gradient.  Bottom: result of applying the gradient to the
            original image with the Gradient Map filter.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter uses the current gradient, as shown in the
      Brush/Pattern/Gradient area of the Toolbox, to recolor the active
      layer or selection of the image to which the filter is applied. To
      use it, first choose a gradient from the
      <link linkend="gimp-gradient-dialog">Gradients Dialog</link>.
      Then select the part of the image you want to alter, and activate the
      filter. The filter runs automatically, without
      showing any dialog or requiring any further input.   It uses image
      color intensities (0 - 255), mapping the darkest pixels to
      the left end color from the gradient, and the lightest pixels to
      the right end color from the gradient. Intermediate values are set
      to the corresponding intermediate colors.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can find this filter in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Gradient Map</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="plug-in-colormap-remap">
  <title>Rearrange Colormap</title>

  <indexterm>
    <primary>Colormap</primary>
    <secondary>Rearrange</secondary>
  </indexterm>
  <indexterm>
    <primary>Rearrange Colormap</primary>
  </indexterm>

  <figure>
    <title>The <quote>Rearrange Colormap</quote> window</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/colors/map/rearrange.png"
          format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This command allows you to re-organize colors in the palette of
    <emphasis>indexed</emphasis> images. It doesn't modify the image. You
    can't add or remove colors; for that, see
    <link linkend="gimp-indexed-palette-dialog">The Indexed Palette Dialog
    </link>.
  </para>

  <sect3>
    <title>Activate Dialog</title>
    <para>
      You can access this command from the image menu-bar through
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Rearrange Colormap</guimenuitem>
      </menuchoice>.
      If your image is not indexed, this command is grayed out and disabled.
    </para>
  </sect3>

  <sect3>
    <title>Using the <quote>Rearrange Colormap</quote> dialog</title>
    <para>
      Explanations supplied in the dialog window are enough: drag
      and drop colors to rearrange the colormap. You can sort colors in
      various ways by using the local pop-menu that you get by right-clicking:
    </para>
    <figure>
      <title>The <quote>Rearrange Colormap</quote> pop-menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/colors/map/rearrange-popmenu.png"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-rotate-colormap">
  <title>Rotate Colors</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Rotate</secondary>
  </indexterm>
  <indexterm>
    <primary>Rotate Colors</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Rotate Colors</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/taj_orig.jpg"
            format="JPG"/>
        </imageobject>
        <caption><para>Original image</para></caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/color-taj-rotation.jpg"
            format="JPG"/>
        </imageobject>
        <caption>
          <para>
            Filter <quote>Rotate Colors</quote> applied
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Colormap Rotation lets you exchange one color range to another range.
    </para>
  </sect3>

  <sect3>
    <title>Activating the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Rotate Colors</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Main Options</title>
    <figure>
      <title>
        Main Options of the <quote>Color Map Rotation</quote> filter
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/map/rotate.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      You have there two color circles, one for the <quote>From</quote>
      color range and the other for the <quote>To</quote> color range:
    </para>
    <variablelist>
      <varlistentry>
        <term>From</term>
        <listitem>
          <para>
            The <guilabel>Color Circle</guilabel>: Two axis to define
            <quote>From</quote> range. The curved arrow in angle lets to
            recognise <quote>From</quote> axis and <quote>To</quote>
            axis of range. Click-drag these axis to change range.
          </para>
          <para>
            <guilabel>Switch to Clockwise/Counterclockwise</guilabel>:
            Sets the direction the range is going.
          </para>
          <para>
            <guilabel>Change Order of Arrows</guilabel>: Inverts From and
            To axis. This results in an important color change as colors
            in selection angle are different.
          </para>
          <para>
            <guilabel>Select All</guilabel> selects the whole color
            circle.
          </para>
          <para>
            <guilabel>From</guilabel> and <guilabel>To</guilabel> boxes
            display start axis and end axis positions (in rad/PI) which
            are limiting the selected color range. You can enter these
            positions manually or with help of arrow-heads.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>To</term>
        <listitem>
          <para>
            This section options are the same as <quote>From</quote> section
            ones.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Gray Options</title>
    <figure>
      <title>Base image for Gray Options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/colors-rotation-base.png"/>
        </imageobject>
        <caption>
          <para>
            Three sectors are defined for Red, Green and Blue with different
            saturations. Gray and White colors are represented (0% Sat).
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      In this tab, you can specify how to treat gray. By default, gray is not
      considered as a color and is not taken in account by the rotation. Here,
      you can convert slightly saturated colors into gray and you can also
      convert gray into color.
    </para>
    <variablelist>
      <varlistentry>
        <term>Gray Color Circle</term>
        <listitem>
          <para>
            At center of this color circle is a small <quote>define
            circle</quote>. At center, it represents gray. If you increase
            gray threshold progressively, colors with saturation less than
            this threshold turn to gray.
          </para>
          <para>
            Then, if you pan the define circle in the color circle, or if
            you use input boxes, you define
            <emphasis>Hue</emphasis> and <emphasis>
            Saturation</emphasis>. This color will replace all colors you
            have defined as gray. But result depends on Gray Mode too.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gray Mode</term>
        <listitem>
          <para>
            The radio buttons <emphasis>Treat As This
            </emphasis> and <emphasis>Change As This
            </emphasis> determine how your previous choices will be
            treated:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                 With <emphasis>Change to this</emphasis>,
                 gray will take the color defined by the define circle
                 directly, without any rotation, whatever its position in
                 the color circle.
              </para>
            </listitem>
            <listitem>
              <para>
                 With <emphasis>Treat as this</emphasis>,
                 gray will take the color defined by the define circle
                 after rotation, according to <quote>From</quote> and
                 <quote>To</quote> choices you made in the Main tab. With
                 this option, you can select color only in the
                 <quote>From</quote> sector, even if it is not visible in
                 Gray tab.
              </para>
            </listitem>
          </itemizedlist>
          <figure>
            <title>Gray Mode</title>
            <mediaobject>
              <imageobject>
                <!--was: images/filters/changeto.png-->
                <imagedata format="PNG"
                  fileref="images/menus/colors/map/rotate-colors-graymode.png"/>
              </imageobject>
              <caption>
                <para>
                  The small circle is on yellow and mode is <quote>Change to
                  this</quote>. <emphasis>Blue has changed to yellow. Note that
                  Gray and White did so too.</emphasis>
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gray Threshold</term>
        <listitem>
          <figure>
            <title>Gray Threshold</title>
            <mediaobject>
              <!--TODO: rename-->
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/filters/examples/colors-map-rotation-threshold.png"/>
              </imageobject>
              <caption>
                <para>
                  Gray-threshold is 0.25: the blue sector (sat 0.25) has
                  turned to Gray (Note that Gray and White, that are 0% Sat.,
                  are not concerned).
                </para>
              </caption>
            </mediaobject>
          </figure>
          <!--CHECK: works for me without <quote>Continuous update</quote> -->
          <para>
            You specify there how much saturation will be considered gray.
            By increasing progressively saturation, you will see an
            enlarging circle in color circle and enlarging selected areas in
            Preview if <quote>Continuous update</quote> is checked. In a
            black to white gradient, you can see enlarging color replacement
            as you increase threshold very slowly.
          </para>
          <mediaobject>
            <imageobject>
              <!--was: images/filters/greythresh.png-->
              <imagedata format="PNG"
                fileref="images/menus/colors/map/rotate-colors-graythresh.png"/>
              </imageobject>
            <caption>
              <para>
                Black to White gradient, progressively filled with color, as
                threshold increases.
              </para>
            </caption>
          </mediaobject>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Previews</title>
    <variablelist>
      <varlistentry>
        <term>Original</term>
        <term>Rotated</term>
        <listitem>
          <para>
            The Original preview displays a thumbnail of the original image
            and the Rotated preview displays color changes interactively,
            before they are applied to the Image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Continuous Update</term>
        <listitem>
          <para><guilabel>Continuous Update</guilabel> displays color changes
            continuously in the Rotated preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Area</term>
        <listitem>
          <para>
            In this drop down list, you can select between
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Entire Layer</guilabel>: works on the whole
                layer (The image if there is no selection).
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Selection</guilabel>: displays selection only.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Context</guilabel>: displays selection in image
                context.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="plug-in-rotate-colormap-units">
    <title>Units</title>
    <para>
      You can select here the angle unit used to locate colors in the
      Hue/Saturation circle. This choice is valid only for the current filter
      session: don't click on OK just after selecting unit, return to the
      wanted tab!
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-sample-colorize">
  <title>Sample Colorize</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Sample Colorize</secondary>
  </indexterm>
  <indexterm>
    <primary>Sample Colorize</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Sample Colorize</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-sample-colorize.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Sample Colorize</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter allows you to colorize old black-and-white images by mapping
      a color source image or a gradient against it.
    </para>
    <caution>
      <para>
        Your gray-tone image must be changed to RGB before using this
        filter (Image/Image&gt;Mode&gt;RGB).
      </para>
    </caution>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Sample Colorize</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Options of the <quote>Sample Colorize</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/map/samplecolorize.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The filter window is divided into two parts: Destination on the left,
      Sampling on the right.
    </para>
    <variablelist>
      <varlistentry>
        <term>Destination, Sample</term>
        <listitem>
          <para>
            By default, displayed image previews reproduce the image you
            invoked the filter from.
          </para>
          <para>
            <guilabel>The sample</guilabel> can be the whole preview, or a
            selection of this preview. With the drop list, you can select
            another sample-image among the names of images present on
            your screen when you called the filter. If you choose
            <guilabel>From Gradient</guilabel> (or <guilabel>From Inverse
            Gradient</guilabel>), the selected gradient in Gradient Dialog
            (or its inverse) will be the sample. It will be displayed into
            the gradient bar below the sample preview. The sampling preview
            is greyed out and two cursors allow you to select the gradient
            range that will be applied to the image or selection.
          </para>
          <para>
            <guilabel>Destination</guilabel> is, by default, the source
            image. The drop list displays the list of images present on your
            screen when you evoked the filter and allow you to select
            another destination image. If there is a selection in this
            image, it will be gray-scaled, else the whole preview will be
            gray-scaled.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show Selection</term>
        <listitem>
          <para>
            This option toggles between the whole image and the selection,
            if it exists.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show Colors</term>
        <listitem>
          <para>
            This option toggles between colors and gray-scale.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Get Sample Colors</term>
        <listitem>
          <para>
            When you click on this button, the gradient bar below the
            sample preview displays colors of the sample. If your sample
            holds few colors, transitions may be abrupt. Check
            <guilabel>Smooth Sample Colors</guilabel> option to improve them.
          </para>
          <para>
            <guilabel>Use Subcolors</guilabel> is more difficult to
            understand. Let's say first that in a greyscale image there is
            information only for Value (luminosity, more or less light). In a
            RGB  image, each pixel has information for the three colors and
            Value. So, pixels with different color may have the same Value.
            If this option is checked, colors will be mixed and applied to
            Destination pixels having that Value. If it is unchecked, then
            the dominating color will be applied.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Out Levels</term>
        <listitem>
          <para>
            Two input boxes and two sliders act the same: they limit the
            color range which will be applied to destination image. You can
            choose this range accurately. Result appears interactively in
            destination preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>In Levels</term>
        <listitem>
          <para>
            Three input boxes and three sliders allow to fix importance of
            dark tones, mid tones and light tones. Result appears
            interactively in destination preview.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Hold Intensity</term>
        <listitem>
          <para>
            If this option is checked, the average light intensity of
            destination image will be the same as that of source image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Original Intensity</term>
        <listitem>
          <para>
            If this option is checked, the In levels intensity settings will
            not be taken in account: original intensity will be preserved.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="script-fu-set-cmap">
  <title>Set Colormap</title>

  <indexterm>
    <primary>Colormap</primary>
    <secondary>Set</secondary>
  </indexterm>
  <indexterm>
    <primary>Set Colormap</primary>
  </indexterm>

  <figure>
    <title>The <quote>Set Colormap</quote> window</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/colors/map/set-colormap.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This command opens a dialog which allows you to select another palette
    to replace the color map of your indexed image. First click in the
    button with the name of the current palette (which is not the color map
    of your image yet) to open the Palette Selector:
  </para>
  <figure>
    <title>The <quote>Palette Selection</quote> dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/colors/map/select-palette.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    Once you have chosen the wanted palette, click the
    <guibutton>OK</guibutton> button in the <quote>Set Palette</quote>
    dialog to replace the image colormap.
  </para>

  <sect3>
    <title>Activate the command</title>
    <para>
      This command is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem>Set Colormap</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-colors-map-menu">
  <title>The <quote>Map</quote> Submenu</title>

  <para>This command leads to the following submenu</para>
  <figure>
    <title>The <quote>Map</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/colors/map.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    <itemizedlist>
      <listitem>
        <para><xref linkend="plug-in-colormap-remap"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="script-fu-set-cmap"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-alienmap2"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-exchange"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-gradmap"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-palettemap"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-rotate-colormap"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="plug-in-sample-colorize"/></para>
      </listitem>
    </itemizedlist>
  </para>
</sect2>
-#-#-
<sect2 id="plug-in-max-rgb">
  <title>Max RGB</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Max RGB</secondary>
  </indexterm>
  <indexterm>
    <primary>Max RGB</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the filter <quote>Max RGB</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/taj_orig.jpg"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
            fileref="images/filters/examples/color-taj-maxrgb.jpg"/>
        </imageobject>
        <caption>
          <para>Filter <quote>Max RGB</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      For every pixel of the image, this filter holds the channel with the
      maximal/minimal intensity. The result is an image with only three
      colors, red, green and blue, and possibly pure gray.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Max RGB</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Max RGB</quote> options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/colors/maxRGB.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            This preview displays, in real time, the resulting image after
            treatment by filter.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Parameter Settings</term>
        <listitem>
          <para>
            <guilabel>Hold the maximal channels</guilabel>: For every pixel,
            the filter keeps intensity of the RGB color channel which has
            the maximal intensity and reduces other both to zero. For
            example: 220, 158, 175  max--&gt; 220, 0, 0. If two channels have
            same intensity, both are held: 210, 54, 210 max--&gt; 210, 0, 210.
          </para>
          <para>
            <guilabel>Hold the minimal channels</guilabel>: For every pixel,
            the filter keeps intensity of the RGB color channel which has
            the minimal intensity and reduce both others to zero. For
            example: 220, 158, 175  min--&gt; 0, 158, 0. If two minimal
            channels have same intensity, both are held: 210, 54, 54
            min--&gt; 0, 54, 54.
          </para>
          <para>
            Grey levels are not changed since light intensity is the same in
            all three channels.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-retinex">
  <title>Retinex</title>

  <indexterm>
    <primary>Colors</primary>
  </indexterm>
  <indexterm>
    <primary>Retinex</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title><quote>Retinex</quote> example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/colors-retinex1.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/colors-retinex2.png"/>
        </imageobject>
        <caption>
          <para>
            <quote>Retinex</quote> filter applied.
            Note new details in the upper right corner.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Retinex improves visual rendering of an image when lighting conditions
      are not good. While our eye can see colors correctly when light is low,
      cameras and video cams can't manage this well. The MSRCR (MultiScale
      Retinex with Color Restoration) algorithm, which is at the root of the
      Retinex filter, is inspired by the eye biological mechanisms to adapt
      itself to these conditions. Retinex stands for Retina + cortex.
    </para>
    <para>
      Besides digital photography, Retinex algorithm is used to make the
      information in astronomical photos visible and detect, in medicine,
      poorly visible structures in X-rays or scanners.
    </para>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Retinex</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Retinex</quote> filter options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/colors/retinex.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      These options call for notions that only mathematicians and imagery
      engineers can understand. In actual practice, the user has to grope
      about for the best setting. However, the following explanations should
      help out the experimented GIMP user.
    </para>
    <variablelist>
      <varlistentry>
        <term>Level</term>
        <listitem>
          <para>
            Here is what the plug-in author writes on his site
            <xref linkend="bibliography-online-plugin-retinex"/>:
            <quote>To characterize color variations and the lightor, we make
             a difference between (gaussian) filters responses at different
             scales. These parameters allow to specify how to allocate scale
             values between min scale (sigma 2.0) and max (sigma equal to the
             image size)</quote>...
          </para>
          <variablelist>
            <varlistentry>
              <term>Uniform</term>
              <listitem>
                <para>
                  Uniform tends to treat both low and high intensity areas
                  fairly.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Low</term>
              <listitem>
                <para>
                  As a rule of thumb, low does <quote>flare up</quote>
                  the lower intensity areas on the image.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>High</term>
              <listitem>
                <para>
                  High tends to <quote>bury</quote> the lower intensity
                  areas in favor of a better rendering of the clearer areas
                  of the image.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Scale</term>
        <listitem>
          <para>
            Determines the depth of the Retinex scale. Minimum value is 16, a
            value providing gross, unrefined filtering. Maximum value is 250.
            Optimal and default value is 240.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Scale division</term>
        <listitem>
          <para>
            Determines the number of iterations in the multiscale Retinex
            filter. The minimum required, and the recommended value is three.
            Only one or two scale divisions removes the multiscale aspect and
            falls back to a single scale Retinex filtering. A value that is
            too high tends to introduce noise in the picture.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Dynamic</term>
        <listitem>
          <para>
            As the MSR algorithm tends to make the image lighter, this slider
            allows you to adjust color saturation contamination around the
            new average color. A higher value means less color saturation.
            This is definitely the parameter you want to tweak for optimal
            results, because its effect is extremely image-dependent.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-colors-tools-menu">
  <title>Colors Tools</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Tools</secondary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Colors</secondary>
  </indexterm>

  <para>
     All of the <guimenu>Colors</guimenu> tools are extensively described in
     the toolbox chapter, <xref linkend="gimp-tools-color"/>:
  </para>
  <itemizedlist>
    <listitem>
      <para>
        <xref linkend="gimp-tool-color-balance"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-hue-saturation"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-colorize"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-brightness-contrast"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-threshold"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-levels"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-curves"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-posterize"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref linkend="gimp-tool-desaturate"/>
      </para>
    </listitem>
  </itemizedlist>
</sect2>
-#-#-

<sect2 id="gimp-config-use-gegl">
  <title>Use GEGL</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Use GEGL</secondary>
  </indexterm>
  <indexterm>
    <primary>GEGL</primary>
  </indexterm>

  <para>
    GEGL (Generic Graphics Library) is a graph based image processing
    framework that will be used in all GIMP-3.0. With GEGL, the internal
    processing is being done in 32bit floating point linear light RGBA. By
    default the legacy 8bit code paths are still used, but a curious user can
    turn on the use of GEGL for the color operations with this option.
  </para>
  <para>
    In addition to porting color operations to GEGL, an experimental
    <link linkend="gimp-tool-gegl">GEGL Operation tool</link> has been added,
    found in the Tools menu. It enables applying GEGL operations to an image
    and it gives on-canvas previews of the results.
  </para>

  <warning>
    <para>
      Please note that <acronym>GIMP</acronym> remains 8-bits until GEGL
      covers the whole application.
    </para>
  </warning>

  <sect3>
    <title>Activating the option</title>
    <para>
      You can access this option from the image menubar through
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Use GEGL</guimenuitem>
      </menuchoice>.
      Clicking on this item toggles the use of GEGL.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-vinvert">
  <title>Value Invert</title>

  <indexterm>
    <primary>Colors</primary>
    <secondary>Value Invert</secondary>
  </indexterm>
  <indexterm>
    <primary>Value Invert</primary>
  </indexterm>

  <sect3>
    <title>Overview</title>
    <figure>
      <title>Example for the <quote>Value invert</quote> filter</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/taj_orig.jpg"
            format="JPG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/color-taj-vinvert.jpg"
            format="JPG"/>
        </imageobject>
        <caption>
          <para><quote>Value Invert</quote> applied</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      This filter inverts Value (luminosity) of the active layer or
      selection. Hue and Saturation will not be affected, although the
      color will sometimes be slightly different because of round-off
      error. If you want to invert Hue and Saturation also, use
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Invert</guimenuitem>
      </menuchoice>.
    </para>
    <para>
      Note that hue and saturation can be distorted quite a bit when
      applying twice this filter for colors with a high luminosity (for
      instance, HSV 102Â°,100%, 98%, a bright green, gives HSV 96Â°, 100%, 2%
      after a first application of the filter , and 96Â°, 100%, 98% after a
      second application). Thus, you should not expect to be able to apply
      this filter twice in a row and get back the image you started with.
    </para>
    <figure>
      <title>Example of using this filter twice</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/cosmos-1.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/invert.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>First application of the filter</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/invertx2.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Second application: the image is not exactly the same as the
            original one.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>

  <sect3>
    <title>Activate the filter</title>
    <para>
      You can access this command from the image menu bar through
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenuitem>Value Invert</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect1 id="gimp-colors-menu" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The <quote>Colors</quote> Menu</title>

  <indexterm>
    <primary>Image window</primary>
    <secondary>Menus</secondary>
  </indexterm>

  <xi:include href="colors/introduction.xml"/>
  <xi:include href="colors/tools.xml"/>
  <!-- Moved to toolbox
  <xi:include href="colors/desaturate.xml"/>
  -->
  <xi:include href="colors/invert.xml"/>
  <xi:include href="colors/vinvert.xml"/>
  <xi:include href="colors/use-gegl.xml"/>
  <xi:include href="colors/auto.xml"/>
  <xi:include href="colors/auto/equalize.xml"/>
  <xi:include href="colors/auto/white-balance.xml"/>
  <xi:include href="colors/auto/color-enhance.xml"/>
  <xi:include href="colors/auto/normalize.xml"/>
  <xi:include href="colors/auto/c-astretch.xml"/>
  <xi:include href="colors/auto/autostretch-hsv.xml"/>
  <xi:include href="colors/components.xml"/>
  <xi:include href="colors/components/channel-mixer.xml"/>
  <xi:include href="colors/components/compose.xml"/>
  <xi:include href="colors/components/decompose.xml"/>
  <xi:include href="colors/components/recompose.xml"/>
  <xi:include href="colors/map.xml"/>
    <xi:include href="colors/map/rearrange-colormap.xml"/>
    <xi:include href="colors/map/set-colormap.xml"/>
    <!-- -->
    <xi:include href="colors/map/alienmap2.xml"/>
    <xi:include href="colors/map/exchange.xml"/>
    <xi:include href="colors/map/gradientmap.xml"/>
    <xi:include href="colors/map/palettemap.xml"/>
    <xi:include href="colors/map/rotate-colormap.xml"/>
    <xi:include href="colors/map/sample-colorize.xml"/>
  <xi:include href="colors/info.xml"/>
  <xi:include href="colors/info/histogram.xml"/>
  <xi:include href="colors/info/borderaverage.xml"/>
  <xi:include href="colors/info/ccanalyse.xml"/>
  <xi:include href="colors/info/smooth_palette.xml"/>
  <!-- -->
  <xi:include href="colors/filters.xml"/>
  <xi:include href="colors/colorify.xml"/>
  <xi:include href="colors/colortoalpha.xml"/>
  <xi:include href="colors/filterpack.xml"/>
  <xi:include href="colors/hot.xml"/>
  <xi:include href="colors/max_rgb.xml"/>
  <xi:include href="colors/retinex.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-edit-buffer-dialog">
  <title>Buffer</title>

  <indexterm>
    <primary>Buffers</primary>
    <secondary>Named Buffers: Cut/Copy/Paste</secondary>
  </indexterm>

  <figure>
    <title>
      The <quote>Buffer</quote> submenu of the <quote>Edit</quote> menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/edit/buffer.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The commands in this submenu operate on
    <emphasis>named buffers</emphasis>. You can use the
    <link linkend="gimp-buffer-dialog">Buffers dialog</link>
    to view and manage any named buffers you have created.
  </para>

  <sect3>
    <title>Activate the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Buffer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Sub-menu entries</title>
    <variablelist>
      <varlistentry>
        <term>Cut Named</term>
        <listitem>
          <para>
            The <guimenuitem>Cut Named</guimenuitem> command cuts the
            content of the selection from the active layer in the usual way,
            but instead of storing the contents in the global clipboard, it
            stores it in a special buffer that you name using a pop-up
            dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Copy Named</term>
        <listitem>
          <para>
            The <guimenuitem>Copy Named</guimenuitem> command copies the
            contents of the selection from the active layer in the usual way,
            but instead of storing the content in the global clipboard, it
            stores it in a special buffer that you name using a pop-up
            dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Copy Visible Named</term>
        <listitem>
          <para>
            The <guimenuitem>Copy Visible Named</guimenuitem> command copies
            the content of the selection from all the visible layers in the
            usual way, but instead of storing the content in the global
            clipboard, it stores it in a special buffer that you name using a
            pop-up dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Paste Named</term>
        <listitem>
          <para>
            The <guimenuitem>Paste Named</guimenuitem>
            command simply brings up the
            <link linkend="gimp-buffer-dialog">Buffers dialog</link>.
            By selecting one of the listed buffers, and pressing one of the
            buttons at the bottom, you can either
            <link linkend="gimp-buffer-paste">Paste Buffer</link>,
            <link linkend="gimp-buffer-paste-into">Paste Buffer Into</link>,
            or <link linkend="gimp-buffer-paste-as-new">Paste Buffer as
              New</link>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-clear">
  <title>Clear</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Clear</secondary>
    <tertiary>Clear layer content</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Clear selection content</secondary>
  </indexterm>
  <indexterm>
    <primary>Clear</primary>
  </indexterm>

  <para>
    The <guimenuitem>Clear</guimenuitem> command deletes everything
    in the current selection. If there is no current selection,
    the contents of the active layer are removed. If the active
    layer has an alpha channel, the deleted selection is made
    transparent. You can restore the original color to the transparent
    area using the Eraser tool, by setting it to Anti-Erase. If the
    layer does not have an alpha channel, the deleted area is
    filled using the current background color.
  </para>
  <para>
    Clearing a selection does not delete the selection itself. Unlike
    <quote>Cut</quote>, <quote>Clear</quote> does not place the deleted
    contents in the Clipboard and the contents of the clipboard are
    unaffected.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Clear</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut <keycap>Delete</keycap>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-copy-visible">
  <title>Copy Visible</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Copy</secondary>
    <tertiary>Copy visible layers</tertiary>
  </indexterm>
  <indexterm>
    <primary>Copy Visible</primary>
  </indexterm>
  <indexterm>
    <primary>Copy Visible (Layers)</primary>
  </indexterm>

  <para>
    The <guimenuitem>Copy Visible</guimenuitem> command is similar to the
    <link linkend="gimp-edit-copy">Copy</link> command.  However, it does
    not just copy the contents of the current layer; it copies the contents
    of the visible layers (or the selection of the visible layers), that
    is, the ones that are marked with an <quote>eye</quote>.
  </para>
  <note>
    <para>
      Please note that the information about the layers is lost when the
      image data is put in the clipboard. When you later paste the
      clipboard contents, there is only one layer, which is the fusion of
      all the marked layers.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Copy Visible</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-copy">
  <title>Copy</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Copy</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Copy</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Copy</guimenuitem> command makes
    a copy of the current selection and stores it in the Clipboard.  The
    information can be recalled using the
    <link linkend="gimp-edit-paste">Paste</link>,
    <link linkend="gimp-edit-paste-into">Paste Into</link>, or
    <link linkend="gimp-edit-paste-as-new">Paste As New</link> commands. If
    there is no selection, the entire current layer is
    copied.  <quote>Copy</quote> only works on the current active
    layer. Any layers above or below it are ignored.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Copy</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>C</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-cut">
  <title>Cut</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Cut (/Paste)</secondary>
    <tertiary>Cut layer content</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Cut selection content</secondary>
  </indexterm>
  <indexterm>
    <primary>Cut</primary>
  </indexterm>

  <para>
    The <guimenuitem>Cut</guimenuitem> command deletes the contents of the
    image's selections, and saves them in a clipboard so that they can
    later be pasted using the <quote>Paste</quote>, <quote>Paste
    Into</quote>, or <quote>Paste As New</quote> commands. If there is no
    selection, the entire current layer is cut. The areas whose contents
    are cut are left transparent, if the layer has an alpha channel, or
    filled with the layer's background color, otherwise.
  </para>
  <note>
    <para>
      The <guimenuitem>Cut</guimenuitem> command only works on the current
      active layer. Any layers above or below the active layer are ignored.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Cut</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>X</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-fade">
  <title>Fade</title>

  <indexterm>
    <primary>Fade</primary>
  </indexterm>

  <para>
    This command is usually grayed out. It becomes active if you use the Fill
    function or the Blend tool, or if you apply some filters.
  </para>
  <para>
    It allows you to modify the paint mode and opacity of the
    <emphasis>last</emphasis> drawable operation (Fill, Blend, Filter) by
    creating a blend between the current state of the layer and the previous
    state. It performs the following operations: copy the active drawable,
    undo the last action, paste the copy as a new layer, set its
    <quote>Opacity</quote>, and merge both new layer and previously active
    drawable.
  </para>

  <sect3>
    <title>Activate the command</title>
    <para>
      You can get to this command from the image Menu bar through:
      <menuchoice>
        <guimenu>Edit</guimenu>
        <guimenuitem>Fade...</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>
      This command brings up a dialog window:
    </para>
    <figure>
      <title>The <quote>Fade</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/edit/fade-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Mode</term>
        <listitem>
          <para>
            This drop-down list allows you to choose a
            <link linkend="gimp-concepts-layer-modes">Layer merge mode</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            This slider value is initially set to the opacity of the color
            you used with the Fill or Blend tool, which corresponds to
            the current state. Lowering the opacity to 0 changes the drawable
            to its previous state. Intermediate values produce a mixture of
            the two according to the mode you have chosen. The effect of
            this setting is visible in real time in the image, but you have
            to click on the <guibutton>Fade</guibutton> button to validate
            it.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-fill-bg">
  <title>Fill with BG Color</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Fill</secondary>
    <tertiary>Fill with background color</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Fill</secondary>
    <tertiary>Fill with background color</tertiary>
  </indexterm>
  <indexterm>
    <primary>Fill with Background color</primary>
  </indexterm>

  <para>
    The <guimenuitem>Fill with BG Color</guimenuitem> command fills the
    active layer selection with the solid color shown in the Background
    part of the Color Area of the Toolbox.  (The color is also shown to the
    left of the menu entry.)  If some areas of the image are only partially
    selected (for example, as a result of feathering the selection), they
    are filled in proportion to how much they are selected.
  </para>
  <note>
    <para>
      Please note that if the image has no selection, the whole active layer
      is filled.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Fill with BG Color</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>.</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
    <note>
      <para>
        You can also fill a selection by click-and-dragging from the
        Toolbox background color.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-fill-fg">
  <title>Fill with FG Color</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Fill</secondary>
    <tertiary>Fill with foreground color</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Fill</secondary>
    <tertiary>Fill with foreground color</tertiary>
  </indexterm>
  <indexterm>
    <primary>Fill with Foreground Color</primary>
  </indexterm>

  <para>
    The <guimenuitem>Fill with FG Color</guimenuitem> command fills the
    image's selection with the solid color shown in the foreground part
    of the Color Area of the Toolbox.
    (The color is also shown to the left of the menu entry.)  If
    some areas of the image are only partially selected (for
    example, as a result of feathering the selection), they are
    filled in proportion to how much they are selected.
  </para>
  <note>
    <para>
      Please note that if the image has no selection, the whole active layer
      is filled.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Fill with FG Color</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>,</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
    <note>
      <para>
        You can also fill a selection by click-and-dragging from the
        Toolbox foreground color.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-fill-pattern">
  <title>Fill with Pattern</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Fill</secondary>
    <tertiary>Fill with pattern</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Fill</secondary>
    <tertiary>Fill with pattern</tertiary>
  </indexterm>
  <indexterm>
    <primary>Fill with Pattern</primary>
  </indexterm>

  <para>
    The <guimenuitem>Fill with Pattern</guimenuitem> command fills the
    image's selection with the pattern shown in the Brush/Pattern/Gradient
    area of the Toolbox.  (The pattern is also shown to the left of the
    menu entry.)  If some areas of the image are only partially selected
    (for example, as a result of feathering the selection), they are filled
    in proportion to how much they are selected.
  </para>
  <para>
    You can select another pattern by using the
    <link linkend="gimp-pattern-dialog">Pattern Dialog</link>.
  </para>
  <note>
    <para>
      Please note that if the image has no selection, the whole active layer
      is filled.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Fill with Pattern</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>;</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-edit-introduction">
  <title><quote>Edit</quote> Menu Entries</title>

  <figure>
    <title>Contents of the Edit Menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/edit.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    In this section, you will find help for commands in the
    <menuchoice><guimenu>Edit</guimenu></menuchoice> menu item.
  </para>
  <xi:include href="../about-plugin-menuitems.xml"/>
</sect2>
-#-#-
<sect2 id="gimp-module-dialog">
  <title>Modules</title>

  <indexterm>
    <primary>Modules</primary>
  </indexterm>
  <indexterm>
    <primary>Module Manager</primary>
  </indexterm>

  <para>
    With the <guimenuitem>Modules</guimenuitem> command, you can show
    the various extension modules which are available and control which
    of them should be loaded. Modules perform functions such as choosing
    colors and display filtering. Any changes you make to the settings with
    the Module Manager command will take effect the next time you start
    <acronym>GIMP</acronym>. These changes affect
    <acronym>GIMP</acronym>'s functional capabilities, its size in
    memory and its start-up time.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Modules</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Module Manager</quote> Dialog</title>
    <figure>
      <title>The <quote>Module Manager</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/edit/modules.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      The window of the Module Manager shows the loadable modules.
    </para>
    <para>
      Clicking on the boxes in the first column of the modules list will check
      or uncheck the modules. The next time you start <acronym>GIMP</acronym>,
      any checked module will be loaded.
    </para>
    <para>
      You will notice the difference only when you try to use the modules.
      For example, there are several <link linkend="gimp-color-dialog">color
      selectors</link> to select the foreground or background color. Some of
      these selectors are modules and will only be available when you check
      the respective option in the module manager:
    </para>
    <figure>
      <title>Loaded modules example: Color selector modules</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/edit/module-manager-ex1.png"/>
        </imageobject>
        <caption>
          <para>Color selector modules loaded</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/edit/module-manager-ex2.png"/>
        </imageobject>
        <caption>
          <para>Color selector modules not loaded</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      For loaded modules, information about the selected module is displayed
      at the bottom of the dialog.
    </para>
    <para>
      In the second column, for each loaded module the purpose of the module
      is shown. For any module, that is not loaded, the directory path of this
      module is shown.
    </para>
    <para>
      When you click on the <guibutton>Refresh</guibutton> button, the list of
      modules will be updated: modules no longer on disk will be removed, and
      new modules found will be added.
    </para>
  </sect3>
</sect2>
-#-#-
<sect3 id="script-fu-paste-as-brush">
  <title>Paste as New Brush</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Paste as new brush</primary>
  </indexterm>

  <para>
    This command opens a dialog window which lets you name the new brush.
    The brush appears in the <link linkend="gimp-brush-dialog">Brushes
    dialog</link>.
  </para>

  <sect4>
    <title>Options</title>
    <figure>
      <title>The <quote>New Brush</quote>dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/edit/paste-new-brush.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Brush name</term>
        <listitem>
          <para>
            <guilabel>Brush name</guilabel> is the name as it will be in
            the <quote>Brushes</quote> Dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>File name</term>
        <listitem>
          <para>
            The new brush is saved as <guilabel>File name</guilabel> (with
            extension <filename class="extension">.gbr</filename>) in your
            personal <filename class="directory">brushes</filename> folder.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spacing</term>
        <listitem>
          <para>
            <guilabel>Spacing</guilabel>: When the brush draws a line, it
            actually stamps the brush icon repeatedly. If brush stamps are
            very close, you get the impression of a solid line.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect4>

  <sect4>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guisubmenu>Paste as </guisubmenu>
            <guimenuitem>New Brush</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect4>
</sect3>
-#-#-
<sect3 id="gimp-edit-paste-as-new-layer">
  <title>Paste as New Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Paste as New Layer</primary>
  </indexterm>

  <para>
    The <guimenuitem>Paste As New Layer</guimenuitem> command creates a new
    layer in the active image and pastes the image data from the Clipboard
    into it. If the data are not rectangular or square in shape, any regions
    that do not extend to the edge of the canvas are left transparent (an
    Alpha channel is automatically created). Of course, you have to Copy your
    selection before you use this command.
  </para>

  <sect4>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guisubmenu>Paste as</guisubmenu>
            <guimenuitem>New Layer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect4>
</sect3>
-#-#-
<sect3 id="gimp-edit-paste-as-new">
  <title>Paste as New Image</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Paste as</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Paste</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Paste As New Image</guimenuitem> command creates a new
    image and pastes the image data from the Clipboard into it. If the data is
    not rectangular or square in shape, any regions outside the selection are
    left transparent (an alpha channel is automatically created). Of course,
    you have to copy your selection before you use this command, so that you
    get an image with the same dimensions as the selection.
  </para>
  <para>
    This command has the same action as the
    <menuchoice>
      <guimenu>File</guimenu>
      <guisubmenu>Create</guisubmenu>
      <guimenuitem>From Clipboard</guimenuitem>
    </menuchoice> command.
  </para>

  <sect4>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guisubmenu>Paste as</guisubmenu>
            <guimenuitem>New Image</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect4>
</sect3>
-#-#-
<sect3 id="script-fu-paste-as-pattern">
  <title>Paste as New Pattern</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Paste as new pattern</primary>
  </indexterm>

  <para>
    This command opens a dialog window which allows you to name your new
    pattern. The pattern appears in the
    <link linkend="gimp-pattern-dialog">Patterns dialog</link>.
  </para>

  <sect4>
    <title>Options</title>
    <figure>
      <title>The <quote>New Pattern</quote>dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/edit/paste-new-pattern.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Pattern name</term>
        <listitem>
          <para>
            <guilabel>Pattern name</guilabel> is the name as it will be in the
            Pattern Dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>File name</term>
        <listitem>
          <para>
            The new pattern is saved as <guilabel>File name</guilabel> (with
            extension <filename class="extension">.pat</filename>) in your
            personal <filename class="directory">patterns</filename> folder.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect4>

  <sect4>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guisubmenu>Paste as </guisubmenu>
            <guimenuitem>New Pattern</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect4>
</sect3>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-edit-paste-as">
  <title>Paste as</title>

  <para>
    This command pastes the clipboard contents. Of course, you must use
    the <quote>Copy</quote> command before, so that you have something in the
    clipboard. Else you will be prompted a warning:
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/edit/paste-warning.png"/>
      </imageobject>
    </mediaobject>
    or, if there is something you have forgotten, it will be pasted! There
    is no way to empty the clipboard.
  </para>
  <para>
    This command leads to the sub-menu:
  </para>
  <figure>
    <title>The <quote>Paste as</quote> sub-menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/edit/paste-as.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    <itemizedlist>
      <listitem>
        <para><xref linkend="gimp-edit-paste-as-new"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="gimp-edit-paste-as-new-layer"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="script-fu-paste-as-brush"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="script-fu-paste-as-pattern"/></para>
      </listitem>
    </itemizedlist>
  </para>
  <xi:include href="paste-as-new.xml"/>
  <xi:include href="paste-as-layer.xml"/>
  <xi:include href="paste-as-brush.xml"/>
  <xi:include href="paste-as-pattern.xml"/>
</sect2>
-#-#-
<sect2 id="gimp-edit-paste-into">
  <title>Paste Into</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Paste Into</primary>
  </indexterm>

  <para>
    The <guimenuitem>Paste Into</guimenuitem> command acts in a similar way
    to the <guimenuitem>Paste</guimenuitem> command. The primary difference
    becomes apparent if there is a selection within the canvas. Unlike the
    <quote>Paste</quote> command, which simply centers the pasted image
    data over the selection and replaces the selection with its own,
    <quote>Paste Into</quote> clips the pasted image data by the existing
    selection. The new selection can be moved as usual, but it is always
    clipped by the original selection area.
  </para>
  <para>
    If no selection exists, the <quote>Paste Into</quote> command places
    the data from the Clipboard into the center of the canvas, as the
    <quote>Paste</quote> command does.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Paste Into</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-paste">
  <title>Paste</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Paste</secondary>
  </indexterm>
  <indexterm>
    <primary>Paste</primary>
  </indexterm>

  <para>
    The <guimenuitem>Paste</guimenuitem> command puts whatever is in
    the Clipboard from the last <quote>Copy</quote> or <quote>Cut</quote>
    command into the current image. The pasted section becomes a
    <quote>floating selection</quote> and is shown as a separate layer in the
    Layers Dialog.
  </para>
  <para>
    If there is an existing selection on the canvas, it is used to align
    the pasted data. If there is already a selection, the data is pasted
    using the selection as a center point. If you want the selection to be
    used as a clipping region for the pasted data, you should use
    the <quote>Paste Into</quote> command.
  </para>
  <note>
    <para>
      You can have only <emphasis>one</emphasis> floating selection at any
      one time. You cannot work on any other layer while there is a
      floating selection; you have to either anchor it or remove it.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenuitem>Edit</guimenuitem>
            <guimenuitem>Paste</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>V</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-preferences">
  <title>The <quote>Preferences</quote> Command</title>

  <indexterm>
    <primary>Preferences (command)</primary>
  </indexterm>

  <para>
     This command displays the
    <link linkend="gimp-prefs-dialog">Preferences dialog</link>,
    which lets you alter a variety of settings that affect the look, feel,
    and performance of the <acronym>GIMP</acronym>.
  </para>

  <sect3>
    <title>Activate Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command in the image menu bar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Preferences</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-redo">
  <title>Redo</title>

  <indexterm>
    <primary>Redo</primary>
  </indexterm>

  <para>
    The <guimenuitem>Redo</guimenuitem> command reverses the effects of
    the <guimenuitem>Undo</guimenuitem> command.  Each
    <quote>Undo</quote> action can be reversed by a single
    <quote>Redo</quote> action. You can alternate <quote>Undo</quote> and
    <quote>Redo</quote> as many times as you like.  Note that you can
    only <quote>Redo</quote> an operation if the last action you did was
    an <quote>Undo</quote>.  If you perform any operation on the image
    after Undoing something, then the former Redo steps are lost, and
    there is no way to recover them.  See the
    <link linkend="gimp-concepts-undo">Undoing</link> section for more
    information.
  </para>
  <para>
    To see the operations which you have done and undone, use the
    <link linkend="gimp-undo-dialog">Undo History</link> dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Redo</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>Y</keycap></keycombo>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by simply clicking on the status you want in the
          <link linkend="gimp-undo-dialog">Undo History dialog</link>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-help-keyboard-shortcuts">
  <title>Keyboard Shortcuts</title>

  <indexterm>
    <primary>Keyboard Shortcuts</primary>
  </indexterm>

  <para>
    How to use this command is described in
    <xref linkend="gimp-concepts-shortcuts"/>.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Keyboard Shortcutsâ€¦</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-path-stroke">
  <title>Stroke Path</title>

  <indexterm>
    <primary>Paths</primary>
    <secondary>Stroke</secondary>
  </indexterm>
  <indexterm>
    <primary>Stoke path</primary>
  </indexterm>

  <para>
    The <guimenuitem>Stroke Path</guimenuitem> command strokes a path in
    the image. There are two ways you can stroke the path, either by using
    a paint tool, or without using one. There are various options which you
    can use to specify how this stroke should look.
  </para>
  <note>
    <para>
      This command is active only if there is a path in your image.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Stroke Path</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also access it by clicking on the button with the same name
          in the <link linkend="gimp-path-dialog">Path dialog</link>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the Dialog Window</title>
    <figure>
      <title>The <quote>Choose Stroke Style</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/edit/stroke-path.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The <guilabel>Choose Stroke Style</guilabel> dialog box allows you to
      choose between stroking the path with the options you specify or
      stroking it with a paint tool. If you stroke the path with a paint
      tool, the current paint tool options are used to draw the stroke.
    </para>
    <variablelist>
      <title>Stroke line</title>
      <para>
        The stroke is drawn with the current foreground color,
        set in the Toolbox. By clicking on the triangle next to
        <guilabel>Line Style</guilabel> however, the dialog expands
        and you can set several additional options:
      </para>
      <varlistentry>
        <term>Line Width</term>
        <listitem>
          <para>
            You can set the width of the stroke using the text box.
            The default unit is pixels, but you can choose another
            unit with the drop-down list button.
            </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Solid color / Pattern</term>
        <listitem>
          <para>
            You can choose whether the line is drawn in the
            <emphasis>Solid</emphasis> or the
            <emphasis>Pattern</emphasis>
            style. Here, Solid and Pattern are distinct from the dash
            pattern. If you select a Solid line with no dash pattern, an
            unbroken line is drawn in the foreground color set in the
            Toolbox. If you select a Patterned line with no dash
            pattern, an unbroken line is drawn with the pattern set in
            the Toolbox. If you select a line with a dash pattern, the
            color or pattern is still determined by the foreground color
            or pattern set in the Toolbox. That is, if you select a
            marbled pattern and Patterned, dashed lines, the dashes are
                  drawn in the marbled pattern
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Line Style</term>
        <listitem>
          <para>
            This drop-list brings some detailed options :
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Cap Style</guilabel> : You can choose the shape of
                the ends of an unclosed path,  which can be
                <emphasis>Butt</emphasis>, <emphasis>Round</emphasis>
                or <emphasis>Square</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Join Style</guilabel> :
                You can choose the shape of the path corners by
                clicking on <emphasis>Miter</emphasis>,
                <emphasis>Round</emphasis> or <emphasis>Bevel</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Miter limit</guilabel> :
                When two segments of a path come together, the mitering of
                the corner is determined by the Miter Limit. If the strokes
                were wide, and no mitering were done, there would be pointed
                ends sticking out at the corner. The Miter Limit setting
                determines how the gap, formed when the outer edges of the
                two lines are extended, will be filled. You can set it to a
                value between 0.0 and 100.0, by using the slider or the
                associated text box and its arrows.
              </para>
              <figure>
                <title>Example of miter limit</title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/edit/stroke-path-miter.png"/>
                  </imageobject>
                  <caption>
                    <para>Left: Limit=0; Right: Limit=5;</para>
                  </caption>
                </mediaobject>
              </figure>
            </listitem>
            <listitem>
              <para>
                <guilabel>Dash Pattern</guilabel> :
                On the pixel level, a dashed line is drawn as a series of
                tiny boxes. You can modify the pattern of these boxes. The
                black area with thin vertical lines represents the pixels of
                the dash. If you click on a black pixel, you remove it from
                the dash. If you click on a white pixel, you add it to the
                dash. The gray areas indicate how the pattern will be
                repeated when a dashed line is drawn.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Dash Preset</guilabel> :
                Instead of making your own dash pattern, you can choose
                one from the drop-down box. This pattern will
                then be displayed in the <guilabel>Dash pattern</guilabel>
                area, so you can get an idea of how it will look.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Anti-aliasing</guilabel> :
                Curved strokes or strokes drawn at an angle may look jagged
                or stair-stepped. The anti-aliasing option smooths them
                out.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Stroking with a Paint Tool</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Paint Tool</term>
              <listitem>
                <para>
                  You can select a paint tool to use to draw the stroke from
                  the drop-down box. If you do that, the currently-selected
                  options of the paint tool are used, rather than the settings
                  in the dialog.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Emulate Brush Dynamics</term>
              <listitem>
                <para>
                  See <link linkend="gimp-tool-brush-dynamics">Brush
                  Dynamics</link>.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-stroke">
  <title>Stroke Selection</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Stroke selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Stroke Selection</primary>
  </indexterm>

  <para>
    The <guimenuitem>Stroke Selection</guimenuitem> command strokes a
    selection in the image. There are two ways you can stroke the selection,
    either by using a paint tool or without using one. This means that the
    selection border, which is emphasized in the image with a dotted line,
    can be drawn with a stroke. There are various options which you can use
    to specify how this stroke should look.
  </para>
  <note>
    <para>
    This command is only active if the image has an active selection.
     </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Stroke Selection</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also access it through the
          <link linkend="gimp-selection-dialog">Selection Editor</link>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The <quote>Stroke Selection</quote> dialog</title>
    <note>
      <para>
        The options for stroking selections and for stroking paths
        are the same. You can find the documentation about the options
        in the dialog box in the
        <link linkend="gimp-path-stroke">Stroke Path</link> section.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-undo-history">
  <title>Undo History</title>

  <indexterm>
    <primary>Undo History</primary>
  </indexterm>

  <para>
    The <guimenuitem>Undo History</guimenuitem> command activates the
    <link linkend="gimp-undo-dialog">Undo History dialog</link>, which
    shows you thumbnails representing the operations you have done
    so far on the current image. This overview makes it easier for
    you to undo steps or to redo them.
  </para>
  <para>
    Use the arrows for
    <link linkend="gimp-edit-undo">Undo</link> and
    <link linkend="gimp-edit-redo">Redo</link>, or simply click
    on the thumbnail, to bring the image back to a previous state.
    This is especially useful when you are working
    on a difficult task, where you often need to undo several steps
    at once. It is much easier to click on step 10 than to type
    <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo>
    ten times.
  </para>
  <para>
    The <quote>Clear undo History</quote> command may be useful if you are
    working on a complex image and you want to free some memory.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Undo History</guimenuitem>
          </menuchoice>.
          There is no default keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-edit-undo">
  <title>Undo</title>

  <indexterm>
    <primary>Undo</primary>
  </indexterm>

  <para>
    If you have made drawing or editing changes to the image which you
    don't want to keep, the <guimenu>Undo</guimenu> command allows you to
    undo the last change and return the image to its previous state.
    Almost anything you do to an image can be
    undone in this way (with the exception of scripts, which deactivate
    this function). Further Undo operations may be performed, depending
    upon the number of Undo levels configured in the
    <link linkend="gimp-prefs-environment">Environment</link>
    page of the Preferences Dialog. See the section on
    <link linkend="gimp-concepts-undo">Undoing</link>
    for more information about <acronym>GIMP</acronym>'s
    very sophisticated <quote>Undo</quote> functions.
  </para>
  <para>
    The operation that has been <quote>undone</quote> is not lost
    immediately: you can get it back by using the
    <link linkend="gimp-edit-redo">Redo</link> command right away. But
    if you perform another operation, the ability to <quote>Redo</quote> will
    be irretrievably lost.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Undo</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by simply clicking on the status you want in the Undo
          History dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-unit-editor">
  <title>Units</title>

  <indexterm>
    <primary>Unit of measurement</primary>
  </indexterm>
  <indexterm>
    <primary>Units</primary>
  </indexterm>
  <indexterm>
    <primary>Unit Editor</primary>
  </indexterm>

  <para>
    The <guimenuitem>Units</guimenuitem> command displays a dialog
    which shows information about the units of measurement that are
    currently being used by <acronym>GIMP</acronym>. It also
    allows you to create new units which can be used by
    <acronym>GIMP</acronym> in a variety of situations.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guimenuitem>Units</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Unit Editor</quote> dialog window</title>
    <figure>
      <title>The <quote>Unit Editor</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <!--OLD: images/menus/unit-editor.png-->
          <imagedata fileref="images/menus/edit/units.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The figure above shows the <quote>Unit Editor</quote> dialog window.
      The list shows the units of measurement which are currently defined.
      You can click on the <guilabel>New</guilabel> button or the
      <guilabel>Duplicate</guilabel> button to create a new measurement
      unit, as described below.
    </para>
    <itemizedlist>
      <title>Description of the list elements</title>
      <listitem>
        <para>
          <emphasis>Saved</emphasis>:
          If this column is checked, a unit definition will be saved when
          <acronym>GIMP</acronym> exits.
          Some units are always kept, even if they are not marked with a
          check. These are highlighted in the list.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>ID</emphasis>:
          The string <acronym>GIMP</acronym> uses to identify
          the unit in its configuration files.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Factor</emphasis>:
          How many units make up an inch.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Digits</emphasis>:
          This field is a hint for numerical input fields. It specifies
          how many decimal digits the input field should provide to get
          approximately the same accuracy as an <quote>inch</quote> input
          field with two decimal digits.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Symbol</emphasis>:
          The unit's symbol if it has one (e.g. " for inches). The unit's
          abbreviation is used if doesn't have a symbol.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Abbreviation</emphasis>:
          The unit's abbreviation (e.g. <quote>cm</quote> for centimeters).
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Singular</emphasis>:
          The unit's singular form, which
          <acronym>GIMP</acronym> can use to display messages
          about the unit.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Plural</emphasis>:
          The unit's plural form, which
          <acronym>GIMP</acronym> can use to display messages
          about the unit.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Defining New Units</title>
    <figure>
      <title>The <quote>New Unit</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <!--OLD: images/menus/unit-editor-new.png-->
          <imagedata format="PNG"
            fileref="images/menus/edit/units-add-new.png"/>
        </imageobject>
        <caption>
          <para>Adding the new unit <quote>wilbers</quote></para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      You can display the dialog shown above by clicking on either the
      <guilabel>New</guilabel> button or the <guilabel>Duplicate</guilabel>
      button on the <guimenuitem>Unit Editor</guimenuitem> dialog. The input
      fields on the dialog are described above.
    </para>
    <para>
      If you click on the <guilabel>New</guilabel> button, most input fields
      are empty. If you click on the <guilabel>Duplicate</guilabel> button,
      the values initially displayed in the input fields of the dialog are the
      values of the unit you have currently selected in the
      <guilabel>Unit&nbsp;Editor</guilabel> dialog. You can then edit the
      values to create your new unit.
    </para>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-edit-menu">
  <title>The <quote>Edit</quote> Menu</title>

  <indexterm>
    <primary>Menus</primary>
    <secondary>Edit</secondary>
  </indexterm>

  <xi:include href="edit/introduction.xml"/>
  <!-- menu -->
  <xi:include href="edit/undo.xml"/>
  <xi:include href="edit/redo.xml"/>
  <xi:include href="edit/fade.xml"/>
  <xi:include href="edit/undo-history.xml"/>
  <!-- separator -->
  <xi:include href="edit/cut.xml"/>
  <xi:include href="edit/copy.xml"/>
  <xi:include href="edit/copy-visible.xml"/>
  <xi:include href="edit/paste.xml"/>
  <xi:include href="edit/paste-into.xml"/>
  <xi:include href="edit/paste-as.xml"/>
  <xi:include href="edit/buffer.xml"/>
  <!-- separator -->
  <xi:include href="edit/clear.xml"/>
  <xi:include href="edit/fill-fg.xml"/>
  <xi:include href="edit/fill-bg.xml"/>
  <xi:include href="edit/fill-pattern.xml"/>
  <xi:include href="edit/stroke-selection.xml"/>
  <xi:include href="edit/stroke-path.xml"/>
  <!-- separator -->
  <xi:include href="edit/preferences.xml"/>
  <xi:include href="edit/shortcuts.xml"/>
  <xi:include href="edit/module-manager.xml"/>
  <xi:include href="edit/units.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-file-close-all">
  <title>Close all</title>
  <para>
    This command closes all images you have opened.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice><guimenu>File</guimenu><guimenuitem>Close All</guimenuitem></menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Shift</keycap><keycap>Ctrl</keycap><keycap>W</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-close">
  <title>Close</title>

  <anchor id="gimp-file-close-confirm"/>
  <indexterm>
    <primary>Image</primary>
    <secondary>Close image</secondary>
  </indexterm>
  <indexterm>
    <primary>Close</primary>
  </indexterm>

  <para>
    The <guimenuitem>Close</guimenuitem> command closes the active image.It is
    disabled if no image is open.
  </para>
  <para>
    Closing an image is not undoable: once it is
    closed, everything is gone, including the undo history.  If the image
    is not <quote>clean</quote> â€” that is, if you have changed it since the
    last time you saved it â€” you are asked to confirm that you really want
    to close it.  Note that an image is marked as clean when it is saved to
    a file, even if the file format chosen does not preserve all the
    information in the image, so it is a good idea to think for a moment
    about what you are doing before closing an image.  If there is the
    slightest possibility that you will regret it, save the file (automatically
    in the XCF file format since <acronym>GIMP</acronym>-2.8).
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Close</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>W</keycap></keycombo>.
        </para>
      </listitem>
      <listitem>
        <para>
          For most systems on which the <acronym>GIMP</acronym> runs,
          you can also execute it by clicking on a
          <quote>Close</quote> button somewhere on the image window titlebar.
          The location and appearance of this button are determined by the
          windowing system and the window manager. If no image is open,
          clicking on this button closes GIMP.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-create-template">
  <!--TO TRANLATORS: this file comes from the old save-as-template xml file-->
  <title>Create Template</title>

  <indexterm>
    <primary>Create Template</primary>
  </indexterm>
  <indexterm>
    <primary>Template</primary>
    <secondary>Create Template</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Create Template</guimenuitem> command creates a
    template with the same dimensions and color space as the current
    image. A dialog pops up, which asks you to
    name the new template. Then the template is saved and becomes
    available in the <link linkend="gimp-file-new">New Image</link>
    dialog.  If you give a name that already exists,
    <acronym>GIMP</acronym> generates a unique name
    by appending a number to it.  You can use the
    <link linkend="gimp-template-dialog">Templates</link> dialog
    to modify or delete templates.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Create Template</guimenuitem>
          </menuchoice>.
          There is no default keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-create">
  <title>Create</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Acquire an image</secondary>
  </indexterm>
  <indexterm>
    <primary>Acquire</primary>
  </indexterm>

  <figure>
    <title>The <quote>Create</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG" fileref="images/menus/file/create.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    This menu item replaces the <quote>Acquire</quote> menu which
    existed in <acronym>GIMP</acronym> previous versions in the Toolbox
    Menu and contains a lot of logos, buttons, patterns...
  </para>
  <para>
    These commands vary somewhat, depending upon your system, since
    the <acronym>GIMP</acronym> makes calls to system functions.
  </para>

  <sect3> <!--id="gimp-file-create-activate"-->
    <title>Activate the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the Image menu bar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Create</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="gimp-file-create-clipboard">
    <title>From Clipboard</title>
    <para>
      When you copy a selection, it goes into the clipboard. Then you can
      create a new image with it.
    </para>
    <para>
      This command has the same action as the
      <link linkend="gimp-edit-paste-as-new">Paste as new</link> command.
    </para>
    <para>
      The <keycap>Print Screen</keycap> keyboard key captures the screen and
      puts it in the clipboard. This command has the same action as
      <quote>taking a screenshot of the entire screen</quote> in the
      <link linkend="plug-in-screenshot">Screenshot</link> dialog window. The
      <keycombo><keycap>Alt</keycap><keycap>Print Screen</keycap>
      </keycombo> key combination grabs the active window in the screen
      with its decorations and puts it in the clipboard.
    </para>
  </sect3>

  <sect3>
    <title>From Web page</title>
    <para>
      This command opens a dialog where you can enter the URL of a Web page and
      get the image in GIMP.
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG" fileref="images/menus/file/create/webpage.png"/>
      </imageobject>
      <caption>
        <para>
          The command defaults to gimp.org. Please have a try to it.
        </para>
      </caption>
    </mediaobject>
  </sect3>

  <sect3 id="plug-in-screenshot">
    <title>Screenshot</title>

    <indexterm>
      <primary>Screenshot</primary>
    </indexterm>

    <figure>
      <title>The <quote>Screenshot</quote> window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/file/create/screenshot.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      The <guimenuitem>Screenshot</guimenuitem> command opens a
      dialog with two parts:
    </para>

    <variablelist>
      <varlistentry>
        <term>Area</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Take a screenshot of a single window</term>
              <listitem>
                <para>
                  The mouse pointer becomes a cross. Click in the image window
                  you want to capture. A new image is created. If the
                  <guilabel>Include window decoration</guilabel> option is
                  unchecked, the title bar and the blue frame around the image
                  will be removed.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Take a screenshot of the entire screen</term>
              <listitem>
                <para>
                  This is useful if you want to capture a pop menu. A delay is
                  then necessary, so that you have time to pull the pop menu
                  down.
                </para>
                <para>
                  If the <guilabel>Include mouse pointer</guilabel> option is
                  checked, then the mouse pointer and its coming with icon are
                  also captured. The mouse pointer is captured in a separate
                  layer. So you can move it to another place in the image.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Select a region to grab</term>
              <listitem>
                <para>
                  The mouse pointer becomes a cross. Click and drag to create
                  a rectangular selection in the image window. This selection
                  will be opened as a new image. Its size is adapted to the
                  selection size.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Delay</term>
        <listitem>
          <para>
            When taking a screenshot of the entire screen, the screen is
            captured after this delay. In the other cases, the mouse pointer
            turns to a cross after this delay.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <!--TODO: somebody with scanner and/or camera should review/update this-->
  <sect3>
    <title>Image capture devices</title>
    <!--<anchor id="twain-acquire"/>-->
    <para>
      This item is present only if you have  installed image capture
      devices.
    </para>
    <figure>
      <title>Scanner and Camera</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/file/create/scanner.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The kinds of devices used to take pictures are too varied to be
      described here. Fortunately, their use is fairly intuitive. In the
      example shown, you can start a scanner or take an image with a
      webcam.
    </para>
  </sect3>

  <sect3>
    <title>Buttons, Logos, Patterns, Web Page Themes</title>
    <para>
      An impressive list of script-fus. Have a look at it!
    </para>
  </sect3>

  <sect3>
    <title>New brush from text...</title>
    <para>
      TODO (this command fails on my system)
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-export-to">
  <title>Export</title>

  <indexterm>
    <primary>Export</primary>
  </indexterm>

  <para>
    This command is called <quote>Export</quote> for a native XCF file.
    Then, it does the same thing as <command>Export As</command>.
    At early <application><acronym>GIMP</acronym> 2.8</application> releases,
    this menu label was <quote>Export to</quote>.  Since the version 2.8.10,
    <quote>Export to</quote> and <quote>Export</quote> have been renamed to
    <quote>Export</quote> and <quote>Export As</quote> after the manner of
    <quote>Save</quote> and <quote>Save As</quote>.
  </para>
  <para>
    The name becomes <quote>Overwriting name.extension</quote> for an imported
    image. So, you can export the imported image directly in its original
    file format, without going through the export dialog.
  </para>
</sect2>
-#-#-

<sect2 id="gimp-file-export">
  <title>Export As...</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Export As</secondary>
  </indexterm>
  <indexterm>
    <primary>Export As</primary>
  </indexterm>

  <para>
    <command>Export As...</command> allows you to save your image in a format
    other than XCF.
  </para>

  <mediaobject>
    <imageobject>
      <imagedata fileref="images/using/export-image-dialog.png" format="PNG"/>
    </imageobject>
  </mediaobject>
  
  <note>
    <para>
      Please refer to <xref linkend="gimp-using-fileformats"/> for information
      about exporting in different file formats.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Export As...</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap>
            <keycap>Ctrl</keycap><keycap>E</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

</sect2>
-#-#-
<sect2 id="gimp-file-new">
  <title>New</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>New</secondary>
  </indexterm>
  <indexterm>
    <primary>New</primary>
  </indexterm>
  <indexterm>
    <primary>New Image</primary>
  </indexterm>

  <para>
    Using the <guimenuitem>New Image</guimenuitem> dialog, you can
    create a new empty image and set its
    properties. The image is shown in a new image window.
    You may have more than one image on your screen at the same time.
  </para>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access the command in the Image menu through:
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>New</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>N</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Basic Options</title>
    <figure>
      <title>The <quote>New Image</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/menus/file/new.png"/>
          <!-- was: images/dialogs/dialogs-new-image.png -->
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <indexterm>
        <primary>Template</primary>
        <secondary>Menu</secondary>
      </indexterm>
      <indexterm>
        <primary>Image</primary>
        <secondary>Image size</secondary>
        <tertiary>When creating</tertiary>
      </indexterm>
      <indexterm>
        <primary>Image size</primary>
      </indexterm>
      <varlistentry>
        <term>Template</term>
        <listitem>
          <figure>
            <title>The <quote>Template</quote> dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/file/new/templates.png"/>
              </imageobject>
              <!-- was: images/dialogs/dialogs-new-image-templates.png -->
            </mediaobject>
          </figure>
          <para>
            Rather than entering all the values by hand, you can select some
            predefined values for your image from a menu of templates, which
            represent image types that are somewhat commonly useful. The
            templates set values for the size, resolution, comments, etc. If
            there is a particular image shape that you use often and it
            does not appear on the list, you can create a new template, using
            the <link linkend="gimp-template-dialog">Templates</link> dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Image Size</term>
        <listitem>
          <para>
            Here you set the <guilabel>Width</guilabel> and
            <guilabel>Height</guilabel> of the new image.  The
            default units are pixels, but you can choose a different
            unit if you prefer, using the adjoining menu. If you do,
            note that the resulting pixel size is determined by
            the X and Y resolution (which you can change in the
            <guilabel>Advanced Options</guilabel>), and by setting
            <quote>Dot for Dot</quote> in the
            <guimenu>View</guimenu> menu.
          </para>
          <para>
            If no image is open, the <quote>New</quote> image is opened in
            the empty image window, with the default size you have determined.
            If you open the <quote>New</quote>image when another is open (or
            has been), then it is opened in another window, with the same
            size as the first image.
          </para>
          <note>
            <para>
              Keep in mind that every pixel of an image is stored
              in memory. If you create large files with a high pixel
              density, <acronym>GIMP</acronym> will need a lot
              of time and memory for every function you apply to the
              image.
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Portrait/Landscape buttons</term>
        <listitem>
          <indexterm>
            <primary>Portrait/Landscape mode</primary>
          </indexterm>
          <para>
            There are two buttons which toggle between Portrait and Landscape
            mode. What they actually do is to exchange the values for Width
            and Height. (If the Width and Height are the same, these buttons
            are not activated.) If the X and Y resolutions are not the same
            (which you can set in Advanced Options), then these values are
            also exchanged. On the right of the dialog, image size, screen
            resolution and color space are displayed.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Advanced Options</title>
    <figure>
      <title>New Image dialog (Advanced Options)</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/file/new/advanced-dialog.png"/>
        </imageobject>
        <!-- was: images/dialogs/dialogs-new-image-advanced.png -->
      </mediaobject>
    </figure>
    <para>
      The <guilabel>Advanced Options</guilabel>
      are mostly of interest to more advanced <acronym>GIMP</acronym>
      users. You can display these options by clicking on the small triangle
      on the lower edge of the dialog window.
    </para>
    <variablelist>
      <indexterm>
        <primary>Image</primary>
        <secondary>Resolution</secondary>
        <tertiary>Setting when creating</tertiary>
      </indexterm>
      <indexterm>
        <primary>Resolution</primary>
        <secondary>Setting when creating</secondary>
      </indexterm>
      <varlistentry>
        <term>X and Y resolution</term>
        <listitem>
          <para>
            The values in the <guilabel>X resolution</guilabel> and
            <guilabel>Y resolution</guilabel>
            fields relate mainly to printing: they do not affect the size of
            the image in pixels, but they may determine its physical size when
            it is printed. The X and Y resolution values can determine how
            pixels are translated into other measurement units, such as
            millimeters or inches.
          </para>
          <tip>
            <para>
              If you want to display the image on the screen at the
              correct dimensions, select
              <menuchoice>
                <guimenu>View</guimenu>
                <guimenuitem>Dot for Dot</guimenuitem>
              </menuchoice>
              Set the zoom factor to 100% to see the image at its true
              screen size. The calibration of the screen size is normally
              done when <acronym>GIMP</acronym> is installed,
              but if the image does not display at the correct size,
              you may have to adjust the screen parameters in the
              <acronym>GIMP</acronym>. You can do this in
              the <link linkend="gimp-prefs-display">Preferences</link>
              dialog.
            </para>
          </tip>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Colorspace</term>
        <listitem>
          <para>
            You can create the new image in different
            <link linkend="gimp-image-mode">color modes</link>, as either an
            <link linkend="glossary-rgb">RGB</link> image or a grayscale image.
          </para>
          <variablelist>
            <varlistentry>
              <term>RGB color</term>
              <listitem>
                <para>
                  The image is created in the Red, Green, Blue color system,
                  which is the one used by your monitor or your television
                  screen.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Grayscale</term>
              <listitem>
                <para>
                  The image is created in black and white, with various shades
                  of gray. Aside from your artistic interests, this type of
                  image may be necessary for some plug-ins. Nevertheless, the
                  <acronym>GIMP</acronym> allows you to
                  <link linkend="gimp-image-convert-grayscale">change an RGB
                  image into grayscale</link>, if you would like.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <para>
            You cannot create an indexed image directly with this menu, but of
            course you can always convert the image to indexed mode after it
            has been created. To do that, use the
            <menuchoice>
              <guimenu>Image</guimenu>
              <guisubmenu>Mode</guisubmenu>
              <guimenuitem>Indexed</guimenuitem>
            </menuchoice> command.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fill</term>
        <listitem>
          <para>
            Here, you specify the background color that is used for your new
            image. It is certainly possible to change the background of an
            image later, too. You can find more information about doing that
            in the <link linkend="gimp-layer-dialog">Layer dialog</link>.
          </para>
          <itemizedlist>
            <para>There are several choices:</para>
            <listitem>
              <para>
                Fill the image with the current <guilabel>Foreground
                color</guilabel>, shown in the Toolbox.
              </para>
              <para>
                Note that you can change the foreground color while the
                <quote>New Image</quote> dialog window is open.
              </para>
            </listitem>
            <listitem>
              <para>
                Fill the image with the current <guilabel>Background
                color</guilabel>, shown in the Toolbox. (You can change the
                background color too, while the dialog window is open.)
              </para>
            </listitem>
            <listitem>
              <para>
                Fill the image with <guilabel>White</guilabel>.
              </para>
            </listitem>
            <listitem>
              <para>
                Fill the image with <guilabel>Transparency</guilabel>. If you
                choose this option, the image is created with an <link
                linkend="glossary-alpha-channel">alpha&nbsp;channel</link> and
                the background is transparent. The transparent parts of the
                image are then displayed with a checkered pattern, to indicate
                the transparency.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Comment</term>
        <listitem>
          <indexterm>
            <primary>Image</primary>
            <secondary>Comment</secondary>
          </indexterm>
          <indexterm>
            <primary>Comment</primary>
          </indexterm>
          <para>
            You can write a descriptive comment here. The text is
            attached to the image as a
            <link linkend="glossary-parasite">parasite</link>, and is saved
            with the image by some file formats (PNG, JPEG, GIF).
          </para>
          <note>
            <para>
              You can view and edit this comment in the
              <link linkend="gimp-image-properties">Image Properties</link>
              dialog.
            </para>
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-open-as-layer">

  <title>Open as Layers</title>
  <indexterm>
    <primary>Image</primary>
    <secondary>Open</secondary>
    <tertiary>As layers</tertiary>
  </indexterm>
  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Open image as layers</tertiary>
  </indexterm>
  <indexterm>
    <primary>Open as layers</primary>
  </indexterm>

  <para>
    The <guimenu>Open Image as layers</guimenu> dialog is identical to the
    <link linkend="gimp-file-open">Open Image</link> dialog. The layers of the
    selected file are added to the current image as the top layers in the
    stack.
  </para>
  <sect3>
    <title>Activate Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Open as layers</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>O</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<!-- open tasks:
 -->
<sect2 id="gimp-file-open-location">
  <title>Open Location</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Open</secondary>
    <tertiary>Open location</tertiary>
  </indexterm>
  <indexterm>
    <primary>Open Location</primary>
  </indexterm>

  <para>
    The <guimenuitem>Open Location</guimenuitem> dialog lets you load an
    image from a network location, specified by a URI, in any of the formats
    that <acronym>GIMP</acronym> supports.
  </para>

  <sect3>
    <title>Activate Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the Toolbox menubar or the
          image menubar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Open Locationâ€¦</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the dialog window</title>
    <figure>
      <title>The <quote>Open Location</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/file/open-location.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>The most typical schemes to open images with are:</para>
    <variablelist>
      <varlistentry>
        <term>file://</term>
        <listitem>
          <para>to open an image from a local drive</para>
          <para>
            You can omit the <quote>file://</quote> prefix and open images
            simply by putting an absolute or relative path and filename in
            here.
          </para>
          <para>
            The default base directory for relative paths depends on your
            operating system. It is typically
            <filename>/home/&lt;username&gt;/</filename> on Linux,
            <filename role="html">C:\Documents and
            Settings\&lt;username&gt;\My Documents\My Images\</filename>
            <filename role="tex">C:\\Documents and
            Settings\\&lt;username&gt;\\My Documents\\My Images\\</filename>
            on Windows and
            <filename>/Users/&lt;username&gt;/</filename> on Mac OS X.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>ftp://</term>
        <listitem>
          <para>to open an image from a ftp server</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>http://</term>
        <listitem>
          <para>to load an image from a website</para>
          <tip>
            <para>
              When you are visiting an Internet site, you can right-click on
              an image and choose <quote>Copy link address</quote>
              in the drop-down menu. Then paste it in the
              <quote>Open Location</quote> dialog to open it in GIMP.
            </para>
            <para>
              Even if this command makes it very easy to grab images from
              web sites:
              <emphasis>
                Please respect the copyright! Images, even if published on the
                Internet are not always free to be used for you.
              </emphasis>
            </para>
          </tip>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-open-recent">
  <title>Open Recent</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Open</secondary>
    <tertiary>Open recent</tertiary>
  </indexterm>
  <indexterm>
    <primary>Open Recent</primary>
  </indexterm>

  <para>
    Selecting <guimenuitem>Open Recent</guimenuitem> displays a submenu with
    the names of the files that you have opened recently in
    <acronym>GIMP</acronym>. Simply click on a name to reopen it. See the
    <link linkend="gimp-document-dialog">Document History dialog</link> at the
    bottom of the Open Recent submenu, if you cannot find your image.
  </para>

  <sect3>
    <title>Activate Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the
          image menubar through
          <menuchoice>
            <guimenu>File</guimenu><guimenuitem>Open Recent</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-open">
  <title>Open</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Open</secondary>
  </indexterm>
  <indexterm><primary>Open</primary></indexterm>

  <para>
    The <guimenuitem>Open</guimenuitem> command activates a dialog that lets
    you load an existing image from your hard-drive or an external medium.
    For alternative, and sometimes more convenient, ways of opening files, see
    the following commands (<xref linkend="gimp-file-open-as-layer"/> etc.).
  </para>

  <sect3>
    <title>Activate Dialog</title>

    <itemizedlist>
      <listitem>
        <para>
          You can access the <guimenuitem>Open</guimenuitem> dialog
          from an image window through:
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Open</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also open the Dialog by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>O</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>File browsing</title>

    <figure>
      <!--OLD: file-open-dialog.xcf.gz in src/images/menus-->
      <!--2.6: file-open.xcf.gz in src/images/menus-->
      <title>Open Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/file/open.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      This browser looks like other browsers and it is mostly
      self-explanatory. It has some particuliar features nevertheless.
    </para>
    <orderedlist>
      <listitem><!--1-->
        <para>
          The button <guibutton>Type a file name</guibutton> toggles between
          add and remove the <guilabel>Location</guilabel> text box.
        </para>
        <para>
          The <keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo>
          key combination has the same action as this button.
        </para>
      </listitem>

      <listitem><!--2-->
        <para>
          In the <guilabel>Location</guilabel> text box you can type a path to
          an image file. If you don't type any path, the name of the selected
          file will be displayed. You can also type the first letters of the
          name: it will be auto-completed and a list of file names beginning
          with these letters will be displayed.
        </para>
        <para>
          When you search for a file or directory using the
          <guilabel>Search</guilabel> feature (see below, item 4), the label
          changes to <guilabel>Search</guilabel> and you can enter the name in
          this text box.
        </para>
      </listitem>

      <!--
      <listitem><!-OLD 3->
        <para>
          <guibutton>Create a folder</guibutton> button: this button lets
          you add a new folder in the current folder. For some strange
          reason, this button is not always present and you can't remove
          this new folder.
        </para>
        XXX: Probably "Create folder" is only visible if you *save* a file
        - using the "Save Image" dialog.
      </listitem>
      -->

      <listitem><!--3-->
        <para>
          The path to the current folder is displayed. You can navigate along
          this path by clicking on an element.
        </para>
      </listitem>

      <listitem><!--4-->
        <para>
          With <guilabel>Search</guilabel> you can look for a file (or
          directory), even if you don't know the exact name of that file.
          Click on <guilabel>Search</guilabel>, type a file name or just a
          part of a file name in the text box above, and press
          <keycap>Enter</keycap>. Then the central frame (7) will list all
          files and directories of your home directory with names containing
          the text you typed in. Unfortunately you can't restrict the results
          to files of a specified type (10). 
        </para>
        <para>
          <guilabel>Recently used</guilabel> is self-explanatory.
        </para>
      </listitem>

      <listitem><!--5-->
        <para>
          Here, you can access to your main folders and to your store devices.
        </para>
      </listitem>

      <listitem><!--6-->
        <para>
          Here, you can add bookmarks to folders, by using the
          <guibutton>Add</guibutton> or the <guilabel>Add to
          Bookmarks</guilabel> option you get by right-clicking a folder in
          the central panel, and also remove them.
        </para>
      </listitem>

      <listitem><!--7-->
        <para>
          The contents of the selected folder is displayed here. Change your
          current folder by double left clicking on a folder in this
          panel. Select a file with a single left click. You can then open
          the file you have selected by  clicking on the
          <guibutton>Open</guibutton> button.
          A double left click opens the file directly. Please note that you
          can open image files only.
        </para>
        <para>
          Right-clicking a folder name opens a context menu:
        </para>

        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/menus/file/open/folder-context-menu.png"/>
            </imageobject>
            <caption>The folder context menu</caption>
          </mediaobject>
        </screenshot>
      </listitem>

      <listitem><!--8-->
        <para>
          The selected image is displayed in the <guilabel>Preview</guilabel>
          window. If it is an image created by <acronym>GIMP</acronym>, file
          size, resolution and image composition are displayed below the
          preview window.
        </para>

        <tip>
          <para>
            If your image has been modified by another program, click on the
            Preview window to update it.
          </para>
        </tip>
      </listitem>

      <listitem><!--9-->
        <para>
          By clicking the <guibutton>Add</guibutton> button, you add the
          selected folder to bookmarks.
        </para>
        <para>
          By clicking the <guibutton>Remove</guibutton>, you remove the
          selected bookmark from the list.
        </para>
      </listitem>

      <listitem><!--10-->
        <para>
          You will generally prefer to display the names of
          <guilabel>All images</guilabel>. You can also select
          <guilabel>All files</guilabel>. You can also limit yourself to
          a particular type of image (GIF, JPG, PNG ...).
        </para>
      </listitem>

      <listitem><!--11-->
        <para>
          <guilabel>Select File Type</guilabel>: In most cases you
          don't need to pay any attention to this, because
          <acronym>GIMP</acronym> can determine the file type
          automatically. In a few rare situations, neither the file
          extension nor internal information in the file are enough to tell
          <acronym>GIMP</acronym> the file type. If this happens,
          you can set it by selecting it from the list.
        </para>
      </listitem>
    </orderedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="file-print-gtk">
  <title>Print</title>

  <indexterm>
    <primary>Printing</primary>
    <secondary>Print command</secondary>
  </indexterm>
  <para>
    Since the 2.4.0 release, <acronym>GIMP</acronym> has its own printing
    module. You can set page and image up. A preview button allows you to
    verify the result before printing.
  </para>
  <figure>
    <title>The <quote>Print</quote> dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/file/print-tab3.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <note>
    <para>
      See <link linkend="gimp-using-photography-printing">Printing your
      photos</link>.
    </para>
  </note>

  <sect3>
    <title>Activate Command</title>
    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>File</guimenu>
        <guimenuitem>Print</guimenuitem>
      </menuchoice>,
      or by using
      <keycombo><keycap>Ctrl</keycap><keycap>P</keycap></keycombo>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-quit">
  <title>Quit</title>

  <anchor id="gimp-file-quit-confirm"/>
  <indexterm>
    <primary>Quit GIMP</primary>
  </indexterm>

  <para>
    The <guimenuitem>Quit</guimenuitem> command causes
    <acronym>GIMP</acronym> to close all images and exit. If there
    are any open images which contain unsaved changes (that is, they are
    not marked as <quote>clean</quote>),
    <acronym>GIMP</acronym> notifies you and displays a list of
    the unsaved images. You can then choose which images you would
    like to save, or you can cancel the command. Note
    that if you have a large number of images open, or are using a
    large part of the RAM on your system, it may take a little
    while for everything to shut down.
  </para>

  <sect3>
    <title>Activate Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Quit</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>Q</keycap></keycombo>.
        </para>
      </listitem>
      <listitem>
        <para>
          For most systems on which the <acronym>GIMP</acronym> runs,
          you can also execute it by clicking on a
          <quote>Close</quote> button somewhere on the main image window's
          titlebar.  The location and appearance of this button are
          determined by the windowing system and the window manager.
          Clicking on this button closes GIMP when no image is open.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-revert">
  <title>Revert</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Reload the image</secondary>
  </indexterm>
  <indexterm>
    <primary>Revert (command)</primary>
  </indexterm>

  <para>
    The <guimenuitem>Revert</guimenuitem> command reloads the image from
    disk, so that it looks just like it did the last time it was saved
    â€” unless, that is, you or some application other than
    <acronym>GIMP</acronym> have modified the image file, in
    which case, the new contents are loaded.
  </para>
  <warning>
    <para>
      When <acronym>GIMP</acronym> reverts a
      file, it actually closes the existing image and creates a new
      image.  Because of this, reverting an image is not undoable, and
      causes the undo history of the image to be lost.
      <acronym>GIMP</acronym> tries to protect you from losing your
      work in this way by asking you to confirm that you really want to
      revert the image.
    </para>
  </warning>

  <sect3>
    <title>Activate Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Revert</guimenuitem>
          </menuchoice>.
          There is no default keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-save-a-copy">
  <title>Save a Copy</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Save image</secondary>
    <tertiary>Save a copy</tertiary>
  </indexterm>
  <indexterm>
    <primary>Save a copy</primary>
  </indexterm>

  <para>
    The <guimenuitem>Save a Copy</guimenuitem> command does the same thing
    as the <guimenuitem>Save</guimenuitem> command, but with one important
    difference. It always asks for a file name and saves the image into the
    XCF file format, but it does not change the name of the active image
    or mark it as <quote>clean</quote>. As a result, if you try to delete
    the image, or exit from <acronym>GIMP</acronym>, you are
    informed that the image is <quote>dirty</quote> and given an opportunity
    to save it.
  </para>
  <para>
    This command is useful when you want to save a copy of your image in
    its current state, but continue to work with the original file without
    interruption.
  </para>

  <sect3>
    <title>Activate Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Save a Copy</guimenuitem>
          </menuchoice>.
          There is no default keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-save-as">
  <title>Save as</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Save image</secondary>
    <tertiary>Save as</tertiary>
  </indexterm>
  <indexterm>
    <primary>Save as</primary>
  </indexterm>

  <para>
    The <guimenuitem>Save as</guimenuitem> command displays the <quote>Save
    Image</quote> dialog. Since <acronym>GIMP</acronym>-2.8, the
    file is automatically saved in the XCF format and you can't
    <emphasis>save</emphasis> in another file format (for this, you have to
    <emphasis>export</emphasis> the file). The Save as dialog allows you to
    save with another name and/or to another folder.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>Save as</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap>
            <keycap>Ctrl</keycap><keycap>S</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The <quote>Save Image</quote> dialog</title>
    <figure>
      <title>The <quote>Save Image</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/file/save-as.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <orderedlist>
      <listitem>
        <para>
          The left panel is divided into two parts. The upper part lists
          your main directories and your storage devices; you cannot modify
          this list. The lower part lists your bookmarks; you can add or
          remove <emphasis>bookmarks</emphasis>. To add a bookmark, select a
          directory or a file in the middle panel and click on the
          <guibutton>Add</guibutton> button at the bottom of the left          
          panel. You can also use the <guilabel>Add to bookmarks</guilabel>
          command in the context menu, which you get by clicking the
          right mouse button. You can delete a bookmark by selecting
          it and clicking on the <guibutton>Remove</guibutton> button.
        </para>
      </listitem>
      <listitem>
        <para>
          The middle panel displays a list of the files in the current
          directory. Change your current directory by double left-clicking on
          a directory in this panel. Select a file with a single left click.
          You can then save to the file you have selected by clicking on the
          <guibutton>Save</guibutton> button. Note that a double left click
          saves the file directly.
        </para>
        <para>
          You can right click on the middle panel to access the
          <emphasis>Show Hidden Files</emphasis> command.
        </para>
      </listitem>
      <listitem>
        <para>
          The selected image is displayed in the <guilabel>Preview
          </guilabel> window. File size, resolution and image
          composition are displayed below the preview window.
        </para>
        <para>
          If your image has been modified by another program,
          click on the preview to update it.
        </para>
      </listitem>
      <listitem>
        <para>Enter the filename of the new image file here.</para>
        <note>
          <para>
            If the image has already been saved,
            <acronym>GIMP</acronym> suggests the same filename to
            you. If you click on <emphasis>Save</emphasis>, the file
            is overwritten.
          </para>
        </note>
      </listitem>
      <listitem>
        <para>
          Above the middle panel, the path of the current directory is
          displayed. You can navigate along this path by clicking on one of
          the buttons.
        </para>
      </listitem>
      <listitem>
        <para>
          If you want to save the image into a folder that doesn't yet
          exist, you can create it by clicking on
          <guilabel>Create Folder</guilabel> and following the instructions.
        </para>
      </listitem>
      <listitem>
        <para>
          This button shows <guilabel>All Images</guilabel> by default. This
          means that all images will be displayed in the middle panel,
          whatever their file type. By developing this list, you can choose
          to show only one type of file.
        </para>
      </listitem>
      <listitem>
        <para>
          At <guilabel>Select File Type</guilabel>, you can select a compressed
          format for your XCF file.
        </para>
      </listitem>
    </orderedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-file-save">
  <title>Save</title>

  <anchor id="gimp-file-save-by-extension"/>
  <anchor id="gimp-file-save-overwrite"/>

 <para>
   This command opens  <xref linkend="gimp-save-dialog"/>.
 </para>
</sect2>

-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-file-menu">
  <title>The <quote>File</quote> Menu</title>

  <indexterm>
    <primary>Menus</primary>
    <secondary>File menu</secondary>
  </indexterm>

  <sect2 id="gimp-file-introduction">
    <title>Overview</title>
    <indexterm>
      <primary>Menu</primary>
      <secondary>File</secondary>
    </indexterm>
    <figure>
      <title>The File menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/file.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <xi:include href="about-plugin-menuitems.xml"/>
  </sect2>

  <xi:include href="file/new.xml"/>
  <xi:include href="file/create.xml"/>
  <xi:include href="file/open.xml"/>
  <xi:include href="file/open-as-layer.xml"/>
  <xi:include href="file/open-location.xml"/>
  <xi:include href="file/open-recent.xml"/>
  <!-- -->
  <xi:include href="file/save.xml"/>
  <xi:include href="file/save-as.xml"/>
  <xi:include href="file/save-as-copy.xml"/>
  <xi:include href="file/revert.xml"/>
  <xi:include href="file/export-to.xml"/>
  <xi:include href="file/export.xml"/>
  <xi:include href="file/create-template.xml"/>
  
  <!-- -->
  <!-- TODO: Page Setup -->       <!--id="file-print-gtk-page-setup"-->
  <xi:include href="file/print.xml"/>
  <!-- TODO: Send with Email -->  <!--id="plug-in-mail-image"-->
  <!-- -->
  <xi:include href="file/close.xml"/>
  <xi:include href="file/close-all.xml"/>
  <xi:include href="file/quit.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-menu-filters-introduction">
  <title>Introduction to the <quote>Filters</quote> Menu</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Menu</secondary>
  </indexterm>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Common functions</secondary>
    <tertiary>Introduction to filters</tertiary>
  </indexterm>

  <figure>
    <title>The <quote>Filters</quote> menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/filters.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    In <acronym>GIMP</acronym>
    terminology, a <emphasis>filter</emphasis>
    is a plug-in that modifies the appearance of an image, in most cases just
    the active layer of the image. Not all of the entries in this menu meet
    that definition, however; the word <quote>filter</quote> is often
    mis-used to mean any plug-in, regardless of what it does. Indeed, some
    of the entries in this menu do not modify images at all.
  </para>
  <para>
    With the exception of the top three items of the
    <guimenu>Filters</guimenu> menu, all of the entries
    are provided by plug-ins. Each plug-in decides for itself where it would
    like its menu entry to be placed. Therefore, the appearance of this menu
    can be completely different for each user. In practice, though, the
    appearance does not vary very much, because most plug-ins come with
    <acronym>GIMP</acronym> when it is installed, and of course
    they are always in the same places in the menu.
  </para>
  <para><!-- Must be rewritten for v2.4? -->
    Plug-ins are not restricted to just the <guimenu>Filters</guimenu>
    menu: a plug-in can place entries in any menu. Indeed, a number of
    <acronym>GIMP</acronym>'s basic 
    functions (for example, <guimenuitem>Semi-flatten</guimenuitem>
    in the <guimenu>Layer</guimenu> menu) are implemented
    by plug-ins. But the <guimenu>Filters</guimenu> menu is the default
    place for a plug-in to place its menu entries.
  </para>
  <para>
    For general information on plug-ins and how to use them, see the section
    on <link linkend="gimp-concepts-plugins">Plug-ins</link>. You can find
    information on the filters that are provided with
    <acronym>GIMP</acronym> in the
    <link linkend="filters">Filters</link> chapter. For filters you install
    yourself, please refer to the information which came with them.
  </para>
</sect2>
-#-#-
<sect2 id="gimp-filters-python-fu" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The <quote>Python-Fu</quote> Submenu</title>

  <indexterm>
    <primary>Python-Fu</primary>
    <secondary>Sub-menu</secondary>
  </indexterm>

  <figure>
    <title>The <quote>Python-Fu</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/filters/python-fu.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    By default this submenu just contains the Python-Fu console.
  </para>
  <!-- cf. plug-ins/pygimp/doc/pygimp.html -->
  <para>
    <!--TODO link linkend="gimp-concepts-python-fu"-->Python-Fu<!--/link-->
    is a set of <link linkend="bibliography-online-python">Python</link>
    modules that act as a wrapper to <emphasis>libgimp</emphasis> allowing
    the writing of plug-ins for <acronym>GIMP</acronym>.
  </para>

  <sect3>
    <title>Activating the submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu through
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guimenuitem>Python-Fu</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="python-fu-console">
    <title>The Python-Fu Console</title>
    <para>
      The Python-Fu console is a dialog window running a <quote>Python
      shell</quote> (a Python interpreter in interactive mode). This console
      is set up to make use of the internal <acronym>GIMP</acronym> library
      routines of <emphasis>libgimp</emphasis>.
    </para>
    <para>
      You can use the Python-Fu console to interactively test Python commands.
    </para>
    <para>
      The console consists of a large scrollable main window for input and
      output, where you can type Python commands. When you type in a Python
      command and then press the <keycap>Enter</keycap> key, the command is
      executed by the Python interpreter. The command's output as well as its
      return value (and its error message, if any) will be displayed in the
      main window.
    </para>
    <figure>
      <title>The Python-Fu Console</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/filters/python-fu-console.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>The Python-Fu Console Buttons</title>
      <varlistentry>
        <term>Save</term>
        <listitem>
          <para>
            This command lets you save the content of the main window, that is
            the Python-Fu console input and output (including the
            <quote><code>&gt;&gt;&gt;</code></quote> prompt).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Clear</term>
        <listitem>
          <para>
            Wenn you click on this button, the content of the main window will
            be removed. Note that you can't get back the removed content using
            the <guilabel>Save</guilabel> command.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Browse</term>
        <listitem>
        <!--
          <para>
            When clicked, the
            <link linkend="plug-in-dbbrowser">procedure browser</link> pops
            up, with an additional button at the bottom of the window:
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/menus/script-fu-console-browse.png"/>
            </imageobject>
            <caption>
              <para>
                The additional button of the Procedure Browser
              </para>
            </caption>
          </mediaobject>
        -->
        <!-- TODO check: With or without image? -->
          <para>
            When clicked, the
            <link linkend="plug-in-dbbrowser">procedure browser</link> pops
            up, with an additional button <guibutton>Apply</guibutton> at the
            bottom of the window.
          </para>
          <para>
            When you press this <guibutton>Apply</guibutton> button in the
            procedure browser, a call to the selected procedure will be pasted
            into the console window as a Python command:
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/menus/filters/python-fu-console-browse-applied.png"/>
            </imageobject>
            <caption>
              <para>Applied <acronym>PDB</acronym> procedure</para>
            </caption>
          </mediaobject>
          <para>
            Now you just have to replace the parameter names (here:
            <quote>width</quote>, <quote>height</quote>, and
            <quote>type</quote>) with actual values, e.g.
          </para>
          <!-- Don't wrap the following line (without testing)! -->
          <programlisting>image = pdb.gimp_image_new(400, 300, RGB)</programlisting>
          <para>
            Then press <keycap>Enter</keycap> to execute the command.
          </para>
          <para>
            You can (and should!) use the constants you find in the decription
            of the procedure's parameters, for example
            <quote>RGB-IMAGE</quote> or <quote>OVERLAY-MODE</quote>. But note
            that you have to replace hyphens (<quote>-</quote>) with
            underscores (<quote>_</quote>): <code>RGB_IMAGE</code>,
            <code>OVERLAY_MODE</code>.
          </para>
          <tip>
            <!-- cf. plug-ins/pygimp/doc/pygimp.html -->
            <para>
              Python-Fu is not limited to just calling procedures from the
              <link linkend="glossary-pdb"><acronym>PDB</acronym></link>
              (<acronym>GIMP</acronym> procedural database). To create a new
              image object like in the example above, you can also type
            </para>
            <programlisting>
              image = gimp.Image(width, height, type)
            </programlisting>
            <para>
              (with actual values for <quote>width</quote>,
              <quote>height</quote>, and <quote>type</quote>).
            </para>
          </tip>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Close</term>
        <listitem>
          <para>
            Pressing this button closes the console.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-filter-repeat">
  <title>Repeat Last</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Common functions</secondary>
    <tertiary>Repeat Last</tertiary>
  </indexterm>
  <indexterm>
    <primary>Repeat Last</primary>
  </indexterm>

  <para>
    The <guimenuitem>Repeat Last</guimenuitem> command performs the action
    of the most recently executed plug-in again, using the same settings as
    the last time it was run. It does not show a dialog or request
    confirmation.
  </para>
  <note>
    <para>
      Please note that this command repeats the most recently executed
      <emphasis>plug-in</emphasis>, regardless of whether it is in the
      <guimenu>Filters</guimenu> menu or not.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guimenuitem>Repeat
              <replaceable>filter</replaceable></guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-filter-reset-all">
  <title>Reset All Filters</title>

  <indexterm>
    <primary>Filters</primary>
    <secondary>Common functions</secondary>
    <tertiary>Reset all</tertiary>
  </indexterm>
  <indexterm>
    <primary>Reset All</primary>
  </indexterm>

  <para>
    Normally, each time you run an interactive plug-in, its dialog is
    displayed with all of the settings initialized to the ones you used
    the last time you ran it. This may be a problem if you made a mistake
    setting the values and you can't remember what they were originally.
    One way to recover is to exit <acronym>GIMP</acronym> and
    start again, but the <guimenuitem>Reset all Filters</guimenuitem>
    command is a slightly less drastic solution: it resets the values for
    <emphasis>all</emphasis> plug-ins to their defaults. Because it is a
    dramatic step, it asks you to confirm that you really want to do it.
    Be careful: you cannot undo this command.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guimenuitem>Reset all Filters</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-filter-reshow">
  <title>Re-show Last</title>
  <indexterm>
    <primary>Filters</primary>
    <secondary>Common functions</secondary>
    <tertiary>Re-show last</tertiary>
  </indexterm>
  <indexterm>
    <primary>Re-show Last</primary>
  </indexterm>
  <para>
    The <guimenuitem>Re-show Last</guimenuitem> command shows the dialog of
    the most recently executed plug-in. Unlike the
    <quote>Repeat Last</quote> command, which does not display a dialog,
    the <quote>Re-show Last</quote> command displays a dialog window, if the
    plug-in has one. It is displayed with the settings you used the
    last time you ran the plug-in (assuming that the plug-in follows
    the <acronym>GIMP</acronym> programming conventions).
  </para>
  <note>
    <para>
      Please note that this command repeats the most recently
      executed <emphasis>plug-in</emphasis>,
      regardless of whether it is in the <guimenu>Filters</guimenu>
      menu or not.
    </para>
  </note>
  <tip>
    <para>
      When you are using a plug-in, especially one that does not have
      a preview window, you may very well have to adjust the parameters
      several times before you are satisfied with the results. To do this
      most efficiently, you should memorize the shortcuts for
      <guimenuitem>Undo</guimenuitem> and
      <guimenuitem>Re-show Last</guimenuitem>:
      <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo>
      followed by
      <keycombo>
        <keycap>Ctrl</keycap>
        <keycap>Shift</keycap>
        <keycap>F</keycap>
      </keycombo>.
    </para>
  </tip>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guimenuitem>
              Re-show <replaceable>filter</replaceable>
            </guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap><keycap>F</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-filters-script-fu">
  <title>The <quote>Script-Fu</quote> Submenu</title>

  <indexterm>
    <primary>Script-Fu</primary>
    <secondary>Sub-menu</secondary>
  </indexterm>
  <figure>
    <title>The <quote>Script-Fu</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/filters/script-fu.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This  submenu contains some Script-Fu commands, especially the Script-Fu
    console. <link linkend="gimp-concepts-script-fu">Script-Fu</link> is a
    language for writing scripts, which allow you to run a series of
    <acronym>GIMP</acronym> commands automatically.
    <!--
        These scripts create a new image: they are
        <link linkend="standalone-script-fu">stand-alone scripts</link>.
    -->
  </para>

  <sect3>
    <title>Activating the submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu through
          <menuchoice>
            <guimenu>Filters</guimenu>
            <guimenuitem>Script-Fu</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="script-fu-refresh">
    <title>Refresh Scripts</title>
    <para>
      You will need this command every time you add, remove, or change a
      Script-Fu script. The command causes the Script-Fus to be reloaded and
      the menus containing Script-Fus to be rebuilt from scratch. If you
      don't use this command, <acronym>GIMP</acronym> won't notice your
      changes until you start it again.
    </para>
    <para>
      Note that you won't get any feedback, unless saving, if one of your
      scripts fails.
    </para>
  </sect3>

  <sect3 id="plug-in-script-fu-console">
    <title>Script-Fu Console</title>
    <para>
      The Script-Fu console is a dialog window where you can interactively
      test Scheme commands.
    </para>
    <para>
      The console consists of a large scrollable main window for output and a
      textbox used to type Scheme commands. When you type a Scheme statement
      and then press the <keycap>Enter</keycap> key, the command and its
      return value will be displayed in the main window.
    </para>
    <figure>
      <title>The Script-Fu Console</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/filters/script-fu-console.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      You will find more information about
      <link linkend="gimp-using-script-fu-tutorial-scheme">Scheme</link> and
      examples how to use the
      <link linkend="gimp-using-script-fu-tutorial-console">Script-Fu
        console</link> in <xref linkend="gimp-using-script-fu-tutorial"/>.
    </para>
    <variablelist>
      <title>The Script-Fu Console Buttons</title>
      <varlistentry>
        <term>Browse</term>
        <listitem>
          <para>
            This button is next to the Scheme commands textbox. When
            clicked, the
            <link linkend="plug-in-dbbrowser">procedure browser</link> pops
            up, with an additional button at the bottom of the window:
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/menus/filters/procedure-browser-apply-button.png"/>
            </imageobject>
            <caption>
              <para>
                The additional button of the Procedure Browser
              </para>
            </caption>
          </mediaobject>
          <para>
            When you press this <guibutton>Apply</guibutton> button in the
            procedure browser, the selected procedure will be pasted into the
            text box:
          </para>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/menus/filters/script-fu-console-browse-applied.png"/>
            </imageobject>
            <caption>
              <para>
                Applied
                <link linkend="glossary-pdb"><acronym>PDB</acronym></link>
                procedure
               </para>
            </caption>
          </mediaobject>
          <para>
            Now you just have to replace the parameter names (here:
            <quote>layer</quote> and <quote>mode</quote>) with actual values,
            and then you can call the procedure by pressing
            <keycap>Enter</keycap>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Close</term>
        <listitem>
          <para>
            Pressing this button closes the  Script-Fu console.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Clear</term>
        <listitem>
          <para>
            Wenn you click on this button, the content of the main window will
            be removed. Note that you can't get back the removed content using
            the <guilabel>Save</guilabel> command.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Save</term>
        <listitem>
          <para>
            This command lets you save the content of the main window, that is
            the Script-Fu console output (including the
            <quote><code>&gt;</code></quote>-characters).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="plug-in-script-fu-server">
    <title>Start Server</title>
    <para>
      This command will start a server, which reads and executes Script-Fu
      (Scheme) statements you send him via a specified port.
    </para>
    <figure>
      <title>The Script-Fu Server Options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/filters/script-fu-server.png"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Server Port</term>
        <listitem>
          <para>
            The port number where the Script-Fu server will listen. It is
            possible to start more than one server, specifying different port
            numbers, of course.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Server Logfile</term>
        <listitem>
          <para>
            Optionally you can specify the name of a file the server will use
            to log informal and error messages. If no file is specified,
            messages will be written to stdout.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <itemizedlist>
      <title>The Script-Fu Server Protocol</title>
      <para>
        The protocol used to communicate with the Script-Fu server is very
        simple:
      </para>
      <listitem>
        <para>
          Every message (Script-Fu statement) of length <code>L</code> sent to
          the server has to be preceded with the following 3 bytes:
        </para>
        <table>
          <title>Header format for commands</title>
          <tgroup cols="3">
            <thead>
              <row>
                <entry>Byte #</entry>
                <entry>Content</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>0</entry>
                <entry>0x47</entry>
                <entry>Magic byte ('G')</entry>
              </row>
              <row>
                <entry>1</entry>
                <entry>L div 256</entry>
                <entry>High byte of <code>L</code></entry>
              </row>
              <row>
                <entry>2</entry>
                <entry>L mod 256</entry>
                <entry>Low byte of <code>L</code></entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </listitem>
      <listitem>
        <para>
          Every response from the server (return value or error message) of
          length <code>L</code> will be preceded with the following 4 bytes:
        </para>
        <table>
          <title>Header format for responses</title>
          <tgroup cols="3">
            <thead>
              <row>
                <entry>Byte #</entry>
                <entry>Content</entry>
                <entry>Description</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>0</entry>
                <entry>0x47</entry>
                <entry>Magic byte ('G')</entry>
              </row>
              <row>
                <entry>1</entry>
                <entry>error code</entry>
                <entry>0 on success, 1 on error</entry>
              </row>
              <row>
                <entry>2</entry>
                <entry>L div 256</entry>
                <entry>High byte of <code>L</code></entry>
              </row>
              <row>
                <entry>3</entry>
                <entry>L mod 256</entry>
                <entry>Low byte of <code>L</code></entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </listitem>
    </itemizedlist>
    <tip>
      <para>
        If you don't want to get your hands dirty: there is a Python script
        named <application>servertest.py</application> shipped with the
        <acronym>GIMP</acronym> source code, which you can use as a simple
        command line shell for the Script-Fu server.
      </para>
    </tip>
  </sect3>
</sect2>
-#-#-
<sect1 id="gimp-filters-menu" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The <quote>Filters</quote> Menu</title>

  <indexterm>
    <primary>Menus</primary>
    <secondary>Filters</secondary>
  </indexterm>
  <xi:include href="filters/introduction.xml"/>
  <!-- ... -->
  <xi:include href="filters/repeat.xml"/>
  <xi:include href="filters/reshow.xml"/>
  <xi:include href="filters/reset-all.xml"/>
  <!-- ... -->
  <xi:include href="filters/python-fu.xml"/>
  <xi:include href="filters/script-fu.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-about-dialog">
  <title>About</title>

  <indexterm>
    <primary>Help</primary>
    <secondary>Overview</secondary>
  </indexterm>

  <para>
    The <guimenuitem>About</guimenuitem> command shows the
    <guilabel>About</guilabel> window, which displays information about
    the version of The <acronym>GIMP</acronym> you are running
    and the many authors who wrote it.
  </para>

  <sect3>
    <title>Activating the <quote>About</quote> Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command in the image menu through
          <menuchoice>
            <guimenu>Help</guimenu>
            <guimenuitem>About</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the dialog window</title>
    <figure>
      <title>The <quote>About</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/help/about.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The <guibutton>Credits</guibutton> leads to the list of contributors
      to GIMP program, concerning programming, graphics and translation of
      the interface.
    </para>
    <para>
      The <guibutton>Licence</guibutton> explains how to get the licence.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-help-context">
  <title>Context Help</title>

  <indexterm>
    <primary>Help</primary>
    <secondary>Context help</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Context Help</guimenuitem> command makes the
    mouse pointer context-sensitive and changes its shape to a
    <quote>?</quote>. You can then click on a window, dialog or menu
    entry and <acronym>GIMP</acronym> displays help about
    it, if it is available. You can also access context help at any time by
    pressing the <keycap>F1</keycap> key while the mouse pointer is over
    the object you would like help about.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu through
          <menuchoice>
            <guimenu>Help</guimenu>
            <guimenuitem>Context Help</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Shift</keycap><keycap>F1</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-help-online">
  <title>GIMP online</title>

  <indexterm>
    <primary>Help</primary>
    <secondary>Online</secondary>
  </indexterm>
  <indexterm>
    <primary>GIMP Online</primary>
  </indexterm>

  <figure>
    <title>The <quote>GIMP Online</quote> submenu of the Help menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/help/gimp-online.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guimenuitem>GIMP online</guimenuitem> command displays a submenu
    which lists several helpful web sites that have to do with various
    aspects of <acronym>GIMP</acronym>. You can click on one
    of the menu items and your web browser will try to connect to the URL.
  </para>
</sect2>
-#-#-
<sect2 id="gimp-help">
  <title>Help</title>

  <indexterm>
    <primary>Help</primary>
  </indexterm>

  <para>
    The <guimenuitem>Help</guimenuitem> command displays the
    <acronym>GIMP</acronym> Users Manual in a browser. You
    can set the browser you would like to use in the <guilabel>Help
    System</guilabel> section of the <guimenu>Preferences</guimenu> dialog,
    as described in <xref linkend="gimp-prefs-help"/>.
    The browser may be the built-in <acronym>GIMP</acronym> help
    browser, or it may be a web browser.
  </para>
  <tip>
    <para>
      If the help does not seem to work, please verify that the
      <quote>GIMP Users Manual</quote>
      is installed on your system. You can find the most recent help online
      <xref linkend="bibliography-online-gimp-docs"/>.
    </para>
  </tip>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <shortcut>
              <keycap>F1</keycap>
            </shortcut>
            <guimenu>Help</guimenu>
            <guimenuitem>Help</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <!--listitem>
        <para>
          or by using the keyboard shortcut <keycap>F1</keycap>.
        </para>
      </listitem-->
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-plug-in-details">
  <title>Plug-In Browser</title>
  <indexterm>
    <primary>Plugins</primary>
    <secondary>Browser</secondary>
  </indexterm>
  <indexterm>
    <primary>Browser</primary>
    <secondary>Plug-In</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Plug-In Browser</guimenuitem> command displays a
    dialog window which shows all of the extensions (plug-ins) which are
    currently loaded in <acronym>GIMP</acronym>, both as a list and
    as a hierarchical tree structure. Since many of the filters are actually
    plug-ins, you will certainly see many familiar names here. Please note
    that you do not run the extensions from this dialog window. Use the
    appropriate menu entry to do that instead. For example, you can run
    filter plug-ins by using the <guimenuitem>Filter</guimenuitem> command
    on the image menubar.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Help</guimenu>
            <guimenuitem>Plug-in Browser</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Plug-In Browser</quote> dialog window
    </title>
    <figure>
      <title>
        The list view of the <quote>Plug-In Browser</quote> dialog window
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/help/plug-in-browser.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The figure above shows the list view of the
      <guilabel>Plug-In Browser</guilabel>. You can click on the name of
      a plug-in in the scrolled window to display more information about
      it. Select the <guilabel>List View</guilabel> by clicking
      on the tab at the top of the dialog.
    </para>
    <para>
      You can search for a plug-in by name by entering part or all of the
      name in the <guilabel>Search:</guilabel> text box.  The left part of
      the dialog then displays the matches found.
    </para>
    <figure>
      <title>
        The tree view of the <quote>Plug-In Browser</quote> dialog window
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/help/plug-in-browser-tree.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The figure above shows the tree view of the
      <guilabel>Plug-In Browser</guilabel>. You can click on the name of
      a plug-in in the scrolled window to display more information about
      it. You can click on the arrowheads to expand or contract parts of
      the tree. Select the <guilabel>Tree View</guilabel> by clicking on
      the tab at the top of the dialog.
    </para>
    <para>
      You can search for a plug-in by name by entering part or all of the
      name in the <guilabel>Search:</guilabel> text box.  The left part of
      the dialog then displays the matches found.
    </para>
    <note>
      <para>
        Not everything in these huge dialog windows is visible at the same
        time. Use the scroll bars to view their content.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-dbbrowser">
  <title>The Procedure Browser</title>
  <indexterm>
    <primary>Procedure</primary>
    <secondary>Browser</secondary>
  </indexterm>
  <indexterm>
    <primary>Browser</primary>
    <secondary>Procedure</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Procedure Browser</guimenuitem> command displays the
    procedures in the <link linkend="glossary-pdb">PDB</link>, the Procedure
    Database. These procedures are functions which are called by the scripts
    or plug-ins.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Help</guimenu>
            <guimenuitem>Procedure Browser</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Procedure Browser</quote> dialog window
    </title>
    <figure>
      <title>
        The <quote>Procedure Browser</quote> dialog window
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/help/procedure-browser.png" />
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The figure above shows the <guilabel>Procedure Browser</guilabel>
      dialog window. If you click on an item in the scrolled list on the
      left, information about it is displayed on the right. You can also
      search for a specific procedure by querying the procedural database
      with a regular expression on <guilabel>Search:</guilabel> text box:
    </para>
    <variablelist>
      <varlistentry>
        <term>by name</term>
        <listitem>
          <para>
            Shows a list of procedures which have code names that contain
            the part of name you entered.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>by description</term>
        <listitem>
          <para>
            Shows a list of procedures which have blurbs that contain
            the word you entered.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>by help</term>
        <listitem>
          <para>
            Shows a list of procedures which have additional information
            text that contain the word you entered.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>by author</term>
        <listitem>
          <para>
            Shows a list of procedures which created by the author
            which has the part of name you entered.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>by copyright</term>
        <listitem>
          <para>
            Shows a list of procedures which copyright are hold by
            someone that have the part of name you entered.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>by date</term>
        <listitem>
          <para>
            Shows a list of procedures which have date of year
            that match the year you entered.
          </para>
          <note>
            <para>
              This query is processed with text but not date value, so
              you cannot find some procedure entries even if their date
              contains the year you entered. For example, a procedure
              dated 2000-2005 does not match if you search
              procedures with 2001, but it matches with 2000 or 2005.
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>by type</term>
        <listitem>
          <para>
            Shows a list of procedures which have a one of four types:
            <quote>Internal GIMP procedure</quote>, <quote>GIMP Plug-In
            </quote>, <quote>GIMP Extension</quote>, or <quote>Temporary
            Procedure</quote>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tips-dialog">
  <title>Tip of the Day</title>

  <indexterm>
    <primary>Help</primary>
    <secondary>Tip of the Day</secondary>
  </indexterm>
  <indexterm>
    <primary>Tip of the Day</primary>
  </indexterm>

  <para>
    The <guimenuitem>Tip of the Day</guimenuitem> command displays the
    <guimenu>Tip of the Day</guimenu> dialog. This dialog contains useful
    tips to help you gain a better understanding of some of the subtle
    points of using <acronym>GIMP</acronym>.
    New users will find it very valuable to pay attention to these,
    because they often suggest ways of doing something that are much
    easier or more efficient than more obvious approaches.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command in the image menu through
          <menuchoice>
            <guimenu>Help</guimenu>
            <guimenuitem>Tip of the Day</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the dialog window</title>
    <figure>
      <title><quote>Tip of the Day</quote>Dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/help/tip-of-the-day.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      Some tips contain a <guilabel>Learn more</guilabel> link to the
      corresponding <acronym>GIMP</acronym> manual page.
    </para>
    <note>
      <title>New in <acronym>GIMP</acronym> 2.6</title>
      <para>
        The tip of the day is no longer displayed by default each time you
        start <acronym>GIMP</acronym>.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-help-menu">
  <title>The <quote>Help</quote> Menu</title>

  <sect2 id="gimp-help-introduction">
    <title>Introduction to the <quote>Help</quote> Menu</title>
  
    <indexterm>
      <primary>Menu</primary>
      <secondary>Help</secondary>
    </indexterm>
    <indexterm>
      <primary>Help</primary>
      <secondary>Menu</secondary>
    </indexterm>
  
    <figure>
      <title>Contents of the <quote>Help</quote> menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/help.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
  
    <para>
      The <guimenu>Help</guimenu> menu contains commands that assist you
      while you are working with <application>GIMP</application>.
    </para>
    <xi:include href="about-plugin-menuitems.xml"/>
  </sect2>

  <xi:include href="help/help.xml"/>
  <xi:include href="help/context-help.xml"/>
  <xi:include href="help/tip-of-the-day.xml"/>
  <xi:include href="help/about.xml"/>
  <!-- -->
  <xi:include href="help/plug-in-browser.xml"/>
  <xi:include href="help/procedure-browser.xml"/>
  <!-- -->
  <xi:include href="help/gimp-online.xml"/>
  <!--TODO: xi:include href="help-user-manual.xml"/-->
</sect1>
-#-#-
<sect2 id="plug-in-align-layers">
  <title>Align Visible Layers</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Align visible layers</tertiary>
  </indexterm>
  <indexterm>
    <primary>Align visible layers</primary>
  </indexterm>

  <para>
    With the <guimenuitem>Align Visible Layers</guimenuitem> command,
    you can very precisely position the visible layers (those marked with
    the <quote>eye</quote> icon). This degree of precision is especially
    useful when you are working on animations, which typically have many
    small layers. Clicking on <guimenuitem>Align Visible
      Layers</guimenuitem> displays a dialog which allows you to choose
    how the layers should be aligned.
  </para>
  <note>
    <para>
      In <application>GIMP 1.2</application>, the default base for the
      alignment was the top visible layer in the stack.  In
      <application>GIMP 2</application>, the default alignment base is
      the edge of the canvas. You can still align the image on the bottom
      layer of the stack, even if it is invisible, by checking
      <guilabel>Use the (invisible) bottom layer as the base</guilabel>
      in the dialog.
    </para>
  </note>
  <figure>
    <title>Example image for layer alignment</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/image/align-demo.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          The example image contains four layers on a large (150x150 pixel)
          canvas. The red square is 10x10 pixels, the green rectangle is
          10x20 pixels and the yellow rectangle is 20x10 pixels. The
          background layer (blue, 100x100 pixels) will not be affected by
          the command, since the <guilabel>Ignore lower layer</guilabel>
          option has been checked on the dialog. Note that the layers in the
          image seem to have a different order than their actual order in
          the stack because of their positions on the canvas. The yellow
          layer is the top layer in the image and the second one in the
          stack.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Align Visible layers</guimenuitem>
          </menuchoice>.
          There is no default keyboard shortcut. If the image holds a single 
					layer only, you get a message from GIMP telling that there must be  
					more than one layer in the image to execute the command.
        </para>
      </listitem>
    </itemizedlist>
		<figure>
      <title>The <quote>Not enough layers</quote> message</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/align-no-layer.png"/>
        </imageobject>
      </mediaobject>
    </figure>		
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Align Visible Layers</quote> dialog
    </title>
    <figure>
      <title>The <quote>Align Visible Layers</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/align-layers.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Horizontal Style; Vertical Style</term>
        <listitem>
          <para>
            These options control how the layers should be moved in
            relationship to each other. You can choose:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>None</guilabel>:
                There will be no change in the horizontal or the vertical
                position, respectively.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Collect</guilabel>:
                The visible layers will be aligned on the canvas, in the
                way that is determined by the <guilabel>Horizontal
                  base</guilabel> and <guilabel>Vertical base</guilabel>
                options. If you select a <guilabel>Horizontal
                  base</guilabel> of <guilabel>Right edge</guilabel>, layers
                may disappear from the canvas. You can recover them by
                enlarging the canvas. If you check the
                <guilabel>Use the (invisible) bottom layer as the
                  base</guilabel> option, the layers will be aligned on the
                top left corner of the bottom layer.
              </para>
              <figure>
                <title>
                  Horizontal <quote>Collect</quote> alignment (on the edge of
                  the canvas)
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/align-demo.png"/>
                  </imageobject>
                  <caption>
                    <para>Original image with the layer stack</para>
                  </caption>
                </mediaobject>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/alignHCLB-.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      The layers have been moved horizontally so that their
                      left edges are aligned with the left edge of the
                      canvas.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
              <figure>
                <title>
                  Horizontal <quote>Collect</quote> alignment (on the bottom
                  layer)
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/align-demo.png"/>
                  </imageobject>
                  <caption>
                    <para>Original image with the layer stack
                    </para>
                  </caption>
                </mediaobject>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/alignHCLB+.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      The layers have been moved horizontally so that their
                      left edges align with the left edge of the bottom
                      layer.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
            </listitem>
            <listitem>
              <para>
                <guilabel>Fill (left to right)</guilabel>;
                <guilabel>Fill (top to bottom)</guilabel>:
                The visible layers will be aligned with the canvas
                according to the edge you selected with
                <guilabel>Horizontal base</guilabel> or
                <guilabel>Vertical base</guilabel>, respectively.
                The layers are arranged regularly, so that they do not
                overlap each other. The top layer in the stack is placed
                on the leftmost (or uppermost) position in the image.
                The bottom layer in the stack is placed on the rightmost
                (or bottommost) position of the image. The other layers
                are placed regularly between these two positions.  If the
                <guilabel>Use the (invisible) bottom layer as the
                  base</guilabel> option is checked, the layers are aligned
                with the corresponding edge of the bottom layer.
              </para>
              <figure>
                <title>
                  Horizontal <quote>Fill</quote> alignment (canvas)
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/align-demo.png"/>
                  </imageobject>
                  <caption>
                    <para>Original image with the layer stack
                    </para>
                  </caption>
                </mediaobject>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/alignHFLB-.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      Horizontal filling alignment, Left to Right, with
                      <guilabel>Use the (invisible) bottom layer as the
                        base</guilabel> option not checked. The top layer
                      in the stack, the green one, is placed all the way
                      on the left. The bottom layer in the stack, the red
                      one, is placed is on the right and the yellow layer
                      is between the other two.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
              <figure>
                <title>
                  Horizontal <quote>Fill</quote> alignment (bottom layer)
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/align-demo.png"/>
                  </imageobject>
                  <caption>
                    <para>Original image with the layer stack</para>
                  </caption>
                </mediaobject>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/alignHFLB+.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      The same parameters as in the previous example,
                      but with the lowest (blue) level as the base.
                    </para>
                  </caption>
                </mediaobject>
              </figure>
            </listitem>
            <listitem>
              <para>
                <guilabel>Fill (right to left)</guilabel>;
                <guilabel>Fill (bottom to top)</guilabel>:
                These settings work similarly to the ones described above,
                but the filling occurs in the opposite direction.
              </para>
              <figure>
                <title>
                  Vertical <quote>Fill</quote> alignment (bottom layer)
                </title>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/align-demo.png"/>
                  </imageobject>
                  <caption>
                    <para>Original image with the layer stack</para>
                  </caption>
                </mediaobject>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/menus/image/alignVFBB+.png"/>
                  </imageobject>
                  <caption>
                    <para>
                      Vertical <quote>Fill</quote> alignment, bottom to
                      top, bottom layer as base
                    </para>
                  </caption>
                </mediaobject>
              </figure>
              <para>
                There must be at least three visible layers in the image to
                use the <quote>Fill</quote> options.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-autocrop">
  <title>Autocrop Image</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Crop</secondary>
    <tertiary>Autocrop</tertiary>
  </indexterm>
  <indexterm>
    <primary>Autocrop</primary>
  </indexterm>

  <para>
    The <guimenuitem>Autocrop Image</guimenuitem> command removes the
    borders from an image. It searches the active layer for the largest
    possible border area that is all the same color, and then crops this
    area from the image, as if you had used the
    <link linkend="gimp-tool-crop">Crop</link> tool.
  </para>
  <caution>
    <para>
      Note carefully that this command only uses the
      <emphasis>active layer</emphasis>
      of the image to find borders. Other layers are cropped according to
      the same limits as limits in the active layer.
    </para>
  </caution>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Autocrop Image</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title><quote>Autocrop</quote> example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/autocrop-1.png"/>
        </imageobject>
        <caption>
          <para>
            This image is made of three layers. One with a red square,
            another with a green square; both on a yellow semi-transparent
            background. The green layer is active.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/autocrop-2.png"/>
        </imageobject>
        <caption>
          <para>
            <quote>Autocrop</quote> has cropped the green square and made a
            layer from it. The other layers have been cropped to the same
            size as the green one. Only a small part of the red square has
            been kept.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-resize">
  <title>Canvas Size</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Canvas size</secondary>
  </indexterm>
  <indexterm>
    <primary>Canvas</primary>
    <secondary>Size</secondary>
  </indexterm>

  <para>
    The <quote>canvas</quote> is the visible area of the image. By default
    the size of the canvas coincides with the size of the layers. The
    <guimenuitem>Canvas Size</guimenuitem> command lets you enlarge or
    reduce the canvas size. You can, if you want, modify the size of the
    layers. When you enlarge the canvas, you create free space around
    the contents of the image. When you reduce it, the visible area is
    cropped, however the layers still extend beyond the canvas border.
  </para>
  <para>
    When you reduce the canvas size, the new canvas appears surrounded with
    a thin negative border in the preview. The mouse pointer is a moving
    cross: click and drag to move the image against this frame.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Canvas Size</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Canvas Size</quote> dialog</title>
    <figure>
      <title>The <quote>Canvas Size</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/canvas-size.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>Canvas Size</title>
      <varlistentry>
        <term>Width; Height</term>
        <listitem>
          <para>
            You can set the <guilabel>Width</guilabel> and the
            <guilabel>Height</guilabel> of the canvas. The default
            units are pixels but you can choose different units, e.g.
            percent, if you want to set the new dimensions relative to the
            current dimensions. If the Chain to the right of the Width and
            Height is not broken, both Width and Height keep the same
            relative size to each other. That is, if you change one of the
            values, the other one also changes a corresponding amount.
            If you break the Chain by clicking on it, you can set
            Width and Height separately.
          </para>
          <para>
            Whatever units you use, information about the size in pixels
            and the current resolution are always displayed below the
            <emphasis>Width</emphasis> and <emphasis>Height</emphasis>
            fields. You cannot change the resolution in the
            <guimenu>Canvas Size</guimenu> dialog; if you want to
            do that, use the <link linkend="gimp-image-print-size">Print
            Size dialog</link>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Offset</title>
      <para>
        The <guilabel>Offset</guilabel> values are used to place the image
        (the image, not the active layer) on the canvas. You can see the
        size and the content of the canvas in the preview of the dialog
        window. When the canvas is smaller than the image, the preview window
        shows it in a frame with a thin negative border.
      </para>
      <varlistentry>
        <term>XÂ ; Y</term>
        <listitem>
          <para>
            The <guilabel>X</guilabel> and <guilabel>Y</guilabel> specify the
            coordinates of the upper left corner of the image relative to the
            upper left corner of the canvas. They are negative when the
            canvas is smaller than the image. You can place the image in
            different ways (of course, the coordinates can't exceed the
            canvas borders):
            <itemizedlist>
              <listitem>
                <para>
                  by click-and-dragging the image,
                </para>
              </listitem>
              <listitem>
                <para>
                  by entering values in the <guilabel>X</guilabel> and
                  <guilabel>Y</guilabel> text boxes,
                </para>
              </listitem>
              <listitem>
                <para>
                  by clicking on the small arrow-heads. This increments the
                  value by one pixel (unit).
                </para>
              </listitem>
              <listitem>
                <para>
                  And when the focus is on a text box, you can use the
                  keyboard arrow keys, <keycap>Up</keycap> and
                  <keycap>Down</keycap> to change by one pixel (unit), or
                  <keycap>PageUp</keycap> and <keycap>PageDown</keycap> to
                  change the value by 10 pixels (units).
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Layers</term>
        <listitem>
          <para>
            Before the GIMP-2.4 version, <quote>Canvas Size</quote> had no
            influence on layer size. To change it, you had to use the
            <link linkend="gimp-layer-resize">Layer Boundary Size</link>
            command. The <quote>Layers</quote> option now allows you to
            specify how, possibly, layers will be resized. The drop-down list
            offers you several possibilities:
          </para>
          <figure>
            <title>The Resize layers list</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/image/canvas-size-list.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>None</guilabel>: default option. No layer is
                resized, only the canvas is.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>All Layers</guilabel>: all layers are resized to
                canvas size.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Image-sized layers</guilabel>: only layers with
                the same size as the image are sized to canvas size.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>All visible layers</guilabel>: only visible
                layers, marked with a
                <guiicon>
                  <inlinegraphic fileref="images/dialogs/stock-eye-20.png"/>
                </guiicon>
                icon, in the Layer Dialog, are sized to canvas size.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>All linked layers</guilabel>: only linked layers,
                marked with a
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-vchain-24.png"/>
                </guiicon>
                in the Layer Dialog, are sized to canvas size.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Center</term>
        <listitem>
          <para>
            The <guilabel>Center</guilabel> button allows you to center the
            image on the canvas. When you click on the Center button,
            the offset values are automatically calculated and displayed in
            the text boxes.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <note>
      <para>
        When you click on the <guilabel>Resize</guilabel> button,
        the canvas is resized, but the pixel information and the drawing
        scale of the image are unchanged.
      </para>
      <para>
        If the layers of the image did not extend beyond the borders of
        the canvas before you changed its size, there are
        no layers on the part of the canvas that was added by resizing it.
        Therefore, this part of the canvas is transparent and displayed
        with a checkered pattern, and it is not immediately available for
        painting. You can either
        <link linkend="gimp-image-flatten">flatten</link>
        the image, in which case you will get an image with a single layer
        that fits the canvas exactly, or you can use the
        <link linkend="gimp-layer-resize-to-image">Layer to Image Size</link>
        command to resize only the active layer, without changing any other
        layers. You can also create a new layer and fill it with the
        background you want. By doing this, you create a
        digital <quote>passe-partout</quote> (a kind of glass mount
        with a removable back for slipping in a photograph).
      </para>
    </note>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Original image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/canvas-size-ex1.png"/>
        </imageobject>
        <caption>
          <para>
            We started with a green background layer 100x100 pixels, which
            defines a default canvas with the same size. Then we added a new
            red layer 80x80 pixels. The active layer limits are marked with a
            black and yellow dotted line. The red layer does not fill the
            canvas completely: the unoccupied part is transparent. The
            background color in the Toolbox is yellow.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Canvas enlarged (layers unchanged)</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/canvas-size-ex2.png"/>
        </imageobject>
        <caption>
          <para>
            The canvas has been enlarged to 120x120 pixels. The layers
            size remained unchanged. The unoccupied part of the canvas is
            transparent.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Canvas enlarged (all layers changed)</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/canvas-size-ex3.png"/>
        </imageobject>
        <caption>
          <para>
            The canvas has been enlarged to 120x120 pixels. All layers
            have been enlarged to the canvas size. The undrawn part is
            transparent in the red layer and yellow (background color in
            Toolbox) in the green background layer.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>

  <sect3>
    <title>What's Canvas Size useful for?</title>
    <para>
      You may want to add some stuff around your image: enlarge canvas size,
      add a new layer that will have the same size as the new canvas and
      then paint this new layer. That's the converse of cropping.
    </para>
    
    <para>You can also use this command to crop an image:</para>
    <figure>
      <title>Resizing canvas</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/canvas-size-ex4.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Click on the chain next to Width and Height entries to unlink
      dimensions. By modifying these dimensions and moving image against
      canvas, by trial and error, you can crop the part of the image you
      want. Click on the Center button and then on the Resize button.
    </para>
    <figure>
      <title>Cropped image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/canvas-size-ex5.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <note>
      <para>
        The <link linkend="gimp-tool-crop">Crop tool</link> is easier to use.
      </para>
      <!--TODO: so "to crop an image" is not the answer?!-->
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-configure-grid">
  <title>Configure Grid</title>

  <anchor id="gimp-configure-grid-dialog"/>
  <indexterm>
    <primary>Grid</primary>
    <secondary>configure</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Configure Grid</guimenuitem> command lets you set
    the properties of the grid which you can display over your image
    while you are working on it.
    The <acronym>GIMP</acronym> provides only Cartesian grids.
    You can choose the color of the grid lines, and the spacing and offsets
    from the origin of the image, independently for the horizontal and
    vertical grid lines. You can choose one of five different grid styles.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Configure Grid</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Configure Grid</quote> dialog
    </title>
    <figure>
      <title>The <quote>Configure grid</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/configure-grid.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <title>Appearance</title>
      <para>
        In the <guimenu>Configure Image Grid</guimenu> dialog, you can set
        the properties of the grid which is shown when you turn on the image
        grid.
      </para>
      <varlistentry>
        <term>Line style</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Intersections (dots)</term>
              <listitem>
                <para>
                  This style, the least conspicuous, shows a simple dot at
                  each intersection of the grid lines.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Intersections (crosshairs)</term>
              <listitem>
                <para>
                  This style, the default, shows a plus-shaped crosshair at
                  each intersection of the grid lines.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Dashed</term>
              <listitem>
                <para>
                  This style shows dashed lines in the foreground color
                  of the grid. If the lines are too close together,
                  the grid won't look good.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Double dashed</term>
              <listitem>
                <para>
                  This style shows dashed lines, where the foreground
                  and background colors of the grid alternate.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Solid</term>
              <listitem>
                <para>
                  This style shows solid grid lines in the
                  foreground color of the grid.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Foreground and Background colors</term>
        <listitem>
          <para>
            Click on the color dwell to select a new color for the grid.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Spacing</title>
      <varlistentry>
        <term>Width and Height</term>
        <listitem>
          <para>
            You can select the cell size of the grid and the unit of
            measurement.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Offset</title>
      <varlistentry>
        <term>Width and Height</term>
        <listitem>
          <para>
            You can set the offset of the first cell. The coordinate origin
            is the upper left corner of the image. By default, the grid
            begins at the coordinate origin, (0,0).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-convert-grayscale">
  <title>Grayscale mode</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Convert</secondary>
    <tertiary>To grayscale</tertiary>
  </indexterm>
  <indexterm>
    <primary>Grayscale</primary>
    <secondary>Convert to grayscale</secondary>
  </indexterm>
  <indexterm>
    <primary>Modes (color)</primary>
    <secondary>Grayscale</secondary>
  </indexterm>

  <para>
    You can use the <guimenuitem>Grayscale</guimenuitem>
    command to convert your image to grayscale with 256 levels of gray, from 0
    (black) to 255 (white).
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
         You can access this command from the image menubar through
         <menuchoice>
           <guimenu>Image</guimenu>
           <guisubmenu>Mode</guisubmenu>
           <guimenuitem>Grayscale</guimenuitem>
         </menuchoice>.
       </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-convert-indexed">
  <title>Indexed mode</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Convert</secondary>
    <tertiary>To indexed mode</tertiary>
  </indexterm>
  <indexterm>
    <primary>Modes (color)</primary>
    <secondary>Indexed</secondary>
  </indexterm>
  <indexterm>
    <primary>Indexed colors</primary>
  </indexterm>

  <para>
    The <guimenuitem>Indexed</guimenuitem> command converts your image to
    indexed mode. See
    <link linkend="glossary-colormodel">indexed colors</link> in the
    Glossary for more information about Indexed Color Mode.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Mode</guisubmenu>
            <guimenuitem>Indexed</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The <quote>Convert Image to Indexed Colors</quote> dialog</title>
    <para>
      The <guimenuitem>Indexed</guimenuitem> command opens the
      <guilabel>Convert Image to Indexed Colors</guilabel> dialog.
    </para>
    <figure>
      <title>The <quote>Convert Image to Indexed Colors</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/dialogs/image-mode-indexed.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Colormap Options</term>
        <listitem>
          <itemizedlist>
            <listitem>
              <para><guilabel>Generate optimum palette</guilabel>:
                This option generates the best possible palette with a
                default maximum number of 256 colors (classic GIF format).
                You can reduce this
                <emphasis>Maximum Number of Colors</emphasis>, although
                this may create unwanted effects (color banding) on smooth
                transitions. You may be able to lessen the unwanted effects
                by using dithering, however.
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Use web-optimized palette</guilabel>: use a
                palette that is optimized for the web.
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Use black and white (1-bit) palette</guilabel>:
                This option generates an image which uses only two colors,
                black and white.
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Use custom palette</guilabel>:
                This button lets you select a custom palette from a list.
                The number of colors is indicated for each palette. The
                <quote>Web</quote> palette, with 216 colors, is the
                <quote>web-safe</quote> palette. It was originally created
                by Netscape to
                provide colors that would look the same on both Macs and
                PCs, and Internet Explorer 3 could manage it. Since
                version 4, MSIE handles a 212 color palette. The problem
                of color similarity between all platforms has not been
                solved yet and it probably never will be. When designing a
                web page, you should keep two principles in mind: use light
                text on a dark background or dark text on a light
                background, and never rely on color to convey information.
              </para>
              <para>
                Some colors in the palette may not be used if your image
                does not have many colors. They will be removed from the
                palette if the <guilabel>Remove unused colors from final
                palette</guilabel> option is checked.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Dithering Options</term>
        <listitem>
          <para>
            Since an indexed image contains 256 colors or less, some colors
            in the original image may not be available in the palette. This
            may result in some blotchy or solid patches in areas which
            should have subtle color changes. The dithering options let you
            correct the unwanted effects created by the Palette Options.
          </para>
          <para>
            A dithering filter tries to approximate a color which is
            missing from the palette by instead using clusters of pixels
            of similar colors which are in the palette. When seen from a
            distance, these pixels give the impression of a new color. See
            the Glossary for more information on
            <link linkend="glossary-dithering">dithering</link>.
          </para>
          <para>
            Three filters (plus <quote>None</quote>) are available. It is
            not possible to predict what the result of a particular filter
            will be on your image, so you will have to try all of them and
            see which works best. The
            <quote>Positioned Color Dithering</quote> filter is well
            adapted to animations.
          </para>
          <figure>
            <title>Example: full color, with no dithering</title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/dialogs/examples/dither1.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  This is an example image with a smooth transition in
                  RGB Mode.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>Example: four colors, with no dithering</title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/dialogs/examples/dither2.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  The same image, after being transformed to four indexed
                  colors, without dithering.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>Example: Floyd-Steinberg (normal)</title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/dialogs/examples/dither3.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  The same image, with four indexed colors and
                  <quote>Floyd-Steinberg (normal)</quote> dithering.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <figure>
            <title>Example: Floyd-Steinberg (reduced color bleeding)</title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/dialogs/examples/dither4.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  The same image, with four indexed colors and
                  <quote>Floyd-Steinberg (reduced color bleeding)</quote>
                  dithering.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            In a GIF image, transparency is encoded in 1 bit: transparent
            or not transparent. To give the illusion of partial
            transparency, you can use the <guilabel>Enable dithering of
              transparency</guilabel> option. However, the
            <link linkend="plug-in-semiflatten">Semi-flatten</link>
            plug-in may give you better results.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <note>
      <para>
        You can edit the color palette of an indexed image by using the
        <link linkend="gimp-indexed-palette-dialog">Colormap Dialog</link>.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-convert-rgb">
  <title>RGB mode</title>

  <indexterm>
    <primary>RGB</primary>
  </indexterm>
  <indexterm>
    <primary>Image</primary>
    <secondary>Convert</secondary>
    <tertiary>To RGB mode</tertiary>
  </indexterm>
  <indexterm>
    <primary>Modes (color)</primary>
    <secondary>RGB</secondary>
  </indexterm>

  <para>
    The <guimenuitem>RGB</guimenuitem> command converts your image to
    RGB mode. See the <link linkend="glossary-rgb">RGB</link> description in
    the Glossary for more information. Normally, you work in this mode,
    which is well-adapted to the screen. It is possible to convert an RGB
    image to Grayscale or Indexed mode, but be careful: once you have saved
    the image, you can no longer retrieve the RGB colors, so you should
    work on a copy of your image.
  </para>

  <sect3>
    <title>Activating the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu bar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Mode</guisubmenu>
            <guimenuitem>RGB</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-crop">
  <title>Crop to Selection</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Crop</secondary>
    <tertiary>To selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Crop to selection</primary>
  </indexterm>

  <para>
    The <guimenuitem>Crop to Selection</guimenuitem> command crops the image to
    the boundary of the selection by removing any strips at the edges whose
    contents are all completely unselected. Areas which are partially
    selected (for example, by feathering) are not cropped. If the selection
    has been feathered, cropping is performed on the external limit of the
    feathered area. If there is no selection for the image, the menu entry is
    disabled and grayed out.
  </para>
  <note>
    <para>
      This command crops all of the image layers. To crop just the active
      layer, use the <link linkend="gimp-layer-crop">Crop Layer</link>
      command.
    </para>
  </note>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command on the image menu bar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Crop to Selection</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-duplicate">
  <title>Duplicate</title>

  <indexterm>
    <primary>Duplicate</primary>
  </indexterm>

  <para>
    The <guimenuitem>Duplicate</guimenuitem> command creates a new
    image which is an exact copy of the current one, with all of its layers,
    channels and paths. The <acronym>GIMP</acronym> Clipboard and
    the History are not affected.
  </para>

  <note>
    <para>
      Don't mistake a duplicated image for a new view of this image. In a
      <menuchoice>
        <guimenu>View</guimenu>
        <guimenuitem>New View</guimenuitem>
      </menuchoice>,
      all changes are passed on the original image.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Duplicate</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>D</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-resize-to-layers">
  <title>Fit Canvas to Layers</title>

  <indexterm>
    <primary>Canvas</primary>
    <secondary>Fit canvas size to layers</secondary>
  </indexterm>
  <indexterm>
    <primary>Fit canvas to layers</primary>
  </indexterm>

  <para>
    The <guimenuitem>Fit Canvas to Layers</guimenuitem> command adapts the
    canvas size to the size of the largest layer in the image, in both width
    and height.
  </para>
  <para>
    When you create or open an image, the canvas size is defined as the
    image size and remains unchanged if you add new layers. If you add a
    layer larger than the canvas, only the area limited by the canvas will be
    visible. To show the whole layer, use this command.
  </para>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Fit Canvas to Layers</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-resize-to-selection">
  <title>Fit Canvas to Selection</title>

  <indexterm>
    <primary>Canvas</primary>
    <secondary>Fit canvas size to selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Fit canvas to selection</primary>
  </indexterm>

  <para>
    The <guimenuitem>Fit Canvas to Selection</guimenuitem> command adapts the
    canvas size to the size of the selection, in both width and height.
  </para>

  <sect3>
    <title>Activate the command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Fit Canvas to Selection</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-flatten">
  <title>Flatten Image</title>

  <indexterm>
    <primary>Layers</primary>
    <secondary>Merge all layers</secondary>
  </indexterm>
  <indexterm>
    <primary>Flatten</primary>
  </indexterm>

  <para>
    The <guimenuitem>Flatten Image</guimenuitem> command merges all of the
    layers of the image into a single layer with no alpha channel. After
    the image is flattened, it has the same appearance it had before. The
    difference is that all of the image contents are in a single layer
    without transparency. If there are any areas which are transparent
    through all of the layers of the original image, the background color
    is visible.
  </para>
  <para>
    This operation makes significant changes to the structure of the image.
    It is normally only necessary when you would like to save an image in
    a format which does not support levels or transparency (an alpha
    channel).
 </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Flatten Image</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-guide-new-percent">
  <title>New Guide (by Percent)</title>

  <indexterm>
    <primary>Guide</primary>
    <secondary>Add by percent</secondary>
  </indexterm>

  <para>
    The <guimenuitem>New Guide (by Percent)</guimenuitem> command adds
    a guide to the image. The position of the guide is specified as a
    percentage of the canvas Height and Width.
  </para>
  <tip>
    <para>
      You can add guides to the image more quickly by simply clicking and
      dragging guides from the image rulers and positioning them where you
      would like. Guides you draw with click-and-drag are not as precisely
      positioned as those you draw with this command, however.
    </para>
  </tip>

  <sect3>
    <title>Activate the Command</title>
    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>Image</guimenu>
        <guisubmenu>Guides</guisubmenu>
        <guimenuitem>New Guide (by Percent)</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3>
    <title><quote>New Guide (by Percent)</quote> Options</title>
    <para>
      When you select this menu item, a dialog opens, which allows you to set
      the <guilabel>Direction</guilabel> and <guilabel>Position</guilabel>, by
      percent, of the new guide.
    </para>
    <figure>
      <title>The <quote>New Guide (by Percent)</quote> Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/new-guide-percent.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Direction</term>
        <listitem>
          <para>
            You can choose the <guilabel>Direction</guilabel> of the guide,
            either <guilabel>Horizontal</guilabel> or
            <guilabel>Vertical</guilabel>, by using the drop-down list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Position</term>
        <listitem>
          <para>
            You can also choose the <guilabel>Position</guilabel> of the
            new guide. The coordinate origin is in the upper left corner of
            the canvas.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-guides-from-selection">
  <title>New Guides from Selection</title>

  <indexterm>
    <primary>Guides</primary>
    <secondary>Add from selection</secondary>
  </indexterm>

  <para>
    The <guimenuitem>New Guides from Selection</guimenuitem> command adds
    four guide lines, one for each of the upper, lower, left and right
    edges of the current selection. If there is no selection in the
    current image, no guides are drawn.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>Image</guimenu>
        <guisubmenu>Guides</guisubmenu>
        <guimenuitem>New Guides from Selection</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-guide-new">
  <title>New Guide</title>

  <indexterm>
    <primary>Guide</primary>
    <secondary>Add</secondary>
  </indexterm>

  <para>
    The <guimenuitem>New Guide</guimenuitem> command adds a guide to
    the image.
  </para>
  <tip>
    <para>
      You can add guides to the image more quickly, but less accurately, by
      simply clicking and dragging guides from the image rulers and
      positioning them where you would like.
    </para>
  </tip>

  <sect3>
    <title>Activate the Command</title>
    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>Image</guimenu>
        <guisubmenu>Guides</guisubmenu>
        <guimenuitem>New Guide</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

  <sect3>
    <title><quote>New Guide</quote> Options</title>
    <para>
      When you select <guimenuitem>New Guide</guimenuitem>, a dialog opens,
      which allows you to set the <guilabel>Direction</guilabel> and
      <guilabel>Position</guilabel>, in pixels, of the new guide more
      precisely than by using click-and-drag.
    </para>
    <figure>
      <title>The <quote>New Guide</quote> Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/new-guide.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Direction</term>
        <listitem>
          <para>
            You can choose the <guilabel>Direction</guilabel> of the guide,
            either <guilabel>Horizontal</guilabel> or
            <guilabel>Vertical</guilabel>, by using the drop-down list.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Position</term>
        <listitem>
          <para>
            The coordinate origin for the <guilabel>Position</guilabel> is
            the upper left corner of the canvas.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-guides-remove">
  <title>Remove all guides</title>

  <indexterm>
    <primary>Guides</primary>
    <secondary>Remove</secondary>
  </indexterm>

  <para>
    The <guilabel>Remove all Guides</guilabel> command removes all guides
    from the image. Clicking-and-dragging one or two guides onto a ruler
    is a quicker way to remove them. This command is useful if you have
    positioned several guides.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>Image</guimenu>
        <guisubmenu>Guides</guisubmenu>
        <guimenuitem>Remove all guides</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-guides">
  <title>Guides</title>

  <indexterm>
    <primary>Guides</primary>
  </indexterm>
  <indexterm>
    <primary>Image</primary>
    <secondary>Guides</secondary>
  </indexterm>

  <figure>
    <title>
      The <quote>Guides</quote> options of the <quote>Image</quote> submenu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/image/guides.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guimenuitem>Guides</guimenuitem> submenu contains various commands
    for the creation and removal of guides.
  </para>

  <sect3>
    <title>Activating the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Guides</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The Contents of the <quote>Guides</quote> Submenu</title>
    <para>
      The <guilabel>Guides</guilabel> submenu contains the
      following commands:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <xref linkend="script-fu-guide-new"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="script-fu-guide-new-percent"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="script-fu-guides-from-selection"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="script-fu-guides-remove"/>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-image-menu-overview">
  <title>Overview</title>

  <indexterm>
    <primary>Menus</primary><secondary>Image</secondary>
  </indexterm>

  <figure>
    <title>The Contents of the <quote>Image</quote> Menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/image.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guimenuitem>Image</guimenuitem> menu contains commands which use
    or affect the entire image in some way, not just the active layer or
    some other specific part of the image.
  </para>
  <xi:include href="../about-plugin-menuitems.xml"/>
</sect2>
-#-#-
<sect2 id="gimp-image-merge-layers">
  <title>Merge Visible Layers</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Merge visible layers</tertiary>
  </indexterm>
  <indexterm>
    <primary>Merge Visible Layers</primary>
  </indexterm>

  <para>
    The <guimenuitem>Merge Visible Layers</guimenuitem> command merges
    the layers which are visible into a single layer. Visible layers are
    those which are indicated on the Layers dialog with an
    <quote>eye</quote> icon.
  </para>
  <note>
    <para>
      With this command, the original visible layers disappear. With the
      <link linkend="gimp-layer-new-from-visible">New From
        Visible</link> command, a new layer is created at top of the
      stack and original visible layers persist.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Merge Visible Layers</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
           or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>M</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Layers merge Options</quote> Dialog
    </title>
    <figure>
      <title>The <quote>Layers Merge Options</quote> Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/merge-visible.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Final, Merged Layer should be:</term>
        <listitem>
          <para>
            Visible layers are the layers which are marked with an
            <quote>eye</quote> icon in the Layers dialog.
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <emphasis>Expanded as necessary</emphasis>:
                The final layer is large enough to contain all of the
                merged layers. Please note that a layer in
                <acronym>GIMP</acronym> can be larger than the
                image.
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Clipped to image</emphasis>:
                The final layer is the same size as the image. Remember
                that layers in <acronym>GIMP</acronym> can be
                larger than the image itself. Any layers in the image that
                are larger than the image are clipped by this option.
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Clipped to bottom layer</emphasis>:
                The final layer is the same size as the bottom layer. If
                the bottom layer is smaller than some of the visible layers,
                the final layer is clipped and trimmed to the size and
                position of the bottom layer.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      
      <varlistentry>
        <term>Merge within active group only</term>
        <listitem>
          <para>
            This self-explanatory option is enabled when a layer group exists.
          </para>
        </listitem>
      </varlistentry>
            
      <varlistentry>
        <term>Discard invisible layers</term>
        <listitem>
          <para>
            When this option is checked, non visible layers are removed from
            the layer stack.
          </para>
          <figure>
            <title><quote>Merge visible layers</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/image/merge-visible-ex1.png"/>
              </imageobject>
              <caption>
                <para>Three layers; two are visible</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/image/merge-visible-ex2.png"/>
              </imageobject>
              <caption>
                <para>
                  <quote>Discard invisible layers</quote> unchecked
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/image/merge-visible-ex3.png"/>
              </imageobject>
              <caption>
                <para><quote>Discard invisible layers</quote> checked</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-mode">
  <title>Mode</title>

  <indexterm>
    <primary>Modes (Colors)</primary>
    <secondary>Submenu</secondary>
  </indexterm>
  <indexterm>
    <primary>Image</primary>
    <secondary>Color modes</secondary>
    <tertiary>Menu</tertiary>
  </indexterm>

  <figure>
    <title>
      The <quote>Mode</quote> submenu of the <quote>Image</quote> menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/image/mode.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guimenuitem>Mode</guimenuitem> submenu contains commands which
    let you change the color mode of the image. There are three modes.
  </para>

  <sect3>
    <title>Activating the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Mode</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The Contents of the <quote>Mode</quote> Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          <link linkend="gimp-image-convert-rgb">RGB</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link linkend="gimp-image-convert-grayscale">Grayscale</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link linkend="gimp-image-convert-indexed">Indexed</link>
        </para>
      </listitem>
      <listitem>
        <para>
          Assign Color Profile (see
          <link linkend="plug-in-icc-profile-set">ColorÂ management</link>)
        </para>
      </listitem>
      <listitem>
        <para>
          Convert to Color Profile (see
          <link linkend="plug-in-icc-profile-apply">ColorÂ management</link>)
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-print-size">
  <title>Print Size</title>

  <indexterm>
    <primary>Printing</primary>
    <secondary>Size and resolution</secondary>
  </indexterm>
  <indexterm>
    <primary>Resolution</primary>
    <secondary>Printing</secondary>
  </indexterm>
  <indexterm>
    <primary>Image</primary>
    <secondary>Print size</secondary>
  </indexterm>
  <indexterm>
    <primary>Print Size</primary>
  </indexterm>

  <para>
    You can use the <guimenuitem>Print Size</guimenuitem> dialog to change
    the <emphasis>dimensions of a printed image</emphasis> and its
    <emphasis>resolution</emphasis>. This command does not change the number
    of pixels in the image and it does not resample the image. (If you want
    to change the size of an image by resampling it, use the
    <link linkend="gimp-image-scale">Scale Image</link> command.)
  </para>

  <sect3>
    <title>Activating the Dialog</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this dialog from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Print Size</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options in the <quote>Print Size</quote> Dialog</title>
    <figure>
      <title>The <quote>Print Size</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/print-size.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The output resolution determines the number of pixels used per unit
      length for the printed image. Do not confuse the output resolution
      with the printer's resolution, which is a printer feature and expressed
      in dpi (dots per inch); several dots are used to print a pixel.
    </para>
    <para>
      When the dialog is displayed, the resolution shown in the boxes is the
      resolution of the original image. If you increase the output
      resolution, the printed page will be smaller, since more pixels are
      used per unit of length. Conversely, and for the same reason,
      resizing the image modifies the resolution.
    </para>
    <para>
      Increasing the resolution results in increasing the sharpness of the
      printed page. This is quite different from simply reducing the image
      size by scaling it, since no pixels (and no image information) are
      removed.
    </para>
    <variablelist>
      <varlistentry>
        <term>Width; Height</term>
        <listitem>
          <para>
            You can set the printing Width and Height by using the
            text boxes. You can also choose the units for these values
            from the dropdown list.
          </para>
          <para>
            As soon as you change the Width or the Height, the X and/or
            Y resolution values automatically change accordingly. If the
            two resolution values remain linked, the relationship of the
            width to the height of the image is also automatically
            maintained. If you would like to set these values independently
            of each other, simply click on the chain symbol to break the
            link.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>X resolution; Y resolution</term>
        <listitem>
          <para>
            You can set the resolution used to calculate the printed
            width and height from the physical size of the image, that is,
            the number of pixels in it.
          </para>
          <para>
            Use the text boxes to change these resolution values.
            They can be linked to keep their relationship constant. The
            closed chain symbol between the two boxes indicates that the
            values are linked together. If you break the link by clicking
            on the chain symbol, you will be able to set the values
            independently of each other.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-properties">
  <title>Image Properties</title>

  <indexterm>
    <primary>Image Properties</primary>
  </indexterm>

  <para>
    The <quote>Image Properties</quote> command opens a window that shows
    lots of different information for the image.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Image Properties</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Alt</keycap><keycap>Return</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <para>The properties window is divided into three tabs.</para>

    <sect4>
      <title><quote>Properties</quote> tab</title>
      <figure>
        <title><quote>Properties</quote> tab</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/image/properties.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Pixel dimensions</term>
          <listitem>
            <para>
              Shows the image height and width in pixels, that is, the
              <emphasis>physical</emphasis> size of the image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Print size</term>
          <listitem>
            <para>
              Shows the size the image will have when it is printed, in the
              current units. This is the <emphasis>logical</emphasis> size of
              the image. It depends upon the physical size of the image and
              the screen resolution.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Resolution</term>
          <listitem>
            <para>
              Shows the print resolution of the image in pixel per inch.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Color space</term>
          <listitem>
            <para>Shows the images color space.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>File name</term>
          <listitem>
            <para>
              Path and name of the file that contains the image.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>File size</term>
          <listitem>
            <para>Size of the file that contains the image.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>File type</term>
          <listitem>
            <para>Format of the file that contains the image.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Size in memory</term>
          <listitem>
            <para>
              RAM consumption of the loaded image including the images
              journal.
              This information is also displayed in the image window. The
              size is quite different from the size of the file on disk.
              That is because the displayed image is decompressed and
              because <acronym>GIMP</acronym> keeps a copy of the image in
              memory for Redo operations.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Undo steps</term>
          <listitem>
            <para>
              Number of actions you have performed on the image, that you
              can undo. You can see them in the
              <link linkend="gimp-undo-dialog">Undo History</link> dialog.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Redo steps</term>
          <listitem>
            <para>
              Number of actions you have undone, that you can redo.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            Number of pixels; Number of layers; Number of channels; Number
            of paths
          </term>
          <listitem>
            <para>Well counted!</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title><quote>Color profile</quote> tab</title>
      <figure>
        <title><quote>Color profile</quote> tab</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/image/properties-profile.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab contains the name of the color profile the image is loaded
        into GIMP with. Default is the built-in <quote>sRGB</quote> profile.
      </para>
    </sect4>

    <sect4>
      <title><quote>Comments</quote> tab</title>
      <figure>
        <title><quote>Comments</quote> tab</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/image/properties-comment.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        This tab allows you to view and edit a comment for the image.
      </para>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-scale">
  <title>Scale Image</title>

  <indexterm>
    <primary>Scale Image</primary>
  </indexterm>

  <para>
    The <guimenuitem>Scale Image</guimenuitem> command enlarges or reduces
    the physical size of the image by changing the number of pixels it
    contains. It changes the size of the contents of the image and resizes
    the canvas accordingly.
  </para>
  <para>
    It operates on the entire image. If your image has layers of different
    sizes, making the image smaller could shrink some of them down to nothing,
    since a layer cannot be less than one pixel wide or high. If this happens,
    you will be warned before the operation is performed.
  </para>
  <para>
    If you only want to scale a particular layer, use the
    <link linkend="gimp-layer-scale">Scale Layer</link> command.
  </para>
  <anchor id="gimp-image-scale-warning"/>
  <note>
    <para>
      If scaling would produce an image larger than the
      <quote>Maximum new image size</quote> set in the
      <link linkend="gimp-prefs-environment">Environment</link> page of the
      Preferences dialog (which has a default of 128 Mb), you are warned and
      asked to confirm the operation before it is performed. You may not
      experience any problems if you confirm the operation, but you should
      be aware that very large images consume a lot of resources and
      extremely large images may take more resources than you have,
      causing <acronym>GIMP</acronym> to crash or not perform well.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Scale Image</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The <quote>Scale Image</quote> Dialog</title>
    <figure>
      <title>The <quote>Scale Image</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/image/scale-image.png"/>
          <!--was: images/dialogs/scale-image.png-->
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Image Size</term>
        <listitem>
          <para>
            You should keep in mind that an image can be located in one of
            four places: in the image file, in RAM after it has been loaded,
            on your screen when it is displayed, or on paper after it has been
            printed. Scaling the image changes the number of pixels (the
            amount of information) the image contains, so it directly affects
            the amount of memory the image needs (in RAM or in a file).
          </para>
          <para>
            However printing size also depends upon the resolution of the
            image, which essentially determines how many pixels there will
            be on each inch of paper. If you want to change the printing
            size without scaling the image and changing the number of pixels
            in it, you should use the
            <link linkend="gimp-image-print-size">Print Size</link> dialog.
            The screen size depends not only on the number of pixels, but
            also on the screen resolution, the zoom factor and the setting
            of the <link linkend="gimp-view-dot-for-dot">Dot for Dot</link>
            option.
          </para>
          <para>
            If you enlarge an image beyond its original size,
            <acronym>GIMP</acronym> calculates the missing pixels by
            interpolation, but it does not add any new detail. The more you
            enlarge an image, the more blurred it becomes. The appearance of
            an enlarged image depends upon the interpolation method you
            choose. You may improve the appearance by using the
            <link linkend="plug-in-sharpen">Sharpen</link> filter after you
            have scaled an image, but it is best to use high resolution when
            you scan, take digital photographs or produce digital images by
            other means. Raster images inherently do not scale up well.
          </para>
          <para>
            You may need to reduce your image if you intend to use it on a web
            page. You have to consider that most internet users have
            relatively small screens which cannot completely display a large
            image. Many screens have a resolution of 1024x768 or even less.
          </para>
          <para>
            Adding or removing pixels is called <quote>Resampling</quote>.
          </para>
          <variablelist>
            <varlistentry>
              <term>Width; Height</term>
              <listitem>
                <para>
                  When you click on the <guimenuitem>Scale</guimenuitem>
                  command, the dialog displays the dimensions of the
                  original image in pixels. You can set the
                  <guilabel>Width</guilabel> and the
                  <guilabel>Height</guilabel> you want to give to your
                  image by adding or removing pixels. If the chain icon next
                  to the Width and Height boxes is unbroken, the Width and
                  Height will stay in the same proportion to each other. If
                  you break the chain by clicking on it, you can set them
                  independently, but this will distort the image.
                </para>
                <para>
                  However, you do not have to set the dimensions in pixels.
                  You can choose different units from the drop-down menu.
                  If you choose percent as the units, you can set the image
                  size relative to its original size. You can also use
                  physical units, such as inches or millimeters. If you do
                  that, you should set the <guilabel>X resolution</guilabel>
                  and <guilabel>Y resolution</guilabel> fields to
                  appropriate values, because they are used to convert
                  between physical units and image dimensions in pixels.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>X resolution; Y resolution</term>
              <listitem>
                <para>
                  You can set the printing resolution for the image in the
                  <guilabel>X resolution</guilabel>
                  and <guilabel>Y resolution</guilabel>
                  fields. You can also change the units of measurement by
                  using the drop-down menu.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Quality</term>
        <listitem>
          <para>
            To change the image size, either some pixels have to be removed
            or new pixels must be added. The process you use determines the
            quality of the result. The <guilabel>Interpolation</guilabel>
            drop down list provides a selection of available methods of
            interpolating the color of pixels in a scaled image:
          </para>
          <variablelist>
            <varlistentry>
              <term>Interpolation</term>
              <listitem>
                <itemizedlist>
                  <listitem>
                    <para><guilabel>None</guilabel>:
                      No interpolation is used. Pixels are simply enlarged
                      or removed, as they are when zooming. This method is low
                      quality, but very fast.
                    </para>
                  </listitem>
                  <listitem>
                    <para><guilabel>Linear</guilabel>: This method is relatively
                      fast, but still provides fairly good results.
                    </para>
                  </listitem>
                  <listitem>
                    <para><guilabel>Cubic</guilabel>:
                      The method that produces the best results, but also
                      the slowest method.
                    </para>
                  </listitem>
                  <listitem>
                    <para><guilabel>Sinc (Lanczos 3)</guilabel>: New with
                      GIMP-2.4, this method gives less blur in important
                      resizings.
                    </para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
    <note>
      <para>
        See also the <link linkend="gimp-tool-scale">Scale tool</link>,
        which lets you scale a layer, a selection or a path.
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-flip-horizontal">
  <title>Flip Horizontally; Flip Vertically</title>

  <anchor id="gimp-image-flip-vertical"/>
  <indexterm>
    <primary>Flip</primary>
  </indexterm>

  <para>
    You can flip the image, or turn it over like a
    card, by using the <guimenuitem>Flip Horizontally</guimenuitem> or
    <guimenuitem>Flip Vertically</guimenuitem> commands.
    These commands work on the whole image. To flip a selection, use the
    <link linkend="gimp-tool-flip">Flip Tool</link>.
    To flip a layer, use the functions of the
    <menuchoice>
      <guimenu>Layer</guimenu>
      <guisubmenu>Transform</guisubmenu>
    </menuchoice>
    menu or the
    <link linkend="gimp-tool-flip">Flip Tool</link>.
  </para>

  <sect3>
    <title>Activate the Commands</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access the horizontal flip command from the image menubar
          through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Flip Horizontally</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can access the vertical flip command from the image menubar
          through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Flip Vertically</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-guillotine">
  <title>Guillotine</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Cut off image according to guides</secondary>
  </indexterm>
  <indexterm>
    <primary>Guillotine</primary>
  </indexterm>

  <para>
    The <guimenuitem>Guillotine</guimenuitem> command slices up the current
    image, based on the image's guides. It cuts the image along each guide,
    similar to slicing documents in an office with a guillotine (paper
    cutter) and creates new images out of the pieces. For further
    information on guides, see
    <xref linkend="gimp-concepts-image-guides"/>.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Guillotine</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-rotate-90">
  <title>Rotation</title>

  <anchor id="gimp-image-rotate-180"/>
  <anchor id="gimp-image-rotate-270"/>
  <indexterm>
    <primary>Rotation</primary>
  </indexterm>

  <para>
    You can rotate the image 90Â° clockwise or counter-clockwise, or rotate
    it 180Â°, by using the rotation commands on the
    <guimenuitem>Transform</guimenuitem> submenu of the
    <guimenu>Image</guimenu> menu. These commands can be used to change
    between Portrait and Landscape orientation. They work on the
    whole image. If you want to rotate the image at a different angle,
    rotate a selection or rotate a layer, use the
    <link linkend="gimp-tool-rotate">Rotate Tool</link>. You can also
    rotate a layer by using the
    <link linkend="gimp-layer-transform-menu">Layer Transform</link> menu.
  </para>

  <sect3>
    <title>Activate the Commands</title>
    <para>
      You can access these three commands from the image menubar through
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Rotate 90 degrees CW</guimenuitem></menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Rotate 90 degrees CCW</guimenuitem>
          </menuchoice> and
        </para>
      </listitem>
      <listitem>
        <para>
          <menuchoice>
            <guimenu>Image</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Rotate 180Â°</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-image-transform">
  <title>Transform</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Transform</secondary>
  </indexterm>
  <indexterm>
    <primary>Transform</primary>
  </indexterm>

  <figure>
    <title>
      The <quote>Transform</quote> submenu of the <quote>Image</quote> menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/image/transform.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The items on the <guimenuitem>Transform</guimenuitem> submenu transform
    the image by flipping it, rotating it or cropping it.
  </para>

  <sect3>
    <title>Activating the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Transform</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The Contents of the <quote>Transform</quote> Submenu</title>
    <para>
      The <guimenuitem>Transform</guimenuitem> submenu has the following
      commands:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <link linkend="gimp-image-flip-horizontal">Flip Horizontally;
          Flip Vertically</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link linkend="gimp-image-rotate-90">Rotate 90Â° clockwise /
          counter-clockwise; Rotate 180Â°</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link linkend="plug-in-guillotine">Guillotine</link>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-zealouscrop">
  <title>Zealous Crop</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Crop</secondary>
    <tertiary>According to color</tertiary>
  </indexterm>
  <indexterm>
    <primary>Zealous Crop</primary>
  </indexterm>

  <para>
    The <guimenuitem>Zealous Crop</guimenuitem> command crops an image
    using a single solid color as a guide. It crops the edges, as with
    the <link linkend="gimp-image-crop">Autocrop</link> command, but it
    also crops the areas in the middle of the image which have the
    same color (at least, in principle).
  </para>
  <caution>
    <para>
      Please note that <guimenuitem>Zealous Crop</guimenuitem> crops all of
      the layers, although it only analyzes the active layer. This may
      lead to a loss of information from the other layers.
    </para>
  </caution>

  <sect3>
    <title>Example</title>
    <figure>
      <title><quote>Zealous Crop</quote> Example</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/crop-orig.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/crop-auto.png" format="PNG"/>
        </imageobject>
        <caption>
          <para><quote>Autocrop</quote> applied
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/crop-zealous.png" format="PNG"/>
        </imageobject>
        <caption>
          <para><quote>Zealous Crop</quote> applied
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu bar through
          <menuchoice>
            <guimenu>Image</guimenu>
            <guimenuitem>Zealous Crop</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-image-menu">
  <title>The <quote>Image</quote> Menu</title>

  <xi:include href="image/introduction.xml"/>
  <!-- the menu -->
  <xi:include href="image/duplicate.xml"/>
  <xi:include href="image/mode.xml"/>
    <xi:include href="image/convert-rgb.xml"/>
    <xi:include href="image/convert-grayscale.xml"/>
    <xi:include href="image/convert-indexed.xml"/>
  <xi:include href="image/transform.xml"/>
    <xi:include href="image/transform-flip.xml"/>
    <xi:include href="image/transform-rotate.xml"/>
    <xi:include href="image/transform-guillotine.xml"/>
  <!-- separator -->
  <xi:include href="image/canvas-size.xml"/>
  <xi:include href="image/fit-canvas-to-layers.xml"/>
  <xi:include href="image/fit-canvas-to-selection.xml"/>
  <xi:include href="image/print-size.xml"/>
  <xi:include href="image/scale.xml"/>
  <!-- separator -->
  <xi:include href="image/crop.xml"/>
  <xi:include href="image/autocrop.xml"/>
  <xi:include href="image/zealous-crop.xml"/>
  <!-- separator -->
  <xi:include href="image/merge-layers.xml"/>
  <xi:include href="image/flatten.xml"/>
  <xi:include href="image/align-layers.xml"/>
  <!-- separator -->
  <xi:include href="image/guides.xml"/>
    <xi:include href="image/guides-new.xml"/>
    <xi:include href="image/guides-new-percent.xml"/>
    <xi:include href="image/guides-new-selection.xml"/>
    <xi:include href="image/guides-remove.xml"/>
  <xi:include href="image/configure-grid.xml"/>
  <xi:include href="image/properties.xml"/>
</sect1>
-#-#-

<sect1 id="gimp-menus-introduction">
  <title>Introduction to Menus</title>
  <indexterm>
    <primary>Menus</primary>
    <secondary>Introduction</secondary>
  </indexterm>

  <!--TODO: add image menubar screenshot(?)-->
  <!--Done-->

  <para>
    There are many places in <acronym>GIMP</acronym> where you can
    find menus. The aim of this chapter is to explain all the commands that
    are accessible from the image menu bar and the image menu you can get by
    right clicking in the canvas. All the context menus and the menu entries
    for the other dialogs are described elsewhere in the chapters that
    describe the dialogs themselves.
  </para>
  
  <sect2>
    <title>The Image Menu Bar</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/image-menu-bar.png"
                    format="PNG"/>
      </imageobject>
    </mediaobject>
    <para>
      This menu bar may contain other entries if you have added script-fus, 
      python-fus or videos to your GIMP.
    </para>
  </sect2>

  <sect2 id="context-menus">
    <title>Context Menus</title>

    <indexterm>
      <primary>Context menus</primary>
    </indexterm>

    <para>
      If you right-click on certain parts of the
      <acronym>GIMP</acronym> interface, a
      <quote>context menu</quote> opens, which leads to a variety of
      functions. Some places where you can access context menus are:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          Clicking on an image window displays the Image menu. This is useful
          when you are working in full-screen mode, without a menubar.
        </para>
      </listitem>
      <listitem>
        <para>
          Clicking on a layer in the Layers Dialog or on a channel in the
          Channels Dialog displays functions for the selected layer or
          channel.
        </para>
      </listitem>
      <listitem>
        <para>
          Right-clicking on the image menubar has the same effect as
          left-clicking.
        </para>
      </listitem>
      <listitem>
        <para>
          Right-clicking on the title bar displays functions which do not
          belong to <acronym>GIMP</acronym>,
          but to the window manager program on your computer.
        </para>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="tear-off-menus">
    <title>Tear-off menus</title>

    <indexterm>
      <primary>Tear-off menus</primary>
    </indexterm>
    <indexterm>
      <primary>Tear-off line</primary>
    </indexterm>

    <para>
      There is an interesting property associated with some of the menus in
      <acronym>GIMP</acronym>.
      These are any of the menus from the Image context menu you get by
      right-clicking on the canvas and any of its submenus. (You can tell
      that a menu item leads to a submenu because there is an
      <guiicon>
        <inlinegraphic fileref="images/menus/icon-submenu.png" format="PNG"/>
      </guiicon>
      icon next to it.) When you bring up any of these menus, there is a
      dotted line at the top of it (tear-off line). By clicking on this
      dotted line, you detach the menu under it and it becomes a separate
      window.
    </para>

    <figure>
      <title>
        The <quote>windows</quote> submenu and its tear-off submenu
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/local-windows-submenu.png"
                     format="PNG"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/detached-submenu.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      Tear-off menus are actually independent. They are always visible, their
      functions always apply to the current image, and they persist when all
      of the images are closed. You can close a tear-off submenu by clicking
      on the dotted line again or closing the window from the window manager
      on your computer (often by clicking on an X icon in the upper right
      corner of the window).
    </para>
    <para>
      These tear-off submenus are also created in single-window mode, but are 
      of less interest since they are masked by the window as soon as you 
      click on it.
    </para>
  </sect2>

  <sect2 id="tab-menus">
    <title>Tab menus</title>

    <indexterm>
      <primary>Tab menus</primary>
    </indexterm>

    <para>
      The following type of menus is not related to the image menu bar, but
      for the sake of completeness:
    </para>
    <para>
      Every <link linkend="gimp-concepts-docks">dockable</link> dialog
      contains a Tab Menu button, as highlighted below. Pressing this Tab
      Menu button opens a special menu of tab-related operations, with an
      entry at the top that opens into the dialog's context menu.
    </para>
    <figure>
      <title>A dockable dialog.</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/menus/tab-menu-button.png"/>
        </imageobject>
        <caption>
          <para>A dialog window with the Tab menu button highlighted.</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/menus/tab-menu.png"/>
        </imageobject>
        <caption>
          <para>The Tab menu.</para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      See <xref linkend="gimp-dockable-menu"/> to learn more about Tab menus.
    </para>
  </sect2>

</sect1>
-#-#-
<sect2 id="gimp-layer-alpha-add">
  <title>Add Alpha Channel</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Add Alpha channel to background layer</tertiary>
  </indexterm>
  <indexterm>
    <primary>Add Alpha channel</primary>
  </indexterm>

  <para>
    <guimenuitem>Add Alpha Channel</guimenuitem>: An alpha channel is
    automatically added into the Channel Dialog as soon as you add a second
    layer to your image. It represents the transparency of the image. If your
    image has only one layer, this background layer has no Alpha channel. In
    this case, you can Add an Alpha channel with this command.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Add alpha Channel</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, at the
          <link linkend="gimp-layer-dialog">Layer Dialog</link>, you
          can access it through <guimenuitem>Add Alpha Channel</guimenuitem>
          of its context pop-up menu.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-alpha-remove">
  <title>Remove Alpha Channel</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Remove Alpha Channel</tertiary>
  </indexterm>
  <indexterm>
    <primary>Remove Alpha channel</primary>
  </indexterm>

  <para>
    This command removes the Alpha channel of the active layer, keeping the
    Apha channels of the other layers.
  </para>
  <para>
    If the active layer is the background layer and if you have not added an
    Alpha channel before  (then the layer name is in bold letters in the
    Layer Dialog), the command is grayed out, inactive.
  </para>
  <para>
    If the active layer is not the background layer, transparency is replaced
    with the background color of the Toolbox.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Remove Alpha Channel</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, at the
          <link linkend="gimp-layer-dialog">Layer Dialog</link>, you
          can access it through <guimenuitem>Remove Alpha Channel</guimenuitem>
          of its context pop-up menu.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-alpha-selection-add">
  <title>Add Alpha channel to Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Add non-transparent areas to selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Add alpha channel</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Add to Selection</guimenuitem> command
    creates a selection in the current layer from the Alpha Channel. Opaque
    pixels are fully selected, transparent pixels are unselected, and
    translucent pixels are partially selected. This selection is
    <emphasis>added</emphasis> to the existing selection. The alpha channel
    itself is not changed.
  </para>
  <para>
    The other commands in this group of operations are similar, except that
    instead of adding to the existing selection with the selection produced
    from the active layer, they either completely replace the selection
    with a selection produced from the alpha selection, subtract the alpha
    selection from the existing selection, or create a selection that is
    the intersection of the two.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Add to Selection</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Add to Selection</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/BBR.png" format="PNG"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/alpha-add.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Non-transparent pixels of the active layer have been added
            to the existing selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-alpha-selection-intersect">
  <title>Intersect Alpha channel with Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Intersect non-transparent areas with selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Intersect with Alpha channel</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Intersect with Selection</guimenuitem> command creates a
    selection in the current layer from the Alpha Channel. Opaque pixels are
    fully selected, transparent pixels are unselected, and translucent pixels
    are partially selected. This selection is <emphasis>intersected</emphasis>
    with the existing selection: only common parts of both selections are
    kept. The alpha channel itself is not changed.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Intersect with Selection</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or from the pop-up menu which appears when you right-click on the
          active layer in the Layers Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Intersect with Selection</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/BBR.png" format="PNG"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/alpha-intersect.png"/>
        </imageobject>
        <caption>
          <para>
            Non-transparent pixels of the active layer have been intersected
            with the existing rectangular selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-alpha-selection-replace">
  <title>Alpha to Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Selection according to opacity</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>According to opacity</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Alpha to Selection</guimenuitem> command creates a
    selection in the current layer from the alpha channel, which encodes
    transparency. Opaque areas are fully selected, transparent areas are
    unselected, and translucent areas are partially selected. This selection
    <emphasis>replaces</emphasis> the existing selection. The alpha channel
    itself is not changed.
  </para>
  <para>
    The other commands in this group of operations are similar,
    except that instead of completely replacing the existing selection with
    the selection produced from the alpha channel, they either add the two
    selections, subtract the alpha selection from the existing selection, or
    create a selection that is the intersection of the two.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Alpha to Selection</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          or from the pop-up menu which appears when you right-click on the
          active layer in the Layer Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Alpha to Selection</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/BBR.png" format="PNG"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/alpha-replace.png"/>
        </imageobject>
        <caption>
          <para>
            Non-transparent pixels of the active layer have replaced
            the existing rectangular selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-alpha-selection-subtract">
  <title>Subtract from Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Subtract non-transparent pixels from selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Subtract non-transparent pixels</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Subtract from Selection</guimenuitem> command
    creates a selection in the current layer from the Alpha Channel. Opaque
    pixels are fully selected, transparent pixels are unselected, and
    translucent pixels are partially selected.This selection is
    <emphasis>subtracted</emphasis> from the existing selection. The Alpha
    channel itself is not changed.
  </para>
  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Subtract from Selection</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>
    <title>Example</title>
    <figure>
      <title>
        Applying <quote>Subtract from Selection</quote>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/BBR.png" format="PNG"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/alpha-sub.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Non-transparent pixels of the active layer have been subtracted
            from the existing rectangular selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-alpha-semi-flatten">
  <title>Semi-flatten</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Preserve anti-aliasing</tertiary>
  </indexterm>
  <indexterm>
    <primary>Antialiasing</primary>
    <secondary>Preserve anti-aliasing</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Semi-Flatten</guimenuitem> command is described
    in the <link linkend="plug-in-semiflatten">Semi-flatten</link> filter
    chapter. The command is useful when you need an anti-aliased image with
    indexed colors and transparency.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Semi-flatten</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-anchor">
  <title>Anchor layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Anchor the floating layer</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Anchor the floating selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Anchor Layer</primary>
  </indexterm>

  <para>
    If you have created a floating selection, a temporary layer, called a
    <quote>floating layer</quote> or <quote>floating selection</quote>,
    is added to the layer stack. As long as the floating layer persists,
    you can work only on it. To work on the rest of the
    image, you must <quote>anchor</quote> the floating layer to the former
    active layer with the <guimenuitem>Anchor layer</guimenuitem> command.
    If the image does not contain a floating selection, this menu entry is
    insensitive and grayed out.
  </para>
  <note>
    <para>
      If there is an active selection tool, the mouse pointer is displayed
      with an anchor icon when it is outside of the selection.
    </para>
  </note>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Anchor layer</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>H</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <!-- Mostly the same as in "menus/select/float.xml" -->
  <sect3>
    <title>Alternative Ways of Anchoring a Floating Selection</title>
    <para>There are more ways to anchor a floating selection:</para>
    <itemizedlist>
      <listitem>
        <para>
          You can anchor the floating selection to the current layer the
          selection is originating by clicking anywhere on the image except on
          the floating selection.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also anchor the floating selection to the current layer by
          clicking on the anchor button
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata
                  fileref="images/dialogs/stock-anchor-16.png"/>
              </imageobject>
              <textobject>
                <phrase>Anchor the floating Layer</phrase>
              </textobject>
            </inlinemediaobject>
          </guiicon>
          of the <link linkend="gimp-layer-dialog">Layers dialog</link>.
        </para>
      </listitem>
      <listitem>
        <para>
          If you create a <link linkend="gimp-layer-new">New Layer</link>
          while there is a floating selection, the floating selection is
          anchored to this newly created layer.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-autocrop-layer">
  <title>Autocrop Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Size managing</secondary>
    <tertiary>Auto-crop</tertiary>
  </indexterm>
  <indexterm>
    <primary>Crop</primary>
    <secondary>Autocrop layer</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Autocrop Layer</guimenuitem> command automatically
    crops the active layer, unlike the
    <link linkend="gimp-tool-crop">Crop Tool</link>, or the
    <link linkend="gimp-layer-crop">Crop Layer</link> command which let you
    manually define the area to be cropped.
  </para>
  <para>
    This command removes the largest possible area around the outside edge
    which all has the same color. It does this by scanning the layer along a
    horizontal line and a vertical line and cropping the layer as soon as it
    encounters a different color, whatever its transparency.
  </para>
  <para>
    You can use this command to crop the layer to the dimensions of a subject
    that is lost in a solid background which is too large.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Autocrop Layer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/autocrop-1.png"/>
        </imageobject>
        <caption>
          <para>
            Before applying <quote>Autocrop Layer</quote>
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/autocrop-2.png"/>
        </imageobject>
        <caption>
          <para>
            After applying <quote>Autocrop Layer</quote>: the active layer,
            up, has been cropped to the size of the circle it contains. Its
            size is reduced, and the unoccupied part in the canvas is
            transparent, revealing the yellow and green colors of the
            underlying layer.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-bottom">
  <title>Select Bottom Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Bottom layer</tertiary>
  </indexterm>

  <para>
    With the <guimenuitem>Select Bottom Layer</guimenuitem> command, you
    can make the bottom layer in the stack become the active layer for
    the image. It is then highlighted in the
    Layers dialog. If the bottom layer of the stack is already the active
    layer, this menu entry is insensitive and grayed out.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Select Bottom Layer</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut <keycap>End</keycap>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Or you simply click on the layer name in the Layers Dialog.
    </para>
  </sect3>
</sect2>
-#-#-
<!-- section history:
  2009-01-25 j.h: v2.6 reviewed
  2007-06-13 Added Spanish translation by AntI
  2007-03-12 KolbjÃ¸rn: added no translation
  2005-11-16 split of from layer-transparency.xml by axel.wernicke
-->
<sect2 id="gimp-layer-color-to-alpha">
  <title>Color to Alpha</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Make colors transparent</tertiary>
  </indexterm>
  <indexterm>
    <primary>Color to Alpha</primary>
  </indexterm>

  <para>
    This command is the same as
      <menuchoice>
        <guimenu>Layer</guimenu>
        <guisubmenu>Transparency</guisubmenu>
      </menuchoice>:
      <xref linkend="plug-in-colortoalpha"/>.
  </para>
</sect2>
-#-#-
<sect2 id="gimp-layer-crop">
  <title>Crop to Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Size managing</secondary>
    <tertiary>Crop according to selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Crop Layer</primary>
  </indexterm>

  <para>
    The <guimenuitem>Crop to Selection</guimenuitem> command crops only the
    active layer to the boundary of the selection by removing any strips
    at the edge whose contents are all completely unselected. Areas which
    are partially selected (for example, by feathering) are not cropped.
    If there is no selection for the image, the menu entry is insensitive
    and grayed out.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Crop to Selection</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Crop to Selection</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/crop.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            On the left: before applying the command, the layer has
            a selection that has feathered edges.
          </para>
          <para>
            On the right: after applying the command, the non-transparent
            pixels are not cropped, even if they are only semi-transparent.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-delete">
  <title>Delete Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Delete current layer</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Delete Layer</guimenuitem> command deletes the current
    layer from the image.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Delete Layer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, at the
          <link linkend="gimp-layer-dialog">Layer Dialog</link>, you
          can access it through <guimenuitem>Delete Layer</guimenuitem> of its
          context pop-up menu, or clicking on the 
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata
                  fileref="images/dialogs/dialogs-icon-delete.png"/>
              </imageobject>
              <textobject>
                <phrase>Delete this Layer</phrase>
              </textobject>
            </inlinemediaobject>
          </guiicon>
          icon button on the bottom of this dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-duplicate">
  <title>Duplicate layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Layer duplicate</tertiary>
  </indexterm>
  <indexterm>
    <primary>Duplicate Layer</primary>
  </indexterm>

  <para>
    The <guimenuitem>Duplicate Layer</guimenuitem> command adds a new
    layer to the image which is a nearly identical copy of the active layer.
    The name of the new layer is the same as the name of the original layer,
    but with <quote> copy</quote> appended to it.
  </para>
  <para>
    If you duplicate a background layer which does not have an alpha
    channel, the new layer is provided with one. In addition, if there are
    any <quote>parasites</quote> attached to the active layer, they are
    not duplicated. (If your understanding of the word
    <quote>parasites</quote> is limited to small, unpleasant creatures,
    please ignore the last sentence.)
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Duplicate Layer</guimenuitem>
          </menuchoice>,
          or from the local pop-up menu that you get by right-clicking on
          the Layer Dialog.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, at the
          <link linkend="gimp-layer-dialog">Layer Dialog</link>, you
          can access it through <guimenuitem>Duplicate</guimenuitem> of its
          context pop-up menu, or clicking on the
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata
                  fileref="images/dialogs/stock-duplicate-16.png"/>
              </imageobject>
              <textobject>
                <phrase>Duplicate Layer</phrase>
              </textobject>
            </inlinemediaobject>
          </guiicon>
          icon button on the bottom of this dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-flip-horizontal">
  <title>Flip Horizontally</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transform</secondary>
    <tertiary>Flip horizontally</tertiary>
  </indexterm>
  <indexterm>
    <primary>Flip horizontally (layer)</primary>
  </indexterm>

  <para>
    The <guimenuitem>Flip Horizontally</guimenuitem> command reverses the
    active layer horizontally, that is, from left to right. It leaves the
    dimensions of the layer and the pixel information unchanged.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Flip Horizontally</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Flip Layer Horizontally</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/flip.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Before applying the command
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/flip-h.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The layer after it has been flipped. It looks
            as if the image has been reflected along the central
            <emphasis>vertical</emphasis> axis of the layer.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-flip-vertical">
  <title>Flip Vertically</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transform</secondary>
    <tertiary>Flip vertically</tertiary>
  </indexterm>
  <indexterm>
    <primary>Flip vertically (layer)</primary>
  </indexterm>

  <para>
    The <guimenuitem>Flip Vertically</guimenuitem> command reverses the
    active layer vertically, that is, from top to bottom. It leaves the
    dimensions of the layer and the pixel information unchanged.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Flip Vertically</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Flip Layer Vertically</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/flip.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Before applying the command
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/flip-v.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The layer after it has been flipped. It looks
            as if the image has been reflected along the central
            <emphasis>horizontal</emphasis> axis of the layer.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>  
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-layer-introduction">
  <title>Introduction to the <quote>Layer</quote> Menu</title>

  <indexterm>
    <primary>Menus</primary>
    <secondary>Layer</secondary>
  </indexterm>

  <figure>
    <title>The Contents of the <quote>Layer</quote> Menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/layer.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The items on the <guimenu>Layer</guimenu> menu allow you to work on
    layers.
  </para>
  <para>
    In addition to accessing the <guimenu>Layer</guimenu> menu from
    the Image menubar and by right-clicking on the image window, you can
    get to it by right-clicking on the thumbnail of a layer in the Layers
    dialog. You can also perform several of the operations on this menu by
    clicking on buttons in the Layers dialog, for example, resizing a layer,
    managing layer transparency and merging layers.
  </para>
  <figure>
    <title>The Contents of the <quote>Layer</quote> local pop-menu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/layer/context-menu.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <xi:include href="../about-plugin-menuitems.xml"/>
</sect2>
-#-#-
<sect2 id="gimp-layer-lower-to-bottom">
  <title>Layer to Bottom</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Lower current layer to the bottom of stack</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Layer to bottom</guimenuitem> command lowers the active
    layer to the bottom of the layer stack. If the active layer is already
    at the bottom of the stack or if there is only one layer, this menu
    entry is insensitive and grayed out.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Layer to Bottom</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by pressing the <keycap>Shift</keycap> key and clicking on the
          down-arrow icon at the bottom of the Layers dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-lower">
  <title>Lower Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Lower layer</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Lower layer</guimenuitem> command lowers the active
    layer one position in the layer stack. If the active layer is already at
    the bottom of the stack or if there is only one layer, this menu entry
    is insensitive and grayed out.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Lower Layer</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking on the down-arrow icon at the bottom of the Layers
          dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-add">
  <title>Add Layer Mask</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Add a mask</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Add</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Add Layer Mask</guimenuitem> command adds a layer mask
    to the active layer. It displays a dialog in which you can set the
    initial properties of the mask. If the layer already has a layer mask,
    the menu entry is insensitive and grayed out.
  </para>
  <para>
    A layer mask lets you define which parts of the layer are opaque,
    semi-transparent or transparent.
    See the <link linkend="gimp-layer-mask">Layer Mask</link>
    section for more information.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Add Layer Mask</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          or from the pop-up menu you get by right-clicking on the active
          layer in the Layers Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Add Layer Mask</quote> Dialog</title>
    <figure>
      <title>The <quote>Add Layer Mask</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/dialogs/layer-mask-add.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Initialize Layer Mask to</term>
        <listitem>
          <para>
            This dialog allows you several choices for the initial contents of
            the layer mask:
          </para>
          <variablelist>
            <varlistentry>
              <term>White (full opacity)</term>
              <listitem>
                <para>
                  With this option, the layer mask will make all of the
                  layer fully opaque. That means that you will not
                  notice any difference in the appearance of the layer
                  until you paint on the layer mask.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Black (full transparency)</term>
              <listitem>
                <para>
                  With this option, the layer mask will make all of the
                  layer fully transparent. This is represented in the image
                  by a checkered pattern on which you will need to paint
                  to make any part of the layer visible.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Layer's alpha channel</term>
              <listitem>
                <para>
                  With this option, the contents of the alpha channel
                  are used to fill the layer mask. The alpha channel
                  itself is not altered, so the transparency of
                  partially visible areas is increased, leading to
                  a more transparent layer.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Transfer layer's alpha channel</term>
              <listitem>
                <para>
                  This option sets the layer mask as the previous
                  option, but resets the layer's alpha channel to full
                  opacity afterwards. The effect is to transfer the
                  transparency information from the alpha channel to the
                  layer mask, leaving the layer with the same appearance
                  as before. The visibility of the layer is now
                  determined by the layer mask alone and not by the
                  alpha channel. If in doubt, select this option instead
                  of <quote>Layer's alpha channel</quote>, because it will
                  leave the appearance unaltered.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Selection</term>
              <listitem>
                <para>
                  This option converts the current selection into a layer
                  mask, so that selected areas are opaque, and unselected
                  areas are transparent. If any areas are partially
                  selected, you can click on the
                  <link linkend="gimp-image-window-qmask-button">QuickMask
                  button</link> to help you predict what the effects will be.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Grayscale copy of layer</term>
              <listitem>
                <para>
                  This option converts the layer itself into a layer mask.
                  It is particularly useful when you plan to add new
                  contents to the layer afterwards.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Channel</term>
              <listitem>
                <para>
                  With this option the layer mask is initialized with a
                  selection mask you have created before, stored in the
                  Channel dialog.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Invert Mask</term>
        <listitem>
          <para>
            If you check the <guilabel>Invert Mask</guilabel> box at the
            bottom of the dialog, the resulting mask is inverted, so that
            transparent areas become opaque and vice versa.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      When you click on the <guibutton>OK</guibutton> button, a thumbnail
      of the layer mask appears to the right of the thumbnail of the layer
      in the Layers Dialog.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-apply">
  <title>
    Apply Layer Mask
  </title>
  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Apply</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Apply</tertiary>
  </indexterm>
  <indexterm>
    <primary>Apply Layer Mask (command)</primary>
  </indexterm>

  <para>
    The <guimenuitem>Apply Layer Mask</guimenuitem> command merges the
    layer mask with the current layer. The transparency information in the
    layer mask is transferred to the alpha channel, that is created if it
    doesn't exist, and the layer mask is removed. If the active layer does not
    have a layer mask, the menu entry is insensitive and grayed out. See the
    <link linkend="gimp-layer-mask">Layer Masks</link> section for more
    information.
  </para>
  <sect3>
    <title>
      Activating the Command
    </title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Apply Layer Mask</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or from the pop-up menu you get by right-clicking on the active
          layer in the Layers Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-delete">
  <title>Delete Layer Mask</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Delete layer mask</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Delete</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Delete Layer Mask</guimenuitem> command deletes the
    active layer's layer mask, without modifying the active layer itself. If
    the active layer does not have a layer mask, the menu entry is
    insensitive and grayed out.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Delete Layer Mask</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or from the pop-up menu you get by right-clicking on the active
          layer in the Layers Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-disable">
  <title>Disable Layer Mask</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Disable</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Disable</tertiary>
  </indexterm>
  <indexterm>
    <primary>Disable Layer Mask</primary>
  </indexterm>

  <para>
    As soon as you create a layer mask, it acts on the image. The
    <guimenuitem>Disable Layer Mask</guimenuitem> command allows you to
    suspend this action. When you click on the menu entry, a check is
    displayed next to it and the border of the layer mask's thumbnail in
    the Layers Dialog turns red.
  </para>

  <sect3 id="gimp-layer-mask-disable-activate">
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Disable Layer Mask</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by holding down the <keycap>Ctrl</keycap> key
          (<keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
          on some systems) and single-clicking on the layer mask's thumbnail
          in the Layers Dialog.
        </para>
      </listitem>
      <listitem>
        <para>
          You can undo this action by unchecking the menu entry in the
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Mask</guimenuitem>
          </menuchoice>
          menu or by <keycap>Ctrl</keycap>-clicking (or
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
          -clicking) again on the layer mask's thumbnail.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-edit">
  <title>Edit Layer Mask</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Edit</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Edit</tertiary>
  </indexterm>
  <indexterm>
    <primary>Edit Layer Mask</primary>
  </indexterm>

  <para>
    When you click on the <guimenuitem>Edit Layer Mask</guimenuitem> item on
    the <guimenu>Layer Mask</guimenu> submenu, a check is displayed next to
    it, the layer mask becomes the active component of the current layer and
    the layer mask is displayed in the Layers Dialog with a white border.
    When you uncheck it, the layer itself becomes the active component and
    it is displayed with a white border. You can also activate the component
    you want more simply by clicking on it in the Layers Dialog.
  </para>

  <sect3 id="gimp-layer-mask-edit-activate">
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Edit Layer Mask</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can undo this action by unchecking the menu entry in the
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Mask</guimenuitem>
          </menuchoice>
          menu or by clicking on the layer component in the Layers Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-selection-add">
  <title>Add Layer Mask to Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Add layer mask to selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Add to selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Add layer mask to selection</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Add to Selection</guimenuitem> command converts the
    layer mask of the active layer into a selection, which is added to the
    selection that is already active in the image. White areas of
    the layer mask are selected, black areas are not selected, and gray
    areas are converted into feathered selections. The layer mask itself is
    not modified by this command.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Add to Selection</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Illustration of Add Layer Mask to Selection</title>
    <figure>
      <title>Illustration of Add Layer Mask to Selection</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/add-mask-example.png"/>
        </imageobject>
        <caption>
          <para>
            On the left, the original image with a selection. In the middle,
            the Layers Dialog with a layer mask created with the
            <quote>Layer's alpha channel</quote> option. On the right, the
            result after applying <quote>Mask to Selection</quote>: the
            selection of the non-transparent pixels of the active layer
            is added to the initial selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-selection-intersect">
  <title>Intersect Layer Mask with Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Intersect layer mask with selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Intersect with selection</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Intersect with Selection</guimenuitem> command converts
    the layer mask of the active layer into a selection. The intersection of
    this selection and the selection that is already active form the new
    selection for the image. White areas of the layer mask are selected,
    black areas are not selected, and gray areas are converted into
    feathered selections. The layer mask itself is not modified by this
    command.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Intersect with Selection</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Illustration of Intersecting the Layer Mask with the Selection
    </title>
    <figure>
      <title>
        Illustration of Intersecting the Layer Mask with the Selection
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/intersect-mask-example.png"/>
        </imageobject>
        <caption>
          <para>
            On the left, the original image with a selection. In the middle,
            the Layers Dialog with a layer mask created with the
            <quote>Layer's alpha channel</quote> option. On the right, the
            result after applying <quote>Intersect Mask with
            Selection</quote>: the selection of the non-transparent pixels of
            the active layer is the common part between the initial selection
            and the mask.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-selection-replace">
  <title>Mask to Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Convert layer mask to a selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Convert to a selection</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Mask to Selection</guimenuitem> command converts the
    layer mask of the active layer into a selection, which replaces the
    selection that is already active in the image. White areas of the layer
    mask are selected, black areas are not selected, and gray areas are
    converted into feathered selections. The layer mask itself is not
    modified by this command.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Mask to Selection</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or from the pop-up menu you get by right-clicking on the active
          layer in the Layers Dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Illustration of <quote>Layer Mask to Selection</quote></title>
    <figure>
      <title>Illustration of <quote>Layer Mask to Selection</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/replace-mask-example.png"/>
        </imageobject>
        <caption>
          <para>
            On the left, the original image with a selection. In the middle,
            the Layers Dialog with a layer mask created with the
            <quote>Layer's alpha channel</quote> option. On the right, the
            result after applying <quote>Mask to Selection</quote>: the
            selection of the non-transparent pixels of the active layer
            replaces the initial selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-selection-subtract">
  <title>Subtract Layer Mask from Selection</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Subtract layer mask from selection</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Subtract from selection</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Subtract from Selection</guimenuitem> command converts
    the layer mask of the active layer into a selection, which is subtracted
    from the selection that is already active in the image. White areas of
    the layer mask are selected, black areas are not selected, and gray
    areas are converted into feathered selections. The layer mask itself is
    not modified by this command.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Subtract from Selection</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Illustration of Subtract Layer Mask from Selection</title>
    <figure>
      <title>Illustration of Subtract Layer Mask from Selection</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/subtract-mask-example.png"/>
        </imageobject>
        <caption>
          <para>
            On the left, the original image with a selection. In the middle,
            the Layers Dialog with a layer mask created with the
            <quote>Layer's alpha channel</quote> option. On the right, the
            result after applying <quote>Mask to Selection</quote>: the
            selection of the non-transparent pixels of the active layer
            is subtracted from the initial selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-show">
  <title>Show Layer Mask</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Mask managing</secondary>
    <tertiary>Show layer mask</tertiary>
  </indexterm>
  <indexterm>
    <primary>Masks</primary>
    <secondary>Layer mask</secondary>
    <tertiary>Show</tertiary>
  </indexterm>
  <indexterm>
    <primary>Show Layer Mask (command)</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Layer Mask</guimenuitem> command lets you see the
    layer mask better by turning the image invisible. When you click on the
    menu entry, a check is displayed next to it and the layer mask's
    thumbnail in the Layers Dialog is shown with a green border. The layer
    itself is not modified; you can turn it visible again later.
  </para>

  <sect3 id="gimp-layer-mask-show-activate">
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Mask</guisubmenu>
            <guimenuitem>Show Layer Mask</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by holding down the <keycap>Alt</keycap> key
          (<keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
          on some systems) and single-clicking on the layer mask's
          thumbnail in the Layers Dialog.
        </para>
      </listitem>
      <listitem>
        <para>
          You can undo this action by unchecking the menu entry in the
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Mask</guimenuitem>
          </menuchoice>
          submenu or by <keycap>Alt</keycap>-clicking (or
          <keycombo>
            <keycap>Ctrl</keycap><keycap>Alt</keycap>
          </keycombo>-clicking)
            again on the layer mask's thumbnail.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-mask-menu">
  <title>The <quote>Mask</quote> Submenu</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Sub-menu</secondary>
    <tertiary>Mask</tertiary>
  </indexterm>
  <figure>
    <title>
      The <quote>Mask</quote> submenu of the <quote>Layer</quote> menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/layer/mask.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guimenu>Mask</guimenu> submenu of the <guimenu>Layer</guimenu>
    menu contains commands which work with masks: creating a mask, applying
    a mask, deleting a mask or converting a mask into a selection. See the
    <link linkend="gimp-layer-mask">Layer Masks</link>
    section for more information on layer masks and how to use them.
  </para>

  <sect3>
    <title>Activating the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Mask</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The Contents of the <quote>Mask</quote> Submenu</title>
    <para>
      The <guimenu>Mask</guimenu> submenu contains the following commands:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-add"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-apply"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-delete"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-show"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-edit"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-disable"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-selection-replace"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-selection-add"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-selection-subtract"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-mask-selection-intersect"/>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-merge-down">
  <title>Merge Down</title>
  
  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Merge current layer with the underlying layer</tertiary>
  </indexterm>
  <indexterm>
    <primary>Merge Down</primary>
  </indexterm>

  <para>
    The <guimenuitem>Merge Down</guimenuitem>
    command merges the active layer with the layer just below it in the stack,
    taking into account the various properties of the active layer, such as
    its opacity and layer
    <link linkend="gimp-concepts-layer-modes">mode</link>.
    The resulting merged layer will be in Normal mode, and will inherit the
    opacity of the layer below. If the layer below is not opaque, or if it is
    in some mode other than Normal, then this command will generally change
    the appearance of the image.
  </para>
  <para>
    The most common use of <guimenuitem>Merge Down</guimenuitem> is to
    construct a layer, by starting with a <quote>base layer</quote> (usually
    opaque and in Normal mode, so that you can see what you are doing), and
    adding a <quote>modification layer</quote> on top of it, with whatever
    shape, opacity, and layer mode you need.  In this case, merging down the
    modification layer will combine the two layers into one, without
    changing the way the image looks.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Merge Down</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-new-from-visible">
  <title>New From Visible</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Create a new layer from visible layers</tertiary>
  </indexterm>

  <para>
    This command merges the visible layers into a new layer at the top of
    the layer stack.
  </para>
  <para>
    The aim is to further manipulate the result, but keep the steps that
    created this situation. Example: You want to selectively blur some
    areas of your multilayer image. You create a new layer from what you
    see, blur it and then apply a layer mask to erase the parts you want
    your original work to show.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>New From Visible</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-

<sect2 id="gimp-layer-new-layer-group">
  <title>New Layer Group</title>

  <indexterm>
    <primary>Layer Group</primary>
    <secondary>New</secondary>
  </indexterm>

  <para>
    This command creates a new layer group directly. Please refer to
    <xref linkend="gimp-layer-groups"/>.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from an image menu through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>New Layer Group</guimenuitem>
          </menuchoice>,
          or from the layer context menu you get by right clicking on the layer
          dialog.
        </para>        
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>-#-#-
<sect2 id="gimp-layer-new">
  <title>New Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Create a new layer</tertiary>
  </indexterm>
  <indexterm>
    <primary>New Layer</primary>
  </indexterm>

  <para>
    The <guimenuitem>New Layer</guimenuitem> command adds a new, empty
    layer to the layer stack of the image, just above the active layer.
    The command displays a dialog in which you can specify the size of
    the new layer.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>New Layer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="gimp-new-layer-dialog">
    <title>Description of the <quote>New Layer</quote> Dialog</title>
    <figure>
      <title>The <quote>New Layer</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/menus/layer/new.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Under the title <quote>Create a new layer</quote> you can see the name
      of the image for that you create this new layer and next to the title
      a thumbnail of it. That is interesting to see if you have selected the
      good image when there is more than one image open.
    </para>
    <variablelist>
      <varlistentry>
        <term>Layer Name</term>
        <listitem>
          <para>
            The name of the new layer. It does not have any functional
            significance; it is simply a convenient way for you to remember
            the purpose of the layer. The default name is <quote>New
            Layer</quote>. If a layer with the name you choose already
            exists, a number is automatically appended to it to make it
            unique (e.g., <quote>New Layer#1</quote>) when you click on the
            <guibutton>OK</guibutton> button.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Width; Height</term>
        <listitem>
          <para>
            The dimensions of the new layer. When the dialog appears, the
            values are initialized to the dimensions of the image. You can
            change them by using the two text boxes. You can also change
            the units in the pull-down menu to the right.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Layer Fill Type</term>
        <listitem>
          <para>
            There are four options for the solid color that fills the layer:
            the current <guilabel>Foreground color</guilabel>,
            the current <guilabel>Background color</guilabel>,
            <guilabel>White</guilabel> and
            <guilabel>Transparency</guilabel>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-next">
  <title>Select Next Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Next layer</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Select Next Layer</guimenuitem> command selects the
    layer just underneath the active layer in the layer stack. The command
    highlights the layer in the Layers Dialog and makes it the new active
    layer. If the active layer is already at the bottom of the stack, this
    menu entry is insensitive and grayed out.
  </para>
  <note>
    <para>
      Note that on a standard Windows-style English keyboard, the
      default shortcut <keycap>Page_Down</keycap> does
      not refer to the key on the numeric keypad, but to the other
      <keycap>Page_Down</keycap> key in the group of six keys to the
      left of the numeric keypad.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Select Next Layer</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut <keycap>Down</keycap>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Or you simply click on the layer name in the Layers Dialog.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-offset">
  <title>Offset</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transform</secondary>
    <tertiary>Shift layer content</tertiary>
  </indexterm>
  <indexterm>
    <primary>Offset</primary>
  </indexterm>

  <para>
    The <guimenuitem>Offset</guimenuitem> command shifts the
    <emphasis>content</emphasis> of the active layer. Anything shifted
    outside the layer boundary is cropped. This command displays
    a dialog which allows you to specify how much to shift the layer and
    how to fill the space that is left empty by shifting it.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Offset</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap><keycap>Ctrl</keycap><keycap>O</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Using the <quote>Offset</quote> Command</title>
    <figure>
      <title>The <quote>Offset</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/offset.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Offset</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>X; Y</term>
              <listitem>
                <para>
                  With these two values, you specify how far the contents of
                  the layer should be shifted in the horizontal (X) and
                  vertical (Y) directions. You can enter the offsets in the
                  text boxes. Positive values move the layer to the right
                  and downward. The default unit is pixels, but you can
                  choose a different unit of measurement with the drop-down
                  menu. A unit of <quote>%</quote> is sometimes useful.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Offset by x/2, y/2</term>
              <listitem>
                <para>
                  With this button, you can automatically set the
                  <guilabel>X</guilabel> and <guilabel>Y</guilabel> offsets
                  so that the contents are shifted by exactly half the width
                  and half the height of the image.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edge Behavior</term>
        <listitem>
          <para>
            You can specify one of three ways to treat the areas left empty
            when the contents of the layer are shifted:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <emphasis>Wrap around</emphasis>:
                The empty space on one side of the layer is filled with the
                part of the layer which is shifted out of the other side, so
                none of the content is lost.
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Fill with background color</emphasis>:
                The empty space is filled with the background color, which
                is shown in the Color Area of the Toolbox.
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>Make transparent</emphasis>:
                The empty space is made transparent. If the layer does not
                have an alpha channel, this choice is not available (grayed
                out).
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
    <sect3>
    <title>Example</title>
    <figure>
      <title>Using <quote>Offset</quote> together with <quote>Edge Behaviors</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/offset-example.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The Original
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/offset-example-wrap.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Y = -40, wrap 
          </para>
        </caption>
      </mediaobject>
	  <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/offset-example-bg.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Y = -40, bg color
          </para>
        </caption>
      </mediaobject>
	  <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/offset-example-trans.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            X = 40, transparent 
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>  

</sect2>
-#-#-
<sect2 id="gimp-layer-previous">
  <title>Select Previous Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Previous layer</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Select Previous Layer</guimenuitem> command selects the
    layer just above the active layer in the layer stack. The command
    highlights the layer in the Layers Dialog and makes it the new active
    layer. If the active layer is already at the top of the stack, this
    menu entry is insensitive and grayed out.
  </para>
  <note>
    <para>
      Note that on a standard Windows-style English keyboard, the default
      shortcut <keycap>Page_Up</keycap> does not refer to the key on the
      numeric keypad, but to the other <keycap>Page_Up</keycap> key in the
      group of six keys to the left of the numeric keypad.
    </para>
  </note>
  <tip>
    <para>
      The keyboard shortcuts for
      <guimenuitem>Select Previous Layer</guimenuitem> and
      <guimenuitem>Select Next Layer</guimenuitem> may be very useful if
      you frequently pick colors from one layer to use for painting on
      another layer, especially when you use them with the color-picker
      tool, which you get by holding down the <keycap>Ctrl</keycap> key
      with most of the painting tools.
    </para>
  </tip>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Select Previous Layer</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut <keycap>Up</keycap>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Or you simply click on the layer name in the Layers Dialog.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-raise-to-top">
  <title>Layer to Top</title>
  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Move current layer to the top of stack</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Layer to Top</guimenuitem> command raises the active
    layer to the top of the layer stack. If the active layer is already at
    the top or if there is only one layer, this menu entry is insensitive
    and grayed out. If the active layer is at the bottom of the stack and it
    does not have an alpha channel, you cannot raise it until you add an
    alpha channel to it.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Layer to Top</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by pressing the <keycap>Shift</keycap> key and clicking on the
          up-arrow icon at the bottom of the Layers dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-raise">
  <title>Raise Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Move current layer one position up</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Raise Layer</guimenuitem> command raises the active
    layer one position in the layer stack. If the active layer is
    already at the top or if there is only one layer, this menu entry is
    insensitive and grayed out. If the active layer is at the bottom of the
    stack and it does not have an alpha channel, it cannot be raised until
    you add an alpha channel to it.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice><guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Raise Layer</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking on the up-arrow icon at the bottom of the Layers
          dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-resize-to-image">
  <title>Layer to Image Size</title>
  <indexterm>
    <primary>Layer</primary>
    <secondary>Size managing</secondary>
    <tertiary>Resize current layer to image size</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Layer to Image Size</guimenuitem> command resizes the
    layer boundaries to match the image boundaries, without moving the
    contents of the layer with respect to the image.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Layer to Image Size</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-resize">
  <title>Layer Boundary Size</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Size managing</secondary>
    <tertiary>Resize current layer but not its content</tertiary>
  </indexterm>
  <indexterm>
    <primary>Layer Boundary Size</primary>
  </indexterm>

  <para>
    In <acronym>GIMP</acronym>, a layer is not always the same size
    as the image it belongs to. It might be smaller or it might be larger,
    in which case some parts of it are hidden. The
    <guimenuitem>Layer Boundary Size</guimenuitem> command displays a dialog
    in which you can set the dimensions for the active layer. This command
    changes the dimensions of the layer, but it does not
    <link linkend="gimp-layer-scale">scale</link> its contents.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Layer Boundary Size</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Layer Boundary Size</quote> dialog
    </title>
    <figure>
      <title>The <quote>Layer Boundary Size</quote> Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/boundary-size.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Layer Size</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Width; Height</term>
              <listitem>
                <para>
                  When the dialog is displayed, the original dimensions of
                  the active layer are shown. You can change them by using
                  the two text boxes. If these boxes are linked together
                  with a chain, the width-to-height ratio is automatically
                  maintained. If you break the chain by clicking on it, you
                  can set the dimensions independently of each other.
                </para>
                <para>
                  The default unit of measurement is pixels. You can change
                  this by using the drop-down menu. For instance, you might
                  use a <quote>%</quote> of the current size.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>X Offset; Y Offset</term>
              <listitem>
                <para>
                  By default, the resized layer is placed in the upper left
                  corner of the image. Here, you can set the offset of the
                  upper left corner of the layer relative to the same corner
                  of the image. The default unit of measurement is pixels,
                  but you can change it by using the drop-down menu. You can
                  also place the layer in the center of the image by
                  clicking on the <guibutton>Center</guibutton> button.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-rotate-180">
  <title>Rotate 180Â°</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transform</secondary>
    <tertiary>Rotation</tertiary>
  </indexterm>
  <indexterm>
    <primary>Rotate 180Â°</primary>
  </indexterm>

  <para>
    The <guimenuitem>Rotate 180Â°</guimenuitem> command rotates the
    active layer by 180Â° around the center of the layer, with no loss of
    pixel data. The shape of the layer is not altered. Since the layers have
    a rectangular shape, a 180Â° rotation only invert them and they can't
    extend beyond the image limits.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Rotate 180Â°</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Rotate 180Â°</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Before applying the command
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate-180.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The layer after it has been rotated. It is turned upside down.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3> 
</sect2>
-#-#-
<sect2 id="gimp-layer-rotate-270">
  <title>Rotate 90Â° counter-clockwise</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transform</secondary>
    <tertiary>Rotation</tertiary>
  </indexterm>
  <indexterm>
    <primary>Rotate 90Â° counter-clockwise</primary>
  </indexterm>

  <para>
    The <guimenuitem>Rotate 90Â° counter-clockwise</guimenuitem> command
    rotates the active layer by 90Â° counter-clockwise around the center of the
    layer, with no loss of pixel data. The shape of the layer is not altered,
    but the rotation may cause the layer to extend beyond the bounds of the
    image. This is allowed in <acronym>GIMP</acronym> and it does
    not mean that the layer is cropped. However, you will not be able to see
    the parts which extend beyond the boundary of the image unless you
    resize the image canvas or move the layer.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Rotate 90Â° counter-clockwise</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Rotate 90Â° counter-clockwise</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Before applying the command
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate-ccw.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The layer after it has been rotated
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3> 
</sect2>
-#-#-
<sect2 id="gimp-layer-rotate-90">
  <title>Rotate 90Â° clockwise</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transform</secondary>
    <tertiary>Rotation</tertiary>
  </indexterm>
  <indexterm>
    <primary>Rotate 90Â° clockwise</primary>
  </indexterm>

  <para>
    The <guimenuitem>Rotate 90Â° clockwise</guimenuitem> command rotates the
    active layer by 90Â° around the center of the layer, with no loss of
    pixel data. The shape of the layer is not altered, but the rotation may
    cause the layer to extend beyond the bounds of the image. This is
    allowed in <acronym>GIMP</acronym> and it does not mean that
    the layer is cropped. However, you will not be able to see the parts
    which extend beyond the boundary of the image unless you
    resize the image canvas or move the layer.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Rotate 90Â° clockwise</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Rotate 90Â° clockwise</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Before applying the command
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate-cw.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The layer after it has been rotated
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>    
</sect2>
-#-#-
<sect2 id="gimp-layer-rotate-arbitrary">
  <title>Arbitrary Rotation</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transform</secondary>
    <tertiary>Rotation</tertiary>
  </indexterm>
  <indexterm>
    <primary>Rotate</primary>
  </indexterm>

  <para>
    The <guimenuitem>Arbitrary Rotation</guimenuitem> command rotates a
    layer by a specified angle. It is an alternate way of accessing the
    <link linkend="gimp-tool-rotate">Rotate tool</link>. See the section
    about that tool for more information.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transform</guisubmenu>
            <guimenuitem>Arbitrary Rotation</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Shift</keycap><keycap>R</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>
    <title>Example</title>
    <figure>
      <title>Applying <quote>Rotate Arbitrary</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Before applying the command
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/rotate-arb.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The layer after it has been rotated 30Â° clockwise
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>  
  
</sect2>
-#-#-
<sect2 id="gimp-layer-scale">
  <title>Scale Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Size managing</secondary>
    <tertiary>Resize current layer and its content</tertiary>
  </indexterm>
  <indexterm>
    <primary>Scale layer</primary>
  </indexterm>

  <para>
    The <guimenuitem>Scale Layer</guimenuitem> command resizes the layer
    and its contents. The image loses some of its quality by being scaled.
    The command displays a dialog where you can set parameters
    concerning the size of the layer and the image quality.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Scale Layer</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Scale Layer</quote> Dialog</title>
    <figure>
      <title>The <quote>Scale Layer</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/layer/scale.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Layer Size</term>
        <listitem>
          <para>
            When you enlarge a layer, <acronym>GIMP</acronym> has
            to calculate new pixels from the existing ones. This procedure
            is called <quote>interpolation</quote>. Please note that no
            matter which interpolation algorithm is used, no new information
            is added to the image by interpolation. If there are places in
            the layer which have no details, you will not get any new ones
            by scaling it. It is much more likely that the layer will look
            somewhat blurred after scaling. Similarly, when you reduce a
            layer, the image loses some of its quality when pixels are
            removed.
          </para>
          <variablelist>
            <varlistentry>
              <term>Width; Height</term>
              <listitem>
                <para>
                  The command displays a dialog which shows the dimensions
                  of the original layer in pixels. You can set the new
                  <guilabel>Width</guilabel> and
                  <guilabel>Height</guilabel> for the layer in the two text
                  boxes. If the adjacent chain icon is unbroken, the width
                  and height are automatically adjusted to hold their ratio
                  constant. If you break the chain by clicking on it, you
                  can set them separately, but this will result in
                  distorting the layer.
                </para>
                <para>
                  However, you do not have to set the dimensions in pixels.
                  You can choose different units from the drop-down menu. If
                  you choose percent as units, you can set the layer size
                  relative to its original size. You can also use physical
                  units, like inches or millimeters. However if you do that,
                  you should pay attention to the
                  <guilabel>X/Y resolution</guilabel> of the image.
                </para>
                <para>
                  If you enlarge a layer, the missing pixels are calculated
                  by interpolation, but no new details are added. The more
                  the layer is enlarged, and the more times it is enlarged,
                  the more blurred it becomes. The exact result of the
                  enlargement depends upon the interpolation method you
                  choose. After scaling, you can improve the result by using
                  the <link linkend="plug-in-sharpen">Sharpen</link> filter,
                  but it is much better for you to use a high resolution
                  when scanning, taking digital photographs or producing
                  digital images by other means. It is an inherent
                  characteristic of raster images that they do not scale up
                  well.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Quality</term>
        <listitem>
          <para>
            To change the size of the layer, <acronym>GIMP</acronym>
            either has to add or remove pixels. The method it uses to do
            this has a considerable impact on the quality of the result. You
            can choose the method of interpolating the colors of the pixels
            from the <guilabel>Interpolation</guilabel> drop-down menu.
          </para>
          <variablelist>
            <varlistentry>
              <term>Interpolation</term>
              <listitem>
                <variablelist>
                  <varlistentry>
                    <term>None</term>
                    <listitem>
                      <para>
                        No interpolation is used. Pixels are simply enlarged
                        or removed, as they are when zooming. This method is
                        low in quality, but very fast.
                      </para>
                    </listitem>
                  </varlistentry>
                  <varlistentry>
                    <term>Linear</term>
                    <listitem>
                      <para>
                        This method is a good compromise between speed and
                        quality.
                      </para>
                    </listitem>
                  </varlistentry>
                  <varlistentry>
                    <term>Cubic</term>
                    <listitem>
                      <para>
                        This method takes a lot of time, but it produces the
                        best results.
                      </para>
                    </listitem>
                  </varlistentry>
                  <varlistentry>
                    <term>Sinc (Lanczos3)</term>
                    <listitem>
                      <para>
                        The Lanczos (pronounce <quote>lanzosh</quote>) method
                        uses the
                        Sinc<footnote><para>Sinus cardinalis</para></footnote>
                        mathematical function to perform a high quality
                        interpolation.
                      </para>
                    </listitem>
                  </varlistentry>
                </variablelist>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-reverse-layers">
  <title>The <quote>Reverse Layer Order</quote> command</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Reverse layer order</tertiary>
  </indexterm>

  <para>This command is self-explanatory.</para>

  <sect3>
    <title>Activating the command</title>
    <itemizedlist>
      <listitem>
        <para>
          From the image Menu through:
          <menuchoice>
            <guimenu>Layers</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Reverse Layer Order</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-stack-menu">
  <title><quote>Stack</quote> Submenu</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Sub-menu</secondary>
    <tertiary>Stack</tertiary>
  </indexterm>
  <indexterm>
    <primary>Stack</primary>
  </indexterm>

  <figure>
    <title>The <quote>Stack</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/layer/stack.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The layer stack is simply the list of layers in the Layers dialog.
    The <guimenu>Stack</guimenu> submenu contains operations which either
    select a new layer as the active layer, or change the position of the
    active layer in the layer stack. If your image has only one layer, these
    commands are grayed out.
  </para>

  <sect3>
    <title>Activating the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Stack</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The Contents of the <quote>Stack</quote> Submenu</title>
    <para>
      The <guisubmenu>Stack</guisubmenu> submenu contains the following
      commands:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <xref linkend="gimp-layer-previous"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-next"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-top"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-bottom"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-raise"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-lower"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-raise-to-top"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-lower-to-bottom"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="script-fu-reverse-layers"/>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-text-commands">
  <title>The Text Commands of the Layer Menu</title>

  <para>
    These commands are displayed only if a text layer is present.
  </para>
  <figure>
    <title>Text commands in the Layer menu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/layer/text-commands.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>The Text Commands</title>
    <itemizedlist>
      <listitem>
        <para><xref linkend="gimp-layer-text-discard"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="text-to-path"/></para>
      </listitem>
      <listitem id="gimp-layer-text-along-path" xreflabel="Text along Path">
        <para><xref linkend="text-along-path"/></para>
      </listitem>
      <listitem>
        <indexterm>
          <primary>Text to Selection</primary>
        </indexterm>
        <para>
          In the <guilabel>Text to Selection</guilabel> drop-down list, the
          commands are identical to those of the Transparency sub-menu
          (in fact, the text is formed of areas of different transparency):
        </para>
        <itemizedlist>
          <listitem id="gimp-layer-text-selection-replace"
            xreflabel="Text to Selection">
            <formalpara>
              <title>Text to Selection:</title>
              <para>
                <xref linkend="gimp-layer-alpha-selection-replace"/>
              </para>
            </formalpara>
          </listitem>
          <listitem id="gimp-layer-text-selection-add"
            xreflabel="Add to Selection">
            <formalpara>
              <title>Add to Selection:</title>
              <para>
                <xref linkend="gimp-layer-alpha-selection-add"/>
              </para>
            </formalpara>
          </listitem>
          <listitem id="gimp-layer-text-selection-subtract"
            xreflabel="Subtract from Selection">
            <formalpara>
              <title>Subtract from Selection:</title>
              <para>
                <xref linkend="gimp-layer-alpha-selection-subtract"/>
              </para>
            </formalpara>
          </listitem>
          <listitem id="gimp-layer-text-selection-intersect"
            xreflabel="Intersect with Selection">
            <formalpara>
              <title>Intersect with Selection:</title>
              <para>
                <xref linkend="gimp-layer-alpha-selection-intersect"/>
              </para>
            </formalpara>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-text-discard">
  <title>Discard Text Information</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Text</secondary>
  </indexterm>
  <indexterm>
    <primary>Text</primary>
    <secondary>Discard information</secondary>
  </indexterm>

  <para>
    This command belongs to a group of Text commands displayed only if a
    text layer is present.
  </para>
  <figure>
    <title>
      The Discard Text command among text commands in the Layer menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/layer/text-commands.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    When you add text to an image, <acronym>GIMP</acronym> adds specific
    informations. This command lets you discard these informations,
    transforming the current text layer into a normal bitmap layer. The
    reason to do that is not evident.
  </para>
  <para>
    Note that this transformation of text into bitmap is automatically
    performed when you apply a graphic operation to the text layer. You can
    get text information back by undoing the operation which modified the
    text.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Discard Text Information</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="plug-in-threshold-alpha">
  <title>Threshold Alpha</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Transparency managing</secondary>
    <tertiary>Threshold</tertiary>
  </indexterm>
  <indexterm>
    <primary>Alpha</primary>
  </indexterm>

  <para>
    The <guimenuitem>Threshold Alpha</guimenuitem> command converts
    semi-transparent areas of the active layer into completely transparent or
    completely opaque areas, based on a threshold you set, between 0 and
    255. It only works on layers of RGB images which have an alpha
    channel. If the image is Grayscale or Indexed, or if the layer does not
    have an alpha channel, the menu entry is insensitive and grayed out.
    If the <guilabel>Keep transparency</guilabel> option is checked in the
    Layers dialog, the command displays an error message.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Transparency</guisubmenu>
            <guimenuitem>Threshold Alpha</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the Dialog Window</title>
    <figure>
      <title>
        The only one option of the <quote>Threshold Alpha</quote> dialog
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/layer/threshold-alpha.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Threshold</term>
        <listitem>
          <para>
            You can set the transparency value to be used as a threshold by
            using the slider or by entering a value between 0 and 255 in
            the input box. All transparency values above this threshold will
            become opaque and all transparency values below or equal to this
            threshold will become completely transparent. The transition is
            abrupt.
          </para>
          <note>
            <para>
              This command will never make completely transparent pixels
              (alpha value = 0) opaque.
            </para>
          </note>
          <figure>
            <title>Threshold Alpha example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/layer/threshold-alpha-example.png"/>
              </imageobject>
              <caption>
                A transparency gradient 0-255.
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/layer/threshold-alpha-example3.png"/>
              </imageobject>
              <caption>
                Threshold set to 50, 127, 210.
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-top">
  <title>Select Top Layer</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Stack managing</secondary>
    <tertiary>Select top layer</tertiary>
  </indexterm>

  <para>
    The <guimenuitem>Select Top Layer</guimenuitem> command makes the top
    layer in the stack the active layer for the image and highlights it in
    the Layers dialog. If the active layer is already the top layer in the
    stack, this menu entry is insensitive and grayed out.
  </para>
  <note>
    <para>
      Note that on a standard Windows-style English keyboard, the default
      keyboard shortcut <keycap>Home</keycap> does not refer to the key on
      the numeric keypad, but to the other <keycap>Home</keycap> key in
      the group of six keys to the left of the numeric keypad.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Stack</guisubmenu>
            <guimenuitem>Select Top Layer</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut <keycap>Home</keycap>.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Or you simply click on the layer name in the Layers Dialog.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-transform-menu">
  <title>The <quote>Transform</quote> Submenu</title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Sub-menu</secondary>
    <tertiary>Transform</tertiary>
  </indexterm>

  <figure>
    <title>
      The <quote>Transform</quote> Submenu of the <quote>Layer</quote> menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/layer/transform.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guisubmenu>Transform</guisubmenu> submenu of the
    <guimenu>Layer</guimenu> menu contains commands which flip or rotate
    the active layer of the image.
  </para>

  <sect3>
    <title>Activating the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Transform</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The Contents of the <quote>Transform</quote> Submenu</title>
    <para>
      The <guisubmenu>Transform</guisubmenu> submenu contains the following
      commands:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <xref linkend="gimp-layer-flip-horizontal"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-flip-vertical"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-rotate-90"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-rotate-270"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-rotate-180"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-rotate-arbitrary"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-offset"/>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-layer-transparency-menu">
  <title>
    The <quote>Transparency</quote> Submenu of the <quote>Layer</quote> menu
  </title>

  <indexterm>
    <primary>Layer</primary>
    <secondary>Sub-menu</secondary>
    <tertiary>Transparency</tertiary>
  </indexterm>

  <figure>
    <title>
      The <quote>Transparency</quote> submenu of the <quote>Layer</quote> menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/layer/transparency.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guisubmenu>Transparency</guisubmenu> submenu contains commands
    which use or affect the alpha channel of the active layer.
  </para>

  <sect3>
    <title>Activating the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menu bar through
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guimenuitem>Transparency</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>The Contents of the <quote>Transparency</quote> Submenu</title>
    <para>
      The <guisubmenu>Transparency</guisubmenu> submenu contains the
      following commands:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <xref linkend="gimp-layer-alpha-add"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-alpha-remove"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-color-to-alpha"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-alpha-semi-flatten"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="plug-in-threshold-alpha"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-alpha-selection-replace"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-alpha-selection-add"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-alpha-selection-subtract"/>
        </para>
      </listitem>
      <listitem>
        <para>
          <xref linkend="gimp-layer-alpha-selection-intersect"/>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-layer-menu">
  <title>The <quote>Layer</quote> Menu</title>

  <xi:include href="layer/introduction.xml"/>
  <xi:include href="layer/new.xml"/>
  <xi:include href="layer/new-layer-group.xml"/>
  <xi:include href="layer/new-from-visible.xml"/>
  <xi:include href="layer/duplicate.xml"/>
  <xi:include href="layer/anchor.xml"/>
  <xi:include href="layer/merge-down.xml"/>
  <xi:include href="layer/delete.xml"/>
  <!-- separator -->
  <xi:include href="layer/text-commands.xml"/>
  <xi:include href="layer/text-discard.xml"/>
  <!-- separator -->
  <xi:include href="layer/stack.xml"/>
    <xi:include href="layer/previous.xml"/>
    <xi:include href="layer/next.xml"/>
    <xi:include href="layer/top.xml"/>
    <xi:include href="layer/bottom.xml"/>
    <xi:include href="layer/raise.xml"/>
    <xi:include href="layer/lower.xml"/>
    <xi:include href="layer/raise-to-top.xml"/>
    <xi:include href="layer/lower-to-bottom.xml"/>
    <xi:include href="layer/stack-reverse.xml"/>
  <xi:include href="layer/mask.xml"/>
    <xi:include href="layer/mask-add.xml"/>
    <xi:include href="layer/mask-apply.xml"/>
    <xi:include href="layer/mask-delete.xml"/>
    <xi:include href="layer/mask-show.xml"/>
    <xi:include href="layer/mask-edit.xml"/>
    <xi:include href="layer/mask-disable.xml"/>
    <xi:include href="layer/mask-selection-replace.xml"/>
    <xi:include href="layer/mask-selection-add.xml"/>
    <xi:include href="layer/mask-selection-subtract.xml"/>
    <xi:include href="layer/mask-selection-intersect.xml"/>
  <xi:include href="layer/transparency.xml"/>
    <xi:include href="layer/alpha-add.xml"/>
    <xi:include href="layer/alpha-remove.xml"/>
    <xi:include href="layer/color-to-alpha.xml"/>
    <xi:include href="layer/alpha-semi-flatten.xml"/>
    <xi:include href="layer/threshold-alpha.xml"/>
    <xi:include href="layer/alpha-selection-replace.xml"/>
    <xi:include href="layer/alpha-selection-add.xml"/>
    <xi:include href="layer/alpha-selection-subtract.xml"/>
    <xi:include href="layer/alpha-selection-intersect.xml"/>
  <xi:include href="layer/transform.xml"/>
    <xi:include href="layer/flip-horizontal.xml"/>
    <xi:include href="layer/flip-vertical.xml"/>
    <xi:include href="layer/rotate-90.xml"/>
    <xi:include href="layer/rotate-270.xml"/>
    <xi:include href="layer/rotate-180.xml"/>
    <xi:include href="layer/rotate-arbitrary.xml"/>
    <xi:include href="layer/offset.xml"/>
  <!-- separator -->
  <xi:include href="layer/resize.xml"/>
  <xi:include href="layer/resize-to-image.xml"/>
  <xi:include href="layer/scale.xml"/>
  <xi:include href="layer/crop.xml"/>
  <xi:include href="layer/autocrop.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-selection-all">
  <title>Select All</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary> Select All</secondary>
  </indexterm>
  <para>
    The <guimenuitem>Select All</guimenuitem> command creates a new
    selection which contains everything on the current layer.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>All</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>A</keycap></keycombo>.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, at the
          <link linkend="gimp-selection-dialog">Selection Editor</link>, you
          can access it through the <link linkend="tab-menus">Tab menu</link>:
          <menuchoice>
            <guisubmenu>Selection Editor Menu</guisubmenu>
            <guimenuitem>All</guimenuitem>
          </menuchoice>,
          or by clicking on the
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata
                  fileref="images/dialogs/stock-selection-all-16.png"/>
              </imageobject>
              <textobject>
                <phrase>Select everything</phrase>
              </textobject>
            </inlinemediaobject>
          </guiicon>
          icon button on the bottom of this dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-border">
  <title>Border</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Create a selection border</secondary>
  </indexterm>
  <indexterm>
    <primary>Border</primary>
  </indexterm>
  <figure>
    <title>Example of creating a border from a selection</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/select/border-selection-01.png"/>
      </imageobject>
      <caption>
        <para>
          An image with a selection
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/select/border-selection-02.png"/>
      </imageobject>
      <caption>
        <para>
          After <quote>Select Border</quote>
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    The <guimenuitem>Select Border</guimenuitem> command creates a new
    selection along the edge of an existing selection in the current image.
    The edge of the current selection is used as a form and the new selection
    is then created around it. You enter the width of the border, in pixels
    or some other unit, in the dialog window. Half of the new border lies
    inside of the selected area and half outside of it.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Border</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Border</quote> dialog window</title>
    <figure>
      <title>The <quote>Border</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/menus/select/border.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Border selection by</term>
        <listitem>
          <para>
            Enter the width of the border selection in the box. The default
            units are pixels, but you can also choose the units with the
            drop-down menu.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Feather border</term>
        <listitem>
          <para>
            If this option is checked, the edges of the selection will be
            feathered. This creates a smooth transition between the selection
            and its surroundings. Note than you can't use the
            <guilabel>Feather Edges</guilabel> option of the selection tools
            for this purpose.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Lock selection to image edges</term>
        <listitem>
          <para>
            With this option enabled, an edge of an (usually rectangle)
            selection remains unchanged if it is aligned with an edge of the
            image; no new selection will be created around it.
          </para>
          <figure>
            <title>
              Select border with and without <quote>Lock to image
              edges</quote>
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/select/border-selection-lock1.png"/>
              </imageobject>
              <caption>
                <para>
                  Select border without (middle) and with (right) locked
                  selection.
              </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/select/border-selection-lock2.png"/>
              </imageobject>
              <caption>
                <para>
                  Same selections filled with red.
              </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-by_color">
  <title>By Color</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>By Color select</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Select By Color</guimenuitem> command is an alternate
    way of accessing the <quote>Select By Color</quote> tool, one of the
    basic selection tools. You can find more information about using this
    tool in <link linkend="gimp-tool-by-color-select">Select By Color</link>.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>By Color</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Shift</keycap><keycap>O</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-dialog">
  <title>Selection Editor</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Editor</secondary>
  </indexterm>
  <indexterm>
    <primary>Editor</primary>
  </indexterm>

  <para>
    The <guimenuitem>Selection Editor</guimenuitem> command displays the
    <quote>Selection Editor</quote> dialog window. This dialog window
    displays the active selection in the current image and gives you easy
    access to the selection-related commands. It is not really intended for
    editing selections directly, but if you are working on a selection, it
    is handy to have the selection commands all together, since it is easier
    to click on a button than to search for commands in the command tree of
    the menubar. The <quote>Selection Editor</quote> also offers some
    advanced options for the <quote>Select to Path</quote> command.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Selection Editor</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Selection Editor</quote> dialog window
    </title>
    <figure>
      <title>The <quote>Selection Editor</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/select/editor.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>The Buttons</term>
        <listitem>
          <para>
            The <quote>Selection Editor</quote> dialog window has several
            buttons which you can use to easily access selection commands:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-selection-all-16.png"/>
                </guiicon>
                The <link linkend="gimp-selection-all">Select All</link>
                button.
              </para>
            </listitem>
            <listitem>
              <para>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-selection-none-16.png" />
                </guiicon>
                The <link linkend="gimp-selection-none">Select None</link>
                button.
              </para>
            </listitem>
            <listitem>
              <para>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-invert-16.png"/>
                </guiicon>
                The <link linkend="gimp-selection-invert">Select Invert</link>
                button.
              </para>
            </listitem>
            <listitem>
              <para>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-selection-to-channel-16.png"/>
                </guiicon>
                The <link linkend="gimp-selection-to-channel">Save to
                Channel</link> button.
              </para>
            </listitem>
            <listitem>
              <para>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-selection-to-path-16.png"/>
                </guiicon>
                The <link linkend="selection-to-path">To Path</link>
                button. If you hold the <keycap>Shift</keycap> key while
                clicking on this button, the <quote>Advanced Settings</quote>
                dialog is displayed. Please see the next section for details
                about these options.
              </para>
            </listitem>
            <listitem>
              <para>
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-selection-stroke-16.png"/>
                </guiicon>
                The <link linkend="gimp-selection-stroke">Stroke
                Selection</link> button.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>The display window</term>
        <listitem>
          <para>
            In the display window, selected areas of the image are white,
            non-selected areas are black, and partially selected areas are
            in shades of gray. Clicking in this window acts like
            <link linkend="gimp-selection-by_color">Select by Color</link>.
            See the example below.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <figure>
      <title>
        Example of clicking in the <quote>Selection Editor</quote> display
        window
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/select/click-editor.png"/>
        </imageobject>
        <caption>
          <para>
            Clicking in the <quote>Selection Editor</quote> display window
            to <quote>Select By Color</quote>. Note that this figure could
            just as well show the appearance of the
            <quote>Selection Editor</quote> display window when
            <quote>Select By Color</quote> is used in the image window.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>

  <sect3 id="advanced-settings-for-selection-to-path">
    <title>
      The <quote>Selection to Path Advanced Settings</quote> dialog
    </title>
    <indexterm>
      <primary>Selection</primary>
      <secondary>Selection to Path</secondary>
      <tertiary>Advanced options</tertiary>
    </indexterm>
    <figure>
      <title>The <quote>Advanced Settings</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/select/selection-to-path-adv.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The <quote>Selection to Path Advanced Settings</quote> dialog, that
      you get by <keycap>Shift</keycap> clicking on the <guibutton>
      Selection to Path</guibutton> button,
      contains a number of options, most of which you can set with either
      a slider bar or a text box. There is also one check box. These
      options are mostly used by advanced users. They are:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <emphasis>Align Threshold</emphasis>:
          If two endpoints are closer than this value, they are made to be
          equal.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Corner Always Threshold</emphasis>:
          If the angle defined by a point and its predecessors
          and successors is smaller than this, it is a corner,
          even if it is within <emphasis>Corner Surround</emphasis>
          pixels of a point with a smaller angle.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Corner Surround</emphasis>:
          Number of points to consider when determining if a
          point is a corner or not.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Corner Threshold</emphasis>:
          If a point, its predecessors, and its successors
          define an angle smaller than this, it is a corner.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Error Threshold</emphasis>:
          Amount of error at which a fitted spline<footnote><para>
            <quote>Spline</quote> is a mathematical term for a
            function which defines a curve by using a series of control
            points, such as a BÃ©zier curve.
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/menus/select/250px-Bezier.png"/>
              </imageobject>
            </mediaobject>
            See Wikipedia for more information.
          </para></footnote>
          is unacceptable. If any pixel is further away than this from the
          fitted curve, the algorithm tries again.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Filter Alternative Surround</emphasis>:
          A second number of adjacent points to consider
          when filtering.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Filter Epsilon</emphasis>:
          If the angles between the vectors produced by
          <emphasis>Filter Surround</emphasis> and
          <emphasis>Filter Alternative Surround</emphasis>
          points differ by more than this, use the one from
          <emphasis>Filter Alternative Surround</emphasis>.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Filter Iteration Count</emphasis>:
          The number of times to smooth the original data points.
          Increasing this number dramatically, to 50 or
          so, can produce vastly better results.  But if
          any points that <quote>should</quote> be corners aren't found,
          the curve goes wild around that point.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Filter Percent</emphasis>: To produce the new point,
          use the old point plus this times the neighbors.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Filter Secondary Surround</emphasis>:
          Number of adjacent points to consider if
          <emphasis>Filter Surround</emphasis> points defines a
          straight line.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Filter Surround</emphasis>:
          Number of adjacent points to consider when filtering.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Keep Knees</emphasis>:
          This check box says whether or not to remove <quote>knee</quote>
          points after finding the outline.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Line Reversion Threshold</emphasis>:
          If a spline is closer to a straight line than this value,
          it remains a straight line, even if it would otherwise
          be changed back to a curve. This is weighted by the
          square of the curve length, to make shorter curves
          more likely to be reverted.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Line Threshold</emphasis>:
          How many pixels (on the average) a spline can
          diverge from the line determined by its endpoints
          before it is changed to a straight line.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Reparametrize Improvement</emphasis>:
          If reparameterization doesn't improve the fit by this
          much percent, the algorithm stops doing it.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Reparametrize Threshold</emphasis>:
          Amount of error at which it is pointless to reparameterize.
          This happens, for example, when the algorithm is trying to fit the
          outline of the outside of an <quote>O</quote> with a single spline.
          The initial fit is not good enough for the Newton-Raphson
          iteration to improve it.  It may be that it would be better
          to detect the cases where the algorithm didn't find any corners.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Subdivide Search</emphasis>:
          Percentage of the curve away from the worst point
          to look for a better place to subdivide.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Subdivide Surround</emphasis>:
          Number of points to consider when deciding whether
          a given point is a better place to subdivide.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Subdivide Threshold</emphasis>:
          How many pixels a point can diverge from a straight
          line and still be considered a better place to
          subdivide.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Tangent Surround</emphasis>:
          Number of points to look at on either side of a
          point when computing the approximation to the
          tangent at that point.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-distress-selection">
  <title>Distort</title>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Distort</secondary>
  </indexterm>
  <indexterm>
    <primary>Distort Selection</primary>
  </indexterm>
   <figure>
    <title>Example of using Distort on a selection</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/select/distort-selection-01.png"/>
      </imageobject>
      <caption>
        <para>
          An image with a selection
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/select/distort-selection-02.png"/>
      </imageobject>
      <caption>
        <para>
          After <quote>Distort</quote>
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    The <quote>Distort</quote> command deforms the selection contour.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu bar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Distort...</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
  </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Distort</quote> Dialog Window
    </title>
    <figure>
      <title>
        The <quote>Distort</quote> dialog
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/select/distort.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      This command has several options which allow to increase or reduce
      the deformation. It is not possible to foresee the result and you
      have to experiment.
    </para>
    <variablelist>
      <varlistentry>
        <term>Threshold</term>
        <listitem>
          <para>
            A higher threshold shrinks the distorted selection. A lower
            threshold makes the selection bigger.
          </para>
          <para>
            If the active selection has a regular shape (e.g. rectangle or
            ellipse selection), this option controls if the new outline is
            more inside the original selection or more outside the original
            selection.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Spread</term>
        <listitem>
          <para>
            A higher <quote>Spread</quote> increases the deformation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Granularity</term>
        <listitem>
          <para>
            A higher <quote>Granularity</quote> increases the deformation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Smooth</term>
        <listitem>
          <para>
            A higher <quote>Smooth</quote> decreases the deformation.
          </para>
          <para>
            Deactivating <guilabel>Smooth horizontally</guilabel> or
            <guilabel>Smooth vertically</guilabel> increases the deformation.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-feather">
  <title>Feather</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Feather selection edges</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Feather</guimenuitem> command feathers the edges of
    the selection. This creates a smooth transition between the selection
    and its surroundings. You normally feather selection borders with the
    <quote>Feather Edges</quote> option of the selection tools, but you
    may feather them again with this command.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Feather</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Feather Selection</quote> dialog window
    </title>
    <figure>
      <title>The <quote>Feather Selection</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/select/feather.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Feather selection by</term>
        <listitem>
          <para>
            Enter the width of the selection border feathering. The default
            units are pixels, but you can also choose other units with the
            drop-down menu.
         </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-float">
  <title>Float</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Floating selection (command)</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Float</guimenuitem> command converts a normal selection
    into a <quote>floating selection</quote>.
  </para>
  <para>
    A floating selection (sometimes called a <quote>floating layer</quote>) is
    a type of temporary layer which is similar in function to a normal layer,
    except that before you can resume working on any other layers in the
    image, a floating selection must be <emphasis>anchored</emphasis>.
    That is, you have to attach it to a normal (non-floating) layer, usually
    the original layer (the one which was active previously), for instance, by
    clicking on the image outside of the floating selection (see below).
  </para>
  <important>
    <para>
      You cannot perform any operations on other layers while the image has a
      floating selection!
    </para>
  </important>
  <para>
    You can use various operations to change the image data on the floating
    selection. There can only be one floating selection in an image at a time.
  </para>
  <tip>
    <para>
      If you display the layer boundary by using the
      <link linkend="gimp-view-show-layer-boundary">Show Layer Boundary</link>
      command, you may have difficulty selecting a precise area of the
      image which you want in a layer. To avoid this problem, you can make a
      rectangular selection, transform it into a floating selection and
      anchor it to a new layer. Then simply remove the original layer.
    </para>
  </tip>
  <para>
    In early versions of <acronym>GIMP</acronym>, floating
    selections were used for performing operations on a limited part of an
    image. You can do that more easily now with layers, but you can still
    use this way of working with images.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Float</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap><keycap>Ctrl</keycap><keycap>L</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Creating a Floating Selection Automatically</title>
    <para>
      Some image operations create a floating selection automatically:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          The <quote>paste</quote> operations,
          <link linkend="gimp-buffer-dialog">Paste Named Buffer</link>,
          <link linkend="gimp-edit-paste">Paste</link> or
          <link linkend="gimp-edit-paste-into">Paste Into</link>, also
          create a floating selection.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, the Transform tools,
          <link linkend="gimp-tool-flip">Flip</link>,
          <link linkend="gimp-tool-shear">Shear</link>,
          <link linkend="gimp-tool-scale">Scale</link>,
          <link linkend="gimp-tool-rotate">Rotate</link> and
          <link linkend="gimp-tool-perspective">Perspective</link>,
          create a floating selection when they are used on a selection,
          rather than a layer. When the <guilabel>Affect</guilabel> mode is
          <emphasis>Transform Layer</emphasis> and a selection already exists,
          these tools transform the selection and create a floating selection
          with the result. If a selection does not exist, they transform the
          current layer and do not create a floating selection. (If the
          <guilabel>Affect</guilabel> mode is <emphasis>Transform
          Selection</emphasis>, they also do not create a floating selection.)
        </para>
      </listitem>
      <listitem>
        <para>
          By click-and-dragging a selection while pressing the
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo> keys
          (see <xref linkend="gimp-using-selections-moving"/>) you also
          automatically create a floating selection.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <!-- Mostly the same as in "menus/layer/anchor.xml" -->
  <sect3>
    <title>Anchor a Floating Selection</title>
    <para>You can anchor a floating selection in various ways:</para>
    <itemizedlist>
      <listitem>
        <para>
          You can anchor the floating selection to the current layer the
          selection is originating from. To do this, click anywhere on the
          image except on the floating selection. This merges the floating
          selection with the current layer.
        </para>
      </listitem>
      <listitem>
        <para>
          Or you can use the
          <link linkend="gimp-layer-anchor">Anchor layer</link> command
          (<keycombo><keycap>Ctrl</keycap><keycap>H</keycap></keycombo>).
        </para>
      </listitem>
      <listitem>
        <para>
          You can also anchor the floating selection to the current layer by
          clicking on the anchor button of the
          <link linkend="gimp-layer-dialog">Layers dialog</link>.
        </para>
      </listitem>
      <listitem>
        <para>
          If you create a <link linkend="gimp-layer-new">New Layer</link>
          while there is a floating selection, the floating selection is
          anchored to this newly created layer.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-path-selection-replace">
  <title>From Path</title>
  <anchor id="gimp-selection-from-path"/>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Create a selection from Path</secondary>
  </indexterm>

  <para>
    The <guimenuitem>From Path</guimenuitem> command transforms the current
    path into a selection. If the path is not closed, the command connects
    the two end points with a straight line. The original path is unchanged.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice><guimenu>Select</guimenu><guimenuitem>From
          Path</guimenuitem></menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, you can click on the
          <guibutton>Path to Selection</guibutton> button
          <inlinemediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/dialogs/stock-selection-16.png"/>
            </imageobject>
          </inlinemediaobject>
          in the Path dialog to access the command.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also use the keyboard shortcut
          <keycombo><keycap>Shift</keycap><keycap>V</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-grow">
  <title>Grow</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Grow</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Grow</guimenuitem> command increases the size of a
    selection in the current image. It works in a similar way to the
    <link linkend="gimp-selection-shrink">Shrink</link> command, which
    reduces the size of a selection.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Grow</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Grow Selection</quote> dialog</title>
    <figure>
      <title>The <quote>Grow Selection</quote> dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/select/grow.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Grow selection by</term>
        <listitem>
          <para>
            You can enter the amount by which to increase the selection in
            the text box. The default unit of measurement is pixels, but you
            can choose a different unit by using the drop-down menu.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>A Peculiarity of Rectangular Selections</title>
    <para>
      When you grow a rectangular selection, the resulting selection has
      rounded corners. The reason for this is shown in the image below:
    </para>
    <figure>
      <title>
        Why growing a rectangular selection results in rounded corners
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/select/grow-at-corners.png"/>
        </imageobject>
        <caption/>
      </mediaobject>
    </figure>
    <para>
      If you do not want rounded corners, you can use the
      <link linkend="script-fu-selection-rounded-rectangle">Rounded
      Rectangle</link> command with a 0% radius.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-invert">
  <title>Invert</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Invert selection</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Invert</guimenuitem> command inverts the selection
    in the current layer. That means that all of the layer contents which
    were previously outside of the selection are now inside it, and vice
    versa. If there was no selection before, the command selects the
    entire layer.
  </para>
  <warning>
    <para>
      Do not confuse this command with the
      <link linkend="gimp-layer-invert">Invert colors</link> command.
    </para>
  </warning>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Invert</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also use the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>I</keycap></keycombo>,
        </para>
      </listitem>
      <listitem>
        <para>
          or click on the corresponding icon in the
          <link linkend="gimp-selection-dialog">Selection Editor</link>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-none">
  <title>None</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Delete selections</secondary>
  </indexterm>

  <para>
    The <guimenuitem>None</guimenuitem> command cancels all selections in
    the image. If there are no selections, the command doesn't do anything.
    Floating selections are not affected.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>None</guimenuitem>
          </menuchoice>.
         </para>
      </listitem>
      <listitem>
        <para>
          You can also use the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap>
            <keycap>Ctrl</keycap>
            <keycap>A</keycap>
          </keycombo>.
        </para>
      </listitem>
      <listitem>
        <para>
          In addition, at the
          <link linkend="gimp-selection-dialog">Selection Editor</link>, you
          can access it through the <link linkend="tab-menus">Tab menu</link>:
          <menuchoice>
            <guisubmenu>Selection Editor Menu</guisubmenu>
            <guimenuitem>None</guimenuitem>
          </menuchoice>,
          or by clicking on the
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata
                  fileref="images/dialogs/stock-selection-none-16.png"/>
              </imageobject>
              <textobject>
                <phrase>Dismiss the selection</phrase>
              </textobject>
            </inlinemediaobject>
          </guiicon>
          icon button on the bottom of this dialog.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-quick-mask-toggle">
  <title>Toggle QuickMask</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Toggle QuickMask</secondary>
  </indexterm>

  <para>
    This command has the same action as clicking on the small button in the
    bottom left corner of the image. See
    <link linkend="gimp-qmask">Quick Mask</link>
  </para>

  <sect3>
    <title>Activate Dialog</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Toggle QuickMask</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          Default shortcut is
          <keycombo><keycap>Shift</keycap><keycap>Q</keycap></keycombo>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="script-fu-selection-rounded-rectangle">
  <title>Rounded Rectangle</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Rounded Rectangle</secondary>
  </indexterm>
  <indexterm>
    <primary>Rounded rectangle</primary>
  </indexterm>

   <figure>
    <title>Example of using Rounded rectangle on a selection</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/select/round-rect-01.png"/>
      </imageobject>
      <caption>
        <para>
          An image with a selection
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/select/round-rect-02.png"/>
      </imageobject>
      <caption>
        <para>
          After <quote>Rounded rectangle</quote>
        </para>
      </caption>
    </mediaobject>
  </figure>
  
  <para>
    The <quote>Rounded Rectangle</quote> Script-Fu command converts an
    existing selection (rectangular, elliptical or other shape) into a
    rectangular selection with rounded corners. The corners can be curved
    toward the inside (concave) or toward the outside (convex). To do this,
    the command adds or removes circles at the corners of the selection.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu bar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Rounded Rectangle</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>
      Description of the <quote>Rounded Rectangle</quote> Dialog Window
    </title>
    <figure>
      <title>The <quote>Rounded Rectangle</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/select/rounded-rectangle.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Radius (%)</term>
        <listitem>
          <para>
            You can enter the radius of the rounded corner in percent by
            using a slider or a text field. This value is a percentage of
            the height or the width, whichever is less.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Concave</term>
        <listitem>
          <para>
            If you check this box, the corners will be concave (curving
            toward the inside), rather than convex (curving toward the
            outside).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-sharpen">
  <title>Sharpen</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Remove the feathering of border selection</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Sharpen</guimenuitem> command reduces the amount of
    blur or fuzziness around the edge of a selection. It reverses the effect
    of the <link linkend="gimp-selection-feather">Feather Selection</link>
    command. The new edge of the selection follows the dotted line of the
    edge of the old selection. Anti-aliasing is also removed.
  </para>
  <note>
    <para>
      Please do not confuse this command with the
      <link linkend="plug-in-sharpen">Sharpen</link> filter.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Sharpen</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-shrink">
  <title>Shrink</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Shrink the size of selection</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Shrink</guimenuitem> command reduces the size of the
    selected area by moving each point on the edge of the selection a
    certain distance further away from the nearest edge of the image
    (toward the center of the selection). Feathering is preserved, but the
    shape of the feathering may be altered at the corners or at points of
    sharp curvature.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Shrink...</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Description of the <quote>Shrink</quote> dialog</title>
    <figure>
      <title>The <quote>Shrink Selection</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/select/shrink.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Shrink selection by</term>
        <listitem>
          <para>
            Enter the amount by which to reduce the selection in the text
            box. The default unit is pixels, but you can choose a different
            unit of measurement from the drop-down menu.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shrink from image border</term>
        <listitem>
          <para>
            This option is only of interest if the selection runs along
            the edge of the image. If it does and this option is checked,
            then the selection shrinks away from the edge of the image. If
            this option is not checked, the selection continues to extend to
            the image border.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-to-channel">
  <title>Save to Channel</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Save selection to channel</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Save to Channel</guimenuitem> command saves the
    selection as a channel. The channel can then be used as a channel
    selection mask. You can find more information about them in the
    <link linkend="gimp-channel-dialog">Channel Dialog</link> section.
  </para>
  <para>
    You will find a simple example how to use this command in the introduction
    of <xref linkend="filters-alpha-to-logo"/>. It shows how to convert a
    selection to an alpha channel so that you can apply an alpha to logo
    filter to this selection.
  </para>

  <sect3>
    <title>Activate the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>Save to Channel</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also access it from the
          <link linkend="gimp-selection-dialog">Selection Editor</link>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-selection-to-path">
  <title>To Path</title>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Transform selection to path</secondary>
  </indexterm>
  <para>
    The <guimenuitem>To Path</guimenuitem> command converts a selection
    into a path. The image does not seem to change, but you can see the
    new path in the <link linkend="gimp-path-dialog">Paths Dialog</link>.
    By using the <link linkend="gimp-tool-path">Path tool</link> in the
    Toolbox, you can precisely adapt the outline of the selection. You can
    find further information regarding paths in the
    <link linkend="gimp-path-dialog">Paths dialog</link> section.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menu bar through
          <menuchoice>
            <guimenu>Select</guimenu>
            <guimenuitem>To Path</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          You can also access it from the
          <link linkend="gimp-selection-dialog">Selection Editor</link> or
          from the <link linkend="gimp-path-dialog">Paths Dialog</link>
          which offers you a lot of
          <link linkend="advanced-settings-for-selection-to-path">Advanced
          Options</link>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-select-menu">
  <title>The <quote>Select</quote> Menu</title>

  <indexterm>
    <primary>Menus</primary>
    <secondary>Selection</secondary>
  </indexterm>

  <sect2>
    <title>Introduction to the <quote>Select</quote> Menu</title>
    <figure>
      <title>The Contents of the <quote>Select</quote> menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/select.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This section explains the commands on the <guimenu>Select</guimenu>
      menu of the image menubar.
    </para>
    <xi:include href="about-plugin-menuitems.xml"/>
  </sect2>

  <xi:include href="select/all.xml"/>
  <xi:include href="select/none.xml"/>
  <xi:include href="select/invert.xml"/>
  <xi:include href="select/float.xml"/>
  <xi:include href="select/by_color.xml"/>
  <xi:include href="select/from-path.xml"/>
  <xi:include href="select/dialog.xml"/> <!--Selection Editor-->
  <!-- -->
  <xi:include href="select/feather.xml"/>
  <xi:include href="select/sharpen.xml"/>
  <xi:include href="select/shrink.xml"/>
  <xi:include href="select/grow.xml"/>
  <xi:include href="select/border.xml"/>
  <xi:include href="select/distort.xml"/>
  <xi:include href="select/rounded-rectangle.xml"/>
  <!-- -->
  <xi:include href="select/qmask-toggle.xml"/>
  <xi:include href="select/to-channel.xml"/>
  <xi:include href="select/to-path.xml"/>
</sect1>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tools-menu">
  <title>The <quote>Tools</quote> Menu</title>

  <indexterm>
    <primary>Menus</primary>
    <secondary>Tools</secondary>
  </indexterm>

  <sect2 id="gimp-tools-menu-introduction">
    <title>Introduction to the <quote>Tools</quote> Menu</title>
    <figure>
      <title>Contents of the <quote>Tools</quote> menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/menus/tools.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The menu entries on the <guimenu>Tools</guimenu> menu access the
      <acronym>GIMP</acronym> tools. All of the tools available in
      <acronym>GIMP</acronym> are extensively described in the
      <link linkend="gimp-tools">Tools</link> section.
    </para>
  </sect2>
</sect1>
-#-#-
<sect2 id="gimp-display-filter-dialog">
  <title>Display Filters</title>

  <indexterm>
    <primary>Color</primary>
    <secondary>Color display</secondary>
  </indexterm>
  <para>
    This command shows a dialog window when executed. This window can be used
    to manage the display filters and their options. Display filters are not
    to be confused with the filters in the <guimenu>filters</guimenu>-menu.
    Display filters do not alter the image data, but only one display of it.
    You can imagine display filters like big panes before your screen. They
    change your perception of the image. This can be useful for things like
    soft proofing prints, controlling the color management but also simulation
    of color deficient vision.
  </para>

  <sect3>
    <title>Activating the Command</title>
      <para>
        You can access this command from the image menubar through
        <menuchoice>
          <guimenu>View</guimenu>
          <guimenuitem>Display Filtersâ€¦</guimenuitem>
        </menuchoice>.
      </para>
  </sect3>

  <sect3>
    <title>Description of the <quote>Display Filters</quote> Dialog</title>
    <figure>
      <title>
        The <quote>Configure Color Display Filters</quote> dialog
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/view/display-filters.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This dialog has two small selectboxes. The left selectbox displays the
      <guilabel>Available Filters</guilabel>. You can move a filter to the
      right selectbox by selecting it and clicking on the
      <guibutton>right arrow</guibutton> button. The
      <guilabel>Active Filters</guilabel> window on the right displays
      filters you have chosen and which will be applied if the adjacent box
      is checked. You can move filters from the right selectbox to the left
      selectbox by using the <guibutton>left arrow</guibutton> button. If you
      select a filter by clicking on its name, its options are displayed
      below the two selectboxes, in the
      <guilabel>Configure Selected Filter</guilabel> area.
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <phrase>Simulation of deficient vision</phrase>
          (<xref linkend="gimp-deficient-vision"/>;
          <xref linkend="gimp-contrast-dialog"/>)
        </para>
      </listitem>
      <listitem>
        <para>
          <phrase>Color Management</phrase>
          (<xref linkend="gimp-display-filter-color-management"/>;
          <xref linkend="gimp-color-proof"/>)
        </para>
      </listitem>
      <listitem>
        <para>
          <phrase>Others</phrase> (<xref linkend="gimp-gamma-dialog"/>)
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="gimp-deficient-vision">
    <title>Color Deficient Vision</title>
    <indexterm>
      <primary>Color</primary>
      <secondary>Deficient vision</secondary>
    </indexterm>
    <para>
      The images you create, we hope, will be seen by many people on many
      different systems. The image which looks so wonderful on your screen may
      look somewhat different to people with sight deficiencies or on a screen
      with different settings from yours. Some information might not even be
      visible.
    </para>
    <figure>
      <title>
        Description of the <quote>Color Deficient Vision</quote> dialog
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/view/display-filters/color-deficient-vision.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <sect4>
      <title>Options</title>
      <variablelist>
        <varlistentry>
          <term>Color Deficiency Type</term>
          <listitem>
            <para>
              In this drop-down menu you can select from among:
            </para>
            <variablelist>
              <varlistentry>
                <term>
                  Protanopia<footnote>
                    <para>
                      Greek:
                      <foreignphrase>proto</foreignphrase>: first (color in
                      the <link linkend="glossary-colormodel">RGB Color
                      System</link>):
                      <foreignphrase>an</foreignphrase>: negation;
                      <foreignphrase>op</foreignphrase>: eye, vision.
                    </para>
                  </footnote> (insensitivity to red)
                </term>
                <listitem>
                  <para>
                    Protanopia is a visual deficiency of the color red. It's
                    the well-known daltonism (red-green color blindness).
                    Daltonism occurs fairly frequently in the population.
                  </para>
                  <para>
                    Protanopia is actually more complex than this; a person
                    with this problem cannot see either red or green, although
                    he is still sensitive to yellow and blue. In addition, he
                    has a loss of luminance perception and the hues shift
                    toward the short wavelengths.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Deuteranopia (insensivity to green)</term>
                <listitem>
                  <para>
                    With deuteranopia, the person has a deficiency in green
                    vision. Deuteranopia is actually like protanopia, because
                    the person has a loss of red and green perception, but he
                    has no luminance loss or hue shift.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Tritanopia (insensitivity to blue)</term>
                <listitem>
                  <para>
                    With tritanopia, the person is deficient in blue and
                    yellow perception, although he is still sensitive to red
                    and green. He lacks some perception of luminance, and the
                    hues shift toward the long wavelengths.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>

    <sect4>
      <title>Examples</title>
      <figure>
        <title>Example of protanopia</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/protanopia-normal.png"/>
          </imageobject>
          <caption>
            <para>Original image</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/protanopia-filtered.png"/>
          </imageobject>
          <caption>
            <!--
              As you can see, a red-blind person cannot see the red (255,0,0)
              text on a black (0,0,0) background. You have to change the text
              color. Daltonism occurs fairly frequently in the population.
            -->
            <para>
              A red-blind person cannot see the red (255,0,0) text on a black
              (0,0,0) background.
            </para>
          </caption>
        </mediaobject>
      </figure>
      <figure>
        <title>
          Examples of the three types of vision deficiencies in one image
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/sight-defects_normal-view.png"/>
          </imageobject>
          <caption>
            <para>Normal vision</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/sight-defects_protanopia.png"/>
          </imageobject>
          <caption>
            <para>Protanopia</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/sight-defects_deuteranopia.png"/>
          </imageobject>
          <caption>
            <para>
              Deuteranopia; in deuteranopia, yellow is shifted toward red.
            </para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/sight-defects_tritanopia.png"/>
          </imageobject>
          <caption>
            <para>
              Tritanopia; in tritanopia, green is slightly represented in the
              blue range.
            </para>
          </caption>
        </mediaobject>
      </figure>
    </sect4>
  </sect3>

  <sect3 id="gimp-gamma-dialog">
    <title>Gamma</title>
    <indexterm>
      <primary>Gamma</primary>
    </indexterm>
    <para>
      <figure>
        <title>The <quote>Gamma</quote> dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/gamma.png"/>
          </imageobject>
        </mediaobject>
      </figure>
    </para>
    <para>
      The correspondence between electrical intensity and color brightness
      is not exact and it depends upon the device (the camera, the scanner,
      the monitor, etc.). <quote>Gamma</quote> is a coefficient used to
      correct this correspondence. Your image must be visible in both dark
      and bright areas, even if it is displayed on a monitor with too much
      luminence or not enough. The <quote>Gamma</quote> Display Filter
      allows you to get an idea of the appearance of your image under these
      conditions.
    </para>
    <tip>
      <para>
        In case you want not only to change the gamma of the current display,
        but the change the gamma within the image itself, you can find a
        description in <xref linkend="gimp-tool-levels"/>.
      </para>
    </tip>
  </sect3>

  <sect3 id="gimp-contrast-dialog">
    <title>Contrast</title>
    <indexterm>
      <primary>Contrast</primary>
    </indexterm>
    <para>
      <figure>
        <title>The <quote>Contrast</quote> dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/menus/view/display-filters/contrast.png"/>
          </imageobject>
        </mediaobject>
      </figure>
    </para>
    <para>
      Here, we are back in the medical domain.
      <quote>Contrast Sensitivity</quote>
      is the capacity of the visual system to distinguish slight differences
      in contrast. Some people with cataracts (which means that the lens has
      opaque crystals that scatter light over the retina) or retinal disease
      (for instance, due to diabetes, which destroys the rods and cones) have
      a deficiency in sensitivity to contrast: for example, they would have
      difficulties distinguishing spots on a dress.
    </para>
    <para>
      If you are interested in this subject, you can browse the Web for
      <quote>contrast sensitivity</quote>.
    </para>

    <sect4>
      <title>Options</title>
      <variablelist>
        <varlistentry>
          <term>Contrast Cycles</term>
          <listitem>
            <para>
              With the <quote>Contrast</quote>
              Filter, you can see the image as if you were suffering from
              cataracts. You may have to increase the contrast of the image so
              that your grandmother can see it well. In most cases, only very
              low values of the <guilabel>Contrast Cycles</guilabel>
              parameter are of interest. Higher values create a side-effect
              which doesn't interest us here: if you increase the luminosity
              value above 255, the complementary color appears.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>

  <sect3 id="gimp-display-filter-color-management">
    <title>Color Management</title>
    <indexterm>
      <primary>Color management</primary>
    </indexterm>
    <figure>
      <title>The <quote>Color Management</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/view/display-filters/color-management.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This filter allows to enable the GIMP color management for each image
      window. To learn more about the color management in GIMP, please read
      <xref linkend="gimp-concepts-color-management"/>.
    </para>

    <sect4>
      <title>Options</title>
      <para>
        All the customizing for the color management in GIMP has to be done
        in the GIMP preferences. You can find detailed information about
        this in <xref linkend="gimp-prefs-color-management"/>.
      </para>
    </sect4>
  </sect3>

  <sect3 id="gimp-color-proof">
    <title>Color Proof</title>
    <indexterm>
      <primary>Color proof</primary>
    </indexterm>
    <indexterm>
      <primary>Soft proof</primary>
    </indexterm>
    <para>
      The various systems for reproducing colors cannot represent the
      infinity of colors available. Even if there are many colors in
      common between the various systems and nature, some of the colors
      will not be the same. The <quote>gamut</quote> is the color range of
      a system. <emphasis>Color Profiles</emphasis> allow you to compensate
      for these differences.
    </para>
    <para>
      Before you print an image, it may be useful for you to see if you
      will get the result you want by applying a profile. The <quote>Color
      Proof</quote> filter shows you how your image will look after a color
      profile has been applied.
    </para>
    <figure>
      <title>The <quote>Color Proof</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/menus/view/display-filters/color-proof.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <sect4>
      <title>The <quote>Color Proof</quote> options</title>
      <variablelist>
        <varlistentry>
          <term>Profile</term>
          <listitem>
            <para>
              This option allows to select a color profile that is used to
              simulate the color abilities of the printer. If the desired
              profile is not shown in the list you might want to add it by
              selecting a file. This can be done by selecting the last entry
              of the list.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Intent</term>
          <listitem>
            <para>
              With this option you can select the rendering intent, which is
              the method used to determine how colors that can't be reproduced
              by a device (<quote>are out of gamut</quote>) should be handled.
              The different rendering intents are described in detail in the
              glossary <xref linkend="glossary-rendering-intent"/>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Black Point Compensation</term>
          <listitem>
            <para>
              Black point compensation allows a better representaion of
              dark colors of your image when printing.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-dot-for-dot">
  <title>Dot for Dot</title>

  <indexterm>
    <primary>Display</primary>
    <secondary>Dot for Dot</secondary>
  </indexterm>
  <indexterm>
    <primary>Dot for Dot</primary>
  </indexterm>

  <para>
    The <guimenuitem>Dot for Dot</guimenuitem> command enables and disables
    <quote>Dot for Dot</quote> mode. If it is enabled (checked) and the
    zoom factor is 100%, every pixel in the image is displayed as one pixel
    on the screen. If it is disabled, the image is displayed at its
    <quote>real</quote> size, the size it will have when it is printed.
  </para>
  <para>
    The example below will illustrate this. Imagine the following image
    properties:
  </para>
  <itemizedlist>
    <listitem>
      <para>Image size: 100x100 pixels</para>
    </listitem>
    <listitem>
      <para>Image resolution: 300 ppi (pixels per inch)</para>
    </listitem>
    <listitem>
      <para>
        Image displayed with Zoom=100%, <quote>Dot for Dot</quote>
        <emphasis>enabled</emphasis>:
      </para>
      <blockquote><para>100x100 pixels</para></blockquote>
    </listitem>
    <listitem>
      <para>
        Image displayed with Zoom=100%, <quote>Dot for Dot</quote>
        <emphasis>disabled</emphasis>:
      </para>
      <blockquote>
        <para>
          100 pixels &divide; 300 ppi = 1/3 inch &cong; 0.85 cm
        </para>
      </blockquote>
    </listitem>
  </itemizedlist>
  <para>
    For Dot for Dot mode to work properly, the resolution of the image
    must be the same as the screen resolution in the
    <link linkend="gimp-prefs-display">Preferences menu</link>.
  </para>
  <para>
    Enabling this mode is recommended if you are working on icons and web
    graphics. If you are working on images intended to be printed, you should
    disable Dot-for-Dot mode.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Dot for Dot</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-fullscreen">
  <title>Full Screen</title>
  <indexterm>
    <primary>Display</primary>
    <secondary>Full Screen</secondary>
  </indexterm>
  <indexterm>
    <primary>Full Screen</primary>
  </indexterm>
  <para>
    The <guimenuitem>Fullscreen</guimenuitem> command enables and disables
    displaying the image window on the entire screen. When it is enabled,
    the image window takes up the whole screen, but the image stays the
    same size. When you enable full-screen mode, the menubar may not be
    displayed, but if this happens, you can right-click on the image to
    access the image menu. You can set the default appearance for
    full-screen mode in the
    <link linkend="gimp-prefs-image-window-appearance">Preferences</link>
    menu.
  </para>
  <para>
    Pressing <keycap>TAB</keycap> key toggles the visibility of all present
    docks.
  </para>

  <note>
    <para>
      If you use <acronym>GIMP</acronym>
      on an Apple computer, full-screen mode may not work, since Apple doesn't
      provide the necessary functionality. Instead, you can maximize the image
      window by clicking on the <emphasis>Green Button</emphasis>,
      so the image occupies most of the screen.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Full Screen</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut <keycap>F11</keycap>.
        </para>
      </listitem>
      <listitem>
        <para>
          In multi-window mode, you can also get it by double-clicking on the
          title bar of the image window.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-view-introduction">
  <title>Introduction to the <quote>View</quote> Menu</title>

  <indexterm>
    <primary>View</primary>
    <secondary>Introduction</secondary>
  </indexterm>
  <figure>
    <title>Contents of the View menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/view.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This section describes the <guimenu>View</guimenu> menu, which contains
    commands that affect the visibility or appearance of the image and
    various elements of the interface.
  </para>
  <xi:include href="../about-plugin-menuitems.xml"/>
</sect2>
-#-#-
<sect2 id="gimp-view-navigation">
  <title>Navigation Window</title>

  <indexterm>
    <primary>Navigation</primary>
    <secondary>View Navigation window</secondary>
  </indexterm>

  <para>
    The <guimenuitem>Navigation Window</guimenuitem> command opens the
    <link linkend="gimp-navigation-dialog">navigation window</link>. This
    allows you to easily navigate through the image, to set zoom levels and
    to move the visible parts of the image. You can find more information
    about using it in the
    <link linkend="gimp-navigation-dialog">Navigation dialog</link> chapter.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Navigation Window</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          You can also access it more rapidly by clicking on the
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="images/using/stock-navigation-16.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          icon in the lower right corner of the image window.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-new">
  <title>New View</title>

  <indexterm>
    <primary>New View</primary>
  </indexterm>

  <para>
    The <guimenuitem>New View</guimenuitem> command creates a new image
    window for the current image, which you can set up differently from
    the existing display. You can create multiple views of any image, which
    are numbered .1, .2, etc., but only the zoom factor and other viewing
    options may be different. Any changes, other than viewing changes,
    which you make in one window also appear in the other displays which
    show the same image. The new views are not separate image files; they
    are simply different aspects of the same image. You might use multiple
    views, for example, if you were working on individual pixels at a high
    zoom factor. You could then see the effects your changes would have on
    the image at a normal size.
  </para>
  <!-- Deprecated
  <para>
    You can delete a view by closing its window. If you close the last
    window displaying an image, the image itself is closed. However, if
    you have made changes to the image which you have not yet saved, you
    are asked for confirmation.
  </para>-->

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>New View</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-padding-color">
  <title>Padding Color</title>

  <indexterm>
    <primary>View</primary>
    <secondary>Padding color of canvas</secondary>
  </indexterm>
  <indexterm>
    <primary>Canvas</primary>
    <secondary>Padding color</secondary>
  </indexterm>
  <indexterm>
    <primary>Padding color</primary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Padding color of canvas</secondary>
  </indexterm>

  <figure>
    <title>Contents of the <quote>Padding Color</quote> submenu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/view/padding-color.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    You can change the color of the canvas which surrounds the image by
    using the <guimenuitem>Padding Color</guimenuitem> command.  The canvas
    is the surface the image lies on. It looks like a frame around the
    image in the image window. This is just a matter of personal
    preference, since the padding color does not have any effect on the
    image itself. Please note that this color is not the same as the color
    used by the Fill tool.
  </para>

  <sect3>
    <title>Activating the submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Padding Color</guimenuitem></menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Padding Color</quote> Options</title>
    <variablelist>
      <varlistentry>
        <term>From Theme</term>
        <listitem>
          <para>
            The color of the theme defined in
            <link linkend="gimp-prefs-theme">Preferences Theme</link> is used.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Light/Dark Check Color</term>
        <listitem>
          <para>
            The check representing transparency, which is defined in
            <link linkend="gimp-prefs-display">Preferences Display</link> is
            used.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Select Custom Color</term>
        <listitem>
          <para>
            Opens the Color Selector window to let you choose a color to use.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>As in Preferences</term>
        <listitem>
          <para>
            The color selected in the
            <link linkend="gimp-prefs-image-window-appearance">Image Window
            Appearance</link> is used.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-grid">
  <title>Show Grid</title>

  <indexterm>
    <primary>Grid</primary>
    <secondary>Show/Mask Grid</secondary>
  </indexterm>
  <indexterm>
    <primary>Show Grid</primary>
  </indexterm>

  <para>
    By using the <guimenuitem>Show Grid</guimenuitem> command, you can
    enable and disable displaying the grid. When you enable it, the grid
    overlays the image and makes it easier for you to line up selected image
    elements.
  </para>
  <para>
    You can set the default for the grid in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>
  <tip>
    <para>
      See also the
      <link linkend="gimp-image-configure-grid">Configure Grid</link>
      command and the
      <link linkend="gimp-view-snap-to-grid">Snap to Grid</link> command.
    </para>
  </tip>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Grid</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-guides">
  <title>Show Guides</title>

  <indexterm>
    <primary>Guides</primary>
    <secondary>Show/Mask Guides</secondary>
  </indexterm>
  <indexterm>
    <primary>Show Guides</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Guides</guimenuitem> command enables and disables
    displaying of <link linkend="glossary-guides">Guides</link> in the
    image window.
  </para>
  <para>
    You can set the default for the guides in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Guides</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap><keycap>Ctrl</keycap><keycap>T</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-layer-boundary">
  <title>Show Layer Boundary</title>

  <indexterm>
    <primary>Layer boundary</primary>
    <secondary>Show/mask layer boundary</secondary>
  </indexterm>
  <indexterm>
    <primary>Show Layer Boundary</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Layer Boundary</guimenuitem> command enables and
    disables displaying the yellow dotted line that surrounds a layer
    in the image window. The dotted line is actually only visible when the
    layer is smaller than the image window. When the layer is the same size
    as the image window, the layer boundary is obscured by the image border.
  </para>
  <para>
    You can set the default for the layer boundary in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Layer Boundary</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-menubar">
  <title>Show Menubar</title>

  <indexterm>
    <primary>Menu-bar</primary>
    <secondary>Show/Mask menu bar</secondary>
  </indexterm>
  <indexterm>
    <primary>Show Menubar</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Menubar</guimenuitem> command enables and disables
    displaying the menubar. It may be useful to disable it if you are
    working in <link linkend="gimp-view-fullscreen">full-screen mode</link>.
    If the menubar is not displayed, you can right-click on the image
    to access the menubar entries.
  </para>
  <para>
    You can set the default for the menubar in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Menubar</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-rulers">
  <title>Show Rulers</title>

  <indexterm>
    <primary>Rulers</primary>
    <secondary>Show/Mask rulers</secondary>
  </indexterm>
  <indexterm>
    <primary>Show Rulers</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Rulers</guimenuitem> command enables and disables
    displaying the rulers. It may be useful to disable them if you are
    working in <link linkend="gimp-view-fullscreen">full-screen mode</link>.
  </para>
  <para>
    You can set the default for the rulers in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Rulers</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo>
            <keycap>Shift</keycap><keycap>Ctrl</keycap><keycap>R</keycap>
          </keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-

<sect2 id="gimp-view-show-sample-points">
  <title>Show Sample Points</title>

  <indexterm>
    <primary>Sample Points</primary>
  </indexterm>
  <para>
    This command enables and disables showing the sample points in the image
    window. Sample points are used to display color informations of up to four
    pixels in the <link linkend="gimp-sample-point-dialog">sample points
    dialog</link>.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Sample Points</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-scrollbars">
  <title>Show Scrollbars</title>

  <indexterm>
    <primary>Scroll-bars</primary>
    <secondary>Show/Mask scrollbars</secondary>
  </indexterm>
  <indexterm>
    <primary>Show Scrollbars</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Scrollbars</guimenuitem> command enables and
    disables displaying the scrollbars. It may be useful to disable them if
    you are working in
    <link linkend="gimp-view-fullscreen">full-screen mode</link>.
  </para>
  <para>
    You can set the default for the scrollbars in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Scrollbars</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-selection">
  <title>Show Selection</title>

  <indexterm>
    <primary>Selection</primary>
    <secondary>Selection boundary</secondary>
    <tertiary>Show/Mask selection boundary</tertiary>
  </indexterm>
  <indexterm>
    <primary>Show Selection</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Selection</guimenuitem> command enables and
    disables displaying the dotted line surrounding the selection in the
    image window. Please note that the selection still exists, even if
    displaying this line is disabled.
  </para>
  <para>
    You can set the default for displaying the selection in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Selection</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>T</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-show-statusbar">
  <title>Show Statusbar</title>

  <indexterm>
    <primary>Status bar</primary>
    <secondary>Show/Hide status bar</secondary>
  </indexterm>
  <indexterm>
    <primary>Show Statusbar</primary>
  </indexterm>

  <para>
    The <guimenuitem>Show Statusbar</guimenuitem> command enables and
    disables displaying the status bar. It may be useful to disable it when
    you are working in
    <link linkend="gimp-view-fullscreen">full-screen mode</link>.
  </para>
  <para>
    You can set the default for the status bar in the
    <link linkend="gimp-prefs-image-window">Image Window Appearance</link>
    dialog.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Show Statusbar</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-shrink-wrap">
  <title>Shrink Wrap</title>

  <indexterm>
    <primary>Shrink Wrap</primary>
  </indexterm>
  <para>
    The <guimenuitem>Shrink Wrap</guimenuitem> command resizes the window
    so that it is exactly the same size as the image at the current
    zoom factor. If the image doesn't completely fit on the screen, the
    image window is enlarged so that the largest possible part of the
    image is shown. Please note that <acronym>GIMP</acronym> will
    do this automatically if you set the <quote>Resize window on zoom</quote>
    and <quote>Resize window on image size change</quote> options in the
    <link linkend="gimp-prefs-image-window">Image Window</link> page of
    the Preferences dialog.
  </para>
  <note>
    <para>
      Please note also that the behavior described here is not performed by
      <acronym>GIMP</acronym> itself, but by the <quote>window
      manager</quote>, a part of the operating system of your computer.
      For that reason, the functionality described may be different on
      your computer, or in the worst case, might not be available at all.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Shrink Wrap</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the keyboard shortcut
          <keycombo><keycap>Ctrl</keycap><keycap>J</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-

<sect2 id="gimp-view-snap-to-canvas">
  <title>Snap to Canvas</title>

  <!-- different title/indexterm spelling intended (for translations) -->
  <indexterm>
    <primary>Canvas</primary>
    <secondary>Snap to canvas</secondary>
  </indexterm>
  <indexterm>
    <primary>Snap to canvas</primary>
  </indexterm>

  <para>
    If this option is enabled, when you move a selection or a layer, they
    appear to pull on the canvas edges when it approaches. This is useful for
    accurate placement of image elements.
  </para>
  <note>
    <para>
      Canvas edges are usually mingled with image edges: the canvas has, then,
      the same size as the image. But you can change canvas size in
      <menuchoice>
        <guimenu>Image</guimenu>
        <guimenuitem>Canvas Size</guimenuitem>
      </menuchoice>.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Snap to Canvas</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-snap-to-grid">
  <title>Snap to Grid</title>

  <indexterm>
    <primary>Grid</primary>
    <secondary>Snap to Grid</secondary>
  </indexterm>
  <indexterm>
    <primary>Snap to Grid</primary>
  </indexterm>

  <para>
    The <guimenuitem>Snap to Grid</guimenuitem> command enables and disables
    snap to grid. When snap to grid is enabled, the grid you set (see
    <link linkend="gimp-view-show-grid">Show Grid</link>) almost seems
    magnetic; when you move a layer or selection, the grid points appear to
    pull on it when it approaches. This is enormously useful for accurate
    placement of image elements.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Snap to Grid</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-snap-to-guides">
  <title>Snap to Guides</title>

  <indexterm>
    <primary>Guides</primary>
    <secondary>Snap to Guides</secondary>
  </indexterm>
  <indexterm>
    <primary>Snap to Guides</primary>
  </indexterm>

  <para>
    The <guimenuitem>Snap to Guides</guimenuitem> command enables and
    disables snap to guides. When snap to guides is enabled, the guides
    you set (see <link linkend="gimp-view-show-guides">Show Guides</link>)
    almost seems magnetic; when you move a layer or selection, the guides
    appear to pull on it when it approaches. This is enormously useful for
    accurate placement of image elements.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Snap to Guides</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-

<sect2 id="gimp-view-snap-to-vectors">
  <title>Snap to Active Path</title>

  <!-- different title/indexterm spelling intended (for translations) -->
  <indexterm>
    <primary>Path</primary>
    <secondary>Snap to active path</secondary>
  </indexterm>
  <indexterm>
    <primary>Snap to active path</primary>
  </indexterm>
  <para>
    If this option is enabled, when you move a selection or a layer, they
    appear to pull on the next anchor point of the active path when it
    approaches. This is useful for accurate placement of image elements.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this command from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guimenuitem>Snap to Path</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-view-zoom">
  <title>Zoom</title>

  <indexterm>
    <primary>Zoom</primary>
  </indexterm>

  <figure>
    <title>
      The <quote>Zoom</quote> submenu of the <quote>View</quote> menu
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/view/zoom.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <guimenuitem>Zoom</guimenuitem>
    submenu contains various commands which affect the magnification of the
    image in the image window (zooming). Enlarging an image (zooming in) is
    useful if you need to work with high precision, making pixel-level image
    modifications or precise selections. On the other hand, reducing an image
    (zooming out) is handy for getting an overall impression of the image and
    seeing the results of changes which affect the entire image. Please note
    that zooming is not undoable, since it does not affect the image data,
    only the way it is displayed.
  </para>
  <tip>
    <para>
      Besides the entries in this submenu, there is also a zoom pull-down menu
      at the bottom edge of the image window (if the
      <link linkend="gimp-view-show-statusbar">status bar</link> is
      displayed), where several preset zoom levels are available.
    </para>
    <para>
      You can also make settings regarding zooming in the
      <link linkend="gimp-navigation-dialog">Navigation dialog</link>. You
      can also use the <link linkend="gimp-tool-zoom">Zoom</link> tool
      which lets you zoom a particular area of the image.
    </para>
  </tip>

  <sect3>
    <title>Activate the Submenu</title>
    <itemizedlist>
      <listitem>
        <para>
          You can access this submenu from the image menubar through
          <menuchoice>
            <guimenu>View</guimenu>
            <guisubmenu>Zoom</guisubmenu>
          </menuchoice>.
          Note that the <quote>Zoom</quote> label on the <quote>View</quote>
          menu shows the current zoom factor, for example,
          <guilabel>Zoom (100%)</guilabel>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Contents of the <quote>Zoom</quote> submenu</title>
    <para>
      The various <quote>Zoom</quote> submenu commands are described below,
      along with their default keyboard shortcuts, if any.
    </para>
    <variablelist>
      <varlistentry>
        <term>Revert Zoom</term>
        <listitem>
          <anchor id="gimp-view-zoom-revert"/>
          <para>
            (Shortcut: <keycap>`</keycap> [grave
            accent,<quote>backtick</quote>]) This command will reset the zoom
            factor to the previous value, which is also shown by this label,
            for example <guilabel>Revert Zoom (100%)</guilabel>. If you never
            changed the zoom factor of the active image, this entry is
            insensitive and grayed out.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Zoom Out</term>
        <listitem>
          <anchor id="gimp-view-zoom-out"/>
          <para>
            (Shortcut: <keycap>-</keycap>)  Each time <quote>Zoom Out</quote>
            is used, the zoom factor is decreased by about 30%.  There is a
            minimum zoom level of 0.39%.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Zoom In</term>
        <listitem>
          <anchor id="gimp-view-zoom-in"/>
          <para>
            (Shortcut: <keycap>+</keycap>)
            Each time <quote>Zoom In</quote> is used, the zoom factor is
            increased by about 30%.  The maximum possible zoom level is
            25600%.
          </para>
          <note>
            <para>
              The keyboard shortcut for <quote>Zoom In</quote> has been
              somewhat controversial because this is a very common operation
              and on English keyboards, the <keycap>Shift</keycap> key must
              be pressed to use it. (This is not the case for European
              keyboards.) If you would like to have a different keyboard
              shortcut, you can create a dynamic shortcut for it; see the
              help section for <link linkend="gimp-prefs-interface">User
              Interface Preferences</link> for instructions.
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fit Image in Window</term>
        <listitem>
          <anchor id="gimp-view-zoom-fit-in" xreflabel="Fit Image in Window"/>
          <para>
            (Shortcut:
            <keycombo>
              <keycap>Shift</keycap>
              <keycap>Ctrl</keycap>
              <keycap>J</keycap>
            </keycombo>).
            This command zooms the image to be as large as possible, while
            still keeping it completely within the window.  There will
            usually be padding on two sides of the image, but not on all
            four sides.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fit Image to Window</term>
        <listitem>
          <anchor id="gimp-view-zoom-fill" xreflabel="Fit Image to Window"/>
          <para>
            This command zooms the image as large as possible without
            requiring any padding to be shown. This means that the image
            fits the window perfectly in one dimension, but usually
            extends beyond the window borders in the other dimension.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>A:B (X%)</term>
        <listitem>
          <anchor id="gimp-view-zoom-100"/>
          <para>
            With these commands, you can select one of the pre-set zoom
            levels. Each of the menu labels gives a ratio, as well as a
            percentage value. Please note that each zoom pre-set has its own
            keyboard shortcut. The current zoom is marked with a large dot.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Other</term>
        <listitem>
          <anchor id="gimp-view-zoom-other"/>
          <para>
            This command brings up a dialog which allows you to choose any
            zoom level you would like, within the range of 1:256 (0.39%) to
            256:1 (25600%).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <tip>
      <para>
        When you are working at the pixel level, you can use the
        <link linkend="gimp-view-new">New view</link> command. This
        allows you to see what is happening to the image at its normal size
        at the same time.
      </para>
    </tip>
  </sect3>
</sect2>
-#-#-
<sect1 id="gimp-view-menu" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The <quote>View</quote> Menu</title>

  <indexterm>
    <primary>Image window</primary>
    <secondary>Menus</secondary>
  </indexterm>

  <xi:include href="view/introduction.xml"/>
  <xi:include href="view/new.xml"/>
  <xi:include href="view/dot-for-dot.xml"/>
  <xi:include href="view/zoom.xml"/>
  <xi:include href="view/shrink-wrap.xml"/>
  <xi:include href="view/fullscreen.xml"/>
  <xi:include href="view/navigwindow.xml"/>
  <xi:include href="view/display-filters.xml"/>
  <xi:include href="view/show-selection.xml"/>
  <xi:include href="view/show-layer-boundary.xml"/>
  <xi:include href="view/show-guides.xml"/>
  <xi:include href="view/show-grid.xml"/>
  <xi:include href="view/show-sample-points.xml"/>
  <xi:include href="view/snap-to-guides.xml"/>
  <xi:include href="view/snap-to-grid.xml"/>
  <xi:include href="view/snap-to-canvas.xml"/>
  <xi:include href="view/snap-to-path.xml"/>
  <xi:include href="view/padding-color.xml"/>
  <xi:include href="view/show-menubar.xml"/>
  <xi:include href="view/show-rulers.xml"/>
  <xi:include href="view/show-scrollbars.xml"/>
  <xi:include href="view/show-statusbar.xml"/>
</sect1>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history:
  2008-12-07 Created by j.h
-->
<sect2 id="gimp-windows-open-recent-dock"
       xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The <quote>Recently Closed Docks</quote> submenu</title>

  <indexterm>
    <primary>Docks</primary>
    <secondary>Recently closed</secondary>
  </indexterm>

  <para>
    This command opens the list of the docks you have closed recently. You can
    reopen them by clicking on their name. Please note that isolated windows
    are not concerned.
  </para>

  <sect3>
    <title>Activating the Command</title>

    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Recently Closed Docks</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

</sect2>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history:
  2008-12-07 Created by j.h
-->
<sect2 id="gimp-windows-show-dock"
       xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The <quote>Dockable Dialogs</quote> submenu</title>

  <indexterm>
    <primary>Docks</primary>
    <secondary>List of dockable dialogs</secondary>
  </indexterm>

  <figure>
    <title>The <quote>Dockable Dialogs</quote> list</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/windows/dockable-dialogs.png"
                   format="PNG" />
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    This command opens the list of the dialog windows you can open and dock.
    Please see <link linkend="gimp-concepts-docks">Dialogs and Docking</link>.
  </para>
  <para>
    All these dialogs are described in
    <link linkend="gimp-dialogs-introduction">Different dialogs
      description</link>.
  </para>

  <sect3>
    <title>Activating the Command</title>
    <para>
      You can access this command from the image menubar through
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Dockable Dialogs</guimenuitem>
      </menuchoice>
    </para>
  </sect3>

</sect2>
-#-#-
<sect1 id="gimp-windows"
xmlns:xi="http://www.w3.org/2001/XInclude">
  <title><quote>Windows</quote> Menu</title>

  <indexterm>
    <primary>Menus</primary>
    <secondary>Windows</secondary>
  </indexterm>

  <para>
    This menu allows you to manage <acronym>GIMP</acronym> windows dialogs:
  </para>
  <para>
    The <quote>Windows</quote> menu name is not well adapted to the new
    single-window mode. Nevertheless, its functions concern multi and single
    modes. Its display may vary according presence or absence of images and
    docks:
  </para>

  <figure>
    <title>Contents of the <quote>Windows</quote> Menu</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/menus/windows.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>Without open images</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/menus/windows/expanded-menu.png"/>
      </imageobject>
      <caption>
        <para>With open images</para>
      </caption>
    </mediaobject>
  </figure>

  <orderedlist>
    <listitem id="gimp-windows-open-recent-dock">
      <para>
        <command>Recently Closed Docks</command>:
        this command opens the list of the docks you have closed recently. You
        can reopen them by clicking on their name. Please note that isolated
        windows are not concerned.
      </para>
      <para>
        For more information about docks, please see
        <link linkend="gimp-concepts-docks">Dialogs and Docking</link>.
      </para>
    </listitem>

    <listitem>
      <para>
        <command>Dockable Dialogs</command>: this command opens the list of
        dockable dialogs. Please refer to <xref linkend="gimp-concepts-docks"/>.
      </para>
    </listitem>

    <listitem id="gimp-raise-toolbox">
      <para>
        <command>Toolbox</command>: clicking on this command or using the
        <keycombo><keycap>Ctrl</keycap><keycap>B</keycap></keycombo> shortcut,
        raises the toolbox usually together with the tool options dock.
      </para>
    </listitem>

    <listitem id="gimp-image-list">
      <para>
        The list of open image windows: clicking on an image name, or using the
        <keycombo><keycap>Alt</keycap><keycap>Number of the
        image</keycap></keycombo> shortcut, makes the image active.
      </para>
    </listitem>

    <listitem id="gimp-windows-show-dock">
      <para>
        The list of open docks: in this list, docks are named with the
        name of the active dialog in this dock. Clicking on a dock name raises
        this dock.
      </para>
    </listitem>

    <listitem id="gimp-windows-hide-docks">
      <para>
        <command>Hide Docks</command> (<keycap>Tab</keycap>): this command hides
        all docks (usually to the left and right of the image), leaving the
        image window alone. The command status is kept on quitting GIMP; then,
        GIMP starts with no dock in multi-window mode, but not in single-window
        mode, although the option is checked!
      </para>
    </listitem>

    <listitem id="gimp-windows-use-single-window-mode">
      <para>
        <command>Single Window Mode</command>: when enabled, GIMP is in a
        single window mode. Please see <xref linkend="single-window-mode"/>.
      </para>
    </listitem>
  </orderedlist>
</sect1>
-#-#-
<sect1 id="gimp-team" lang="en">
  <title>GIMP User Manual Authors and Contributors</title>
  <variablelist>
    <varlistentry>
      <term>Content Writers</term>
      <listitem>
        <simplelist type="inline">
          <member>
            <phrase>Alex MuÃ±ozÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Alexandre FrankeÂ (French)</phrase>
          </member>
          <member>
            <phrase>Alexandre ProkoudineÂ (Russian)</phrase>
          </member>
          <member>
            <phrase>Angelo CÃ³rdoba InunzaÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Christian KirbachÂ (German)</phrase>
          </member>
          <member>
            <phrase>Daniel FrancisÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Daniel MustielesÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Daniel WinzenÂ (German)</phrase>
          </member>
          <member>
            <phrase>Delin ChangÂ (Chinese)</phrase>
          </member>
          <member>
            <phrase>Dimitris SpingosÂ (Greek)</phrase>
          </member>
          <member>
            <phrase>Djavan FagundesÂ (Brasilian)</phrase>
          </member>
          <member>
            <phrase>Enrico NicolettoÂ (Brasilian)</phrase>
          </member>
          <member>
            <phrase>Felipe RibeiroÂ (Brasilian)</phrase>
          </member>
          <member>
            <phrase>Guiu RocafortÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Jiro MatsuzawaÂ (Japanese)</phrase>
          </member>
          <member>
            <phrase>Joe HansenÂ (Danish)</phrase>
          </member>
          <member>
            <phrase>JoÃ£o S. O. BuenoÂ (Brasilian)</phrase>
          </member>
          <member>
            <phrase>Julien HardelinÂ (French, English)</phrase>
          </member>
          <member>
            <phrase>Kenneth NielsenÂ (Danish)</phrase>
          </member>
          <member>
            <phrase>KolbjÃ¸rn StuestÃ¸lÂ (Norwegian)</phrase>
          </member>
          <member>
            <phrase>Marco CiampaÂ (Italian)</phrase>
          </member>
          <member>
            <phrase>MarÃ­a MajadasÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Milagros Infante MonteroÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Milo CasagrandeÂ (Italian)</phrase>
          </member>
          <member>
            <phrase>Piotr DrÄ…gÂ (Polish)</phrase>
          </member>
          <member>
            <phrase>Rafael FerreiraÂ (Brasilian)</phrase>
          </member>
          <member>
            <phrase>RÃ³man JoostÂ (German, English)</phrase>
          </member>
          <member>
            <phrase>Seong-ho ChoÂ (Korean)</phrase>
          </member>
          <member>
            <phrase>SimaMoto,RyÅTa (å³¶æœ¬è‰¯å¤ª)Â (Japanese)</phrase>
          </member>
          <member>
            <phrase>Sven ClaussnerÂ (German, English)</phrase>
          </member>
          <member>
            <phrase>Timo JyrinkiÂ (Finnish)</phrase>
          </member>
          <member>
            <phrase>Ulf-D. EhlertÂ (German)</phrase>
          </member>
          <member>
            <phrase>Vitaly LomovÂ (Russian)</phrase>
          </member>
          <member>
            <phrase>Willer Gomes JuniorÂ (Brasilian)</phrase>
          </member>
          <member>
            <phrase>Yuri MyasoedovÂ (Russian)</phrase>
          </member>
        </simplelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Proof Reading</term>
      <listitem>
        <simplelist type="inline">
          <member>
            <phrase>StÃ©phane PoumaerÂ (French)</phrase>
          </member>
          <member>
            <phrase>Axel WernickeÂ (German, English)</phrase>
          </member>
          <member>
            <phrase>Alessandro FalappaÂ (Italian)</phrase>
          </member>
          <member>
            <phrase>Manuel QuiÃ±onesÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Ignacio AntIÂ (Spanish)</phrase>
          </member>
          <member>
            <phrase>Choi Ji-Hui(ìµœì§€í¬)Â (Korean)</phrase>
          </member>
          <member>
            <phrase>Nickolay V. ShmyrevÂ (Russian)</phrase>
          </member>
          <member>
            <phrase>Albin BernharssonÂ (Swedish)</phrase>
          </member>
          <member>
            <phrase>Daniel NylanderÂ (Swedish)</phrase>
          </member>
          <member>
            <phrase>Patrycja StawiarskaÂ (Polish)</phrase>
          </member>
          <member>
            <phrase>Andrew PitonyakÂ (English)</phrase>
          </member>
          <member>
            <phrase>Jakub FriedlÂ (Czech, English)</phrase>
          </member>
          <member>
            <phrase>Hans De JongeÂ (Dutch)</phrase>
          </member>
          <member>
            <phrase>Raymon Van WanrooijÂ (Dutch)</phrase>
          </member>
          <member>
            <phrase>Semka KuloviÃ¦-DebalsÂ (Croatian)</phrase>
          </member>
          <member>
            <phrase>Sally C. BarryÂ (English)</phrase>
          </member>
          <member>
            <phrase>Daniel EggerÂ (English)</phrase>
          </member>
          <member>
            <phrase>Sven NeumannÂ (English, German)</phrase>
          </member>
          <member>
            <phrase>Domingo StephanÂ (German)</phrase>
          </member>
          <member>
            <phrase>Thomas LotzeÂ (German)</phrase>
          </member>
          <member>
            <phrase>Thomas GÃ¼ttlerÂ (German)</phrase>
          </member>
          <member>
            <phrase>Zhong YaotangÂ (Chinese)</phrase>
          </member>
          <member>
            <phrase>Calum MackayÂ (English)</phrase>
          </member>
          <member>
            <phrase>Thomas S LendoÂ (German)</phrase>
          </member>
          <member>
            <phrase>Mel Boyce (syngin)Â (English)</phrase>
          </member>
          <member>
            <phrase>Oliver Ellis (Red Haze)Â (English)</phrase>
          </member>
          <member>
            <phrase>Markus ReinhardtÂ (German)</phrase>
          </member>
          <member>
            <phrase>Alexander WeiherÂ (German)</phrase>
          </member>
          <member>
            <phrase>Michael HÃ¶lzenÂ (German)</phrase>
          </member>
          <member>
            <phrase>Raymond OstertagÂ (French)</phrase>
          </member>
          <member>
            <phrase>CÃ©dric GÃ©myÂ (French)</phrase>
          </member>
          <member>
            <phrase>SÃ©bastien BarreÂ (French)</phrase>
          </member>
          <member>
            <phrase>Niklas MattisonÂ (Swedish)</phrase>
          </member>
          <member>
            <phrase>Daryl LeeÂ (English)</phrase>
          </member>
          <member>
            <phrase>William SkaggsÂ (English)</phrase>
          </member>
          <member>
            <phrase>Cai Qian (è”¡èŠŠ)Â (Chinese)</phrase>
          </member>
          <member>
            <phrase>Yang Hong (æ¨çº¢)Â (Chinese)</phrase>
          </member>
          <member>
            <phrase>XcealsÂ (Chinese)</phrase>
          </member>
          <member>
            <phrase>Eric LamarqueÂ (Chinese)</phrase>
          </member>
          <member>
            <phrase>Robert van DrunenÂ (Dutch)</phrase>
          </member>
          <member>
            <phrase>Marco MaregaÂ (Italian)</phrase>
          </member>
          <member>
            <phrase>Mike VargasÂ (Italian)</phrase>
          </member>
          <member>
            <phrase>Andrea ZitoÂ (Italian)</phrase>
          </member>
          <member>
            <phrase>Karine DelvareÂ (French)</phrase>
          </member>
          <member>
            <phrase>David 'Ilicz' KlementaÂ (Czech)</phrase>
          </member>
          <member>
            <phrase>Jan SmithÂ (English)</phrase>
          </member>
          <member>
            <phrase>Adolf GeroldÂ (German)</phrase>
          </member>
          <member>
            <phrase>Roxana ChernogolovaÂ (Russian)</phrase>
          </member>
          <member>
            <phrase>Grigory BakunovÂ (Russian)</phrase>
          </member>
          <member>
            <phrase>Oleg FritzÂ (Russian)</phrase>
          </member>
          <member>
            <phrase>Mick CurtisÂ (English)</phrase>
          </member>
          <member>
            <phrase>Vitaly LomovÂ (Russian)</phrase>
          </member>
          <member>
            <phrase>Pierre PERRIERÂ (French)</phrase>
          </member>
          <member>
            <phrase>Oliver HeesakkeÂ (Dutch)</phrase>
          </member>
          <member>
            <phrase>Susanne SchmidtÂ (English, German)</phrase>
          </member>
          <member>
            <phrase>BenÂ (German)</phrase>
          </member>
          <member>
            <phrase>Daniel HornungÂ (English)</phrase>
          </member>
          <member>
            <phrase>Sven ClaussnerÂ (English, German)</phrase>
          </member>
        </simplelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Graphics, Stylesheets</term>
      <listitem>
        <simplelist type="inline">
          <member>
            <phrase>Jakub Steiner</phrase>
          </member>
          <member>
            <phrase>Ã˜yvind KolÃ¥s</phrase>
          </member>
        </simplelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Build System, Technical Contributions</term>
      <listitem>
        <simplelist type="inline">
          <member>
            <phrase>Kenneth Nielsen</phrase>
          </member>
          <member>
            <phrase>RÃ³man Joost</phrase>
          </member>
          <member>
            <phrase>Axel Wernicke</phrase>
          </member>
          <member>
            <phrase>Nickolay V. Shmyrev</phrase>
          </member>
          <member>
            <phrase>Daniel Egger</phrase>
          </member>
          <member>
            <phrase>Sven Neumann</phrase>
          </member>
          <member>
            <phrase>Michael Natterer (mitch)</phrase>
          </member>
          <member>
            <phrase>Henrik Brix Andersen (brix)</phrase>
          </member>
          <member>
            <phrase>Thomas Schraitle</phrase>
          </member>
          <member>
            <phrase>Chris HÃ¼bsch</phrase>
          </member>
          <member>
            <phrase>Anne Schneider</phrase>
          </member>
          <member>
            <phrase>Peter Volkov</phrase>
          </member>
          <member>
            <phrase>Daniel Richard</phrase>
          </member>
        </simplelist>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>
-#-#-
<sect2 id="gimp-tool-brightness-contrast">
  <title>Brightness-Contrast</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Brightness-Contrast</secondary>
  </indexterm>

  <para>
    The Brightness-Contrast tool adjusts the brightness and contrast levels
    for the active layer or selection. This tool is easy to use, but
    relatively unsophisticated. The Levels and Curve tools allow you to make
    the same types of adjustments, but also give you the ability to treat
    bright colors differently from darker colors. Generally speaking, the BC
    tool is great for doing a "quick and dirty" adjustment in a few seconds,
    but if the image is important and you want it to look as good as possible,
    you will use one of the other tools.
  </para>
  <para>
    In GIMP 2.4, a new way of operating this tool has been added: by
    clicking the mouse inside the image, and dragging while keeping the
    left mouse button down. Moving the mouse vertically changes the
    brightness; moving horizontally changes the contrast. When you are
    satisfied with the result, you can either press the
    <guilabel>OK</guilabel> button on the dialog, or hit the
    <keycap>Return</keycap> key on your keyboard.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can get to the Brightness-Contrast tool in two ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          In the image-menu through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Brightness-Contrast</guimenuitem>
          </menuchoice> or
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Brightness-Contrast</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-brightness-contrast-22.png"/>
          </guiicon>
          in Toolbox, provided that you have installed color tools in Toolbox.
          For this, please refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Brightness-Contrast options dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tools-brightness.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Presets</term>
        <listitem>
          <para>
            You can save the color settings of your image by clicking the
            <guibutton>Add settings to favourites</guibutton> button
            <guiicon>
              <inlinegraphic fileref="images/toolbox/save-color-settings.png"/>
            </guiicon>
          </para>
          <para>
            The
            <guiicon>
              <inlinegraphic fileref="images/toolbox/presets-menu-icon.png"/>
            </guiicon>
            button opens a menu:
          </para>
          <figure>
            <title>Preset Menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/presets-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            which lets you <guilabel>Import Settings from File</guilabel> or
            <guilabel>Export Settings to File</guilabel>,
            and gives you access to the Manage Save Settings dialog:
          </para>
          <figure>
            <title>Manage saved Settings Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/manage-saved-settings.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Brightness</term>
        <listitem>
          <para>
            This slider sets a negative (to darken) or positive (to brighten)
            value for the brightness, decreasing or increasing bright tones.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Contrast</term>
        <listitem>
          <para>
            This slider sets a negative (to decrease) or positive (to
            increase) value for the contrast.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edit these settings as Levels</term>
        <listitem>
          <para>
            To make your work easier, this button lets you turn to the
            <link linkend="gimp-tool-levels">Levels</link> tool with the same
            settings.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview check-box makes all changes to the brightness and
            contrast dynamically so that the new level settings can be viewed
            immediately.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-color-balance">
  <title>Color Balance</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Color Balance</secondary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Color Balance</secondary>
  </indexterm>
  <indexterm>
    <primary>Color Balance</primary>
  </indexterm>
  <para>
    The color balance tool modifies the color balance of the active selection
    or layer. Changes are not drastic. This tool is suitable to correct
    predominant colors in digital photos.
  </para>
  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can get to the Color balance tool in several ways :
    </para>
    <itemizedlist>
      <listitem>
        <para>
          In the image-menu through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Color Balance</guimenuitem>
          </menuchoice>, or
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Color Balance</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                  fileref="images/toolbox/stock-tool-color-balance-22.png"/>
          </guiicon>
          in Toolbox, provided that you have installed color tools in Toolbox.
          For this, please refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Color Balance options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tools-color-balance.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Presets</term>
        <listitem>
          <para>
            You can save the color settings of your image by clicking the
            <guibutton>Add settings to favourites</guibutton> button
            <guiicon>
              <inlinegraphic fileref="images/toolbox/save-color-settings.png"/>
            </guiicon>
          </para>
          <para>
            The
            <guiicon>
              <inlinegraphic fileref="images/toolbox/presets-menu-icon.png"/>
            </guiicon>
            button opens a menu:
          </para>
          <figure>
            <title>Preset Menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/presets-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            which lets you <guilabel>Import Settings from File</guilabel> or
            <guilabel>Export Settings to File</guilabel>,
            and gives you access to the Manage Save Settings dialog:
          </para>
          <figure>
            <title>Manage saved Settings Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/manage-saved-settings.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Select range to adjust</term>
        <listitem>
          <para>
            Selecting one of these options will restrict the range of colors
            which are changed with the sliders or input boxes for Shadows
            (darkest pixels), Midtones (medium pixels) and Highlights
            (brightest pixels).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Adjust color levels</term>
        <listitem>
          <para>
            Sliders and range from the three RGB colors to their
            complementary colors (CMY). The zero position corresponds to
            the current level value of pixels in the original image. You can
            change the pixel color either towards Red or Cyan, Green or
            Magenta, Blue or Yellow.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reset Range</term>
        <listitem>
          <para>
             This button sets color levels of the selected range back to
             the zero position (original values).
           </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preserve Luminosity</term>
        <listitem>
          <para>
             This option ensures that brightness of the active layer or
             selection is maintained. The Value of brightest pixels is not
             changed.
           </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
             The Preview checkbox toggles dynamic image updating. If this
             option is on, any change made to the RGB levels are immediately
             seen on the active selection or layer.
           </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-colorize">
  <title>Colorize</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Colorize</secondary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Colorize</secondary>
  </indexterm>
  <indexterm>
    <primary>Colorize</primary>
  </indexterm>

  <para>
    The Colorize tool renders the active layer or selection into a greyscale
    image seen through a colored glass. You can use it to give a
    <quote>Sepia</quote> effect to your image. See
    <xref linkend="glossary-colormodel"/> for Hue, Saturation, Luminosity.
  </para>

  <sect3>
    <title>Activating tool</title>
    <para>
      You can get to the Colorize tool in two ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          In the image-menu through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Colorize</guimenuitem>
          </menuchoice>
          or
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Colorize</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                  fileref="images/toolbox/stock-tool-colorize-22.png"/>
          </guiicon>
          in Toolbox, provided that you have installed color tools in Toolbox.
          For this, please refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Colorize options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tools-colorize.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Presets</term>
        <listitem>
          <para>
            You can save the color settings of your image by clicking the
            <guibutton>Add settings to favourites</guibutton> button
            <guiicon>
              <inlinegraphic fileref="images/toolbox/save-color-settings.png"/>
            </guiicon>
          </para>
          <para>
            The
            <guiicon>
              <inlinegraphic fileref="images/toolbox/presets-menu-icon.png"/>
            </guiicon>
            button opens a menu:
          </para>
          <figure>
            <title>Preset Menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/presets-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            which lets you <guilabel>Import Settings from File</guilabel> or
            <guilabel>Export Settings to File</guilabel>,
            and gives you access to the Manage Save Settings dialog:
          </para>
          <figure>
            <title>Manage saved Settings Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/manage-saved-settings.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Select Color</term>
        <listitem>
          <itemizedlist>
            <listitem>
              <para><guilabel>Hue</guilabel>:
                The slider and the numeric text box allow you to select a hue
                in the HSV color circle (0 - 360).
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Saturation</guilabel>:
                The slider and the input box allows you to select a
                saturation: 0 through 100.
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Lightness</guilabel> :
                The slider and the text box allow you to select a value:
                -100 (dark) through 100 (light).
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview button makes all changes dynamically so that they can
            be viewed immediately.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-curves">
  <title>Curves</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Curves</secondary>
  </indexterm>
  <indexterm>
    <primary>Curves</primary>
  </indexterm>

  <para>
    The Curves tool is the most sophisticated tool for changing the color,
    brightness, contrast or transparency of the active layer or a selection.
    While the Levels tool allows you to work on Shadows and Highlights, the
    Curves tool allows you to work on any tonal range. It works on RGB
    images.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>You can get to this tool in several ways:</para>
    <itemizedlist>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Curves</guimenuitem>
          </menuchoice> or
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Curves</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the tool icon
          <guiicon>
            <inlinegraphic
                  fileref="images/toolbox/stock-tool-curves-22.png"/>
          </guiicon>
          in Toolbox, if this tool has been installed there. For this, please
          refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title><quote>Adjust Color Curves</quote> options</title>
    <figure>
      <title>The <quote>Adjust Color Curves</quote> dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tools-curves.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Presets</term>
        <listitem>
          <para>
            You can save the color settings of your image by clicking the
            <guibutton>Add settings to favourites</guibutton> button
            <guiicon>
              <inlinegraphic fileref="images/toolbox/save-color-settings.png"/>
            </guiicon>
          </para>
          <para>
            The
            <guiicon>
              <inlinegraphic fileref="images/toolbox/presets-menu-icon.png"/>
            </guiicon>
            button opens a menu:
          </para>
          <figure>
            <title>Preset Menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/presets-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            which lets you <guilabel>Import Settings from File</guilabel> or
            <guilabel>Export Settings to File</guilabel>,
            and gives you access to the Manage Save Settings dialog:
          </para>
          <figure>
            <title>Manage saved Settings Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/manage-saved-settings.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Channel</term>
        <listitem>
          <variablelist>
            <para>There are five options:</para>
            <varlistentry>
              <term>Value</term>
              <listitem>
                <para>
                  The curve represents the Value, i.e. the brightness of
                  pixels as you can see them in the composite image.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Red; Green; Blue</term>
              <listitem>
                <para>
                  The curve represents the quantity of color in each of the
                  three RGB channels. Here, <emphasis>dark</emphasis> means
                  <emphasis>little</emphasis> of the color.
                  <emphasis>Light</emphasis> means <emphasis>a lot</emphasis>
                  of the color.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Alpha</term>
              <listitem>
                <para>
                  The curve represents the opacity of the pixels.
                  <emphasis>Dark</emphasis> means
                  <emphasis>very transparent</emphasis>.
                  <emphasis>Light</emphasis> means <emphasis>very
                  opaque</emphasis>. Your image or active layer must have
                  an Alpha channel for this option to be enabled.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reset Channel</term>
        <listitem>
          <para>
            This button deletes all changes made to the selected channel and
            returns to default values.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Linear and Logarithmic buttons</term>
        <listitem>
          <para>
            These buttons allow to choose the Linear or Logarithmic type of
            the histogram. You can also use the same options in Tool Options
            dialog. This grayed out histogram is not displayed by default.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Main Editing Area</term>
        <listitem>
          <itemizedlist>
            <listitem>
              <para>
                <emphasis>The horizontal gradient</emphasis>: it represents
                the input tonal scale. It, too, ranges from 0 (black) to 255
                (white), from Shadows to Highlights. When you
                adjust the curve, it splits up into two parts; the upper part
                then represents the <emphasis>tonal balance</emphasis> of the
                layer or selection.
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>The vertical gradient</emphasis>: it represents the
                destination, the output tonal scale. It ranges from 0 (black)
                to 255 (white), from Shadows to Highlights.
              </para>
            </listitem>
            <listitem>
              <para>
                <emphasis>The chart</emphasis>: the curve is drawn on a grid
                and goes from the bottom left corner to the top right corner.
                The pointer x/y position is permanently displayed in the top
                left part of the grid. By default, this curve is straight,
                because every input level corresponds to the same
                ouput tone. GIMP automatically places an anchor at both
                ends of the curve, for black (0) and white (255).
              </para>
              <para>
                If you click on the curve, a new <emphasis>anchor</emphasis>
                is created. When the mouse pointer goes over an anchor, it
                takes the form of a small hand. You can
                click-and-drag the anchor to bend the curve. If you click
                outside of the curve, an anchor is also created, and the
                curve includes it automatically.
              </para>
              <para>
                Unactive anchors are black. The active anchor is white. You
                can activate an anchor by clicking on it. You can also swap
                the anchor activation by using the Left and Right arrow keys
                of your keyboard. You can move the anchor vertically with the
                Up and Down arrow keys. This allows you to fine tune the
                anchor position. Holding the <keycap>Shift</keycap> down lets
                you move it by increments of 15 pixels.
              </para>
              <para>
                Two anchors define a <emphasis>curve segment</emphasis> which
                represents a tonal range in the layer. You can click-and-drag
                this segment (this creates a new anchor). Of course, you
                can't drag it beyond the end anchors.
              </para>
              <para>
                To delete all anchors (apart from both ends), click on the
                <guilabel>Reset Channel</guilabel> button. To delete only one
                anchor, move beyond any adjacent anchor on horizontal axis.
              </para>
              <para>
                Meanwhile, on the canvas, the mouse pointer has the form of
                an eye-dropper. If you click on a pixel, a vertical line
                appears on the chart, positioned to the source value of this
                pixel in the selected channel. If you
                <keycap>Shift</keycap>-click, you create an anchor in the
                selected channel. If you <keycap>Ctrl</keycap>-click, you
                create an anchor in all channels, possibly including the
                Alpha channel. You can also <keycap>Shift</keycap>-drag and
                <keycap>Ctrl</keycap>-drag: this
                will move the vertical line and the anchor will show up when
                releasing the mouse left button.
              </para>
              <para>
                The histogram of the active layer or selection for the
                selected channel is represented grayed out in the chart. It's
                only a reference.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Curve type</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Smooth</term>
              <listitem>
                <para>
                  This the default mode. It constrains the curve type to a
                  smooth line with tension. It provides a more realistic
                  render than the following.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Free Hand</term>
               <listitem>
                 <para>
                   With this mode, you can draw a broken line that you can
                   smooth by clicking the <guibutton>Curve Type</guibutton>
                   button again.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview button makes all changes to the levels dynamically so
            that the new level settings can be viewed immediately.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Tool Options dialog</title>
      <para>
        Although this tool is not present in the Toolbox by default (For this,
        please refer to <xref linkend="gimp-prefs-toolbox"/> if you want to add
        it), nevertheless it has a Tool Option Dialog under the Toolbox. These
        options are described here:
      </para>
      <varlistentry>
        <term>Histogram Scale</term>
        <listitem>
          <para>
            These two options have the same action as the Logarithmic
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-histogram-logarithmic-16.png"/>
            </guiicon>
            and Linear
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-histogram-linear-16.png"/>
            </guiicon>
            buttons in the Curves dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sample Average</term>
        <listitem>
          <para>
            This slider sets the <quote>radius</quote> of the color-picking
            area. This area appears as a more or less enlarged square when you
            maintain the click on a pixel. Here, the eye-dropper is used to
            locate a pixel: radius = 1 seems the best.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Using the <quote>Curves</quote> tool</title>

    <sect4>
      <title>Summary and basic shapes</title>

      <para>
        We create anchors and segments on the curve and we move them to
        shape the curve. This curve maps <quote>input</quote> tones of
        the active layer or selection to <quote>output</quote> tones.
      </para>

      <simplesect role="NotInToc">
        <title>How the Curves tool works</title>

        <para>
          Moving the anchor of a pixel upwards makes this pixel brighter.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/toolbox/curves-work.png" format="PNG"/>
          </imageobject>
          <caption>
            <para lang="en">Moving the anchor upwards</para>
          </caption>
        </mediaobject>
      </simplesect>

      <simplesect role="NotInToc">
        <title>Making the curve more horizontal</title>

        <para>
          Making the curve more horizontal forces all the input tonal range to
          occupy a shrunk output tonal range.
        </para>
        <para>
          The histogram shows the compression of pixels into the output range.
          Darkest and brightest pixels disappeared: contrast decreases.
        </para>
        <figure>
          <title>Making the curve more horizontal</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/toolbox/curves-horiz-1.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>Make the curve more horizontal</para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/toolbox/curves-horiz-2.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>The resulting histogram</para>
            </caption>
          </mediaobject>
        </figure>
      </simplesect>

      <simplesect role="NotInToc">
        <title>Making the curve more vertical</title>

        <para>
          Moving the upper end point to the left and the lower end point to
          the right is the same as moving the white slider to the left and the
          black slider to the right in the Levels tool: all pixels whose value
          is more than the white point (the flat part of the curve) are made
          white (more colored / more opaque according to the selected
          channel). All pixels whose value is less than the black point (the
          lower flattened curve) are made black (black / completely
          transparent). Pixels corresponding to points of the curve that have
          moved up are made lighter. Pixels corresponding to points of the
          curve that have moved down are made darker (green arrows). All
          these pixels will be extended to the whole output tonal range.
        </para>
        <para>
          The histogram shows the extension of values, from black (0) to White
          (255): contrast is increased. Since the Value channel is selected,
          changes affect all color channels and colors increase.
        </para>
        <figure>
          <title>Making the curve more vertical</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/toolbox/curves-vert-1.png"/>
            </imageobject>
            <caption>
              <para>Make the curve more vertical</para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/toolbox/curves-vert-2.png"/>
            </imageobject>
            <caption>
              <para>Result and its histogram</para>
            </caption>
          </mediaobject>
        </figure>
      </simplesect>
    </sect4>

    <sect4>
      <title>Practical cases</title>

      <simplesect role="NotInToc">
        <title>Invert colors</title>

        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/toolbox/curves-invert.png"/>
          </imageobject>
          <caption>
            <para>Inverted curve</para>
          </caption>
        </mediaobject>
        <para>
          Black is made White (fully colored / fully opaque). White is made
          black (black, fully transparent). All pixels adopt the complementary
          color. Why that? Because subtracting the channel values from 255
          gives the complementary color. For example: 19;197;248 a sky blue
          gives 255-19; 255-197; 255-248 = 236;58;7, a bright red.
        </para>
      </simplesect>

      <simplesect role="NotInToc">
        <title>Enhance contrast</title>

        <mediaobject>
          <imageobject>
            <imagedata fileref="images/toolbox/curves-H-S.png" format="PNG"/>
          </imageobject>
          <caption>
            <para>Contrast enhanced</para>
          </caption>
        </mediaobject>
        <para>
          Contrast is increased in mid tones because the curve is steeper
          there. Highlights and Shadows are increased but contrast is slightly
          less in these areas because the curve is flatter.
        </para>
      </simplesect>

      <simplesect role="NotInToc">
        <title>Working on color channels</title>

        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/toolbox/curves-lighten-1.png"/>
          </imageobject>
        </mediaobject>
        <para>
          For every channel, we moved the white point horizontally to the
          left, to the first Highlights. This lightens Highlights up. Then we
          shaped the curve to lighten Mid tons and Shadows while keeping
          black.
        </para>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/toolbox/curves-lighten-2.png"/>
          </imageobject>
          <caption>
            <para>The original image and the result</para>
          </caption>
        </mediaobject>
      </simplesect>
    </sect4>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-desaturate">
  <title>Desaturate</title>
  <indexterm>
    <primary>Colors</primary>
    <secondary>Convert to gray scale</secondary>
  </indexterm>
  <indexterm>
    <primary>Desaturate</primary>
  </indexterm>
  <para>
    By using the <guimenuitem>Desaturate</guimenuitem> command, you can
    convert all of the colors on the active layer to corresponding shades
    of gray. This differs from converting the image to grayscale in two
    respects. First, it only operates on the active layer and second,
    the colors on the layer are still RGB values with three components. This
    means that you can paint on the layer, or individual parts of it,
    using color at a later time.
  </para>

  <note>
    <para>
      This command only works on layers of
      <link linkend="glossary-rgb">RGB</link> images. If the image is in
      Grayscale or Indexed mode, it can do nothing.
    </para>
  </note>

  <sect3>
    <title>Activating the Command</title>
    <para>You can get to this tools in several ways:</para>
    <itemizedlist>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Desaturate</guimenuitem>
          </menuchoice> or
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Desaturate</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon
          <guiicon>
            <inlinegraphic
                  fileref="images/toolbox/stock-convert-grayscale-16.png"/>
          </guiicon>
          in Toolbox, if this tool has been installed there.For this, please
          refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>The <quote>Desaturate</quote> option dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/desaturate.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>Three options are available:</para>
    <variablelist>
      <title>Choose shade of gray based on</title>
      <varlistentry>
        <term>Lightness</term>
        <listitem>
          <para>The graylevel will be calculated as</para>
          <informalequation>
            <mediaobject>
              <textobject>
                <phrase>
                  Lightness = &frac12; &times; (max(R,G,B) + min(R,G,B))
                </phrase>
              </textobject>
            </mediaobject>
          </informalequation>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-tool-desaturate-luminosity">
        <term>Luminosity</term>
        <listitem>
          <para>The graylevel will be calculated as</para>
          <informalequation>
            <mediaobject>
              <textobject>
                <phrase>
                  Luminosity = 0.21 &times; R +
                               0.72 &times; G +
                               0.07 &times; B
                </phrase>
              </textobject>
            </mediaobject>
          </informalequation>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Average</term>
        <listitem>
          <para>The graylevel will be calculated as</para>
          <informalequation>
            <mediaobject>
              <textobject>
                <phrase>Average Brightness = (R + G + B) &divide; 3</phrase>
              </textobject>
            </mediaobject>
          </informalequation>
        </listitem>
      </varlistentry>
    </variablelist>
    <figure>
      <title>Comparing the three options</title>
      <mediaobject>
        <imageobject>
          <!--was: "images/menus/sunflower.png"-->
          <imagedata format="PNG"
            fileref="images/toolbox/colors-desaturate-orig.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/colors-desaturate-brightness.png"/>
        </imageobject>
        <caption>
          <para><quote>Lightness</quote> applied</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/colors-desaturate-luminosity.png"/>
        </imageobject>
        <caption>
          <para>
            <quote>Luminosity</quote> applied.
            <!-- The result is brighter. -->
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/colors-desaturate-average.png"/>
        </imageobject>
        <caption>
          <para>
            <quote>Average</quote> applied.
            <!-- The result is in between Brightness and Luminosity. -->
          </para>
        </caption>
      </mediaobject>
      <!-- XXX:
        The conclusions above are true only for this special example;
        e.g. try
        lightness vs. luminosity with (0, 255, 0) or (0, 0, 255),
        lightness vs. average with (255, 255, 0) or (255, 0, 0).
      -->
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-hue-saturation">
  <title>Hue-Saturation</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Hue-Saturation</secondary>
  </indexterm>
  <indexterm>
    <primary>Hue-Saturation</primary>
  </indexterm>

  <para>
    The Hue-Saturation tool is used to adjust hue, saturation and lightness
    levels on a range of color weights for the selected area or active layer.
  </para>
  <sect3>
    <title>Activating the Tool</title>
    <para>You can get to the Hue-Saturation tool in two ways :</para>
    <itemizedlist>
      <listitem>
        <para>
          In the image-menu through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Hue-Saturation</guimenuitem>
          </menuchoice>, or
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Hue-Saturation</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the tool icon:
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-hue-saturation-22.png"/>
          </guiicon>
          in Toolbox, provided that you have installed color tools in Toolbox.
          For this, please refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Hue-Saturation tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tools-hue-sat.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Presets</term>
        <listitem>
          <para>
            You can save the color settings of your image by clicking the
            <guibutton>Add settings to favourites</guibutton> button
            <guiicon>
              <inlinegraphic fileref="images/toolbox/save-color-settings.png"/>
            </guiicon>
          </para>
          <para>
            The
            <guiicon>
              <inlinegraphic fileref="images/toolbox/presets-menu-icon.png"/>
            </guiicon>
            button opens a menu:
          </para>
          <figure>
            <title>Preset Menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/presets-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            which lets you <guilabel>Import Settings from File</guilabel> or
            <guilabel>Export Settings to File</guilabel>,
            and gives you access to the Manage Save Settings dialog:
          </para>
          <figure>
            <title>Manage saved Settings Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/manage-saved-settings.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Select Primary Color to Adjust</term>
        <listitem>
          <para>
            You can choose, between six, the three primary colors (Red,
            Green and Blue) and the three complementary colors (Cyan,
            Magenta and Yellow), the color to be modified. They are
            arranged according to the color circle. When hue increases, hue
            goes counter-clockwise. When it decreases, it goes clockwise. If
            you click on the <guilabel>Master</guilabel> button, all colors
            will be concerned with changes. GIMP standard is to set Red as 0.
            Note that this colors refer to color ranges and not to color
            channels.
          </para>
          <para>
            Hue changes are shown in color swatches and the result is visible
            in the image if the <quote>Preview</quote> option is enabled.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Overlap</term>
        <listitem>
          <para>
            This slider lets you set how much color ranges will overlap. This
            effect is very subtle and works on very next colors only:
          </para>
          <figure>
            <title>
              Example for the <quote>Overlap</quote> option
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/hue-sat-overlap-1.png"/>
              </imageobject>
              <caption>
                <para>
                  <emphasis>Original image</emphasis>. From the
                  left to the right: a reddish yellow (255;240;0); a pure
                  yellow (255;255;0); a greenish yellow (240;255;0).
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/hue-sat-overlap-2.png"/>
              </imageobject>
              <caption>
                <para>
                  <emphasis>Overlap = 0</emphasis>. Hue = 15.
                  Colors become (186;255;1), (168;255;1), (156;255;1).
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/hue-sat-overlap-3.png"/>
              </imageobject>
              <caption>
                <para>
                  <emphasis>Overlap = 100</emphasis>. Hue = 15.
                  Colors become (192;255;1), (168;255;1), (162;255;1).
                  Because of overlap, greenish is less green and reddish is
                  less red.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Adjust Selected Color</term>
        <listitem>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Hue</guilabel>:
                The slider and the input box allow you to select a hue in
                the color circle (-180, 180).
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Lightness</guilabel>:
                The slider and the input box allow you to select a value
                (luminosity): -100, 100.
              </para>
              <note>
                <para>
                  Lightness changes here concern a color range, while they
                  concern a color tone with Curves and Levels tools, which
                  work on color channels. If you change the Yellow lightness
                  with Hue-Saturation, all yellow pixels will be changed,
                  while only dark, bright or medium pixels luminosity will
                  be changed with Curves or Levels tools.
                </para>
              </note>
            </listitem>
            <listitem>
              <para>
                <guilabel>Saturation</guilabel>:
                The slider and the input box allow you to select a
                saturation: -100, 100.
              </para>
            </listitem>
          </itemizedlist>
          <para>
            The <guilabel>Initialize Color</guilabel>
            button deletes changes to hue, lightness and saturation of the
            selected color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview button makes all changes dynamically so that they can
            be viewed straight away.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-levels">
  <title>Levels</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Levels</secondary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Adjust level colors</secondary>
  </indexterm>
  <indexterm>
    <primary>Levels tool</primary>
  </indexterm>
  <indexterm>
    <primary>Values</primary>
  </indexterm>
  <indexterm>
    <primary>Gamma</primary>
  </indexterm>
  <indexterm>
    <primary>Black point</primary>
  </indexterm>
  <indexterm>
    <primary>White point</primary>
  </indexterm>

  <para>
    The Level tool provides features similar to the
    <link linkend="gimp-histogram-dialog">Histogram</link> dialog but can also
    change the intensity range of the active layer or selection in every
    channel. This tool is used to make an image lighter or darker, to change
    contrast or to correct a predominant color cast.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <itemizedlist>
      <para>You can get to this tools in several ways:</para>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Levels</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Levels</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the tool icon
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-levels-22.png"/>
          </guiicon>
          in the toolbox if this tool has been installed there. For this, please
          refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Level tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tools-levels.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Presets</term>
        <listitem>
          <para>
            You can save the color settings of your image by clicking the
            <guibutton>Add settings to favourites</guibutton> button
            <guiicon>
              <inlinegraphic fileref="images/toolbox/save-color-settings.png"/>
            </guiicon>
          </para>
          <para>
            The
            <guiicon>
              <inlinegraphic fileref="images/toolbox/presets-menu-icon.png"/>
            </guiicon>
            button opens a menu:
          </para>
          <figure>
            <title>Preset Menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/presets-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            which lets you <guilabel>Import Settings from File</guilabel> or
            <guilabel>Export Settings to File</guilabel>,
            and gives you access to the Manage Save Settings dialog:
          </para>
          <figure>
            <title>Manage saved Settings Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/manage-saved-settings.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Channel</term>
        <listitem>
          <para>
            You can select the specific channel which will be modified by the
            tool:
            <itemizedlist>
              <listitem>
                <para>
                  <guilabel>Value</guilabel> makes changes to the value of
                  all RGB channels in the image: the image becomes darker or
                  lighter.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Red</guilabel>, <guilabel>Green</guilabel> and
                  <guilabel>Blue</guilabel> work on a particular color
                  channel: the image gets more or less color. Remember that
                  adding or removing a color result in removing or adding
                  the complementary color
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Alpha</guilabel> works on semi-transparent layers
                  or selections: here, dark means more transparency, and
                  white is fully opaque. Your image must have an Alpha
                  Channel, otherwise this option is disabled.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Initialize channel</guilabel> cancels changes to
                  the selected channel.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Input Levels</term>
        <listitem>
          <para>
            The main area is a graphic representation of the active layer or
            selection dark (Shadows), mid and light (Highlight)tones content
            (the Histogram). They are on abscissa from level 0 (black) to
            level 255 (white). Pixel number for a level is
            on ordinate axis. The curve surface represents all the pixels of
            the image for the selected channel. A well balanced image is an
            image with levels (tones) distributed all over the whole range.
            An image with a blue predominant color, for example, will produce
            a histogram shifted to the left in Green and Red channels,
            signified by green and red lacking on highlights.
          </para>
          <para>
            Level ranges can be modified in three ways:
          </para>
          <itemizedlist mark="opencircle">
            <listitem>
              <para>
                Three triangles as sliders: one black for dark tones
                (Shadows), one grey for midtones (Gamma), one white for light
                (Highlights) tones.
              </para>
              <para>
                The black slider determines the <emphasis>black point
                </emphasis>: all pixels with this value or less
                will be black (no color with a color channel selected /
                transparent with the Alpha channel selected).
              </para>
              <para>
                The white slider determines the <emphasis>white point
                </emphasis>: all pixels with this value or
                higher, will be white (fully colored with a color channel
                selected / fully opaque with the Alpha channel selected).
              </para>
              <para>
                The gray slider determines the <emphasis>mid point</emphasis>.
                Going to the left, to the black, makes the image lighter
                (more colored / more opaque) . Going to the right, to the
                white, makes the image darker (less colored / more
                transparent).
              </para>
            </listitem>
            <listitem>
              <para>
                Two eye-droppers: when you click them, the mouse pointer
                becomes an eye-dropper. Then clicking on the image determines
                the black or the white point according to the chosen
                eye-dropper. Use the left, dark one
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-color-picker-black-18.png"/>
                </guiicon>
                to determine the black-point; use the right, white one
                <guiicon>
                  <inlinegraphic
                    fileref="images/dialogs/stock-color-picker-white-18.png"/>
                </guiicon>
                to determine the white point.
              </para>
            </listitem>
            <listitem>
              <para>
                Three numeric text boxes to enter values directly.
              </para>
            </listitem>
          </itemizedlist>

          <!-- summary -->
          <para>
            Input Levels are used to lighten highlights (bright tones),
            darken shadows (dark tones), change the balance of bright and
            dark tones. Move sliders to the left to increase lightness
            (increase the chosen color / increase opacity). Move the sliders
            to the right to lessen lightness (lessen the chosen color /
            lessen opacity).
          </para>

          <orderedlist>
            <title>Examples for Input Levels</title>
            <para>
              The original image is a gray-scaled image with three stripes:
              Shadows (64), Mid Tones (127), Highlights (192). The histogram
              shows three peaks, one for each of the three tones.
            </para>
            <!--TODO: cf. images/de/toolbox/levels-input-1.png-->
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/levels-input-1.png" />
              </imageobject>
              <caption>
                <para>Original image</para>
              </caption>
            </mediaobject>
            <listitem>
              <para>
                The Value channel is selected. The black slider (Shadows) has
                been moved up to the Shadows peak. The 64 value became 0 and
                the Shadows stripe became black (0). The Gamma (mid tones)
                slider is automatically moved to the middle of the tone range.
                Mid tones are made darker to 84 and Highlights to 171.
              </para>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/toolbox/levels-input-2.png"/>
                </imageobject>
                <caption>
                  <para>Black slider has been moved</para>
                </caption>
              </mediaobject>
            </listitem>
            <listitem>
              <para>
                The white slider (highlights) has been moved up to the
                highlight peak. The 192 value became 255 and the highlight
                stripe became white. The Gamma (mid tones) slider is
                automatically moved to the middle of the tone range. Mid tones
                are made lighter to 169 and Shadows to 84.
              </para>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/toolbox/levels-input-3.png"/>
                </imageobject>
                <caption>
                  <para>White slider has been moved</para>
                </caption>
              </mediaobject>
            </listitem>
          </orderedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Output Levels</term>
        <listitem>
          <para>
            Output levels allows manual selection of a constrained output
            level range. There are also numeric text boxes with arrow-heads
            located here that can be used to interactively change the Output
            Levels.
          </para>
          <para>
            Output levels force the tone range to fit the new limits you have
            set.
          </para>
          <itemizedlist>
            <listitem>
              <para>
                Working with Value: values are compressed and look more
                alike; so contrast is reduced. Shadows are made lighter:
                new details can show up but contrast is less; a compromise
                is necessary. Highlights are made darker.
              </para>
            </listitem>
            <listitem>
              <para>
                Working with Color channels: if you the use the green
                channel for example and set the output levels between 100
                and 140, all pixels with some green, even a low value, will
                have their green channel value shifted between 100 and 140.
              </para>
            </listitem>
            <listitem>
              <para>
                Working with Alpha channel: all Alpha values will be
                shifted to the range you have set.
              </para>
            </listitem>
          </itemizedlist>

          <orderedlist>
            <title>Example for Output Levels</title>
            <listitem>
              <para>
                The original image is a RGB gradient from black (0;0;0) to
                white (255;255;255). Output Levels has no histogram; here, we
                used
                <menuchoice>
                  <guimenu>Windows</guimenu>
                  <guisubmenu>Dockable Dialogs</guisubmenu>
                  <guimenuitem>Histogram</guimenuitem>
                </menuchoice>.
              </para>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/toolbox/levels-output-1.png"/>
                </imageobject>
                <caption>
                  <para>Original image (a gradient)</para>
                </caption>
              </mediaobject>
            </listitem>
            <listitem>
              <para>
                Value channel selected. The black slider has been moved to 63
                and the white slider to 189. The Histogram shows the
                compression of pixels. No pixel is less than 63, and no pixel
                is more than 189. In the image, Shadows are lighter and
                Highlights are darker: contrast is reduced.
              </para>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/toolbox/levels-output-2.png"/>
                </imageobject>
                <caption>
                  <para>Black slider has been moved</para>
                </caption>
              </mediaobject>
            </listitem>
          </orderedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>All Channels</term>
        <listitem>
          <para>
            <guilabel>Auto</guilabel>: Performs an automatic setting
            of the levels.
          </para>
          <formalpara>
            <title>
              Three eyedroppers
              <guiicon>
                <inlinegraphic
                  fileref="images/dialogs/stock-color-picker-white-18.png"/>
              </guiicon>,
              <guiicon>
                <inlinegraphic
                  fileref="images/dialogs/stock-color-picker-gray-18.png"/>
              </guiicon>,
              <guiicon>
                <inlinegraphic
                  fileref="images/dialogs/stock-color-picker-black-18.png"/>
              </guiicon>.
            </title>
            <para>
              These three buttons
              respectively represent a white, a gray and a black eye-dropper.
              When you click one of these buttons, the mouse pointer takes the
              form of the eye-dropper it represents. Then, when clicking the
              image, the clicked pixel determines the <emphasis>white point
              </emphasis>, the <emphasis>black point</emphasis> or the
              <emphasis>mid point</emphasis> according to the eye-dropper you
              chose. Works on all channels, even if a particular channel is
              selected.
            </para>
          </formalpara>
          <figure>
            <title>Example for Levels eye-droppers</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/levels-eyedrop.png"/>
              </imageobject>
              <caption>
                <para>
                  Above is original gradient from black to white. Below is the
                  result after clicking with the white eye-dropper: all
                  pixels with a value higher than that of the clicked pixel
                  turned to white.
                </para>
              </caption>
            </mediaobject>
          </figure>

          <!--TODO: replace the figure above with the list below
              (requires splitting the image)
          <orderedlist>
            <title>Example for Levels eye-droppers</title>
            <listitem>
              <para>
                The original image is a gradient from black to white.
              </para>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/toolbox/levels-eyedrop1.png"/>
                </imageobject>
                <caption>
                  <para>Original image</para>
                </caption>
              </mediaobject>
            </listitem>
            <listitem>
              <para>
                The result after clicking with the white eye-dropper: all
                pixels with a value higher than that of the clicked pixel
                turned to white.
              </para>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/toolbox/levels-eyedrop2.png"/>
                </imageobject>
                <caption>
                  <para>After clicking with the eye-dropper</para>
                </caption>
              </mediaobject>
            </listitem>
          </orderedlist>
          -->
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Edit these settings as Curves</term>
        <listitem>
          <para>
            To make your work easier, this button lets you turn to the
            <link linkend="gimp-tool-curves">Curves</link> tool with the same
            settings.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview button makes all changes to the levels dynamically so
            that the new level settings can be viewed straight away.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Tool Options dialog</title>
    <variablelist>
      <para>
        <figure>
          <title><quote>Levels</quote> tool options</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/toolbox/tool-options-levels.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </para>
      <para>
        Although this tool is not present in the Toolbox by default (please
        refer to <xref linkend="gimp-prefs-toolbox"/> if you want to add it),
        nevertheless it has a Tool Option Dialog under the Toolbox. These
        options are described here:
      </para>
      <varlistentry>
        <term>Histogram Scale</term>
        <listitem>
          <para>
            These two options have the same action as the Logarithmic
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-histogram-logarithmic-16.png"/>
            </guiicon>
            and Linear
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-histogram-linear-16.png"/>
            </guiicon>
            buttons in the Levels dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sample Average</term>
        <listitem>
          <para>
            This slider sets the <quote>radius</quote> of the color-picking
            area. This area appears as a more or less enlarged square when
            you maintain the click on a pixel.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Actual practice</title>
    <figure>
      <title>A very under-exposed image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/filters/examples/colors-retinex1.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex1b.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The histogram shows a predominance of Shadows and missing
            Highlights.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Setting the white point</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex2a.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The white slider has been moved to the start of well marked
            Highlights. The image lightens up.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex2b.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The resulting histogram (down) shows Highlights now, but Shadows
            are still predominant.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Setting the balance between Shadows and Highlights</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex3a.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The mid slider has been moved to the left. This results in
            reducing the proportion of Shadows and increasing the proportion
            of Highlights.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex3b.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The resulting histogram (down) confirms the reduction of Shadows.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tools-color-overview">
  <title>Overview</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Color</secondary>
  </indexterm>
  <indexterm>
    <primary>Color tools</primary>
  </indexterm>

  <figure>
    <title>The Color tools in the Tools menu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/color-tools-menu1.png"/>
      </imageobject>
      <caption>
        <para>
          Access to the Color tools through the <quote>classical</quote> Tools
          menu.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <figure>
    <title>The Color tools in the Colors menu</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/color-tools-menu2.png"/>
      </imageobject>
      <caption>
        <para>Access through the Colors menu is easier and faster.</para>
      </caption>
    </mediaobject>
  </figure>

  <!--XXX: Yes, this is a bit lame - any ideas for a really "sexy" intro?-->
  <para>
    With the Color tools you can manipulate image colors in several ways:
  </para>

  <itemizedlist>
    <listitem>
      <para>
        Modify the color balance: <xref linkend="gimp-tool-color-balance"/>
      </para>
    </listitem>
    <listitem>
      <para>
         Adjust hue, saturation and lightness levels:
         <xref linkend="gimp-tool-hue-saturation"/>
      </para>
    </listitem>
    <listitem>
      <para>
        Render into a greyscale image seen through a colored glass:
        <xref linkend="gimp-tool-colorize"/>
      </para>
    </listitem>
    <listitem>
      <para>
        Adjust brightness and contrast levels:
        <xref linkend="gimp-tool-brightness-contrast"/>
      </para>
    </listitem>
    <listitem>
      <para>
        Transform into a black and white image depending on pixel value:
        <xref linkend="gimp-tool-threshold"/>
      </para>
    </listitem>
    <listitem>
      <para>
        Change the intensity range in a channel:
        <xref linkend="gimp-tool-levels"/>
      </para>
    </listitem>
    <listitem>
      <para>
        Change color, brightness, contrast or transparency in a sophisticated
        way: <xref linkend="gimp-tool-curves"/>
      </para>
    </listitem>
    <listitem>
      <para>
        Reduce the number of colors: <xref linkend="gimp-tool-posterize"/>
      </para>
    </listitem>
    <listitem>
      <para>
        Convert all colors to corresponding shades of gray:
        <xref linkend="gimp-tool-desaturate"/>
      </para>
    </listitem>
  </itemizedlist>

  <sect3 id="color-tool-presets">
    <title>Color Tool Presets</title>
    <indexterm>
      <primary>Color Tool Presets</primary>
    </indexterm>

    <para>
      Except Desaturate and Posterize, color tools have
      <emphasis>presets</emphasis>: saved tool settings that you can retrieve
      later.
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/color-tool-preset.png"/>
      </imageobject>
    </mediaobject>
    <para>
      Three elements:
      <itemizedlist>
        <listitem>
          <para>
            <emphasis role = "bold">Presets</emphasis>: this drop-down list
            shows you the existing presets. <emphasis>Every time you change
            tool settings, a new preset is automatically saved, with date and
            hour</emphasis>; you must be aware of that, to preserve your
            computer memory.
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/color-preset-list.png"/>
              </imageobject>
            </mediaobject>
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis role="bold">The cross</emphasis>: clicking on this
            cross opens a window where you can save current settings under the
            name you want.
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis role="bold">The small triangle</emphasis>: clicking on
            this triangle opens a small menu:
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/color-preset-menu.png"/>
              </imageobject>
            </mediaobject>
			<itemizedlist>	
			  <title>Three options:</title>
              <listitem>
                <para>Import settings from file</para>
              </listitem>
              <listitem>
                <para>Export settings to file</para>
              </listitem>
              <listitem>
                <para>Manage settings</para>
                <mediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/toolbox/color-preset-manage.png"/>
                  </imageobject>
                </mediaobject>
              </listitem>
            </itemizedlist>
		  </para>	
        </listitem>
      </itemizedlist>
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-posterize">
  <title>Posterize</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Posterize</secondary>
  </indexterm>
  <indexterm>
    <primary>Posterize</primary>
  </indexterm>
  <para>
    This tool is designed to intelligently weigh the pixel colors of the
    selection or active layer and reduce the number of colors while
    maintaining a semblance of the original image characteristics.
  </para>
  <sect3>
    <title>Activating the Tool</title>
    <para>You can get to this tool in several ways:</para>
    <itemizedlist>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Posterize</guimenuitem>
          </menuchoice> or
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Posterize</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the tool icon
          <guiicon>
            <inlinegraphic
                  fileref="images/toolbox/stock-tool-posterize-22.png"/>
          </guiicon>
          in Toolbox, if this tool has been installed there. For this, please
          refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Posterize tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tools-posterize.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Posterize Levels</term>
        <listitem>
          <para>
            This slider and the input boxes with arrow-heads allow you
            to set the number of levels (2-256) in each RGB channel that
            the tool will use to describe the active layer. The total number
            of colors is the combination of these levels. A level to 3
            will give 2<superscript>3</superscript> = 8 colors.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview check-box makes all changes dynamically so that
            they can be viewed straight away.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title>Example for the <quote>Posterize</quote> tool</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/posterize-ex.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Image posterized in 4 levels. The histogram shows the 4 levels
            and 10 colors, counting black and white also.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-threshold">
  <title>Threshold</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Threshold</secondary>
  </indexterm>
  <indexterm>
    <primary>Threshold</primary>
  </indexterm>
  <para>
    The Threshold tool transforms the current layer or the selection into a
    black and white image, where white pixels represent the pixels of the
    image whose Value is in the threshold range, and black pixels represent
    pixels with Value out of the threshold range.
  </para>
  <para>
    You can use it to enhance a black and white image (a scanned text for
    example) or to create selection masks.
  </para>
  <note>
    <para>
      As this tool creates a black and white image, the anti-aliasing of the
      original image disappears. If this poses a problem, rather use the
      <link linkend="gimp-tool-levels">Levels </link> tool.
    </para>
  </note>

  <sect3>
    <title>Activating the Tool</title>
    <itemizedlist>
      <para>
        There are different possibilities to activate the tool:
      </para>
      <listitem>
        <para>
          You can access this tool from the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Tools</guisubmenu>
            <guimenuitem>Threshold,</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or through
          <menuchoice>
            <guimenu>Colors</guimenu>
            <guimenuitem>Threshold</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking on the
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-threshold-22.png"/>
          </guiicon>
          icon in Toolbox if this tool has been installed in it. For this,
          please refer to <xref linkend="gimp-prefs-toolbox"/>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Threshold tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tools-threshold.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Presets</term>
        <listitem>
          <para>
            You can save the color settings of your image by clicking the
            <guibutton>Add settings to favourites</guibutton> button
            <guiicon>
              <inlinegraphic
                            fileref="images/toolbox/save-color-settings.png"/>
            </guiicon>
          </para>
          <para>
            The
            <guiicon>
              <inlinegraphic
                            fileref="images/toolbox/presets-menu-icon.png"/>
            </guiicon>
            button opens a menu:
          </para>
          <figure>
            <title>Preset Menu</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/presets-menu.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            which lets you <guilabel>Import Settings from File</guilabel> or
            <guilabel>Export Settings to File</guilabel>,
            and gives you access to the Manage Save Settings dialog:
          </para>
          <figure>
            <title>Manage saved Settings Dialog</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/manage-saved-settings.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Threshold range</term>
        <listitem>
          <para>
            The Threshold tool provides a visual graph, a histogram, of the
            intensity value of the active layer or selection. You can set the
            threshold range either using the input boxes or clicking button 1
            and dragging on the graph. It allows you to select a part of the
            image with some intensity from a background with another
            intensity. Pixels inside the range will be white, and the others
            will be black. Adjust the range to get the selection you want in
            white on black background.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview toggle allows dynamic updating of the active layer or
            selection while changes are made to the intensity level.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Using Threshold and Quick Mask to create a selection mask</title>
    <para>
      That's not always the case, but an element you want to extract from
      an image can stand out well against the background. In this case,
      you can use the Threshold tool to select this element as a whole.
      Grokking the GIMP described a method based on a channel mask, but now,
      using the <link linkend="gimp-image-window-qmask-button">Quick mask
      </link> is easier.
    </para>
    <procedure>
      <step>
        <para>
          First start decomposing you image into its RGB and HSV components by
          using the <link linkend="plug-in-decompose-registered">Decompose</link> filter. A
          new grey-scaled image is created and the components are displayed as
          layers in the Layer Dialog. These layers come with a thumbnail but
          it is too small for an easy study. You can, of course, increase the
          size of this preview with the dialog menu (the small triangular
          button), but playing with the <quote>eyes </quote> is more simple to
          display the wanted layer in the decompose image. Select the layer
          that isolates the element the best.
        </para>
        <figure>
          <title>
            The original image, the decompose image and its Layer Dialog
          </title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/threshold-orig.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/threshold-decomp.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/threshold-layers.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          Call the Threshold tool from the decompose image. By moving the
          black cursor, fit threshold to isolate the best the element you want
          to extract. This will probably not be perfect: we will enhance the
          result with the selection mask we are going to create.
        </para>
        <warning>
          <para>
            Make sure you have selected the right layer when you call the
            Threshold tool: when it is opened, you can't change to another
            layer.
          </para>
        </warning>
        <figure>
          <title>The selected layer after threshold fit</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/threshold-fit.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                We got the best outline for our flower. There are several red
                objects which we must remove.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          Make sure the image displaying the selected layer is active and
          copy it to the clipboard with
          <keycombo><keycap>Ctrl</keycap><keycap>C</keycap></keycombo>.
        </para>
      </step>
      <step>
        <para>
          Now, make the original image active. Click on the
          <guibutton>Quick Mask</guibutton> button at the bottom-left corner
          of the image window: the image gets covered with a red (default)
          translucent mask. This red color does not suit well to our image
          with much red: go to the Channel Dialog, activate the
          <quote>Quick mask</quote> channel and change this color with the
          <guibutton>Edit Channel Attributes</guibutton>. Come back to the
          original image. Press
          <keycombo><keycap>Ctrl</keycap><keycap>V</keycap></keycombo> to
          paste the previously copied layer.
        </para>
        <figure>
          <title>The mask</title>
          <mediaobject>
            <imageobject>
              <imagedata align="center" format="PNG"
                fileref="images/using/threshold-mask.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          VoilÃ . Your selection mask is ready: you can improve the selection
          as usually. When the selection is ready, disable the Quick mask by
          clicking again on its button: you will see the marching ants around
          the selection.
        </para>
        <figure>
          <title>The result</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/threshold-result.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/threshold-selection.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          We used the Zoom to work at a pixel level, the Lasso to remove large
          unwanted areas, the pencil (to get hard limits), black paint to
          remove selected areas, white paint to add selected areas, especially
          for stem.
        </para>
      </step>
    </procedure>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-color-picker">
  <title>Color Picker</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Color Picker</secondary>
  </indexterm>
  <indexterm>
    <primary>Color Picker</primary>
  </indexterm>
  <indexterm>
    <primary>Eye Dropper</primary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Grab color</secondary>
  </indexterm>

  <figure>
    <title>The Color Picker in the toolbox (eye dropper icon)</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/toolbox-eyedropper.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Color Picker Tool is used to select a color on any image opened on
    your screen. By clicking a point on an image, you can change the active
    color to that which is located under the pointer. By default, the tool
    works on the active layer, but the <guilabel>Sample Merge</guilabel>
    option lets you grab the color as it is in the image, resulting of the
    combination of all layers.
    <emphasis>Only colors in visible layers are used</emphasis>. An
    <guilabel>Info window</guilabel> opens when you click on the image.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>You can get to this tool in several ways :</para>
    <itemizedlist>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Color Picker.</guisubmenu>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking the tool icon
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-color-picker-22.png"/>
          </guiicon>
          in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          by pressing the <keycap>O</keycap> keyboard shortcut,
        </para>
      </listitem>
      <listitem>
        <para>
          by pressing the <keycap>Ctrl</keycap> key while using a paint
          tool. The Color-picker dialog is not opened during this operation
          and the tool remains unchanged after releasing the key.
          Nevertheless, you can get information by using the
          <link linkend="gimp-pointer-info-dialog">Pointer window</link>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term><keycap>Ctrl</keycap></term>
        <listitem>
          <para>
            If the pick mode is set to <guilabel>Set foreground
            color</guilabel>, then pressing the <keycap>Ctrl</keycap> key
            switches the tool into the <guilabel>Set background
            color</guilabel> mode. If the pick mode is set to <guilabel>Set
            background color</guilabel> then the key switches the mode to
            <guilabel>Set foreground color</guilabel>.
            When the pick mode is <guilabel>Pick only</guilabel>, the key
            doesn't do anything.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><keycap>Shift</keycap></term>
        <listitem>
          <para>
            By pressing the <keycap>Shift</keycap> key, the
            <guilabel>Color Picker Information window</guilabel> is opened
            when you click on a pixel.
          </para>
          <note>
            <para>
              The <link linkend="gimp-pointer-info-dialog">Pointer
              Information</link> gives you the same information permanently.
              But be warned, it defaults to <guilabel>Sample
              merged</guilabel>.
            </para>
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Color Picker Options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/color-picker-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Sample Merged</term>
        <listitem>
          <para>
            The Sample Merged check-box when enabled will take color
            information as a composite from all the visible layers.
            Further information regarding Sample Merge is available in
            the glossary entry,
            <link linkend="glossary-samplemerge">Sample Merge</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sample Average</term>
        <listitem>
          <para>
            The <guilabel>Radius</guilabel> slider adjusts the size of
            the square area that is used to determine an average color
            for the final selection. When you keep clicking the layer, the
            mouse pointer shows the size of the square or radius.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Pick Mode</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Pick Only</term>
              <listitem>
                <para>
                  The color of the selected pixel will be shown in an
                  Information Dialog, but not otherwise used.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Set Foreground Color</term>
              <listitem>
                <para>
                  The Foreground color, as shown in the Toolbox Color
                  Area, will be set to the color of the pixel you click
                  on.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Set Background Color</term>
              <listitem>
                <para>
                  The Background color, as shown in the Toolbox Color
                  Area, will be set to the color of the pixel you click
                  on.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Add to Palette</term>
              <listitem>
                <para>
                  When this option box is checked, the picked color is sent
                  to the active color palette. See <link
                  linkend="gimp-palette-editor-dialog">Palette Editor</link>.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use info window</term>
        <listitem>
          <para>
            When this option is checked, the information window is opened
            automatically. The <keycap>Shift</keycap> key allows you to
            toggle this possibility temporarily.
          </para>
          <figure>
            <title>Color Picker Info Window</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/color-picker-info.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tools-color">
  <title>Color Tools</title>
  <xi:include href="color/overview.xml"/>
  <xi:include href="color/color-balance.xml"/>
  <xi:include href="color/hue-saturation.xml"/>
  <xi:include href="color/colorize.xml"/>
  <xi:include href="color/brightness-contrast.xml"/>
  <xi:include href="color/threshold.xml"/>
  <xi:include href="color/levels.xml"/>
  <xi:include href="color/curves.xml"/>
  <xi:include href="color/posterize.xml"/>
  <xi:include href="color/desaturate.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-tool-gegl">
  <title>GEGL Operation</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>GEGL operation</secondary>
  </indexterm>
  <indexterm>
    <primary>GEGL operation</primary>
  </indexterm>

  <figure>
    <title>GEGL Operation tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/gegl-operation.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    <acronym>GEGL</acronym> (<quote>Generic Graphical Library</quote>) is a
    graph based image processing library designed to handle various image
    processing tasks needed in <acronym>GIMP</acronym>.
  </para>
  <para>
    The <acronym>GEGL</acronym> Operation tool has been added in <link
    linkend="gimp-introduction-whats-new"><acronym>GIMP</acronym> 2.6</link>
    and was originally meant as an useful experimental tool for
    <acronym>GIMP</acronym> developers. The <acronym>GEGL</acronym> Operation
    tool enables applying <acronym>GEGL</acronym> operations to the image and
    gives on-canvas previews of the results.
  </para>
  <warning>
    <para>
      <acronym>GEGL</acronym> is in a very early phase and still under
      construction.
    </para>
    <para>
      The GEGL Operation tool is <emphasis>experimental</emphasis>.
    </para>
  </warning>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can get to this tool only from the image menu:
      <menuchoice>
        <guimenu>Tools</guimenu>
        <guimenuitem>GEGL Operation</guimenuitem>
      </menuchoice>.
    </para>
    <tip>
      <para>
        In addition to this tool for performing special
        <acronym>GEGL</acronym> operations you can configure
        <acronym>GIMP</acronym> to <link linkend="gimp-config-use-gegl">use
        GEGL</link> for all color operations.
      </para>
    </tip>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>GEGL Operation tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/gegl-operation.png"/>
        </imageobject>
        <caption>
          <para>GEGL Operation tool with no operation selected.</para>
        </caption>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Operation</term>
        <listitem>
          <para>
            Click on this button to select the operation you want to apply to
            the active selection or, if there is no selection, to the active
            layer.
          </para>
          <para>
            Some of these operations are very basic operations like
            <quote>color</quote> which fills the active selection or layer
            with the specified color, while operations like
            <quote>fractal-explorer</quote> produce fairly complex patterns
            &mdash; just like a <link linkend="filters-render">rendering
            filter</link>.
          </para>
          <para>
            Remember that this is an experimental tool, so some operations may
            not work or even crash <acronym>GIMP</acronym>. As a consquence,
            it doesn't make sense to describe the operations here as long as
            the GEGL Operation tool is experimental
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Operation Settings</term>
        <listitem>
          <para>
            The operation settings depend on the selected
            <guilabel>Operation</guilabel>:
          </para>
          <figure>
            <title><quote>Operation Settings</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/gegl-operation-gaussian-blur.png"/>
              </imageobject>
              <caption>
                <para>
                  GEGL operation <quote>Gaussian Blur</quote> selected.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            If the options of the selected <acronym>GEGL</acronym> operation
            are not self-explanatory (guess what's the purpose of the
            <quote>color</quote> operation's <quote>Color</quote> option)
            you can look for a corresponding non-<acronym>GEGL</acronym> tool.
            For example, the <link linkend="plug-in-fractalexplorer">Fractal
            Explorer</link> filter may have the same or similar options as the
            <quote>fractal-explorer</quote> operation.
          </para>
          <para>
            Or you can make use of the nice realtime preview feature and just
            experiment with different settings.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            If this options is checked, as it is by default, you will get an
            on-canvas preview of the selected operation as soon as the
            operation in finished. You will have to press the
            <guibutton>OK</guibutton> button to actually apply the operation
            to the image.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>The tool buttons</title>
      <varlistentry>
        <term>Reset</term>
        <listitem>
          <para>
            Pressing this button resets the operation settings the to their
            defaults.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Cancel</term>
        <listitem>
          <para>
            Clicking on this button aborts the <acronym>GEGL</acronym>
            operation tool and leaves your image untouched. This is equivalent
            to close the dialog window using the usual
            <guibutton>Close</guibutton> button provided by your window
            manager.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>OK</term>
        <listitem>
          <para>
            You have to press this button to apply the selected operation to
            the image. Then the dialog window will be closed.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 id="gimp-toolbox" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The Toolbox</title>

  <indexterm>
    <primary>Toolbox</primary>
  </indexterm>

  <sect2 id="gimp-toolbox-introduction">
    <title>Introduction</title>

    <para>
      <acronym>GIMP</acronym> provides a comprehensive toolbox in order to
      quickly perform basic tasks such as making selections or drawing paths.
      The many tools contained within <acronym>GIMP</acronym>'s toolbox are
      discussed in detail here.
    </para>
    <para>
      (In case you're curious, in <acronym>GIMP</acronym> lingo a "tool" is a
      way of acting on an image that requires access to its display, either to
      let you indicate what you want to do by moving the pointer around inside
      the display, or to show you interactively the results of changes that
      you have made. But if you want to think of a tool as a saw, and an image
      as a piece of wood, it probably won't do you a great deal of harm.)
    </para>
    <note>
      <para>
        See <link linkend="gimp-concepts-toolbox">Main Windows: The
        Toolbox</link> for an overview of the toolbox and its components.
      </para>
    </note>
    <para>
      <acronym>GIMP</acronym> has a diverse assortment of tools that let you
      perform a large variety of tasks. The tools can be thought of as falling
      into five categories:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <emphasis>Selection tools</emphasis>, which specify or modify the
          portion of the image that will be affected by subsequent actions;
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Paint tools</emphasis>, which alter the colors in some
          part of the image;
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Transform tools</emphasis>, which alter the geometry of
          the image;
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Color tools</emphasis>, which alter the distribution of
          colors across the entire image;
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Other tools</emphasis>, which don't fall into the other
          four categories.
        </para>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="gimp-toolbox-icons">
    <title>Tool Icons</title>

    <figure>
      <title>The Tool Icons in the Toolbox</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG" fileref="images/toolbox/toolbox-icons.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Most tools can be activated by clicking on an icon in the Toolbox. By
      default, some tools are accessible only via the menus (namely the Color
      tools are accessible only either as
      <menuchoice>
        <guimenu>Colors</guimenu>
      </menuchoice>
      or as
      <menuchoice>
        <guimenu>Tools</guimenu>
        <guisubmenu>Colors</guisubmenu>
      </menuchoice>).
      Every tool, in fact, can be activated from the
      <emphasis>Tools</emphasis> menu; also, every tool can be activated from
      the keyboard using an accelerator key.
    </para>
    <para>
      In the default setup, created when <acronym>GIMP</acronym> is first
      installed, not all tools show icons in the Toolbox: the Color tools are
      omitted. You can customize the set of tools that are shown in the
      Toolbox through
      <menuchoice>
        <guimenu>Edit</guimenu>
        <guisubmenu>Preferences</guisubmenu>
        <guimenuitem>Toolbox</guimenuitem>
      </menuchoice>.
      There are two reasons you might want to do this: first, if you only
      rarely use a tool, it might be easier to find the tools you want if the
      distracting icon is removed; second, if you use the Color tools a lot,
      you might find it convenient to have icons for them easily available. In
      any case, regardless of the Toolbox, you can always access any tool at
      any time using the <guimenu>Tools</guimenu> menu from an image menubar.
    </para>
    <para>
      The shape of the cursor changes when it is inside an image, to one that
      indicates which tool is active (if in <guimenu>Preferences</guimenu> you
      have set
      <menuchoice>
        <guimenu>Image Windows</guimenu>
        <guisubmenu>Mouse Pointers</guisubmenu>
        <guimenuitem>Pointer mode</guimenuitem>
        <guimenuitem>Tool icon</guimenuitem>
      </menuchoice>).
    </para>
  </sect2>

  <!-- Color and Indicator Area (id=gimp-toolbox-areas) -->
  <xi:include href="toolbox-color-area.xml"/>

  <sect2 id="gimp-tool-options-dialog">
    <title>Tool Options</title>

    <figure>
      <title>Tool Options Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/toolbox-tool-options.png"/>
            <!--fileref="images/toolbox/tool-options-rectsel.png"/-->
        </imageobject>
        <caption>
          <para>
            The Tool Options dialog of the Airbrush tool.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      If you have things set up like most people do, activating a tool causes
      its Tool Options dialog to appear below the Toolbox. If you don't have
      things set up this way, you probably should: it is very difficult to use
      tools effectively without being able to manipulate their options.
    </para>
    <tip>
      <para>
        The Tool Options appear beneath the Toolbox in the default
        setup.  If you lose it somehow, you can get it back by creating
        a new Tool Options dialog using
        <menuchoice>
          <guimenu>Windows</guimenu>
          <guisubmenu>Dockable Dialogs</guisubmenu>
          <guimenuitem>Tool Options</guimenuitem>
        </menuchoice>
        and then docking it below the Toolbox. See the section on
        <link linkend="gimp-concepts-docks">Dialogs and Docking</link> if you
        need help.
      </para>
    </tip>
    <para>
      Each tool has its own specific set of options. The choices you make for
      them are kept throughout the session, until you change them. In fact,
      the tool options are maintained from session to session. The persistence
      of tool options across sessions can sometimes be an annoying nuisance: a
      tool behaves very strangely, and you can't figure out why until you
      remember that you were using some unusual option the last time you
      worked with it, two weeks ago.
    </para>
    <para>
      At the bottom of the Tool Options dialog, four buttons appear:
    </para>
    <variablelist>
      <varlistentry>
        <term>
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/reg-button.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          <phrase>Save Options to</phrase>
        </term>
        <listitem>
          <para>
            This button allows you to save the settings for the current tool,
            so that you can restore them later. It brings up the <xref
            linkend="gimp-presets-dialog"/>
            allowing you to give a name for the new preset. When
            you Restore options, only saved presets for the active tool are
            shown, so you need not worry about including the name of the tool
            when you assign a name here.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/resto-button.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          <phrase>Restore Options</phrase>
        </term>
        <listitem>
          <para>
            This button allows you to restore a previously saved preset of
            options for the active tool. If no presets have ever been
            saved for the active tool, the button will be insensitive.
            Otherwise, clicking it will bring up a menu showing the names of
            all saved option sets: choosing a menu entry will apply those
            settings.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/del-button.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          <phrase>Delete Options</phrase>
        </term>
        <listitem>
          <para>
            This button allows you to delete a previously saved set of options
            for the active tool. If no option-sets have ever been saved for
            the active tool, the button will simply repeat the tool name.
            Otherwise, clicking it will bring up a menu showing the names of all
            saved presets: the selected preset will be deleted.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/reset-button.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          <phrase>Reset Options</phrase>
        </term>
        <listitem>
          <para>
            This button resets the options for the active tool to their
            default values.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    
    <variablelist>
      <varlistentry>
        <term>New sliders</term>
        <listitem>
          <indexterm>
            <primary>Sliders</primary>
          </indexterm>
          <para>
            Option sliders have changed with GIMP-2.8: it is not visible, but
            the slider area is now divided into upper and lower parts.
          </para>
          <figure>
            <title>The new sliders of tool options dialogs</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                    fileref="images/toolbox/slider-fast.png"/>
              </imageobject>
              <caption>
                <para>
                  The upwards arrow pointer in the top half of the slider area
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                    fileref="images/toolbox/slider-slow.png"/>
              </imageobject>
              <caption>
                <para>
                  The horizontal two-way arrow pointer in the lower half of
                  the slider area
                </para>
              </caption>
            </mediaobject>
          </figure>
          <itemizedlist>
            <listitem>
              <formalpara>
                <title>In the top half of the slider area:</title>
                <para>
                  Clicking with the up arrow pointer sets slider to a value that
                  depends on the position of the pointer (no reference,
                  imprecise).
                  Clicking and dragging the up arrow pointer sets the value by
                  large amounts.
                </para>
              </formalpara>
            </listitem>
            <listitem>
              <formalpara>
                <title>In the lower half of the slider area:</title>
                <para>
                  Clicking with the two-way arrow pointer has no effect.
                  Clicking and dragging the two-way arrow pointer sets the value
                  by small amounts.
                </para>
              </formalpara>
            </listitem>
          </itemizedlist>
          <para>
            Once you have set the value approximately, you can tune it precisely
            using the two small arrow buttons at the right of the slider.
          </para>
          <para>
            The value area in the slider area works as a text editor: there, you
            can edit the value or enter a new value directly.
          </para>
          <para>
            For some options, you can drag the pointer outside the tool dialog.
            For example with the size slider, whose maximum value is 10,000, 
            you can drag the mouse pointer up to the right side of your screen.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect2>
</sect1>
-#-#-
<sect2 id="gimp-tool-measure">
  <title>Measure</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Measure</secondary>
  </indexterm>
  <indexterm>
    <primary>Measure</primary>
  </indexterm>
  <indexterm>
    <primary>Measure a distance</primary>
  </indexterm>
  <indexterm>
    <primary>Measure an angle</primary>
  </indexterm>
  <indexterm>
    <primary>Measure a surface</primary>
  </indexterm>
  <figure>
    <title>Measure tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-measure.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Measure Tool is used to gain knowledge about pixel distances in your
    working image. By clicking and holding the mouse button, you can determine
    the angle and number of pixels between the point of click and where the
    mouse pointer is located. The information is displayed on the status bar
    or can also be displayed in the Info Window.
  </para>
  <para>
    When you pass the mouse pointer over the end point it turns to a move
    pointer. Then if you click you can resume the measure.
  </para>

  <sect3>
    <title>Status Bar</title>
    <para>
      Information is displayed in the
      <link linkend="gimp-image-window-status-bar">status bar</link>, at the
      bottom of the Image window:
      <itemizedlist>
        <listitem>
          <para>
            Distance between the original point and the mouse pointer, in
            pixels.
          </para>
        </listitem>
        <listitem>
          <para>
            Angle, in every quadrant, from 0Â° to 90Â°.
          </para>
        </listitem>
        <listitem>
          <para>
            Pointer coordinates relative to the original point.
          </para>
        </listitem>
      </itemizedlist>
    </para>
  </sect3>

  <sect3>
    <title>Activating the Tool</title>
    <itemizedlist>
      <listitem>
        <para>
          You can get to the Measure Tool from the image-menu through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guimenuitem>Measure</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking the tool icon:
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-measure-22.png"/>
          </guiicon>
          in Toolbox.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term><keycap>Shift</keycap></term>
        <listitem>
          <para>
            Holding down the <keycap>Shift</keycap> allows to start a new
            measure from the pointed point without deleting the previous
            measure. Angle is measured from the previous line and not from
            the default horizontal. The mouse pointer goes with a
            <quote>+</quote> sign. So, you can
            <emphasis>measure any angle</emphasis> on the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><keycap>Ctrl</keycap></term>
        <listitem>
          <para>
            Holding down the <keycap>Ctrl</keycap> key puts the tool
            into constrained straight line mode. The orientation of the
            line is constrained to the nearest multiple of 15 degrees.
          </para>
          <para>
            <keycap>Ctrl</keycap> key pressed and click on an end point
            creates a horizontal guide. The mouse pointer goes with the
            <guiicon>
              <inlinegraphic fileref="images/toolbox/measure-horiz.png" />
            </guiicon>
            icon.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><keycap>Alt</keycap></term>
        <listitem>
          <para>
            <keycap>Alt</keycap> key and click on an end point creates a
            vertical guide. The mouse pointer goes with the
            <guiicon>
              <inlinegraphic fileref="images/toolbox/measure-vert.png"/>
            </guiicon>
            icon.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
        </term>
        <listitem>
          <para>
            This key combination and click on a measure line allows to move
            the measure.
          </para>
          <para><keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
            key combination and click on an end point creates a vertical and a
            horizontal guides.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Measure</quote> tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/measure-tool-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Use Info Window</term>
        <listitem>
          <para>
            This option will display an Info Window dialog that details the
            measure tool results. The results are more complete on the status
            bar.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Measuring surfaces</title>
    <para>
      You can't measure surfaces directly, but you can use the
      <link linkend="gimp-histogram-dialog">Histogram</link> that gives you
      the number of pixels in a selection.
    </para>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tools-other">
  <title>Other</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Miscellaneous</secondary>
  </indexterm>

  <sect2 id="gimp-tools-other-overview">
    <title>Overview</title>

    <figure>
      <title>Other Tools in the Tools Menu</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/other-tools.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      <quote>Other</quote> tools are simply those tools which don't belong to
      any main group of tools. You will find here, for example, the important
      and powerful <link linkend="gimp-tool-path">Path</link> tool as well as
      useful helper tools like the
      <link linkend="gimp-tool-color-picker">Color Picker</link>:
    </para>
    <itemizedlist>
      <listitem>
        <para><xref linkend="gimp-tool-path"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="gimp-tool-color-picker"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="gimp-tool-zoom"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="gimp-tool-measure"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="gimp-tool-text"/></para>
      </listitem>
      <listitem>
        <para><xref linkend="gimp-tool-gegl"/></para>
      </listitem>
    </itemizedlist>
  </sect2>

  <xi:include href="path.xml"/>
  <xi:include href="color-picker.xml"/>
  <xi:include href="zoom.xml"/>
  <xi:include href="measure.xml"/>
  <xi:include href="text.xml"/>
  <xi:include href="gegl-operation.xml"/>
</sect1>
-#-#-
<simpara>
  See the <link linkend="gimp-tools-paint-options">Common Paint Tool
  Options</link> for a description of tool options that apply to many or all
  paint tools.
</simpara>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-airbrush">
  <title>Airbrush</title>

  <indexterm>
    <primary>Airbrush</primary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Airbrush</secondary>
  </indexterm>

  <figure>
    <title>The Airbrush tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-airbrush.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Airbrush tool emulates a traditional airbrush. This tool is suitable
    for painting soft areas of color.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>You can activate the Airbrush tool in several ways :</para>
    <itemizedlist>
      <listitem>
        <para>
          From the image-menu, through :
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>PaintTools</guisubmenu>
            <guimenuitem>Airbrush</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the tool icon:
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-airbrush-22.png"/>
          </guiicon>
          in the Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          By using the <keycap>A</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para><keycap>Ctrl</keycap> changes the airbrush to a
            <link linkend="gimp-tool-color-picker">Color Picker</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para><keycap>Shift</keycap> places the airbrush into straight
            line mode. Holding <keycap>Shift</keycap> while clicking
            <mousebutton>Button 1</mousebutton> will generate a straight
            line. Consecutive clicks will continue drawing straight lines
            that originate from the end of the last line.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Airbrush options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-airbrush.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Mode; Opacity; Brush; Size; Dynamics; Dynamic Options; Fade Options; 
					Color Options; Apply Jitter
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Rate</term>
        <listitem>
          <para>
            The <guilabel>Rate</guilabel>
            slider adjusts the speed of color application that the airbrush
            paints. A higher setting will produce darker brush strokes in a
            shorter amount of time.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Flow</term>
        <listitem>
          <para>
            This slider controls the amount of color that the airbrush paints.
            A higher setting here will result in darker strokes.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-blend">
  <title>Blend</title>
  <indexterm>
    <primary>Blend</primary>
  </indexterm>
  <indexterm>
    <primary>Blend</primary>
    <secondary>Tool</secondary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Blend</secondary>
  </indexterm>

  <figure>
    <title>The Blend tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/toolbox-gradient.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    This tool fills the selected area with a gradient blend of the foreground
    and background colors by default, but there are many options. To make a
    blend, drag the cursor in the direction you want the gradient to go, and
    release the mouse button when you feel you have the right position and
    size of your blend. The softness of the blend depends on how far you drag
    the cursor. The shorter the drag distance, the sharper it will be.
  </para>
  <para>
    There are an astonishing number of things you can do with this tool, and
    the possibilities may seem a bit overwhelming at first. The two most
    important options you have are the Gradient and the Shape. Clicking the
    Gradient button in the tool options brings up a Gradient Select window,
    allowing you to choose from among a variety of gradients supplied with
    GIMP; you can also construct and save custom gradients. Further
    information about gradients can be found in
    <xref linkend="gimp-concepts-gradients"/> and
    <xref linkend="gimp-gradient-dialog"/>.
  </para>
  <para>
    For Shape, there are 11 options: Linear, Bilinear, Radial, Square, Conical
    (symmetric), Conical (asymmetric), Shaped (angular), Shaped (spherical),
    Shaped (dimpled), Spiral (clockwise), and Spiral (counterclockwise); these
    are described in detail below. The Shaped options are the most
    interesting: they cause the gradient to follow the shape of the selection
    boundary, no matter how twisty it is. Unlike the other shapes, Shaped
    gradients are not affected by the length or direction of the line you
    draw: for them as well as every other type of gradient you are required to
    click inside the selection and move the mouse, but a Shaped appears the
    same no matter where you click or how you move.
  </para>
  <tip>
    <para>
      Check out the Difference option in the Mode menu, where doing the same
      thing (even with full opacity) will result in fantastic swirling
      patterns, changing and adding every time you drag the cursor.
    </para>
  </tip>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      There are different possibilities to activate the tool:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image-menu:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Blend</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the tool icon
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-blend-22.png"/>
          </guiicon>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the <keycap>L</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term><keycap>Ctrl</keycap></term>
        <listitem>
          <para><keycap>Ctrl</keycap> is used to create straight lines that are
            constrained to 15 degree absolute angles.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Blend</quote> tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/blend-tool-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Mode; Opacity</term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Gradient</term>
        <listitem>
          <para>
            A variety of gradient patterns can be selected from the drop-down
            list. The tool causes a shading pattern that transitions from
            foreground to background color or introducing others colors, in
            the direction the user determines by drawing a line in the image.
            For the purposes of drawing the gradient, the
            <guilabel>Reverse</guilabel>
            <guiicon>
              <inlinegraphic
                fileref="images/dialogs/stock-flip-horizontal-16.png"/>
            </guiicon>
            check-box reverse the gradient direction with the effect, for
            instance, of swapping the foreground and background colors.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Offset</term>
        <listitem>
          <para>
            The <guilabel>Offset</guilabel> value permits to increase the
            <quote>slope</quote> of the gradient. It determines how far
            from the clicked starting point the gradient will begin.
            Shaped forms are not affected by this option.
          </para>
          <figure>
            <title><quote>Blend</quote> tool: Offset example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/blend-tool-offset.png"/>
              </imageobject>
              <caption>
                <para>Top, Offset = 0 ; Bottom, Offset = 50%</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shape</term>
        <listitem>
          <para>
            The <acronym>GIMP</acronym>
            provides 11 shapes, which can be selected from the drop-down list.
            Details on each of the shapes are given below.
          </para>
          <figure>
            <title>Examples of gradient shapes</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/gradient-linear.png"/>
              </imageobject>
              <caption>
                <para>Linear</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/gradient-bilinear.png"/>
              </imageobject>
              <caption>
                <para>Bi-Linear</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/gradient-radial.png"/>
              </imageobject>
              <caption>
                <para>Radial</para>
              </caption>
            </mediaobject>
          </figure>
          <variablelist>
            <varlistentry>
              <term>Linear</term>
              <listitem>
                <para>
                  This gradient begins with the foreground color at the
                  starting point of the drawn line and transitions linearly to
                  the background color at the ending point.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Bi-Linear</term>
              <listitem>
                <para>
                  This shape proceeds in both directions from the starting
                  point, for a distance determined by the length of the drawn
                  line. It is useful, for example, for giving the appearance
                  of a cylinder.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Radial</term>
              <listitem>
                <para>
                  This gradient gives a circle, with foreground color at the
                  center and background color outside the circle. It gives the
                  appearance of a sphere without directional lighting.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Square; Shaped</term>
              <listitem>
                <figure>
                  <title>Square-shaped gradient examples</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/tool-options/gradient-square.png"/>
                    </imageobject>
                    <caption>
                      <para>Square</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                    fileref="images/tool-options/gradient-ang-shapeburst.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Shaped (angular)
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                  fileref="images/tool-options/gradient-spher-shapeburst.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Shaped (spherical)
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                    fileref="images/tool-options/gradient-dim-shapeburst.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Shaped (dimpled)
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
                <para>
                  There are four shapes that are some variant on a
                  square: <guilabel>Square</guilabel>,
                  <guilabel>Shaped (angular)</guilabel>,
                  <guilabel>Shaped (spherical)</guilabel>, and
                  <guilabel>Shaped (dimpled)</guilabel>. They all
                  put the foreground color at the center of a square,
                  whose center is at the start of the drawn line, and
                  whose half-diagonal is the length of the drawn line.
                  The four options provide a variety in the manner in
                  which the gradient is calculated; experimentation is
                  the best means of seeing the differences.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Conical (symmetric); Conical (asymmetric)</term>
              <listitem>
                <figure>
                  <title>Conical gradient examples</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                       fileref="images/tool-options/gradient-sym-conical.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Conical (symmetrical)
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                      fileref="images/tool-options/gradient-asym-conical.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Conical (asymmetrical)
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
                <para>
                  The <guilabel>Conical (symmetrical)</guilabel> shape
                  gives the sensation of looking down at the tip of a
                  cone, which appears to be illuminated with the
                  background color from a direction determined by the
                  direction of the drawn line.
                </para>
                <para><guilabel>Conical (asymmetric)</guilabel> is similar to
                  <guilabel>Conical (symmetric)</guilabel> except that
                  the "cone" appears to have a ridge where the line is
                  drawn.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Spiral (clockwise); Spiral
              (counterclockwise)</term>
              <listitem>
                <figure>
                  <title>Spiral gradient examples</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                      fileref="images/tool-options/gradient-clock-spiral.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Spiral (clockwise)
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                  fileref="images/tool-options/gradient-anticlock-spiral.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Spiral (counterclockwise)
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
                <para>
                  The <guilabel>Spiral</guilabel> shape provide spirals
                  whose repeat width is determined by the length of
                  the drawn line.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Repeat</term>
        <listitem>
          <para>
            There are two repeat modes: <guilabel>Sawtooth Wave</guilabel>
            and <guilabel>Triangular Wave</guilabel>.  The Sawtooth
            pattern is achieved by beginning with the foreground,
            transitioning to the background, then starting over with the
            foreground.  The Triangular starts with the foreground,
            transitions to the background, then transitions back to the
            foreground.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Dithering</term>
        <listitem>
          <para>
            Dithering is fully explained in the
            <link linkend="glossary-dithering">Glossary</link>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Adaptive Supersampling</term>
        <listitem>
          <para>
            This a more sophisticated means of smoothing the "jagged" effect
            of a sharp transition of color along a slanted or curved line.
            Only tests can allow you to choose.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<!-- XXX: do we really need this file or should we merge it with
     the "common features" section? -->
<sect2 id="gimp-tools-brush">
  <!-- "Painting tools" would be confused with "Paint tools" (tools menu) -->
  <title>Brush Tools (Pencil, Paintbrush, Airbrush)</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Paint</secondary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Brush</secondary>
  </indexterm>

  <figure>
    <title>Painting example</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/painting-examples.png"/>
      </imageobject>
      <caption>
        <para>
          Three strokes painted with the same round fuzzy brush (outline shown
          in upper left), using the Pencil (left), Paintbrush (middle), and
          Airbrush (right).
        </para>
      </caption>
    </mediaobject>
  </figure>

  <para>
    The tools in this group are <acronym>GIMP</acronym>'s basic painting
    tools, and they have enough features in common to be worth discussing
    together in this section. Features common to all paint tools are
    described in the
    <link linkend="gimp-tool-brush">Common Features</link>
    section. Features specific to an individual tool are described in the
    section devoted to that tool.
  </para>
  <para>
    The Pencil is the crudest of the tools in this group: it makes hard,
    non-anti-aliased brushstrokes. The Paintbrush is intermediate: it is
    probably the most commonly used of the group. The Airbrush is the most
    flexible and controllable. This flexibility also makes it a bit more
    difficult to use than the Paintbrush, however.
  </para>
  <para>
    All of these tools share the same brushes, and the same options for
    choosing colors, either from the basic palette or from a gradient. All are
    capable of painting in a wide variety of modes.
  </para>

  <sect3>
    <title>Key modifiers</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            Holding down the <keycap>Ctrl</keycap> key changes each of these
            tools to a <link linkend="gimp-tool-color-picker">Color
            Picker</link>: clicking on any pixel of any layer sets the
            foreground color (as displayed in the
            <link linkend="gimp-toolbox-color-area">Toolbox Color Area</link>)
            to the color of the pixel.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            This key places these tools into straight line mode. Holding
            <keycap>Shift</keycap> while clicking
            <mousebutton>Button&nbsp;1</mousebutton> will generate a straight
            line. Consecutive clicks will continue drawing straight lines that
            originate from the end of the last line.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-bucket-fill">
  <title>Bucket Fill</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Bucket Fill</secondary>
  </indexterm>
  <indexterm>
    <primary>Bucket Fill</primary>
  </indexterm>

  <figure>
    <title>Toolbox Fill</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-fill.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    This tool fills a selection with the current foreground color. If you
    <keycap>Ctrl</keycap>+click and use the Bucket tool, it will use the
    background color instead. Depending on how the tool options are set, the
    Bucket Fill tool will either fill the entire selection, or only parts
    whose colors are similar to the point you click on. The tool options also
    affect the way transparency is handled.
  </para>
  <para>
    The amount of fill depends on what Fill Threshold you have specified. The
    fill threshold determines how far the fill will spread (similar to the way
    in which the magic wand works). The fill starts at the point where you
    click and spreads outward until the color or alpha value becomes
    <quote>too different</quote>.
  </para>
  <para>
    When you fill objects in a transparent layer (such as letters in a text
    layer) with a different color than before, you may find that a border of
    the old color still surrounds the objects. This is due to a low
    fill-threshold in the Bucket Fill options dialog. With a low threshold,
    the bucket tool won't fill semi-transparent pixels, and they will stand
    out against the fill because they have kept their original color.
  </para>
  <para>
    If you want to fill areas that are totally transparent, you have to make
    sure that the <quote>Lock</quote> option (in the Layers dialog) is
    unchecked. If this option is checked, only the non-transparent parts of
    the layer will be filled.
  </para>

  <sect3>
    <title>Activating the tool</title>
    <itemizedlist>
      <listitem>
        <para>
          You can find the Bucket Fill tool from the image-menu through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Bucket Fill</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          You can also call it by clicking the tool icon:
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-bucket-fill-22.png"/>
          </guiicon>
          in the toolbox.
        </para>
      </listitem>
      <listitem>
        <para>
          or by pressing the
          <keycombo><keycap>Shift</keycap><keycap>B</keycap></keycombo> keys.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <itemizedlist>
      <listitem>
        <para><keycap>Ctrl</keycap> toggles the use of BG Color Fill or FG
          Color Fill on the fly.
        </para>
      </listitem>
      <listitem>
        <para><keycap>Shift</keycap> toggles the use of Fill Similar Color or
          Fill Whole Selection on the fly.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Bucket Fill</quote> tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-fill.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Mode; Opacity</term>
        <listitem>
          <para>
            See <link linkend="gimp-tool-brush">Paint Tools</link>
            for help with options that are common to all these tools. Only
            options that are specific to the Bucket Fill tool are
            explained here.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Fill Type</term>
        <listitem>
          <para><acronym>GIMP</acronym> provides three fill types:
          </para>
          <variablelist>
            <varlistentry>
              <term>FG Color Fill</term>
              <listitem>
                <para>
                  sets the fill color to the currently selected foreground
                  color.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>BG Color Fill</term>
              <listitem>
                <para>
                  sets the fill color to the currently selected background
                  color.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Pattern Fill</term>
              <listitem>
                <para>
                  sets the fill color to the currently selected pattern. You
                  can select the pattern to use in a drop down list.
                </para>
                <para>
                  This drop-down list allows the user to select one of many
                  fill patterns to use on the next fill operation. The manner
                  in which the list is presented is controlled by the four
                  buttons at the bottom of the selector.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Affected Area</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Fill whole selection</term>
              <listitem>
                <para>
                  This option makes GIMP fill a pre-existent selection or the
                  whole image. A quicker approach to do the same thing could
                  be to click and drag the foreground, background or pattern
                  color, leaving it onto the selection.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Fill similar colors</term>
              <listitem>
                <para>
                  This is the default setting: the tool fills the area with a
                  color near the pixel onto you have clicked. The color
                  similarity is defined by a brightness threshold, that you
                  can set by a value or by a cursor position.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Finding Similar Colors</term>
        <listitem>
          <para>Under this section you can find two options:</para>
          <variablelist>
            <varlistentry>
              <term>Fill Transparent Areas</term>
              <listitem>
                <indexterm>
                  <primary>Fill transparent areas</primary>
                </indexterm>
                <para>
                  The option <guilabel>Fill Transparent Areas</guilabel>
                  offers the possibility of filling areas with low opacity.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Sample Merged</term>
              <listitem>
                <para>
                  The option <guilabel>Sample Merged</guilabel>
                  toggles the sampling from all layers. If Sample Merged is
                  active, fills can be made on a lower layer, while the color
                  information used for threshold checking is located further
                  up. Simply select the lower level and ensure that a layer
                  above is visible for color weighting.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Threshold</term>
              <listitem>
                <para>
                  The Threshold slider sets the level at which color weights
                  are measured for fill boundaries. A higher setting will fill
                  more of a multi colored image and conversely, a lower
                  setting will fill less area.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Fill by</term>
              <listitem>
                <para>
                  With this option you can choose which component of the image
                  GIMP shall use to calculate the similarity and to determine
                  the borders of filling.
                </para>
                <para>
                  The components you can choose from are
                  <guimenuitem>Composite</guimenuitem>,
                  <guimenuitem>Red</guimenuitem>,
                  <guimenuitem>Green</guimenuitem>,
                  <guimenuitem>Blue</guimenuitem>,
                  <guimenuitem>Hue</guimenuitem>,
                  <guimenuitem>Saturation</guimenuitem> and
                  <guimenuitem>Value</guimenuitem>.
                </para>
                <para>
                  This option is not easy to understand. You have chosen,
                  for example, the Red channel. When you click on any pixel,
                  the tool searches for contiguous pixels similar for
                  <emphasis>the red channel</emphasis> to the clicked pixel,
                  according to the set threshold. Here is an example:
                </para>
                <para>
                  Original image: three strips with gradients of pure
                  colors. Red (255;0;0), Green (0;255;0), Blue
                  (0;0;255). We are going to use the Bucket-fill tool
                  with the magenta color and a Threshold set to 15.
                </para>
                <para>
                  Image 1: Fill By = Composite. We successively clicked in the
                  three color strips. Every strip is filled according
                  to the threshold.
                </para>
                <para>
                  Image 2: Fill By = Red. We clicked in the red strip. The
                  tool searches for contiguous pixels which have a similar
                  value in the red channel, according to the set
                  threshold. Only a narrow area corresponds to these
                  standards. In the green and the blue strip, the value
                  of pixels in the red channel is 0, very much different from
                  the red channel value of the clicked pixel: the color
                  doesn't spread to them.
                </para>
                <para>
                  Image 3: Fill By = Red. We clicked in the green strip.
                  There, the value of the clicked pixel in the red channel is
                  0. All pixels in the green and the blue strips have the
                  same red channel value (0): they are all painted.
                </para>
                <figure>
                  <title>Example for <quote>Fill By</quote></title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/fill-by-0.png"/>
                    </imageobject>
                    <caption>
                      <para>Original image</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/fill-by-1.png"/>
                    </imageobject>
                    <caption>
                      <para>Image 1</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/fill-by-2.png"/>
                    </imageobject>
                    <caption>
                      <para>Image 2</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/fill-by-3.png"/>
                    </imageobject>
                    <caption>
                      <para>Image 3</para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Fill a feathered selection</title>
    <para>
      By clicking repeatedly in a selection with feathered edges, you
      progressively fill the feathered border:
    </para>
    <figure>
      <title>Example for <quote>Fill a feathered Selection</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/fill-feathered-1.png"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/fill-feathered-2.png"/>
        </imageobject>
        <caption>
          <para>
            After clicking 3 times more with the Bucket-Fill tool
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-clone">
  <title>Clone</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Clone</secondary>
  </indexterm>
  <indexterm>
    <primary>Clone</primary>
  </indexterm>

  <figure>
    <title>Clone tool icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-clone.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Clone tool uses the current brush to copy from an image or pattern.
    It has many uses: one of the most important is to repair problem areas in
    digital photos, by <quote>painting over</quote> them with pixel data from 
    other areas. This technique takes a while to learn, but in the hands of a 
		skilled user it is very powerful. Another important use is to draw 
		patterned lines or curves: see 
		<link linkend="gimp-concepts-patterns">Patterns</link> for examples.
  </para>
  <para>
    If you want to clone from an image, instead of a pattern, you must tell
    GIMP which image you want to copy from. You do this by holding down the
    <keycap>Ctrl</keycap> key and clicking in the desired source image.
    Until you have set the source in this way, you will not be able to paint
    with the Clone tool: the tool cursor tells you this by showing
    <guiicon>
      <inlinegraphic fileref="images/toolbox/clone-bad.png"/>
    </guiicon>.
  </para>
  <para>
    If you clone from a pattern, the pattern is <emphasis>tiled</emphasis>;
    that is, when the point you are copying from moves past one of the
    edges, it jumps to the opposite edge and continues, as though the pattern
    were repeated side-by-side, indefinitely. When you clone from an image
    this does not happen: if you go beyond the edges of the source, the Clone
    tool stops producing any changes.
  </para>
  <para>
    You can clone from any drawable (that is, any layer, layer mask, or
    channel) to any other drawable. You can even clone to or from the
    selection mask, by switching to QuickMask mode. If this means copying
    colors that the target does not support (for example, cloning from an RGB
    layer to an Indexed layer or a layer mask), then the colors will be
    converted to the closest possible approximations.
  </para>

  <sect3>
    <title>Activating the tool</title>
    <para>You can activate this tool in several ways:</para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Clone</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the tool icon
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-clone-22.png"/>
          </guiicon> in Toolbox.
        </para>
      </listitem>
      <listitem>
        <para>
          By pressing the <keycap>C</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (default)</title>
    <para>
      See the <link linkend="gimp-tools-paint-modifiers">Paint tools key
      modifiers</link> for a description of key modifiers that have the same
      effect on all paint tools.
    </para>

    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            The <keycap>Ctrl</keycap> key is used to select the source, if
            you are cloning from an image: it has no effect if you are
            cloning from a pattern. You can clone from any layer of any
            image, by clicking on the image display, with the
            <keycap>Ctrl</keycap> key held down, while the layer is active
            (as shown in the Layers dialog). If Alignment is set to
            <guilabel>None</guilabel>, <guilabel>Aligned</guilabel>, or
            <keycap>Fixed</keycap> in tool options, then the point you
            click on becomes the origin for cloning: the image data at that
            point will be used when you first begin painting with the Clone
            tool. In source-selection mode, the cursor changes to a reticle
            cross symbol
            <guiicon>
              <inlinegraphic fileref="images/toolbox/clone-cross.png"/>
            </guiicon>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Tool Options for the Clone tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-clone.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      Normally, tool options are displayed in a window attached under the
      Toolbox as soon as you activate a tool. If they are not, you can access
      them from the image menu bar through
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guisubmenu>Dockable Windows</guisubmenu>
        <guimenuitem>Tool Options</guimenuitem>
      </menuchoice> which opens the option window of the selected tool.
    </para>

    <variablelist>
      <varlistentry>
        <term>
          Mode; Opacity; Brush; Dynamics; Dynamics Options; 
					Fade Options; Apply Jitter; Smooth Stroke; Hard Edge
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Source</term>
        <listitem>
          <indexterm>
            <primary>Patterns</primary>
            <secondary>Clone</secondary>
          </indexterm>
          <para>
            The choice you make here determines whether data will be copied
            from the pattern shown above, or from one of the images you have
            open.
          </para>
          <variablelist>
            <varlistentry>
              <term>Image</term>
              <listitem>
                <para>
                  If you choose <guilabel>Image source</guilabel>, you must
                  tell <acronym>GIMP</acronym> which layer to use as the
                  source, by <keycap>Ctrl</keycap>-clicking on it, before
                  you can paint with the tool.
                </para>
                <para>
                  If you check <guilabel>Sample merged</guilabel> it's what
                  you <quote>see</quote> (color made with all the layers of
                  a multi-layer image) that's cloned. If it's unchecked,
                  only the selected layer is cloned. For more information
                  see the glossary entry <link
                  linkend="glossary-samplemerge">Sample Merge</link>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Pattern</term>
              <listitem>
                <para>
                  Clicking on the pattern symbol brings up the Patterns
                  dialog, which you can use to select the pattern to paint
                  with. This option is only relevant if you are cloning from a
                  Pattern source.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Alignment</term>
        <listitem>
          <para>
            The Alignment mode defines the relation between the brush
            position and the source position.
          </para>
          <para>
            In the following examples, we will use a source image where the
            sample to be cloned will be taken, and a destination image where
            the sample will be cloned (it could be a layer in the source
            image)
          </para>
          <figure>
            <title>Original images for clone alignment</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/clone-source.png"/>
              </imageobject>
              <caption>
                <para>
                  We will use the largest brush with the Pencil tool. The
                  source is represented here with a ringed cross.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/clone-dest.png"/>
              </imageobject>
              <caption>
                <para>
                  An image with a solid background only. We shall draw three
                  cloning strokes successively.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <variablelist>
            <varlistentry>
              <term>None</term>
              <listitem>
                <para>
                  In this mode, each brushstroke is treated separately. For
                  each stroke, the point where you first click is copied from
                  the source origin; there is no relationship between one
                  brush stroke and another. In non-aligned mode, different
                  brush strokes will usually clash if they intersect each
                  other.
                </para>
                <para>
                  Example below: At every new brush stroke, the source goes
                  back to its first position. The same sample is always
                  cloned.
                </para>
                <figure>
                  <title><quote>None</quote> clone alignment</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clone-none.png"/>
                    </imageobject>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Aligned</term>
              <listitem>
                <para>
                  In this mode, the first click you make when painting sets
                  the offset between the source origin and the cloned result,
                  and all subsequent brushstrokes use the same offset. Thus,
                  you can use as many brushstrokes as you like, and they will
                  all mesh smoothly with one another.
                </para>
                <para>
                  If you want to change the offset, select a new source origin
                  by clicking with the <keycap>Ctrl</keycap> key pressed.
                </para>
                <para>
                  In the example below, at every new brush stroke, the source
                  keeps the same offset it had with the previous brush stroke.
                  So, there is no cloning offset for the first brush stroke.
                  Here, for the following strokes, the source ends up out of
                  the source image canvas; hence the truncated aspect.
                </para>
                <figure>
                  <title><quote>Aligned</quote> clone alignment</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clone-aligned.png"/>
                    </imageobject>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Registered</term>
              <listitem>
                <para>
                  The <quote>Registered</quote> mode is different from the
                  other alignment modes. When you copy from an image, a
                  <keycap>Ctrl</keycap>-click will register a source layer.
                  Then painting in a target layer will clone each
                  corresponding pixel (pixel with the same offset) from the
                  source layer. This is useful when you want to clone parts
                  of an image from one layer to another layer within the same
                  image. (But remember that you can also clone from one image
                  to another image.)
                </para>
                <para>
                  At every brush stroke, the source adopts the position of the
                  mouse pointer in the destination layer. In the following
                  example, the destination layer is smaller than the source
                  layer; so, there is no truncated aspect.
                </para>
                <figure>
                  <title><quote>Registered</quote> clone alignment</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clone-registered.png"/>
                    </imageobject>
                    <caption>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Fixed</term>
              <listitem>
                <para>
                  Using this mode you will paint with the source origin,
                  unlike the modes <guilabel>None</guilabel> or
                  <guilabel>Aligned</guilabel> even when drawing a line. The
                  source will not be moved.
                </para>
                <para>
                  See that the source remains fixed. The same small sample is
                  reproduced identically in a tightened way:
                </para>
                <figure>
                  <title><quote>Fixed</quote> clone alignment</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clone-fixed.png"/>
                    </imageobject>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="filter-and-history-brushes">
    <title>Further Information</title>
    <variablelist>
      <varlistentry>
        <term>Transparency</term>
        <listitem>
          <para>
            The effects of the Clone tool on transparency are a bit
            complicated. You cannot clone transparency: if you try to clone
            from a transparent source, nothing happens to the target. If you
            clone from a partially transparent source, the effect is weighted
            by the opacity of the source. So, assuming 100% opacity and a hard
            brush:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                Cloning translucent black onto white produces gray.
              </para>
            </listitem>
            <listitem>
              <para>
                Cloning translucent black onto black produces black.
              </para>
            </listitem>
            <listitem>
              <para>
                Cloning translucent white onto white produces white.
              </para>
            </listitem>
            <listitem>
              <para>
                Cloning translucent white onto black produces gray.
              </para>
            </listitem>
          </itemizedlist>
          <para>
            Cloning can never increase transparency, but, unless <quote>keep
            transparency</quote> is turned on for the layer, it can reduce
            it.
            Cloning an opaque area onto a translucent area produces an opaque
            result; cloning a translucent area onto another translucent area
            causes an increase in opacity.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><quote>Filter</quote> brushes</term>
        <listitem>
          <indexterm>
            <primary>Brushes</primary>
            <secondary>Filter brush</secondary>
          </indexterm>
          <para>
            There are a few non-obvious ways to use the Clone tool to obtain
            powerful effects. One thing you can do is to create <quote>Filter
            brushes</quote>, that is, create the effect of applying a filter
            with a brush. To do this, duplicate the layer you want to work
            on, and apply the filter to the copy. Then activate the Clone
            tool, setting Source to <quote>Image source</quote> and Alignment
            to <quote>Registered</quote>. <keycap>Ctrl</keycap>-click on the
            filtered layer to set it as the source, and paint on the original
            layer: you will then in effect be painting the filtered image
            data onto the original layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>History brush</term>
        <listitem>
          <indexterm>
            <primary>Brushes</primary>
            <secondary>History brush</secondary>
          </indexterm>
          <para>
            You can use a similar approach to imitate Photoshop's
            <quote>History brush</quote>, which allows you to selectively
            undo or redo changes using a brush. To do this, start by
            duplicating the image; then, in the original, go back to the
            desired state in the image's history, either by undoing or by
            using the Undo History dialog. (This must be done in the
            original, not the copy, because duplicating an image does not
            duplicate the Undo history.) Now activate the Clone tool,
            setting Source to <quote>Image source</quote> and Alignment to
            <quote>Registered</quote>. <keycap>Ctrl</keycap>-click on a layer
            from one image, and paint on the corresponding layer from the
            other image. Depending on how you do it, this gives you either
            an <quote>undo brush</quote> or a <quote>redo brush</quote>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-brush">
  <title>Common Features</title>

  <para>
    The <acronym>GIMP</acronym> Toolbox includes thirteen <quote>paint
    tools</quote>, all grouped together at the bottom (in the default
    arrangement).
  </para>
  <figure>
    <title>The Paint Tools (Tools Box)</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/brush-tools-box.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The feature they all have in common is that all of them are used by moving
    the pointer across the image display, creating brush-strokes. Four of them
  </para>

  <itemizedlist>
    <listitem>
      <para>
        the <link linkend="gimp-tool-pencil">Pencil</link>,
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-paintbrush">Paintbrush</link>,
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-airbrush">Airbrush</link> and
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-ink">Ink tool</link>
      </para>
    </listitem>
  </itemizedlist>

  <para>
    behave like the intuitive notion of <quote>painting</quote> with a brush.
    Pencil, Paintbrush, and Airbrush are called <quote>basic painting
    tools</quote> or <link linkend="gimp-tools-brush">brush&nbsp;tools</link>.
  </para>
  <para>
    The other tools use a brush to modify an image in some way rather than
    paint on it:
  </para>
  <itemizedlist>
    <listitem>
      <para>
        the <link linkend="gimp-tool-bucket-fill">Bucket Fill</link> fills
        with color or pattern;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-blend">Gradient</link> fills with
        gradients;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-eraser">Eraser</link> erases;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-clone">Clone tool</link> copies from a
        pattern, or image;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-perspective-clone">Perspective 
        Clone</link> tool copies into a changed perspective;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-heal">Heal tool</link> corrects small
        defects;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-convolve">Convolve tool</link>
        blurs or sharpens;
     </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-smudge">Smudge tool</link> smears;
      </para>
    </listitem>
    <listitem>
      <para>
        and the <link linkend="gimp-tool-dodge-burn">Dodge/Burn tool</link>
        lightens or darkens.
      </para>
    </listitem>
  </itemizedlist>

  <para>
    The advantages of using <acronym>GIMP</acronym> with a tablet instead of a
    mouse probably show up more clearly for brush tools than anywhere else:
    the gain in fine control is invaluable. These tools also have special
    <quote>Pressure sensitivity</quote> options that are only usable with a
    tablet.
  </para>
  <para>
    In addition to the more common <quote>hands-on</quote> method, it is
    possible to apply paint tools in an automated way, by creating a selection
    or path and then <quote>stroking</quote> it.  You can choose to stroke
    with any of the paint tools, including nonstandard ones such as the
    Eraser, Smudge tool, etc., and any options you set for the tool will be
    applied.  See the section on
    <link linkend="gimp-selection-stroke">Stroking</link> for more
    information.
  </para>

  <sect3 id="gimp-tools-paint-modifiers">
    <title>Key modifiers</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            Holding down the <keycap>Ctrl</keycap> key has a special effect on
            every paint tool. For the Pencil, Paintbrush, Airbrush, Ink, and
            Eraser, it switches them into <quote>color picker</quote> mode, so
            that clicking on an image pixel causes <acronym>GIMP</acronym>'s
            foreground to be set to the active layer's color at that point
            (or, for the Eraser, <acronym>GIMP</acronym>'s background color).
            For the Clone tool, the <keycap>Ctrl</keycap> key switches it into
            a mode where clicking sets the reference point for copying. For
            the Convolve tool, the <keycap>Ctrl</keycap> key switches between
            blur and sharpen modes; for the Dodge/Burn tool, it switches
            between dodging and burning.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <indexterm>
            <primary>Straight Line</primary>
          </indexterm>
          <para>
            Holding down the <keycap>Shift</keycap> key has the same effect on
            most paint tools: it places the tool into <emphasis>straight
            line</emphasis> mode. To create a straight line with any of the
            paint tools, first click on the starting point,
            <emphasis>then</emphasis> press the <keycap>Shift</keycap> key.
            As long as you hold it down, you will see a thin line connecting
            the previously clicked point with the current pointer location.
            If you click again, while continuing to hold down the
            <keycap>Shift</keycap> key, a straight line will be rendered. You
            can continue this process to create a series of connected line
            segments.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <keycombo>
            <keycap>Ctrl</keycap>
            <keycap>Shift</keycap>
          </keycombo>
        </term>
        <listitem>
          <para>
            Holding down both keys puts the tool into
            <emphasis>constrained straight line</emphasis> mode.  This is
            similar to the effect of the <keycap>Shift</keycap> key alone,
            except that the orientation of the line is constrained to the
            nearest multiple of 15 degrees.  Use this if you want to
            create perfect horizontal, vertical, or diagonal lines.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-tools-paint-options">
    <title>Tool Options</title>
    <figure>
      <title>Tool options shared by paint tools</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-brushcommon.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      Many tool options are shared by several paint tools: these are described 
      here. Options that apply only to one specific tool, or to a small number
      of tools, are described in the sections devoted to those tools.
    </para>
    <variablelist id="gimp-tool-painting-modes" xreflabel="Painting Modes">
      <varlistentry>
        <term>Mode</term>
        <listitem>
          <para>
            The Mode drop-down list provides a selection of paint
            application modes. As with the opacity, the easiest way to
            understand what the Mode setting does is to imagine that the
            paint is actually applied to a layer above the layer you are
            working on, with the layer combination mode in the Layers
            dialog set to the selected mode. You can obtain a great variety
            of special effects in this way. The Mode option is only usable
            for tools that can be thought of as adding color to the image:
            the Pencil, Paintbrush, Airbrush, Ink, and Clone tools. For the
            other paint tools, the option appears for the sake of
            consistency but is always grayed out. A list of modes can be
            found in <xref linkend="gimp-concepts-layer-modes"/>.
          </para>
          <para>
            In this list, some modes are particular and are described
            <link linkend="gimp-paint-mode-examples">below</link>.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <indexterm>
            <primary>Transparency</primary>
            <secondary>Brush opacity</secondary>
          </indexterm>
          <indexterm>
            <primary>Opacity</primary>
            <secondary>Brush</secondary>
          </indexterm>
          <para>
            The Opacity slider sets the transparency level for the brush
            operation. To understand how it works, imagine that instead of
            altering the active layer, the tool creates a transparent layer
            above the active layer and acts on that layer. Changing Opacity in
            the Tool Options has the same effect that changing opacity in the
            Layers dialog would have in the latter situation. It controls the 
            <quote>strength</quote> of all paint tools, not just those that 
            paint on the active layer. In the case of the Eraser, this can 
            come across as a bit confusing: it works out that the higher the 
            <quote>opacity</quote> is, the more transparency you get.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Brush</term>
        <listitem>
          <para>
            The brush determines how much of the image is affected by the
            tool, and how it is affected, when you trace out a brushstroke
            with the pointer. <acronym>GIMP</acronym> allows you to use
            several different types of brushes, which are described in the
            <link linkend="gimp-concepts-brushes">Brushes</link>
            section. The same brush choices are available for all paint tools
            except the Ink tool, which uses a unique type of procedurally
            generated brush. The colors of a brush only come into play for
            tools where they are meaningful: the Pencil, Paintbrush, and
            Airbrush tools. For the other paint tools, only the intensity
            distribution of a brush is relevant.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            This option lets you to modify precisely the size of the brush.
            You can use the arrow keys to vary by Â±0.01 or the Page-Up and
            Page-Down keys to vary by Â±1.00. You can obtain the same result if
            you have correctly set your mouse-wheel in the Preferences. See
            <link linkend="gimp-using-variable-size-brush">How to vary the
            size of a brush</link>
          </para>
        </listitem>
      </varlistentry>
      
      <varlistentry>
        <term>Aspect Ratio</term>
        <listitem>
          <para>
            This determines the ratio between the height and the width
            of the brush. The slider is scaled from -20.00 to 20.00 with the 
            default value set to 0.00. A negative value from 0.00 to -20 will 
            narrow the height of the brush while a positive value between 0.00 
            and 20.00 indicates the narrowing rate of the width of the brush.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>
            This option makes the brush turn round its center. This is visible 
            if the brush is not circular or made from a rotated figure.
          </para>
        </listitem>
      </varlistentry>			

      <varlistentry id="gimp-tool-brush-dynamics" xreflabel="Brush Dynamics">
        <term>Dynamics</term>
        <listitem>
          <figure>
            <title>The Brush Dynamics in the Tool Options Dialog </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/paint-dynamics-tool-options.png"/>
              </imageobject>
            </mediaobject>
          </figure>
          <para>
            Brush dynamics let you map different brush parameters to several 
            input dynamics. They are mostly used with graphic tablets, but 
            some of them are also usable with a mouse.
          </para>
          <para>
            You can read more about dynamics in 
            <link linkend="gimp-tool-dynamics">Dynamics</link>
          </para>
          <para>
            When stroking paths and selections using a paint tool there is a an 
            option to select <quote>Emulate brush dynamics</quote>. That means 
            that when you stoke, brush pressure and velocity are varying along 
            the length of the stroke. Pressure starts with zero, ramps up to 
            full pressure and then ramps down again to no pressure. Velocity 
            starts from zero and ramps up to full speed by the end of the  
            stroke.
          </para>          
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Dynamics Options</term>
        <listitem>
          <para>
            These options are described in 
            <link linkend="gimp-tool-dynamic-options">Dynamics Options</link>
          </para>        
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Apply Jitter</term>
        <listitem>
          <indexterm>
            <primary>Jitter</primary>
          </indexterm>
          <para>
            You know <quote>spacing</quote> in brush strokes: strokes are
            made of successive brush marks which, when they are very near,
            seem to draw a continuous line. Here, instead of being aligned
            brush marks are scattered over a distance you can set with the
            <guimenuitem>Amount</guimenuitem> slider.
          </para>
          <figure>
            <title><quote>Jitter</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/jitter.png"/>
              </imageobject>
              <caption>
                <para>
                  From top to bottom: without jitter, jitter = 1, jitter = 4.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            Jitter is also available in the Paint Dynamic Editor where you can 
            connect jitter to the behavior of the brush.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Smooth Stroke</term>
        <listitem>
          <para>
            This option doesn't affect the rendering of the brush stroke but 
            its <quote>shape</quote>. It takes away the wobbles of the line you
            are drawing. It makes drawing with a mouse easier.
          </para>
          <para>
            When this option is checked, two setting areas appear,
            <guilabel>Quality</guilabel> and <guilabel>Weight</guilabel>. You
            can change the default values to adapt them to your skill.
          </para>
          <para>
            High weight values rigidifies the brush stroke.
          </para>
          <figure>
            <title><quote>Smooth Stroke</quote> example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/smooth-stroke.png"/>
              </imageobject>
              <caption>
                <para>
                  Trying to draw a straight line and a sine curve with the
                  mouse.  1 : option unchecked   2 : default values   
                  3 : maximum values
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Incremental</term>
        <listitem>
          <para>
            The incremental check-box does not seems to work as everyone expect.
            If it is deactivated (the default value) the maximum effect of a 
            single stroke is determined by the opacity set in the opacity 
            slider. If the opacity is set to less than 100, moving the brush 
            over the same spot will increase the opacity if the brush is lifted 
            in the meantime. Painting over with the same stroke has no such 
            effect. If Incremental is active the brush will paint with full 
            opacity independent of the slider's setting. This option is available 
            for all paint tools except those which have a <quote>rate</quote> 
            control, which automatically implies an incremental effect. See 
            also <xref linkend="gimp-concepts-layer-modes"/>.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>
  </sect3>

  <sect3 id="gimp-paint-mode-examples">
    <title>Paint Mode Examples</title>

    <para>
      The following examples demonstrate some of <acronym>GIMP</acronym>'s
      paint modes:
    </para>
    <variablelist>
      <varlistentry>
        <term>Dissolve</term>
        <listitem>
          <figure>
            <title>Dissolve mode example</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/dissolve-mode-example.png"/>
              </imageobject>
              <caption>
                <para>
                  Two brush-strokes made with the Airbrush, using the same
                  fuzzy circular brush. Left: Normal mode. Right: Dissolve
                  mode.
                </para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            For any paint tool with  opacity less than 100%, this very
            useful mode doesn't draw transparency but determines the
            probability of applying paint. This gives nice patterns of
            dots to paint-strokes or filling.
          </para>
          <figure>
            <title>Painting in Dissolve mode</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/mode-dissolve.png"/>
              </imageobject>
              <caption>
                <para>
                  This image has only the background layer and no Alpha
                  channel. The background color is sky blue. Three
                  strokes with Pencil and various opacities: 100%, 50%,
                  25%. Foreground color pixels are scattered along
                  brushstroke.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Behind</term>
        <listitem>
          <indexterm>
            <primary>Paint Modes</primary>
            <secondary>Behind</secondary>
          </indexterm>
          <indexterm>
            <primary>Behind (paint mode)</primary>
          </indexterm>
          <figure>
            <title>Example for layer mode <quote>Behind</quote></title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/glossary/modes-normal2.png"/>
              </imageobject>
              <caption>
                <para>Wilber over a blue background layer</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/using/wilber-layers.png"/>
              </imageobject>
              <caption>
                <para>Layers dialog</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/glossary/modes-behind.png"/>
              </imageobject>
              <caption>
                <para>Filled with pattern</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            This mode applies paint only to transparent areas of the
            layer: the lower the opacity, the more paint is applied.
            Thus, painting opaque areas has no effect; painting
            transparent areas has the same effect as normal mode. The
            result is always an increase in opacity. Of course none of
            this is meaningful for layers that lack an alpha channel.
          </para>
          <para>
            In the above example image, Wilber is on the top layer,
            surrounded by transparency. The lower layer is solid light
            blue. The Bucket Fill tool was used, with the
            <guilabel>Fill Whole Selection</guilabel> option checked
            and the entire layer was selected. A pattern was used to
            paint with the Bucket Fill tool.
          </para>
          <para>
            The next image (below) has two layers. The upper layer is active.
            Three brushtrokes with pencil, red color at 100%, 50%, 25%: only
            transparent or semi-transparent pixels of the layer are painted.
          </para>
          <figure>
            <title>Painting in <quote>Behind</quote> mode</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/mode-behind.png"/>
              </imageobject>
              <caption>
                <para>
                  Painting with 100%, 50%, 25% transparency (from left to
                  right)
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color Erase</term>
        <listitem>
          <indexterm>
            <primary>Paint Modes</primary>
            <secondary>Color Erase</secondary>
          </indexterm>
          <indexterm>
            <primary>Color Erase (paint mode)</primary>
          </indexterm>
          <figure>
            <title>Example for layer mode <quote>Color erase</quote></title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/glossary/modes-normal2.png"/>
              </imageobject>
              <caption>
                <para>Wilber over a blue background layer</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/glossary/modes-colorerase.png"/>
              </imageobject>
              <caption>
                <para>White foreground color erased</para>
              </caption>
            </mediaobject>
          </figure>
          <para>
            This mode erases the foreground color, replacing it with
            partial transparency. It acts like the
            <link linkend="plug-in-colortoalpha">Color to Alpha</link>
            filter, applied to the area under the brushstroke. Note that
            this only works on layers that possess an alpha channel;
            otherwise, this mode is identical to Normal.
          </para>
          <para>
            In the above example image, the color of the Bucket Fill tool
            was white, so white parts of Wilber were erased and the blue
            background shows through.
          </para>
          <para>
            This image below has only one layer, the background layer.
            Background color is sky blue. Three brushtrokes with
            pencil:
          </para>
          <orderedlist>
            <listitem>
              <para>
                With the exact color of the blue area: only this blue color is
                erased.
              </para>
            </listitem>
            <listitem>
              <para>
                With the exact color of the red area. Only this red color is
                erased, whatever its transparency.  Erased areas are made
                transparent.
              </para>
            </listitem>
            <listitem>
              <para>
                With the sky blue color of the layer background: only this
                color is erased.
              </para>
            </listitem>
          </orderedlist>
          <figure>
            <title>Painting in <quote>Color Erase</quote> mode</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/mode-erase.png"/>
              </imageobject>
              <caption>
                <para>
                  Painted with 1. blue; 2. red; 3. background color
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Further Information</title>
    <para>
      Advanced users may be interested to know that paint tools actually
      operate at a sub-pixel level, in order to avoid producing jagged-looking
      results. One consequence of this is that even if you work with a
      hard-edged brush, such as one of the Circle brushes, pixels on the edge
      of the brushstroke will only be partially affected. If you need to have
      all-or-nothing effects (which may be necessary for getting a good
      selection, or for cutting and pasting, or for operating pixel-by-pixel
      at a high zoom level), use the Pencil tool, which makes all brushes
      perfectly hard and disables sub-pixel anti-aliasing.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-convolve">
  <title>Blur/Sharpen</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Blur/Sharpen</secondary>
  </indexterm>
  <indexterm>
    <primary>Blur/Sharpen</primary>
  </indexterm>

  <figure>
    <title>Blur/Sharpen tool icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-blur.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Blur/Sharpen tool uses the current brush to locally blur or sharpen your
    image. Blurring with it can be useful if some element of your image stands
    out too much, and you would like to soften it. If you want to blur a whole
    layer, or a large part of one, you will probably be better off using one
    of the <link linkend="filters-blur">Blur Filters</link>.
    The direction of a brushstroke has no effect: if you want directional
    blurring, use the Smudge tool.
  </para>
  <para>
    In <quote>Sharpen</quote> mode, the tool works by increasing the contrast
    where the brush is applied.  A little bit of this may be useful, but
    over-application will produce noise.  Some of the
    <link linkend="filters-enhance">Enhancement Filters</link>, particularly
    the <link linkend="plug-in-unsharp-mask">Unsharp Mask</link>, do a
    much cleaner job of sharpening areas of a layer.
  </para>

  <tip>
    <para>
      You can create a more sophisticated sharpening brush using the Clone
      tool. To do this, start by duplicating the layer you want to work on,
      and run a sharpening filter, such as Unsharp Mask, on the copy. Then
      activate the Clone tool, and in its Tool Options set Source to
      <quote>Image source</quote> and Alignment to <quote>Registered</quote>.
      Set the Opacity to a modest value, such as 10. Then
      <keycap>Ctrl</keycap>-click on the copy to make it the source image. If
      you now paint on the original layer, you will mix together, where the
      brush is applied, the sharpened version with the unsharpened version.
    </para>
  </tip>

  <para>
    Both blurring and sharpening work incrementally: moving the brush
    repeatedly over an area will increase the effect with each additional
    pass. The Rate control allows you to determine how quickly the
    modifications accumulate. The Opacity control, however, can be used to
    limit the amount of blurring that can be produced by a single brushstroke,
    regardless of how many passes are made with it.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      There are different possibilities to activate the tool:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image-menu:
          <menuchoice><guimenu>Tools</guimenu>
            <guisubmenu>Paint tools</guisubmenu>
            <guimenuitem>Blur/Sharpen</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          The Tool can also be called by clicking the tool icon:
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-blur-22.png"/>
          </guiicon>
          in the Toolbox.
        </para>
      </listitem>
      <listitem>
        <para>
          By using the keyboard shortcut
          <keycombo><keycap>Shift</keycap><keycap>U</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <para>
      See the <link linkend="gimp-tool-brush">Paint Tools' Common
      Features</link> for a description of key modifiers that have the same
      effect on all paint tools.
    </para>
    <variablelist>
      <varlistentry>
        <term><keycap>Ctrl</keycap></term>
        <listitem>
          <para>
            Holding down the <keycap>Ctrl</keycap> key toggles between Blur
            and Sharpen
            modes; it reverses the setting shown in the Tool Options.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Tool Options for the Blur/Sharpen tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-blur-sharpen.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Opacity; Brush; Dynamics; Dynamics Options; 
					Apply Jitter; Hard Edges
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Convolve Type</term>
        <listitem>
          <para>
            <emphasis>Blur</emphasis>
            mode causes each pixel affected by the brush to be blended with
            neighboring pixels, thereby increasing the similarity of pixels
            inside the brushstroke area. <emphasis>Sharpen</emphasis>
            mode causes each pixel to become more different from its neighbors
            than it previously was: it increases contrast inside the
            brushstroke area. Too much Sharpen ends in an ugly flocculation
            aspect. Whatever setting you choose here, you can reverse
            it on-the-fly by holding down the <keycap>Ctrl</keycap> key.
          </para>
          <para>
            <quote>Convolve</quote> refers to a mathematical method using
            matrices.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Rate</term>
        <listitem>
          <para>
            The <guilabel>Rate</guilabel>
            slider sets the strength of the Blur/Sharpen effect.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-dodge-burn">
  <title>Dodge/Burn</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Dodge/Burn</secondary>
  </indexterm>
  <indexterm>
    <primary>Dodge/Burn</primary>
  </indexterm>

  <figure>
    <title>Dodge tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-dodge.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Dodge or Burn tool uses the current brush to lighten or darken the
    colors in your image. The mode will determine which type of pixels are
    affected.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      There are different possibilities to activate the tool:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image-menu:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Dodge / Burn</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          The Tool can also be called by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-dodge-22.png"/>
          </guiicon>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the
          <keycombo><keycap>Shift</keycap><keycap>D</keycap></keycombo>
          keyboard shortcut.
          </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            Toggle between dodge or burn types. The type will remain switched
            until <keycap>Ctrl</keycap> is released.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            <keycap>Shift</keycap> places the Dodge or Burn tool into
            straight line mode. Holding <keycap>Shift</keycap> while clicking
            <mousebutton>Button1</mousebutton> will Dodge or Burn in a
            straight line. Consecutive clicks will continue Dodge or
            Burn in straight lines that originate from the end of the
            last line.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Dodge/Burn</quote> tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-dodge.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Opacity; Brush; Dynamics; Dynamics Options; 
					Apply Jitter; Hard Edge
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Type</term>
        <listitem>
          <para>The dodge effect lightens colors.</para>
          <para>The burn effect darkens colors.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Range</term>
        <listitem>
          <para>There are three modes:</para>
          <itemizedlist>
            <listitem>
              <para><guilabel>Shadows</guilabel>
                restricts the effect to darkest pixels.
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Midtones</guilabel>
                restricts the effect to pixels of average tone.
              </para>
            </listitem>
            <listitem>
              <para><guilabel>Highlights</guilabel>
                restricts the effect to lightest pixels.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Exposure</term>
        <listitem>
          <para>
            Exposure defines how much the tool effect will be strong, as a
            more or less exposed photograph. Default slider is 50 but can vary
            from 0 to 100.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-dynamics">
  <title>Dynamics</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Dynamics</secondary>
  </indexterm>
  <indexterm>
    <primary>Dynamics</primary>
  </indexterm>

  <para>
    The dynamics apply a more <quote>real feeling</quote> to the brush by
    connecting one or more of the brush parameters to the way of using the
    brush. You may for instance let the width of the pencil vary according to
    the speed of the stylus or the mouse, make the color saturation
    depending on the stylus pressure, make the color changing as the
    direction of the brush changes on the canvas, and so on. You may choose
    among several presets or define your own. The dynamics are created to be
    used together with drawing tablets, but some are available using the mouse.
  </para>
  <para>
    The dynamics will make some of the behaviors of the drawing tools act more
    like the physical (<quote>real</quote>) tools.
  </para>

  <figure>
    <title>Dynamics in Tool Options </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/paint-dynamics-tool-options.png"
        format="PNG"/>
      </imageobject>
      <caption>
        <para>The Dynamics in Tool Options Dialog</para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/paint-dynamics-list.png"
        format="PNG"/>
      </imageobject>
      <caption>
        <para>The Dynamics Preset List</para>
      </caption>
    </mediaobject>
  </figure>

  <para>
    The Dynamics area in the Tool Option dialog shows from left to right, the
    button to open the list containing the available dynamic presets, a field
    displaying the name of the current preset, and rightmost the edit button.
    Click on the
    <guiicon>
      <inlinegraphic
      fileref="images/toolbox/stock-tool-folders-dynamics-22.png"/>
    </guiicon>
    button to open the dialog window displaying the available dynamics presets
    and select another preset.
  </para>

  <sect3>
    <title>The Paint Dynamics Selection Dialog</title>
    <figure>
      <title>The Paint Dynamics Selection Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-select.png"
          format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Paint Dynamics dialog window can be opened
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image-menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Paint Dynamics</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking on the <guibutton>Open the dynamics
          selection</guibutton>
          button in the list of dynamics presets.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      The <guilabel>Paint Dynamics</guilabel> dialog is a dockable dialog;
      please see the section <xref linkend="gimp-concepts-docks"/> for help on
      manipulating it.
    </para>

    <itemizedlist>
      <para>
        From this dialog you can select from all the available presets, just
        as from the list of dynamics presets. In addition there are five
        buttons:
      </para>
      <listitem>
        <para>
          Edit dynamics: Click on this to edit the selected dynamics.
        </para>
      </listitem>
      <listitem>
        <para>
          Create a new dynamics: Do just that.
        </para>
      </listitem>
      <listitem>
        <para>
          Duplicate this dynamics: Make a copy of the selected dynamics.
        </para>
      </listitem>
      <listitem>
        <para>
          Delete this dynamics: Delete the selected dynamics.
        </para>
      </listitem>
      <listitem>
        <para>
          Refresh dynamics: Update the dynamics list.
        </para>
      </listitem>
    </itemizedlist>

  </sect3>

  <sect3>
    <title>Editing Paint Dynamics</title>
    <figure>
      <title>Editing Paint Dynamics</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-edit.png"
          format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <itemizedlist>
      <para>
        The Paint Dynamics Editor can be called from:
      </para>
      <listitem>
        <para>
          the edit button in the Tool Options dialog,
        </para>
      </listitem>
      <listitem>
        <para>
          the Paint Dynamics selection dialog by clicking either the
          <guibutton>Edit Dynamics</guibutton> button or the <guibutton>Create
          a New Dynamics</guibutton> button.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      You select the desired behaviors by clicking in the small squares.
      Clicking a second time will unselect the marking.
    </para>
    <note>
      <para>
        Pre-installed dynamics are grayed out meaning you are not allowed to
        change the settings. To edit the options you have to work on a copy
        made from one of the pre-installed dynamics or create a new dynamics.
      </para>
    </note>
  </sect3>

  <sect3>
    <title>The Paint Dynamics Matrix</title>
    <indexterm>
    <primary>Tools</primary>
    <secondary>Dynamics Matrix</secondary>
    </indexterm>
    <indexterm>
      <primary>Dynamics Matrix</primary>
    </indexterm>
    <para>
      The main part of the edit dialog is a table where you can decide
      which brush parameters should be affected by the way you use the stylus
      or the mouse. You can enable as many parameters and parameter
      combinations you want, but usually the fewer the better.
    </para>

    <itemizedlist>
      <para>
        Each column in the table represents a stylus or mouse action except
        the random and the fade functions. All functions works with graphic
        tablet. Some of the functions are also available using the mouse. These
        functions are marked in the tables. The descriptions are using the
        default settings of all functions
      </para>
      <listitem>
        <para>
          <guilabel>Pressure</guilabel>: It allows you to decide which
          aspects of the tool's action will be affected by pressing the
          stylus against the tablet.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Velocity</guilabel>: (mouse) This is the speed of
          the brush.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Direction</guilabel>: (mouse) This is the moving direction
          of the brush.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Tilt</guilabel>: The behavior of the function depends
          on the tilting of the stylus.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Wheel</guilabel>: The output depends on the rotation of
          the stylus or the setting of the wheel on the airbrush pen.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Random</guilabel>: (mouse) The selected option will
          change at random.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Fade</guilabel>: (mouse) The selected option will be
          faded in or out depending on the settings of the fade options in
          the Dynamic Options menu of the Tools Option dialog.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Each row shows a brush parameter and seven check-boxes, one for
      each action. You connect the parameters to the actions by clicking
      the appropriate boxes. Clicking on a selected box will unselect the
      connection.
    </para>
    <variablelist>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            <guilabel>Pressure</guilabel>: Press harder to make the drawing
            less transparent.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (mouse) The opacity decreases as
            the speed of the stylus increases.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (mouse) The opacity depends on
            the direction of the stylus or the mouse. The effect seems to
            have a touch of randomness built in.
          </para>
          <para>
            <guilabel>Tilt</guilabel>: The opacity depends on the tilt of
            the stylus.
          </para>
          <para>
            <guilabel>Wheel</guilabel>: TO DO
          </para>
          <para>
            <guilabel>Random</guilabel>: (mouse) The opacity changes at
            random in the interval set by the opacity slider in the Tool
            Options dialog.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (mouse) Starting with full transparency
            and ending with the opacity set by the opacity slider in the
            Tool Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            <guilabel>Pressure</guilabel>: Press harder to make the brush
            wider.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (mouse) Increasing speed decreases
            the width of the brush.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (mouse) The size of the brush
            depends on the moving direction of the stylus or the mouse. The
            effect seems to have a touch of randomness built in.
          </para>
          <para>
            <guilabel>Tilt</guilabel>: The size of the brush depends on the
            tilt of the stylus.
          </para>
          <para>
            <guilabel>Wheel</guilabel>: TODO
          </para>
          <para>
            <guilabel>Random</guilabel>: (mouse) The size of the brush
            changes at random up to the size set in the brush size slider
            in the Tool Options dialog.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (mouse) Fades from a narrow brush to
            the size set by the brush size slider in the Tools Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>
            TO DO
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            By default the color is picked from the foreground color in the
            toolbox. However, if the color is activated in the dynamics
            editor, the color is instead collected from the active gradient.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (mouse) At slow speeds the color
            is collected from the right side of the gradient. As the speed
            increase the color is picked more and more from the left side
            of the gradient.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (mouse) The direction determine
            where on the gradient the color is picked from. The effect seems
            to work a bit on random.
          </para>

          <para>
            <guilabel>Random</guilabel>: (mouse) The color is picked at
            random from the gradient.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (mouse) The start color is collected
            from the left side of the gradient and then more and more from
            the right side during the stroke. The behavior of the fading is
            set in the Fade Options in the Tool Options Dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Hardness</term>
        <listitem>
          <para>
            The hardness option is useful only for fuzzy brushes.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (mouse) At slow speed the brush
            is hard and become more fuzzy as the speed increase.
          </para>

          <para>
          <guilabel>Random</guilabel>: (mouse) The fussiness of the brush
          varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>:(mouse) The brush become less fuzzy
            during the stroke. The behavior of the fading is set in the Fade
            Options in the Tool Options Dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Force</term>
        <listitem>
          <para>
            TO DO
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Aspect Ratio</term>
        <listitem>
          <para>
            The Aspect Ratio Slider in the Tool Options Dialog must be set
            to other values than the default value of 0.00 to activate the
            dynamics. If the aspect ratio slider is set to a negative value
            the width of the brush will vary while the height of the brush
            is constant. If the slider is set to a positive value only the
            height of the brush will vary.
          </para>

          <para>
            <guilabel>Velocity</guilabel>: (mouse) The aspect
            ratio of the brush (width / height) varies with the speed of
            the brush.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (mouse) The aspect ratio of the
            brush varies with the moving direction of the brush. The effect
            seems to have a touch of randomness built in.
          </para>

          <para>
            <guilabel>Random</guilabel>: (mouse) The aspect ratio of the
            brush varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (mouse) If the Aspect Ratio Slider
            is set to a positive value the brush will fade from full height
            at the start of the stroke to the height set by the aspect ratio
            slider. If the slider is set to a negative value the brush fades
            from full width to the width set by the aspect ratio slider. The
            behavior of the fading is set in the Fade Options in the Tool
            Options Dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Spacing</term>
        <listitem>
          <para>
            Spacing is the distance between the marks set by the brush when
            drawing lines. With this option set the spacing is affected by how
            the stylus or mouse is used.
          </para>

          <para>
            <guilabel>Velocity</guilabel>: (mouse) The spacing between the
            footprints of the brush increases with increasing speed.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (mouse) The spacing varies with
            the moving direction of the brush. The effect seems to have a
            touch of randomness built in.
          </para>

          <para>
            <guilabel>Random</guilabel>: (mouse) The spacing varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (mouse) Starting with a wide spacing
            and gradually make the spacing narrower. The behavior of the
            fading is set in the Fade Options in the Tool Options Dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Rate</term>
        <listitem>
          <para>
            This option applies to the Airbrush, Convolve tool, and
            Smudge tool, all of which have time-based effects.
          </para>
          <para>
            The actions of these tools are more or less quick. The amount
            of Rate depends on the setting of the Rate slider in the Tool
            Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Flow</term>
        <listitem>
          <para>
            Significant only for the Airbrush: more or less paint is delivered.
            The amount of flow depends on the setting of the Flow slider in the
            Tool Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Jitter</term>
        <listitem>
          <para>
            Normally the brush draws a line by printing the brush marks close
            together. Adding jitter means that the brush prints are scattered
            along the line. The amount of scattering depends on the setting
            of the jitter slider in the Tool Options dialog window.
          </para>
          <para>
            <guilabel>Pressure</guilabel>: At low pressure the brush prints
            are spread according to the value set in the jitter amount
            slider. As the pressure increases the scattering amount decreases.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (mouse) At slow speed the brush
            prints are spread according to the value set in the jitter amount
            slider. As the speed increase the scattering amount decrease.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (mouse) The jitter effect depends
            on the direction of the brush. The effect seems to have a touch
            of randomness built in.
          </para>
          <para>
            <guilabel>Random</guilabel>: (mouse)The jitter varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (mouse) Starting with no jitter
            and ending with the amount of jitter set in the jitter amount
            slider. The behavior of the fading is set in the fade options
            in the Tool Options dialog.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Customizing the Dynamics</title>
    <figure>
      <title>Customizing the Dynamics</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-tuning.png"
          format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      If the current options do not suits you, you may fine-tune the settings
      from the Paint Dynamics Editor. Click on the down arrow to open the
      drop down menu and then select what option to change.
    </para>

    <figure>
      <title>The Fine Tuning Curve</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-tuning-color.png"
          format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Click on one of the options to open the customizing dialog. The upper
      part of the dialog contains a curve where you can adjust the behaviour
      of the chosen parameters selected in the lower part of the dialog. You
      can drag the curve by pointing on it with the mouse pointer, holding
      down the left mouse button and the move the curve wherever you want
      inside the diagram.
    </para>
  </sect3>

  <sect3>
    <title>Dynamics Examples</title>
    <figure>
      <title>Dynamics Options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-fade-example-1.png"
          format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The brush strokes
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-fade-example-2.png"
          format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The brush size - fade curve
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-fade-example-3.png"
          format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The color - fade curve
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The examples shown are very brief, but will perhaps give you an idea
      of how to use this functions. Feel free to try other combinations. In
      these examples the foreground color is set to blue (#0000ff) and the
      background color to yellow (#ffff00). Fading: 200 pixels. Paintbrush
      size: 72. All other settings are the default values except for those
      values changed
    </para>
    <itemizedlist mark="opencircle">
      <listitem>
        <para>
          Example 1 shows the result when the brush size is connected to the
          fading. Default options. The brush size starts as zero and increase
          to the size set in the brush size slider in the Tools Options Dialog.
        </para>
      </listitem>
      <listitem>
        <para>
          In example 2 the brush size is still connected to the fade tool,
          but the fade curve is set as in image 5. The brush size starts at
          zero, fades up to full size and then fades down to zero again.
        </para>
        <para>
          The full fade length is set along the x-axis from left to right. The
          y-axis determines the size of the brush. At the bottom the brush size
          is zero, and at the top of the diagram the brush is set to the full
          size according to the size set in the slider in the Brush Options
          Dialog. Study the example and the curve to see the relationship.
        </para>
      </listitem>
      <listitem>
        <para>
          In example 3 the brush size is disconnected from the fade tool. The
          color is connected with the fade option with the curve set as in
          image 6. At the start of the drawing the color is picked from the
          left side of the gradient, then gradually more from the right side
          of the gradient and then finally fading back to the left side again.
        </para>
        <para>
          As usual the x-axis is the total fade length. When the curve is
          near the bottom of the diagram the color is picked from the left
          side of the gradient. With the curve at the top of the diagram
          the color is picked from the right side of the gradient.
        </para>
      </listitem>
      <listitem>
        <para>
          The last example shows a combination of these two settings. Both
          the size of the brush and the color are connected to the fading
          function with the curves set as in image 5 and 6.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

<!-- ****** Dynamic Options: ****** -->

  <sect3 id="gimp-tool-dynamic-options">
    <title>Dynamics Options</title>

    <indexterm>
      <primary>Tools</primary>
      <secondary>Dynamics Options</secondary>
    </indexterm>
    <indexterm>
      <primary>Dynamics Options</primary>
    </indexterm>

    <figure>
      <title>Dynamics Options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-options.png"
          format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Many of the dynamics behaviors also depends on the settings of the
      Dynamics Options in the Tool Options dialog and vice versa. For example
      the fading will not work if it is not applied in the Dynamics section.
    </para>
    <variablelist>
      <varlistentry>
        <term>Fade Options</term>
        <listitem>
          <para>
            This slider determines the length of the fading. What will
            actually happen depends on the setting of the Dynamic. If
            set to act on the color for example, the color will be taken from
            the current gradient starting from the left side of the gradient
            and moving toward the right side of the gradient.
          </para>
          <para>
            The Fade Options has a drop down list determining how the
            fading is repeated.
          </para>
          <figure>
            <title>
              Illustration of the effects of the three gradient-repeat
              options, for the <guilabel>Abstract 2</guilabel> gradient.
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-normal.png"/>
              </imageobject>
              <caption>
                  <para>Abstract2 Gradient</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-none.png"/>
              </imageobject>
                <caption>
                  <para>None</para>
                </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-sawtooth.png"/>
              </imageobject>
                <caption>
                  <para>Sawtooth</para>
                </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-triangular.png"/>
              </imageobject>
                <caption>
                  <para>Triangular</para>
                </caption>
            </mediaobject>
          </figure>
          <para>
            This option determines what happens if a brush stroke extends
            farther than the Length specified by the slider. There are three
            possibilities:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>None</guilabel> means that the color from the end of
                the gradient will be used throughout the remainder of the
                stroke;
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Sawtooth wave</guilabel> means that the
                gradient will be restarted from the beginning, which
                will often produce a color discontinuity;
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Triangular wave</guilabel> means that the
                gradient will be traversed in reverse, afterwards bouncing
                back and forth until the end of the brush stroke.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color Options</term>
        <listitem>
          <para>
            Here you can choose the gradient to use as color source
            when using the brush with the color option set. Click on the box
            showing the gradient to change to another one from the gradient
            list.
          </para>
          <para>
            If no color option is selected in the currently used
            dynamics, the brush will use the foreground color set in the
            toolbox.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-eraser">
  <title>Eraser</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Eraser</secondary>
  </indexterm>
  <indexterm>
    <primary>Eraser</primary>
  </indexterm>
  <indexterm>
    <primary>Transparency</primary>
    <secondary>Eraser tool</secondary>
  </indexterm>

  <figure>
    <title>Eraser tool icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-eraser.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Eraser is used to remove areas of color from the current layer or from
    a selection of this layer. If the Eraser is used on something that does
    not support transparency (a selection mask channel, a layer mask, or the
    Background layer if it lacks an alpha channel), then erasing will show the
    background color, as displayed in the Color Area of the Toolbox (in case
    of a mask, the selection will be modified). Otherwise, erasing will
    produce either partial or full transparency, depending on the settings for
    the tool options. You can learn more on how to add an alpha channel to a
    layer in <xref linkend="gimp-layer-alpha-add"/>.
  </para>

  <figure>
    <title>Eraser and Alpha channel</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/eraser-ex1.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          The Background Color is White. The image has no Alpha channel. The
          Eraser (Opacity 100%) shows the BG color.
        </para>
      </caption>
    </mediaobject>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/eraser-ex2.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          The image has an Alpha channel. The Eraser shows transparency.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <para>
    If you need to erase some group of pixels completely, leaving no trace
    behind of their previous contents, you should check the "Hard edge" box in
    the Tool Options. Otherwise, sub-pixel brush placement will cause partial
    erasure at the edges of the brush-stroke, even if you use a hard-edged
    brush.
  </para>

  <tip>
    <para>
      If you use GIMP with a tablet, you may find it convenient to treat the
      reverse end of the stylus as an eraser. To make this work, all you need
      to do is click the reverse end on the Eraser tool in the Toolbox.
      Because each end of the stylus is treated as a separate input device,
      and each input device has its own separate tool assignment, the reverse
      end will then continue to function as an Eraser as long as you don't
      select a different tool with it.
    </para>
  </tip>

  <sect3>
    <title>Activating the tool</title>
    <para>You can activate this tool in several ways:</para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Eraser</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Toolbox by clicking on the tool icon
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-eraser-22.png"/>
          </guiicon>;
        </para>
      </listitem>
      <listitem>
        <para>
          or from the keyboard using the shortcut
          <keycombo><keycap>Shift</keycap><keycap>E</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers</title>
    <para>
      See the <xref linkend="gimp-tool-brush"/> for a description of key
      modifiers that have the same effect on all paint tools.
    </para>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            For the Eraser, holding down the <keycap>Ctrl</keycap> key puts it
            into <quote>color picker</quote> mode, so that it selects the
            color of any pixel it is clicked on. Unlike other brush tools,
            however, the Eraser sets the <emphasis>background</emphasis>
            color rather than the foreground color. This is more useful,
            because on drawables that don't support transparency, erasing
            replaces the erased areas with the current background color.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Alt</keycap>
        </term>
        <listitem>
          <para>
            For the Eraser, holding down the <keycap>Alt</keycap> key switches
            it into <quote>anti-erase</quote> mode, as described below in the
            Tool Options section. Note that on some systems, the
            <keycap>Alt</keycap> key is trapped by the Window Manager. If this
            happens to you, you may be able to use
            <keycombo><keycap>Alt</keycap><keycap>Shift</keycap></keycombo>
            instead.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Tool Options</title>
    <figure>
      <title>Tool Options for the Eraser tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-eraser.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Brush; Size; Brush Dynamics; Dynamic Options; Apply Jitter; Incremental
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            The <guilabel>Opacity</guilabel> slider, in spite of its name,
            in this tool determines the <quote>strength</quote> of the tool. 
						Thus, when you erase on a layer with an alpha channel, the higher 
						the opacity you use, the more transparency you get!
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Hard Edge</term>
        <listitem>
          <para>
            This option avoids partial erasure at the edges of the
            brush-stroke. See above.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Anti Erase</term>
        <listitem>
          <para>
            The Anti Erase option of the Erase tool can un-erase areas of an
            image, even if they are completely transparent. This feature only
            works when used on layers with an alpha channel. In addition to
            the check-button in the Tool Options, it can also be activated
            on-the-fly by holding down the <keycap>Alt</keycap> key (or, if
            the <keycap>Alt</keycap> key is trapped by the Window Manager, by
            holding down
            <keycombo><keycap>Alt</keycap><keycap>Shift</keycap></keycombo>).
          </para>
          <note>
            <para>
              To understand how anti-erasing is possible, you should realize
              that erasing (or cutting, for that matter) only affects the
              alpha channel, not the RGB channels that contain the image data.
              Even if the result is completely transparent, the RGB data is
              still there, you simply can't see it. Anti-erasing increases the
              alpha value so that you can see the RGB data once again.
            </para>
            <!--TODO: CHECK: I can't reproduce it and it doesn't make
                any sense to me - ude, 2009-05-03
            <para>
              An annoying feature: on a layer you have created with a
              transparent background, using anti-erasing on non-painted areas
              paints with black!
            </para>
            -->
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
    <tip id="change-selection-shape">
      <indexterm>
        <primary>Selection</primary>
        <secondary>Change shape</secondary>
      </indexterm>
      <para>
        You can use the Eraser tool to change the shape of a floating
        selection. By erasing, you can trim the edges of the selection.
      </para>
    </tip>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-heal">
  <title>Heal</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Heal</secondary>
  </indexterm>
  <indexterm>
    <primary>Heal</primary>
  </indexterm>

  <figure>
    <title>The <quote>Heal tool</quote> in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-heal.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This tool was once described as <quote>The healing brush looks like a
    smart clone tool on steroids</quote>. And indeed the Healing Tool is a
    close relative to the Clone Tool, but it is more smart to remove small
    failures in images. A typical usage is the removal of wrinkles in
    photographs. To do so, pixels are not simply copied from source to
    destination, but the area around the destination is taken into account
    before cloning is applied. The algorithm used for this, is described in
    a scientific paper by Todor Georgiev
    <xref linkend="bibliography-online-georgiev"/>.
  </para>
  <para>
    To use it, first choose a brush with a size adapted to the defect. Then
    <keycap>Ctrl</keycap>-click on the area you want to reproduce. Release the
    <keycap>Ctrl</keycap> key and drag the sample to the defect. Click. If the
    defect is slight, not very
    different from its surrounding, it will be corrected as soon. Else, you
    can correct it with repeated clicks, but with a risk of daubing
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      There are different possibilities to activate the tool:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image-menu:
          <menuchoice>
            <guimenu>Tools</guimenu>
              <guisubmenu>Paint tools</guisubmenu>
              <guimenuitem>Heal</guimenuitem>
            </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking the tool icon:
          <guiicon>
            <inlinegraphic fileref="images/toolbox/stock-tool-heal-22.png"/>
          </guiicon>
          in the Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking on the <keycap>H</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            The <keycap>Ctrl</keycap> key is used to select the source.
            You can heal from any layer of any image, by clicking on the
            image display, with the <keycap>Ctrl</keycap> key held down,
            while the layer is active (as shown in the
            Layers dialog). If Alignment is set to <quote>Non-aligned</quote>
            or <quote>Aligned</quote> in Tool Options, then the point you
            click on becomes the origin for healing: the image data at that
            point will be used when you first begin painting with the Heal
            tool. In source-selection mode, the cursor changes to a
            crosshair-symbol.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            Once the source is set, if you press this key, you will see a
            thin line connecting the previously clicked point with the current
            pointer location. If you click again, while going on holding
            the <keycap>Shift</keycap> key down, the tool will
            <quote>heal</quote> along this line.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Heal Tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-heal.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Mode; Opacity; Brush; Dynamics; Dynamics Options; Apply Jitter; Smoot 
					Stroke; Hard Edge
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sample merged</term>
        <listitem>
          <para>
            If you enable this option, healing is not calculated only
            from the values of the active layer, but from all visible layers.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Alignment</term>
        <listitem>
          <para>
            This option is described in <link linkend="gimp-tool-clone">Clone
            tool</link>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Healing is not cloning</title>
    <para>
     Although the Heal tool has common features with the Clone tool on using,
     the result is quite different.
   </para>
   <figure>
     <title>Comparing <quote>Clone</quote> and <quote>Heal</quote></title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/heal-compar.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
           Two black spots in the red area. Zoom x800. The source is where the
           four colors meet. Cloning on the left spot. Healing on the right
           spot.
         </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-ink">
  <title>Ink</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Ink</secondary>
  </indexterm>
  <indexterm>
    <primary>Ink</primary>
  </indexterm>

  <figure>
    <title>The <quote>Ink</quote> tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-pen.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Ink tool uses a simulation of an ink pen with a controllable nib to
    paint solid brush strokes with an antialiased edge. The size, shape and
    angle of the nib can be set to determine how the strokes will be rendered.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>You can find the Ink tool in several ways :</para>
    <itemizedlist>
      <listitem>
        <para>
          In the image-menu through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Ink</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the tool icon:
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-ink-22.png"/>
          </guiicon> in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the <keycap>K</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            This key changes the nib to a
            <link linkend="gimp-tool-color-picker">Color Picker</link>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Ink Tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-ink.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Mode; Opacity</term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Adjustment</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Size</term>
              <listitem>
                <para>
                  Controls the apparent width of the pen's nib with values
                  that ranges from 0 (very thin) to 20 (very thick).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Angle</term>
              <listitem>
                <para>
                  This controls the apparent angle of the pen's nib relative
                  to horizontal.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sensitivity</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Size</term>
              <listitem>
                <para>
                  This controls the size of the nib, from minimum to maximum.
                  Note that a size of 0 does not result in a nib of size zero,
                  but rather a nib of minimum size.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Tilt</term>
              <listitem>
                <para>
                  Controls the apparent tilt of the nib relative to
                  horizontal. This control and the Angle control described
                  above are interrelated. Experimentation is the best means of
                  learning how to use them.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Speed</term>
              <listitem>
                <para>
                  This controls the effective size of the nib as a function of
                  drawing speed. That is, as with a physical pen, the faster
                  you draw, the narrower the line.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Type and Shape</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Type</term>
              <listitem>
                <para>
                  There are three nib shapes to choose from: circle, square,
                  and diamond.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Shape</term>
              <listitem>
                <para>
                  The geometry of the nib type can be adjusted by holding
                  button 1 of the mouse on the small square at the center of
                  the Shape icon and moving it around.
                </para>
                <para>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata fileref="images/tool-options/ink-type-circle.png" format="PNG"/>
                    </imageobject>
                  </inlinemediaobject>
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-paintbrush">
  <title>Paintbrush</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Paintbrush</secondary>
  </indexterm>
  <indexterm>
    <primary>Paintbrush</primary>
  </indexterm>

  <figure>
    <title>Paintbrush</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-brush.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The paintbrush tool paints fuzzy brush strokes. All strokes are rendered
    using the current brush.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <itemizedlist>
      <listitem>
        <para>
          You can call the Paintbrush Tool in the following
          order, from the image-menu:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Paintbrush</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          The Tool can also be called by clicking the tool icon:
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-paintbrush-22.png"/>
          </guiicon>
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the <keycap>P</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            This key changes the paintbrush to a
            <link linkend="gimp-tool-color-picker">Color Picker</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            This key places the paintbrush into straight
            line mode. Holding <keycap>Shift</keycap> while clicking
            <mousebutton>Button 1</mousebutton> will generate a straight
            line. Consecutive clicks will continue drawing straight lines
            that originate from the end of the last line.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Paintbrush tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-paintbrush.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Mode; Opacity; Brush; Dynamics; Dynamics Options; 
					Apply Jitter; Smoot Stroke; Incremental:
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-pencil">
  <title>Pencil</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Pencil</secondary>
  </indexterm>
  <indexterm>
    <primary>Pencil</primary>
  </indexterm>

  <figure>
    <title>Pencil tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-pencil.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Pencil tool is used to draw free hand lines with a hard edge. The
    pencil and paintbrush are similar tools. The main difference between the
    two tools is that although both use the same type of brush, the pencil
    tool will not produce fuzzy edges, even with a very fuzzy brush. It does
    not even do anti-aliasing.
  </para>
  <para>
    Why would you want to work with such a crude tool? Perhaps the most
    important usage is when working with very small images, such as icons,
    where you operate at a high zoom level and need to get every pixel exactly
    right. With the pencil tool, you can be confident that every pixel within
    the brush outline will be changed in exactly the way you expect.
  </para>

  <tip>
    <para>
      If you want to draw straight lines with the Pencil (or any of several
      other paint tools), click at the starting point, then hold down
      <keycap>Shift</keycap> and click at the ending point.
    </para>
  </tip>

  <sect3>
    <title>Activating the Tool</title>
    <itemizedlist>
      <listitem>
        <para>
          The Pencil Tool can be called from the image-menu:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Pencil</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          The Tool can also be called by clicking the tool icon:
          <guiicon>
            <inlinegraphic fileref="images/toolbox/stock-tool-pencil-22.png"/>
          </guiicon>
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking on the <keycap>N</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            This key changes the pencil to a
            <link linkend="gimp-tool-color-picker">Color Picker</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            This key places the pencil tool into straight
            line mode. Holding <keycap>Shift</keycap> while clicking
            <mousebutton>Button 1</mousebutton> will generate a straight
            line. Consecutive clicks will continue drawing straight lines
            that originate from the end of the last line.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Pencil</quote> Tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-pencil.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Mode; Opacity; Brush; Dynamics; Dynamics Options; 
					Apply Jitter; Smooth Stroke; Incremental
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-perspective-clone">
  <title>Perspective Clone</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Perspective Clone</secondary>
  </indexterm>
  <indexterm>
    <primary>Perspective Clone</primary>
  </indexterm>

  <figure>
    <title>The <quote>Perspective Clone</quote> tool in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/toolbox/toolbox-perspective-clone.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    This tool allows you to clone according to the perspective you want.
    First, set the wanted vanishing lines in the same way as with the
    <link linkend="gimp-tool-perspective">Perspective</link> tool. Then
    copy the source area in the same way as with the
    <link linkend="gimp-tool-clone">Clone</link> tool.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      There are different possibilities to activate the tool:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image-menu:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint tools</guisubmenu>
            <guimenuitem>Perspective Clone</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          The Tool can also be called by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-perspective-clone-22.png"/>
          </guiicon>
          in the Toolbox.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            <keycap>Ctrl</keycap>-click allows you to select a new clone source.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            When the source is set and you press this key, you will see a thin
            line connecting the previously clicked point with the current
            pointer location. If you click again, while continuing to hold
            down the <keycap>Shift</keycap> key, the tool will clone along
            this line. Particularly useful when cloning from a pattern.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Perspective Clone tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-perspective-clone.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Operating mode</term>
        <listitem>
          <para>
            When using this tool you first have to choose
            <guilabel>Modify Perspective</guilabel>. This works like the tool
            <link linkend="gimp-tool-perspective">perspective</link>.
            Then you choose <guilabel>Perspective Clone</guilabel> and use
            this in the same way as the
            <link linkend="gimp-tool-clone">Clone</link> tool.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          Mode; Opacity; Brush; Dynamics; Dynamics Options; Fade Options; 
					Apply Jitter; Smooth Stroke; Hard Edge
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Source, Alignment</term>
        <listitem>
          <para>
            This are the same as in the tool
            <link linkend="gimp-tool-clone">Clone</link>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Example</title>
    <figure>
      <title><quote>Perspective Clone</quote> example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/perspective-clone-ex1.png"/>
        </imageobject>
        <caption>
          <para>
            The <quote>Modify Perspective Plane</quote> is checked. Vanishing
            lines have been placed.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/perspective-clone-ex2.png"/>
        </imageobject>
        <caption>
          <para>
            The <quote>Perspective Clone</quote> option is checked. The
            white rectangle has been cloned. You see it goes smaller going
            away.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-smudge">
  <title>Smudge</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Smudge</secondary>
  </indexterm>
  <indexterm>
    <primary>Smudge</primary>
  </indexterm>

  <figure>
    <title>Smudge tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-smudge.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Smudge tool uses the current brush to smudge colors on the active
    layer or a selection. It takes color in passing and uses it to mix it to
    the next colors it meets, on a distance you can set.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can find the Smudge tool in various ways :
    </para>
    <itemizedlist>
      <listitem>
        <para>
          through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paint Tools</guisubmenu>
            <guimenuitem>Smudge.</guimenuitem>
          </menuchoice>
          in the image menu,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-smudge-22.png"/>
          </guiicon>
          in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          or by pressing the <keycap>S</keycap> key on keyboard.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            The <keycap>Shift</keycap> key places the smudge tool into
            straight line mode.  Holding <keycap>Shift</keycap> while clicking
            <mousebutton>Button1</mousebutton> will smudge in a straight
            line. Consecutive clicks will continue smudging in straight
            lines that originate from the end of the last line.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            Using <keycap>Ctrl</keycap> with <keycap>Shift</keycap>, you can
            constrain the angle between two successive lines to vary by steps
            of 15Â°.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>The Smudge tool in Toolbox</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/tool-options-smudge.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Opacity; Brush; Dynamics; Dynamics Options; Fade Options; 
					Apply Jitter; Hard Edge; Rate
        </term>
        <listitem>
          <xi:include href="about-common-paint-options.xml"/>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tools-paint">
  <title>Paint Tools</title>

  <indexterm>
    <primary>Paint Tools</primary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Paint</secondary>
  </indexterm>
  <indexterm>
    <primary>Toolbox</primary>
    <secondary>Paint Tools</secondary>
  </indexterm>

  <figure>
    <title>The Paint Tools (Tools menu)</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/brush-tools.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <xi:include href="paint/common-features.xml"/>
	<xi:include href="paint/dynamics.xml"/>
  <xi:include href="paint/brush-tools.xml"/>
  <xi:include href="paint/bucket-fill.xml"/>
  <xi:include href="paint/blend.xml"/>
  <xi:include href="paint/pencil.xml"/>
  <xi:include href="paint/paintbrush.xml"/>
  <xi:include href="paint/eraser.xml"/>
  <xi:include href="paint/airbrush.xml"/>
  <xi:include href="paint/ink.xml"/>
  <xi:include href="paint/clone.xml"/>
  <xi:include href="paint/heal.xml"/>
  <xi:include href="paint/perspective-clone.xml"/>
  <xi:include href="paint/convolve.xml"/>
  <xi:include href="paint/smudge.xml"/>
  <xi:include href="paint/dodge-burn.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-tool-path">
  <title>Paths</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Path</secondary>
  </indexterm>
  <indexterm>
    <primary>Paths</primary>
    <secondary>Tool</secondary>
  </indexterm>
  <indexterm>
    <primary>BÃ©zier's curve</primary>
  </indexterm>
  <figure>
    <title>Paths tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-path.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Paths tool allows to create complex selections called BÃ©zier Curves, a
    bit like Lasso but with all the adaptability of vectorial curves. You can
    edit your curve, you can paint with your curve, or even save, import, and
    export the curve. You can also use paths to create geometrical figures.
    Paths have their own dialog box:
    <link linkend="gimp-path-dialog">Dialog</link>.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>You can get this tool in several ways:</para>
    <itemizedlist>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Paths</guisubmenu>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the tool icon:
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-path-22.png"/>
          </guiicon>
          in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the <keycap>B</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <note>
      <para>
        Help messages pop up at the bottom of the image window to help you
        about all these keys.
      </para>
    </note>
    <variablelist>
      <varlistentry>
        <term><keycap>Shift</keycap></term>
        <listitem>
          <para>
            This key has several functions depending on context. See Options
            for more details.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><keycap>Ctrl</keycap> ; <keycap>Alt</keycap></term>
        <listitem>
          <para>
            Three modes are available to work with the Paths tool:
            <guilabel>Design</guilabel>,<guilabel>Edit</guilabel>
            and <guilabel>Move</guilabel>.  <keycap>Ctrl</keycap> key
            toggles between Design and Edit.  <keycap>Alt</keycap> (or
            <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>)
            key toggles between Design and Move.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Path</quote> tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/path-tool-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      Normally, tool options are displayed in a window attached under the
      Toolbox as soon as you activate a tool. If they are not, you can access
      them from the image menu bar through
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guisubmenu>Dockable Windows</guisubmenu>
        <guimenuitem>Tool Options</guimenuitem>
      </menuchoice> which opens the option window of the selected tool.
    </para>

    <variablelist>
      <varlistentry>
        <term>Design Mode</term>
        <listitem>
          <para>
            By default, this tool is in <guilabel>Design</guilabel> mode.
            You draw the path by clicking successively. You can move
            control points by clicking on them and dragging them. Between
            control points are segments.
          </para>
          <para>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/path-stroke.png"/>
              </imageobject>
              <caption>
                <para>
                  Numbers are steps to draw a two segments straight path.
                </para>
              </caption>
            </mediaobject>
          </para>
          <para>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/path-curve.png"/>
              </imageobject>
              <caption>
                <para>
                  Curved segments are easily built by dragging a segment or a
                  new node. Blue arrows indicate curve. Two little handles
                  appear that you can drag to bend the curve.
                </para>
              </caption>
            </mediaobject>
          </para>
          <tip>
            <para>
              To quickly close the curve, press <keycap>Ctrl</keycap>
              key and click on the initial control point. In previous
              versions, clicking inside a closed path converted it into
              Selection. Now, you can use the <guibutton>Create
              selection from path</guibutton> button or
              <guiicon>
                <inlinegraphic
                  fileref="images/dialogs/stock-selection-16.png"/>
              </guiicon>
              the <emphasis>Path to Selection</emphasis> button
              in the Path Dialog.
            </para>
          </tip>
          <tip>
            <para>
              When you have two handles, they work symmetrically by
              default.  Release the pressure on the mouse button to move
              handles individually. The <keycap>Shift</keycap> key will
              force the handles to be symmetrical again.
            </para>
          </tip>
          <para>Several functions are available with this mode:</para>
          <para>
            <emphasis>Add a new node</emphasis>:
            If the active node (a small empty circle after clicking on a node)
            is at the end of the path, the mouse pointer is a '+' sign and a new
            node is created, linked to the previous one by a segment. If the
            active node is on the path, the pointer is a square and you can
            create a new component to the path. This new component is
            independent from the other, but belongs to the path as you can see
            on the Path dialog. Pressing <keycap>Shift</keycap>
            forces the creation of a new component.
          </para>
          <para>
            <emphasis>Move one or several nodes</emphasis>: On a node,
            the mouse pointer becomes a 4-arrows cross. You can click
            and drag it.
            You can select several nodes by <keycap>Shift</keycap> and
            click and move them by click and drag.
            Pressing <keycombo><keycap>Ctrl</keycap><keycap>Alt
            </keycap></keycombo> allows to move all the path, as a
            selection.
          </para>
          <para>
            <emphasis>Modify handles</emphasis>: You have to Edit a node
            before. A handle appears. Drag it to bend the curve.
            Pressing <keycap>Shift</keycap> toggles to symmetric handles.
          </para>
          <para>
            <emphasis>Modify segment</emphasis>: When the mouse pointer
            goes over a segment, it turns to a 4-arrows cross. Click-and-drag
            it to bend the segment. As soon as you move, handles appear
            at both ends of the segment. Pressing <keycap>Shift</keycap>
            key toggles to symmetric handles.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Edit Mode</term>
        <listitem>
          <para>
            <guilabel>Edit</guilabel> performs functions which are not
            available in <guilabel>Design</guilabel> mode. With this
            mode, you can work only on the existing path.  Outside, the
            pointer is a small crossed circle (on the whole image if
            there is no path!) and you can do nothing.
          </para>
          <para>
            <emphasis>Add a segment between two nodes</emphasis>: Click
            on a node at one end of the path to activate it. The pointer is
            like a union symbol. Click on an other node to link both
            nodes. This is useful when you have to link unclosed
            components.
          </para>
          <para>
            <emphasis>Remove a segment from a path</emphasis>: While pressing
            <keycombo><keycap>Shift</keycap><keycap>Ctrl</keycap></keycombo>
            key combination, point to a segment. Pointer turns to -.
            Click to delete the segment.
          </para>
          <para>
            <emphasis>Add a node to a path</emphasis>: point to a
            segment. Pointer turns to +. Click where you want to place
            the new control point.
          </para>
          <para><emphasis>Remove a node</emphasis>: While pressing
            <keycombo><keycap>Shift</keycap><keycap>Ctrl</keycap></keycombo>
            key combination, point to a node. Pointer turns
            to -. Click to delete the node.
          </para>
          <para>
            <emphasis>Add a handle to a node</emphasis>: Point to a
            node. Pointer turns to small hand. Drag the node: handle
            appears.
            Pressing <keycap>Shift</keycap> toggles to symmetric
            handles.
          </para>
          <para>
            <emphasis>Remove a handle from a node</emphasis>: While pressing
            <keycombo><keycap>Shift</keycap><keycap>Ctrl</keycap></keycombo>
            key combination, point to a handle. The pointer
            doesn't turn to the expected - and remains a hand. Click
            to delete the handle.
          </para>
          <caution>
            <para>
              No warning before removing a node, a segment or a handle.
            </para>
          </caution>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Move Mode</term>
        <listitem>
          <para>
            <guilabel>Move</guilabel> mode allows to move one or all
            components of a path. Simply click on the path and drag it.
          </para>
          <para>
            If you have several components, only the selected one is moved. If
            you click and drag outside the path, all components are moved.
            Pressing <keycap>Shift</keycap>
            key toggles to move all components also.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Polygonal</term>
        <listitem>
          <para>
            With this option, segments are linear only. Handles are not
            available and segments are not bent when moving them.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Create selection from path</term>
        <listitem>
          <para>
            This button allows creation of a selection that is based on
            the path in its present state. This selection is marked with
            the usual "marching ants". Note that the path is still present:
            current tool is still path tool and you can modify this path without
            modifying the selection that has become independent. If you
            change tool, the path becomes invisible, but it persists in
            Path Dialog and you can re-activate it.
          </para>
          <para>
            If the path is not closed, GIMP will close it with a straight line.
          </para>
          <para>
            As the help pop-up tells, pressing <keycap>Shift</keycap>
            when clicking on the button will add the new selection to an
            eventually pre-existent. Pressing the <keycap>Ctrl</keycap> will
            subtract the selection from the pre-existent and the
            <keycombo><keycap>Shift</keycap><keycap>Ctrl</keycap></keycombo>
            key combination will intersect the two selections.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Stroke path</term>
        <listitem>
          <para>
            In previous versions, you could access to this command
            only by the Edit sub-menu in the Image Menu. Now you can
            access to it also via this button. See
            <xref linkend="gimp-path-stroke"/> and
            <xref linkend="gimp-using-paths"/>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      See the <link linkend="gimp-concepts-paths"><quote>Path</quote>
      </link>concept.
    </para>
  </sect3>
</sect2>
-#-#-
<note>
  <para>
    See <link linkend="gimp-tool-select">Selection Tools</link> for
    help with modifier keys that affect all these tools in the same
    way.  Only effects options that are specific to this tool are explained
    here.
  </para>
</note>
-#-#-
<note>
  <para>
    See <link linkend="gimp-tool-select">Selection Tools</link>
    for help with options that are common to all these tools. Only
    options that are specific to this tool are explained here.
  </para>
</note>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-by-color-select">
  <title>Select By Color</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Selection by color</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Selection by color</secondary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Selection by color</secondary>
  </indexterm>

  <figure>
    <title>Select by Color tool icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-selbycolor.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Select by Color tool is designed to select areas of an image
    based on color similarity.  It works a lot like the Fuzzy Select
    tool (<quote>Magic Wand</quote>).  The main difference between them is
    that the Magic Wand selects <emphasis>contiguous</emphasis> regions, with
    all parts connected to the starting point by paths containing no
    large gaps; while the Select by Color tool selects all pixels that
    are sufficiently similar in color to the pixel you click on,
    regardless of where they are located.
  </para>

  <sect3>
    <title>Activating the tool</title>
    <para>
      You can access the Select by Color Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Selection Tools</guisubmenu>
            <guimenuitem>By Color Select</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-by-color-select-22.png"/>
          </guiicon>
          in the ToolBox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut <keycombo><keycap>Shift
        </keycap><keycap>O</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <para>
      The select by color tool does not have any special key modifiers,
      only the ones that affect all selection tools in the same way.
      See <link linkend="gimp-tool-select">Selection Tools</link> for
      help with these.
    </para>
  </sect3>

  <sect3>
    <title>Handling tool</title>
    <figure>
      <title>
        Using Select by Color tool: selected pixels are not only contiguous
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/by-color-selection.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      As with fuzzy tool, the selection starts as soon as you click and the
      reference is the first clicked pixel. If you click and drag, you can
      change the threshold by the same way as with the fuzzy tool.
    </para>
    <para>
      To move the selection see
      <link linkend="gimp-using-selections-moving">Moving selections</link>.
      <!--(you can move the selection outline with the arrow keys, not with the
      mouse...).-->
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Tool Options for the Select by Color tool</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-selbycolor.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <xi:include href="about-common-select-options.xml"/>
      <varlistentry>
        <term>
          Mode; Antialiasing; Feather edges
        </term>
        <listitem>
          <para>Common select options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Similar colors</term>
        <listitem>
          <para>
            All these options work exactly the same way, they were described
            for the fuzzy selection already. See for
            <xref linkend="tool-fuzzy-select-options"/> details.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-select">
  <title>Common Features</title>

  <indexterm>
    <primary>Selections</primary>
    <secondary>Common Features</secondary>
  </indexterm>

  <para>
    Selection tools are designed to select regions from the active layer so
    you can work on them without affecting the unselected areas. Each tool has
    its own individual properties, but the selection tools also share a number
    of options and features in common. These common features are described
    here; the variations are explained in the following sections for each tool
    specifically. If you need help with what a <quote>selection</quote>
    is in GIMP, and how it works, see
    <link linkend="gimp-concepts-selection">Selection</link>.
  </para>
  <para>There are seven selection tools:</para>
  <itemizedlist>
    <listitem>
      <para>
        the <link linkend="gimp-tool-rect-select">Rectangle Select</link>;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-ellipse-select">Ellipse Select</link>;
      </para>
    </listitem>
    <listitem>
      <para>
        the
        <link linkend="gimp-tool-free-select">Free Select (the Lasso)</link>;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-fuzzy-select">
        Select Contiguous Regions (the Magic Wand)
        </link>;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-by-color-select">Select by Color</link>;
      </para>
    </listitem>
    <listitem>
      <para>
        the <link linkend="gimp-tool-iscissors">
        Select Shapes from Image (Intelligent Scissors)
        </link> and
      </para>
    </listitem>
    <listitem>
      <para>
        the
        <link linkend="gimp-tool-foreground-select">Foreground Select</link>.
      </para>
    </listitem>
  </itemizedlist>
  <para>
    In some ways the Path tool can also be thought of as a selection tool: any
    closed path can be converted into a selection. It also can do a great deal
    more, though, and does not share the same set of options with the other
    selection tools.
  </para>

  <sect3 id="gimp-tools-select-modifiers">
    <title>Key modifiers (Defaults)</title>
    <para>
      The behavior of selection tools is modified if you hold down the
      <keycap>Ctrl</keycap>, <keycap>Shift</keycap>, and/or
      <keycap>Alt</keycap> keys while you use them.
    </para>
    <note>
      <para>
        Advanced users find the modifier keys very valuable, but novice users
        often find them confusing. Fortunately, it is possible for most
        purposes to use the Mode buttons (described below) instead of modifier
        keys.
      </para>
    </note>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            When creating a selection, holding down the
            <keycap>Ctrl</keycap> key can have two different actions
            according to the way you use it:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                Holding down the key <emphasis>while drawing</emphasis>
                the selection toggles the <quote>Expand from center</quote>
                option.
              </para>
            </listitem>
            <listitem>
              <para>
                If you hold down the <keycap>Ctrl</keycap> key
                <emphasis>before drawing a selection</emphasis>, this new
                selection switches to the Subtract mode. So, this new
                selection will be subtracted from an existing one as soon as
                you release the click, as far as they have common pixels.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Alt</keycap>
        </term>
        <listitem>
          <para>
            Holding <keycap>Alt</keycap> will allow movement of the
            current selection (only its frame, not its content). If the
            whole image is moved instead of the selection only, try
            <keycombo><keycap>Shift</keycap><keycap>Alt</keycap></keycombo>.
            Note that the <keycap>Alt</keycap> key is sometimes intercepted by
            the windowing system (meaning that GIMP never knows that it was
            pressed), so this may not work for everybody.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            When creating a selection, holding down the
            <keycap>Shift</keycap> key can have two different actions
            according to the way you use it:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                If you hold down the key <emphasis>before
                clicking</emphasis> to start the selection, this
                selection will be in <emphasis>Addition</emphasis>
                mode as long as you press the key.
              </para>
            </listitem>
            <listitem>
              <para>
                If you hold down the <keycap>Shift</keycap> key
                <emphasis>after clicking</emphasis> to start the selection,
                the effect will depend on the tool you are using: for
                example, the selection will be a square with the
                Rectangle Select tool.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycombo>
            <keycap>Ctrl</keycap>
            <keycap>Shift</keycap>
          </keycombo>
        </term>
        <listitem>
          <para>
            Using
            <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap></keycombo>
            together can do a variety of things, depending on which tool is
            used. Common to all selection tools is that the selection mode
            will be switched to intersection, so that after the operation is
            finished, the selection will consist of the intersection of the
            region traced out with the pre-existing selection. It is an
            exercise for the reader to play with the various combinations
            available when performing selections while holding
            <keycombo><keycap>Ctrl</keycap><keycap>Shift</keycap></keycombo>
            and releasing either both or either prior to releasing the
            <mousebutton>mouse button</mousebutton>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Key modifiers to move selections</term>
        <listitem>
          <para>
            <keycombo>
              <keycap>Ctrl</keycap>
              <keycap>Alt</keycap>
              <mousebutton>Click-and-drag</mousebutton>
            </keycombo> and
            <keycombo>
              <keycap>Shift</keycap>
              <keycap>Alt</keycap>
              <mousebutton>Click-and-drag</mousebutton>
            </keycombo>
            are used to move selections.
            See <xref linkend="gimp-using-selections-moving"/>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Space bar</term>
        <listitem>
          <para>
            Pressing the <keycap>Space Bar</keycap> while using a selection
            tool transforms this tool into the Navigation cross as long as
            you press the bar, allowing you to pan around the image instead
            of using the scroll-bars when your image is bigger than the
            canvas. This is the default option: in Preferences/Image Windows,
            you can toggle the Space bar to the Move tool.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-tool-select-options">
    <title>Options</title>
    <para>
      Here we describe the tool options that apply to all selection tools:
      options that apply only to some tools, or that affect each tool
      differently, are described in the sections devoted to the individual
      tools. The current settings for these options can be seen in the Tool
      Options dialog, which you should always have visible when you are using
      tools. To make
      the interface consistent, the same options are presented for all
      selection tools, even though some of them don't have any effect for some
      of the tools.
    </para>
    <figure>
      <title>Common options of selection tools</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-selection.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Mode</term>
        <listitem>
          <indexterm>
            <primary>Selection</primary>
            <secondary>Modes</secondary>
          </indexterm>
          <para>
            This determines the way that the selection you create is combined
            with any pre-existing selection. Note that the functions performed
            by these buttons can be duplicated using modifier keys, as
            described above. For the most part, advanced users use the
            modifier keys; novice users find the mode buttons easier.
          </para>
          <variablelist>
            <varlistentry>
              <term>
                <inlinemediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/tool-options/rectsel-mode-replace.png"/>
                  </imageobject>
                </inlinemediaobject>
              </term>
              <listitem>
                <para>
                  Replace mode will cause any existing selection to be
                  destroyed or replaced when the new selection is created.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <inlinemediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/tool-options/rectsel-mode-add.png"/>
                  </imageobject>
                </inlinemediaobject>
              </term>
              <listitem>
                <para>
                  Add mode will cause the new selection to be added to any
                  existing selection regions.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <inlinemediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/tool-options/rectsel-mode-subtract.png"/>
                  </imageobject>
                </inlinemediaobject>
              </term>
              <listitem>
                <para>
                  Subtract mode will remove the new selection area from any
                  existing selection regions.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <inlinemediaobject>
                  <imageobject>
                    <imagedata format="PNG"
                      fileref="images/tool-options/rectsel-mode-intersect.png"/>
                  </imageobject>
                </inlinemediaobject>
              </term>
              <listitem>
                <para>
                  Intersection mode will make a new selection from the area
                  where the existing selection region and the new selection
                  region overlap.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Antialiasing</term>
        <listitem>
          <para>
            This option only affects some selection tools: it causes
            the boundary of the selection to be drawn more smoothly.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Feather Edges</term>
        <listitem>
          <indexterm>
            <primary>Edge feathering (Selections)</primary>
          </indexterm>
          <para>
            This options allows the boundary of the selection to be blurred,
            so that points near the boundary are only partially selected. For
            further information regarding feathering, see the glossary entry
            <link linkend="glossary-feathering">Feathering</link>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-ellipse-select">
  <title>Ellipse Selection</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Ellipse Selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Ellipse selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Ellipse Selection Tool</primary>
  </indexterm>

  <figure>
    <title>Ellipse Select icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/toolbox-ellipsel.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Ellipse Selection tool is designed to select circular and elliptical
    regions from an image, with high-quality anti-aliasing if you want it. For
    information on selections and how they are used in GIMP see
    <link linkend="gimp-concepts-selection">Selections</link>;
    for information on features common to all selection tools see
    <link linkend="gimp-tool-select">Selection Tools</link>.
  </para>
  <para>
    This tool is also used for rendering a circle or ellipse on an image. To
    render a filled ellipse, create an elliptical selection, and then fill it
    using the <link linkend="gimp-tool-bucket-fill">Bucket Fill tool</link>.
    To create an elliptical outline, the simplest and most flexible approach
    is to create an elliptical selection and then
    <link linkend="gimp-selection-stroke">stroke</link>
    it. However, the quality of anti-aliasing with this approach is rather
    crude. A higher quality outline can be obtained by creating two elliptical
    selections with different sizes, subtracting the inner one from the outer
    one; however this is not always easy to get right. The command
    <menuchoice>
      <guimenu>Select</guimenu>
      <guimenuitem>Border...</guimenuitem>
    </menuchoice>
    makes it easy.
  </para>

  <sect3>
    <title>Activating the tool</title>
    <para>
      You can access the Ellipse Selection Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Selection Tools</guisubmenu>
            <guimenuitem>Ellipse Select</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking on the tool icon
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/stock-tool-ellipse-select-22.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          in the ToolBox,
        </para>
      </listitem>
      <listitem>
        <para>
          By using the keyboard shortcut <keycap>E</keycap>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers</title>

    <xi:include href="about-common-select-modifiers.xml"/>

    <variablelist>
      <varlistentry>
        <term><keycap>Ctrl</keycap></term>
        <listitem>
          <para>
            Pressing the key after starting your selection, and holding it
            down until you are finished, causes your starting point to be used
            as the center of the selected ellipse, instead of a corner of the
            rectangle that may contain it. Note that if you press the
            <keycap>Ctrl</keycap> key <emphasis>before</emphasis>
            starting to make the selection, the resulting selection will be
            subtracted from the existing selection.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><keycap>Shift</keycap></term>
        <listitem>
          <para>
            Pressing the <keycap>Shift</keycap> key after starting your
            selection, and holding it down until you are finished, constrains
            the selection to be a circle. Note that if you press the
            <keycap>Shift</keycap> key <emphasis>before</emphasis>
            starting to make the selection, the resulting selection will be
            added to the existing selection.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycombo>
            <keycap>Ctrl</keycap>
            <keycap>Shift</keycap>
          </keycombo>
        </term>
        <listitem>
          <para>
            Pressing both keys combines the two effects, giving you a circular
            selection centered on your starting point.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="tool-ellipse-select-manip">
    <title>Tool handling</title>
    <figure>
      <title>Example of Ellipse Selection. </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/ellipse-selection.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      When this tool is selected the mouse pointer comes with a circle icon
      as soon as it is over the image. A drag-and-drop allows you to
      get an ellipse (or a circle) within a rectangular box.
      When the mouse button is relaxed, a dotted line (<quote>marching
      ants</quote>) outlines the elliptic selection. It's not necessary to
      adjust the selection with care; you can resize it easily later.
    </para>
    <para>
      When the pointer is moving on the canvas, the pointer and selection
      aspects change. You can change the size of the selection by using
      handles. See
      <link linkend="tool-rect-select-manip">Tool handling</link> within
      the rectangular chapter.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Tool Options for the Ellipse Select tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-ellipsel.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <xi:include href="about-common-select-options.xml"/>
      <varlistentry>
        <term>Modes; Antialiasing; Feather edges</term>
        <listitem>
          <para>Common select options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>All other options</term>
        <listitem>
          <para>
            All these options work exactly the same way, they were described
            for the rectangular selection already. See for
            <xref linkend="tool-rect-select-options"/> details.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-foreground-select">
  <title>Foreground Select</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Foreground Select</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Foreground Select</secondary>
  </indexterm>
  <indexterm>
    <primary>Foreground Select</primary>
  </indexterm>

  <figure>
    <title>The <quote>Foreground Select</quote> tool in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/FG-select-toolbox.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    This tool lets you extract the foreground from the active layer or from a
    selection. It is based on the SIOX method (Simple Interactive Object
    Extraction). You can visit its Web page at
    <xref linkend="bibliography-online-siox"/>.
  </para>

  <sect3 id="tool-fg-select-usage">
    <title>Directions for use</title>
    <para>
      The creation of a selection with this tool works in a couple of steps:
    </para>
    <procedure>
      <step>
        <para>
          <emphasis>Roughly select the foreground</emphasis> you want
          to extract. When you select this tool, the mouse pointer goes with
          the lasso icon. It actually works like the Fuzzy Select tool.
          Select as little as possible from the background.
        </para>
        <para>
          As soon as you release the mouse button, the non selected part of
          the image is covered with a dark blue mask. If the selection is not
          closed, its ends will be linked automatically together by a straight
          line. The mouse pointer goes now with the Paint-brush icon for the
          next step.
        </para>
        <figure>
          <title>The foreground is roughly selected</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/toolbox/FG-select-ex1.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          <emphasis>Draw a line through the foreground</emphasis>: using the
          paintbrush, whose size can be changed in options, draw a continuous
          line in the selected foreground going over colors which will be
          kept for the extraction. The color used to draw the line is of no
          importance; not using the same color as foreground is better. Be
          careful not painting background pixels.
        </para>
        <figure>
          <title>The line drawn on the foreground</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/toolbox/FG-select-ex2.png"/>
            </imageobject>
            <caption>
              <para>
                In this example, it is important that the line goes over the
                yellow capitulum of the flower.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          When you release the mouse button, all non-selected areas are in
          dark:
        </para>
        <figure>
          <title>The area which will be selected</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/toolbox/FG-select-ex3.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          You still have to press the <keycap>Enter</keycap> key to get the
          wanted selection:
        </para>
        <figure>
          <title>Foreground is selected</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/toolbox/FG-select-ex4.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
    </procedure>
    <note>
      <para>
        Until you press <keycap>Enter</keycap>, you can't undo this selection
        by
        <keycombo>
          <keycap>Ctrl</keycap><keycap>Z</keycap>
        </keycombo> nor by
        <menuchoice>
          <guimenu>Select</guimenu>
          <guimenuitem>None</guimenuitem>
        </menuchoice>,
        and the Undo History is not concerned. To delete this selection, you
        must select another tool.
      </para>
    </note>
  </sect3>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can activate the Foreground Select tool in two ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          by clicking on the tool icon
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-foreground-select-22.png"/>
          </guiicon>
          in the Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Selection Tools</guisubmenu>
            <guimenuitem>Foreground Select</guimenuitem>
          </menuchoice>
          in the image menu.
        </para>
      </listitem>
      <listitem>
        <para>
          This tool has no shortcut, but you can set one using
          <menuchoice>
            <guimenu>Edit</guimenu>
            <guisubmenu>Preferences</guisubmenu>
            <guisubmenu>Interface</guisubmenu>
            <guisubmenu>Configure Keyboard Shortcuts</guisubmenu>
            <guisubmenu>Tools</guisubmenu>
            <guimenuitem>Foreground Select</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            By pressing the <keycap>Ctrl</keycap> key, you can switching
            between foreground and background selection painting.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Foreground Select</quote> tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/FG-select-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Mode; Antialiasing; Feather edges</term>
        <listitem>
          <xi:include href="about-common-select-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Contiguous</term>
        <listitem>
          <para>
            If this option is enabled, only the area contiguous to the stroke
            will be selected. Otherwise all the areas with same colors will be
            selected.
          </para>
          <figure>
            <title><quote>Contiguous</quote> option effect</title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/FG-select-contig1.png"/>
              </imageobject>
              <caption>
                <para>
                  Two separated areas with the same color. On the left, only
                  the left area is marked.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/FG-select-contig2.png"/>
              </imageobject>
              <caption>
                <para>
                  The Contiguous option is checked: only the area close to the
                  painted line is selected.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/toolbox/FG-select-contig3.png"/>
              </imageobject>
              <caption>
                <para>
                  The Contiguous option is not checked: both areas, although
                  they are separated, are selected.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Interactive refinement</term>
        <listitem>
          <para>
            Here are some options to work more precisely on your selection:
          </para>
          <variablelist>
            <varlistentry>
              <term>Mark foreground</term>
              <listitem>
                <para>
                  default option. The foreground color of the Toolbox is used
                  to paint. Colors covered by the painted line will be used
                  for extraction.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Mark background</term>
              <listitem>
                <para>
                  You can access this option either by clicking on the radio
                  button or, more simply, by pressing the <keycap>Ctrl</keycap>
                  key. The mouse pointer goes with a small eraser icon<!-- and a
                  minus sign-->. The used color is the background color of
                  Toolbox.
                  The pixels of the selection which have the same color as the
                  <quote>erased</quote> pixels will NOT be extracted.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Small brush / Large brush</term>
              <listitem>
                <para>
                  This slider lets you adapt the size of the brush used to
                  paint the line. A small brush fits well thin details.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Smoothing</term>
        <listitem>
          <para>
            Smaller values give a more accurate selection border but may
            introduce holes in the selection.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview color</term>
        <listitem>
          <para>
            You can select between Red, Green and Blue to mask the image
            background.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color Sensitivity</term>
        <listitem>
          <para>
            This option uses the
            <link linkend="glossary-lab">L*a*b</link> color model. If your
            image contains many pixels of the same color in different tones,
            you can increase the sensibility of the selection for this
            color.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-free-select" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Free Selection (Lasso)</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Free Selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Free Selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Polygonal Selection</secondary>
  </indexterm>
  <indexterm><primary>Polygonal Selection</primary></indexterm>
  <indexterm><primary>Lasso</primary></indexterm>

  <figure>
    <title>Free Selection icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-lasso.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Free Selection tool, or Lasso, lets you create a selection by drawing
    it free-hand with the pointer, while holding down the left mouse button
    (or, for a stylus, pressing it against the tablet). When you release the
    mouse button, the selection is closed by connecting the current pointer
    location to the start location with a straight line. You can go outside
    the edge of the image display and come back in if you want to. The Lasso
    is often a good tool to use for <quote>roughing in</quote> a selection;
    it is not so  good for precise definition. Experienced users find that
    it  is often convenient to begin with the lasso tool, but then switch to
    <link linkend="gimp-qmask">QuickMask</link> mode for detail work.
  </para>
  <para>
    For information on selections and how
    they are used in GIMP see
    <link linkend="gimp-concepts-selection">Selections</link>.  For
    information on features common to all selection tools see
    <link linkend="gimp-tool-select">Selection Tools</link>.
  </para>
  <note>
    <para>
      The Free Selection tool is much easier to use with a tablet than
      with a mouse.
    </para>
  </note>

  <para>
    A new possibility came up with GIMP-2.6: the polygonal selection.
    Instead of click-and-dragging to draw a free hand selection, you can
    click only. This creates an anchor point. Then moving the mouse pointer
    draws a line with a new anchor point that you can move as long as you
    don't click again (the mouse pointer comes with the moving cross).
    Clicking again anchors this point and creates a segment. By pressing
    the <keycap>Ctrl</keycap> keyboard key while moving the mouse pointer
    contrains moving angles to 15Â°.
  </para>
  <para>
    So, you can mix free hand segments and polygonal segments.
  </para>
  <figure>
    <title>Mixing free hand segments and polygonal segments</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
                   fileref="images/using/new-free-select-tool.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>Activating the tool</title>
    <para>
      You can access the Lasso Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Selection Tools</guisubmenu>
            <guimenuitem>Free Select</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-free-select-22.png"/>
          </guiicon>
          in the ToolBox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut <keycap>F</keycap>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers</title>
    <para>
      The Free Select tool does not have any special key modifiers,
      only the ones that affect all selection tools in the same way.
      See <link linkend="gimp-tool-select">Selection Tools</link> for
      help with these.
    </para>
  </sect3>

  <sect3>
    <title>Tool handling</title>
    <para>
      To move the selection, see
      <link linkend="gimp-using-selections-moving">Moving selections</link>.
    </para>
    <figure>
      <title>Rough selection with the Free Selection tool. </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/free-selection.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Tool Options for the Lasso tool</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-lasso.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <para>
      The Free Select tool has no special tool options,
      only the ones that affect all selection tools in the same way.
      See <link linkend="gimp-tool-select">Selection Tools</link> for
      help with these.
    </para>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-fuzzy-select">
  <title>Fuzzy selection (Magic wand)</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Fuzzy Selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Fuzzy selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Fuzzy Selection</primary>
  </indexterm>
  <indexterm>
    <primary>Magic Wand</primary>
  </indexterm>

  <figure>
    <title>Magic Wand tool icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-wand.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Fuzzy Select (Magic Wand) tool is designed to select areas of the
    current layer or image based on color similarity.
  </para>
  <para>
    When using this tool, it is very important to pick the right starting
    point. If you select the wrong spot, you might get something very
    different from what you want, or even the opposite.
  </para>
  <para>
    The Wand is a good tool for selecting objects with sharp edges. It is fun
    to use, so beginners often start out using it a lot. You will probably
    find, however, that the more you use it, the more frustrated you become
    with the difficulty of selecting exactly what you want, no more, no less.
    More experienced users find that the
    <link linkend="gimp-tool-path">Path</link> and
    <link linkend="gimp-tool-by-color-select">Color Select</link>
    tools are often more efficient, and use the Wand less. Still, it is useful
    for selecting an area within a contour, or touching up imperfect
    selections. It often works very well for selecting a solid-colored (or nearly
    solid-colored) background area.
  </para>
  <para>
    Note that as the selected area expands outward from the center, it does
    not only propagate to pixels that touch each other: it is capable of
    jumping over small gaps, depending on <guilabel>Threshold</guilabel> option.
    To increase/decrease Threshold, during the use of Fuzzy Selection, after the
    first button-press, dragging the pointer downward (or to the right) or
    upward (or to the left).
  </para>

  <sect3>
    <title>Activating the tool</title>
    <para>
      You can access the Magic Wand Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Selection Tools</guisubmenu>
            <guimenuitem>Fuzzy Select</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-fuzzy-select-22.png"/>
          </guiicon>
          in the ToolBox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut <keycap>U</keycap>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <para>
      The Fuzzy Select tool does not have any special key modifiers, only the
      ones that affect all selection tools in the same way. See
      <xref linkend="gimp-tool-select"/> for help with these.
    </para>
  </sect3>

  <sect3>
    <title>Tool handling</title>
    <figure>
      <title>
        Using Magic Wand tool: selected pixels are contiguous
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/fuzzy-selection.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      It starts selecting when you click at a spot in the image, and expands
      outwards like water flooding low-lying areas, selecting contiguous
      pixels whose colors are similar to the starting pixel. You can control
      the threshold of similarity by dragging the mouse downward or to the
      right: the farther you drag it, the larger you get the selected region.
      And you can reduce the selection by dragging upwards or to the left.
    </para>
    <para>
      To move the selection see
      <link linkend="gimp-using-selections-moving">Moving selections</link>.
      <!--(you can move the selection outline with the arrow keys, not with the
      mouse...)-->
    </para>
  </sect3>

  <sect3 id="tool-fuzzy-select-options">
    <title>Options</title>
    <figure>
      <title>Tool Options for the Magic Wand tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-wand.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <xi:include href="about-common-select-options.xml"/>
      <varlistentry>
        <term>
          Mode; Antialiasing; Feather edges
        </term>
        <listitem>
          <para>Common select options.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <varlistentry>
        <term>Finding Similar Colors</term>
        <listitem>
          <para>
            These options affect the way the Magic Wand expands the selection
            out from the initial point.
          </para>
          <variablelist>
            <varlistentry>
              <term>Select Transparent Areas</term>
              <listitem>
                <para>
                  This option gives the Magic Wand the ability to select areas
                  that are completely transparent. If this option is not
                  checked, transparent areas will never be included in the
                  selection.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Sample Merged</term>
              <listitem>
                <para>
                  This option becomes relevant when you have several layers in
                  your image, and the active layer is either semi-transparent
                  or is set to another Layer Mode than Normal. If this is the
                  case, the colors present in the layer will be different from
                  the colors in the composite image. If the
                  <quote>Sample Merged</quote>
                  option is unchecked, the wand will only react to the color
                  in the active layer when it creates a selection. If it is
                  checked it will react to the composite color of all visible
                  layers. For further information, see the glossary entry
                  <link linkend="glossary-samplemerge">Sample Merged</link>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Threshold</term>
              <listitem>
                <para>
                  This slider determines the range of colors that will be
                  selected at the moment you click the pointer on the initial
                  point, before dragging it: the higher the threshold, the
                  larger the resulting selection. After the first
                  button-press, dragging the pointer downward or to the right
                  will increase the size of the selection; dragging upward or
                  to the left will decrease it. Thus, you have the same set of
                  possibilities regardless of the Threshold setting: what
                  differs is the amount of dragging you have to do to get the
                  result you want.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Selection by</term>
              <listitem>
                <para>
                  With this option you can choose which component of the image
                  GIMP shall use to calculate the similarity.
                </para>
                <para>
                  The components you can choose from are
                  <guimenuitem>Red</guimenuitem>,
                  <guimenuitem>Green</guimenuitem>,
                  <guimenuitem>Blue</guimenuitem>,
                  <guimenuitem>Hue</guimenuitem>,
                  <guimenuitem>Saturation</guimenuitem> and
                  <guimenuitem>Value</guimenuitem>.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-iscissors">
  <title>Intelligent Scissors</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Scissors</secondary>
  </indexterm>
  <indexterm>
    <primary>Scissors tool</primary>
  </indexterm>

  <figure>
    <title>Intelligent Scissors tool icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-scissor.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Intelligent Scissors tool is an interesting piece of equipment: it has
    some features in common with the Lasso, some features in common with the
    Path tool, and some features all its own. It is useful when you are trying
    to select a region defined by strong color-changes at the edges. To use
    the Scissors, you click to create a set of "control nodes", also referred to
    as anchors or control points, at the edges of
    the region you are trying to select. The tool produces a continuous curve
    passing through these control nodes, following any high-contrast edges it
    can find. If you are lucky, the path that the tool finds will correspond
    to the contour you are trying to select.
  </para>
  <para>
    Unfortunately, there seem to be some problems with the edge-following
    logic for this tool, with the result that the selections it creates tend
    to be pretty crude in a lot of cases. A good way to clean them up is to
    switch to <link linkend="gimp-qmask">QuickMask</link>
    mode, and use paint tools to paint in the problematic parts. On the whole,
    most people find the Path tool to be more useful than the Scissors,
    because, even though it does not have the intelligent edge-finding
    capability, the paths it produces persist until you delete them, and can
    be altered at any time.
  </para>

  <sect3>
    <title>Activating the tool</title>
    <para>
      You can access the Intelligent Scissors Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Selection Tools</guisubmenu>
            <guimenuitem>Intelligent Scissors</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-iscissors-22.png"/>
          </guiicon>
          in the ToolBox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut <keycap>I</keycap>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers</title>
    <para>
      The default behavior of the <keycap>Shift</keycap>,
      <keycap>Ctrl</keycap>, and  <keycap>Alt</keycap> keys is described in
      <xref linkend="gimp-tools-select-modifiers"/> for all selection tools.
    </para>
    <para>
      There is, however, one key modifier that has a special behavior if you
      use it while editing a selection, that is <emphasis>after</emphasis> you
      have added the first node:
    </para>
    <variablelist>
      <varlistentry>
        <term><keycap>Shift</keycap></term>
        <listitem>
          <para>
            By default, the <emphasis>auto-edge snap feature</emphasis> is
            enabled: whenever you click and drag the mouse pointer, the
            Scissors tool finds the point of the maximal gradient (where the
            color change is maximal) for placing a new control node or moving
            an existing node.
          </para>
          <para>
            Holding down this key while clicking and dragging disables this
            feature, and the control node will be placed at the position of
            the mouse pointer.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Tool handling</title>
    <figure>
      <title>Using Intelligent Scissors</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/iscissors-selection.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Each time you left-click with the mouse, you create a new control point,
      which is connected to the last control point by a curve that tries to
      follow edges in the image. To finish, click on the first point (the
      cursor changes to indicate when you are in the right spot). You can
      adjust the curve by dragging the control nodes, or by clicking to create
      new control nodes. When you are satisfied, click anywhere inside the
      curve to convert it into a selection.
    </para>
    <para>
      As said above when you click with this tool you drop points. The
      selection boundary is driven by these control points. During creation you
      can move each one by clicking and dragging, except the first and the last
      one. The selection is closed when you are clicking the last point over
      the first one. When the selection is closed the pointer shape
      changes according to its position: inside
      <guiicon>
        <inlinegraphic
          fileref="images/toolbox/cissors-mouse.png"/>
      </guiicon>,
      on the boundary
      <guiicon>
        <inlinegraphic
          fileref="images/toolbox/cissors-plus.png"/>
      </guiicon>,
      and outside
      <guiicon>
        <inlinegraphic
          fileref="images/toolbox/cissors-bad.png"/>
      </guiicon>.
      You can adjust the selection creating new points by clicking on the
      boundary or by moving each control points (merged first and last
      point). The selection is validated when you click inside.
    </para>
    <para>
      You have to notice that you can get only one selection; if you
      create a second selection, the first one is erased when you validate the
      second one.
    </para>
    <warning>
      <para>
        Be sure not to click inside the curve until you are completely done
        adjusting it. Once you have converted it into a selection, undoing
        takes you back to zero, and you will have to start constructing the
        curve again from scratch if you need to change it. Also be sure not to
        switch to a different tool, or again all of your carefully created
        control nodes will be lost. (But you still can transform your
        selection into a path and work it with the Path tool.)
      </para>
    </warning>
    <para>
      To move the selection, see
      <link linkend="gimp-using-selections-moving">Moving selections</link>.
    </para>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Tool Options for the Intelligent Scissors</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-scissor.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Modes; Antialiasing; Feather edges</term>
        <listitem>
          <xi:include href="about-common-select-options.xml"/>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <varlistentry>
        <term>Interactive boundary</term>
        <listitem>
          <para>
            If this option is enabled, dragging a control node during
            placement will indicate the path that will be taken by the
            selection boundary. If it is not enabled, the node will be shown
            connected to the previous node by a straight line while you are
            dragging it around, and you won't see the resulting path until you
            release the pointer button. On slow systems, if your control nodes
            are far apart, this may give a bit of a speed-up.
        </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-rect-select">
  <title>Rectangle Selection</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Rectangle Selection</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary>
    <secondary>Rectangle selection</secondary>
  </indexterm>

  <figure>
    <title>Rectangle Select icon in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-rectsel.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Rectangle Selection tool is designed to select rectangular regions of
    the active layer: it is the most basic of the selection tools, but very
    commonly used. For information on selections and how they are used in GIMP
    see <link linkend="gimp-concepts-selection">Selections</link>;
    for information on features common to all selection tools see
    <link linkend="gimp-tool-select">Selection Tools</link>.
  </para>
  <para>
    This tool is also used for rendering a rectangle on an image. To render a
    filled rectangle, create a rectangular selection, and then fill it using
    the <link linkend="gimp-tool-bucket-fill">Bucket Fill tool</link>.
    To create a rectangular outline, the simplest and most flexible approach
    is to create a rectangular selection and then
    <link linkend="gimp-selection-stroke">stroke</link> it.
  </para>

  <sect3>
    <title>Activating the tool</title>
    <para>
      You can access the Selection Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Selection Tools</guisubmenu>
            <guimenuitem>Rectangle Select</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-rect-select-22.png"/>
          </guiicon>
          in the ToolBox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut <keycap>R</keycap>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers</title>
    <xi:include href="about-common-select-modifiers.xml"/>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            Pressing the <keycap>Ctrl</keycap> key after starting
            your selection, and holding it down until you are finished,
            causes your starting point to be used as the center of the
            selected rectangle, instead of a corner.  Note that if you
            press the <keycap>Ctrl</keycap> key <emphasis>before</emphasis>
            starting to make the selection, the resulting selection will be
            subtracted from the existing selection. The cursor becomes
            <guiicon>
              <inlinegraphic
                fileref="images/toolbox/cursor-select-rect-minus.png"/>
            </guiicon>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycap>Shift</keycap>
        </term>
        <listitem>
          <para>
            If you press the <keycap>Shift</keycap> key
            <emphasis>before</emphasis> starting the selection, the
            resulting selection will be added to the existing one. The cursor
            becomes
            <guiicon><inlinegraphic
              fileref="images/toolbox/cursor-select-rect-plus.png"/>
            </guiicon>
          </para>
          <para>
            Pressing the <keycap>Shift</keycap> key <emphasis>after
            </emphasis> starting your selection, toggles the <guilabel>Fixed
            </guilabel> option, and holding it down until you are finished,
            will constrain the selection to a square, if it is your first
            selection. Later, with the default <guilabel>Aspect Ratio
            </guilabel>, your selection will respect the aspect ratio of the
            previous selection.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycombo>
            <keycap>Ctrl</keycap>
            <keycap>Shift</keycap>
          </keycombo>
        </term>
        <listitem>
          <para>
            Pressing both keys after starting your selection
            combines the two effects, giving you a square selection centered
            on your starting point. Note that pressing these keys before
            starting your selection intersects the resulting selection with
            the existing one and the pointer change shape accordingly :
            <guiicon><inlinegraphic
              fileref="images/toolbox/cursor-select-rect-intersect.png"/>
            </guiicon>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="tool-rect-select-manip">
    <title>Tool manipulation</title>
    <figure>
      <title>Example of Rectangle Selection.</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/rectangle-selection.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      When this tool is selected the mouse pointer is displayed like this:
      <guiicon>
        <inlinegraphic
          fileref="images/toolbox/cross-pt.png"/>
      </guiicon>
      as soon as it is over the image. A drag and drop allows to get a
      rectangular (or square) shape. When the mouse button is relaxed, a
      dotted line (<quote>marching ants</quote>) outlines the selection. It's
      not necessary to adjust the selection with care; you can resize it
      easily later.
    </para>
    <para>
      When the pointer is moving on the canvas, the pointer and selection
      aspects change:
    </para>
    <para>
      - outside the selection it looks like previously; this allows to design
      a new selection but will erase the existing one if this isn't combined
      with an action on the relevant key to add or subtract another selection
      as described in the previous paragraph.
    </para>
    <para>
      - within selection peripheral parts, the mouse pointer changes into
      various shapes when overflying rectangular sensitive and clearly marked
      areas. These <emphasis>handles</emphasis> allow you to resize the
      selection. In selection corners the pointer changes into a shape
      according to the context; for instance in the low right corner it
      becomes:
      <guiicon>
        <inlinegraphic
          fileref="images/toolbox/corner-pt.png"/>
      </guiicon>.
      So, by click-and-dragging these areas, you can magnify or shrink the
      selection size. Over median selection parts, lateral, low or up,
      pointer is changed into appropriate shapes according to the context.
      For instance, when the mouse pointer is over the median right side, the
      pointer looks like:
      <guiicon>
        <inlinegraphic
          fileref="images/toolbox/side-pt.png"/>
      </guiicon>.
      So you can click-and-drag to magnify or to shrink the selection size by
      moving the chosen boundary.
    </para>
    <para>
      - inside selection central area the mouse pointer looks like usual for
      object manipulation, i.e.:
      <guiicon>
        <inlinegraphic
          fileref="images/toolbox/pointer.png"/>
      </guiicon>.
      So you can move the whole selection by a click-and-drag.
    </para>
    <para>
      Moreover, if you have not unchecked the <guilabel>Highlight</guilabel>
      option, your work will be easier because what is out the selection will be
      darkest than what is in the selection, and then the selection seems
      highlighted.
    </para>
    <tip>
      <para>
        If you use moving keys you can move the selection or modify its size
        by one pixel step. If you use it in combination with
        <keycap>Shift</keycap> you can move it by a 25 pixel step.
      </para>
    </tip>
    <figure>
      <title>Sensitive selection areas</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/select-area.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
          Display of all possible pointers in function of their localization
          with respect to the selection area.
        </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      After creating and modifying the selection, you will have to exit this
      editing mode (and commit any changes). You can do this with a single
      click inside the selection or by pressing the <keycap>Enter</keycap>
      key. Or you can just use a non-selection tool and, for example, fill or
      paint the selection.
    </para>
  </sect3>

  <sect3 id="tool-rect-select-options">
    <title>Tool Options</title>
    <figure>
      <title>Tool Options for the Rectangle Select tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-rectsel.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <xi:include href="about-common-select-options.xml"/>
      <varlistentry>
        <term>
          Mode; Antialiasing; Feather edges
        </term>
        <listitem>
          <para>Common select options.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Rounded corners</term>
        <listitem>
          <para>
            If you enable this option, a slider appears. You can use this to
            adjust the radius that is used to round the corners of the
            selection.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Expand from center</term>
        <listitem>
          <para>
            If you enable this option, the point the selection is started by
            pressing the mouse button is used as center of the selected area.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Fixed</term>
        <listitem>
          <para>
            This menu allows you the option of constraining the shape of
            the rectangle in different ways.
          </para>
          <variablelist>
            <varlistentry>
              <term>Aspect ratio</term>
              <listitem>
                <para>
                  This option allows you to design and resize the selection
                  while keeping the aspect ratio fixed and written within the
                  relevant box. By default the ratio is 1:1 (so we have a
                  square) but it can be changed. With the two little landscape
                  and picture icons, you can invert this ratio.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Width</term>
              <listitem>
                <para>
                  With this choice you can fix the width of the selection.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Height</term>
              <listitem>
                <para>
                  With this choice you can fix the height of the selection.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Size</term>
              <listitem>
                <para>
                  With this choice you can fix the width and height of the
                  selection.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Position</term>
        <listitem>
          <para>
            These two text fields contain the current horizontal and vertical
            coordinates of the upper left corner of the selection. You can use
            these fields to adjust the selection position precisely.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            These two text fields contain the current width and height of the
            the selection. You can use these fields to adjust the selection
            size precisely.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Highlight</term>
        <listitem>
          <para>
            If you enable this option, the selected area is emphasized by a
            surrounding mask to make visual selection much easier.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry id="composition-guides">
        <term>Guides</term>
        <listitem>
          <indexterm>
            <primary>Guides</primary>
            <secondary>Selection guides</secondary>
          </indexterm>
          <indexterm>
            <primary>Composition guides</primary>
          </indexterm>
          <para>
            With this menu you can select the type of guides that is shown
            within the selection to make the creation of a selection easier,
            respecting <emphasis>Photo composition rules</emphasis>.
          </para>
          <para>
            Six options are available:
            <itemizedlist>
              <listitem>
                <para>No Guides</para>
              </listitem>
              <listitem>
                <para>Center lines</para>
              </listitem>
              <listitem>
                <para>Rule of thirds</para>
              </listitem>
              <listitem>
                <para>Rule of fifths</para>
              </listitem>
              <listitem>
                <para>Golden sections</para>
              </listitem>
              <listitem>
                <para>Diagonal lines</para>
              </listitem>
            </itemizedlist>
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Auto Shrink Selection</term>
        <listitem>
          <para>
            The <guilabel>Auto Shrink Selection</guilabel> check-box will
            make your next selection automatically shrink to the nearest
            rectangular shape available on the image layer.  The
            algorithm for finding the best rectangle to shrink to is
            <quote>intelligent</quote>, which in this case means that it
            sometimes does surprisingly sophisticated things, and sometimes
            does surprisingly strange things.  In any case, if the region
            that you want to select has a solid-colored surround,
            auto-shrinking will always pick it out correctly.  Note that
            the resulting selection does not need to have the
            same shape as the one you sweep out.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Shrink merged</term>
        <listitem>
          <para>
            If <guilabel>Sample Merged</guilabel>
            is also enabled, then Auto Shrink will use the pixel information
            from the visible display of the image, rather than just from the
            active layer. For further information regarding Sample Merge, see
            the glossary entry
            <link linkend="glossary-samplemerge">Sample Merge</link>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-text">
  <title>Text</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Text</secondary>
  </indexterm>
  <indexterm>
    <primary>Text</primary>
    <secondary>Tool</secondary>
  </indexterm>

  <figure>
    <title>The Text tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-text.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Text tool places text into an image. With <acronym>GIMP-2.8</acronym>, 
    you can write your text directly on the canvas. No Text Editor is needed 
    anymore (although you can still use it if you want by checking the 
    <guilabel>Use editor</guilabel> option in the Tool Options dialog. A text
    toolbar has been added which allows you to edit text in different ways but
    you can still go on using the <emphasis>Text Option dialog</emphasis>, to
    change the font, color and size of your text, and justify it,
    interactively. Right clicking on the frame opens a context menu that allows
    you to copy, cut, paste, load a text...
  </para>
  <para>
    As soon as you type your text, it appears on the canvas in a rectangular
    frame. If you draw the rectangular frame first, the text is automatically 
    adapted to the frame size. You can enlarge this frame as you do with 
    rectangular selections.
  </para>
  
    <mediaobject>
      <imageobject>
        <imagedata format="PNG" fileref="images/using/text-tool.png"/>
      </imageobject>
    </mediaobject>
  <para>
    To move the text on canvas, you have to select the Move tool and click 
    on a character to drag the frame and its text.
  </para>
  
     
  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can access this tool in several ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          In the image menu through
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Text</guisubmenu>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking the tool icon
          <guiicon>
            <inlinegraphic fileref="images/toolbox/stock-tool-text-22.png"/>
          </guiicon>
          in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the <keycap>T</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Text tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-text.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      Normally, tool options are displayed in a window attached under the
      Toolbox as soon as you activate a tool. If they are not, you can access
      them from the image menu bar through
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guisubmenu>Dockable Windows</guisubmenu>
        <guimenuitem>Tool Options</guimenuitem>
      </menuchoice> which opens the option window of the selected tool.
    </para>

    <variablelist>
      <varlistentry>
        <term>Font</term>
        <listitem>
          <para>
            Click on the fonts button <guibutton>A&alpha;</guibutton> to open
            the font selector of this tool, which offers you a list of
            installed X fonts.
          </para>
          <itemizedlist>
            <para>
              At the bottom of the font selector you find some icons which
              act as buttons for:
            </para>
            <listitem>
              <para>resizing the font previews,</para>
            </listitem>
            <listitem>
              <para>
                selecting <emphasis>list view</emphasis> or <emphasis>grid
                view</emphasis>,
              </para>
            </listitem>
            <listitem>
              <para>
                opening the <link linkend="gimp-font-dialog">font
                dialog</link>.
              </para>
            </listitem>
          </itemizedlist>
          <para>
            Choose a font from the installed fonts. When you select a font it
            is interactively applied to your text.
          </para>
          <tip>
            <!--cf. bug #585823 (2009-06-15)-->
            <para>
              You can use the scroll wheel of your pointing device (usually
              your mouse) on the fonts button in order to quickly change the
              font of your text (move the pointer on the fonts button, and
              don't click, just use the wheel button).
            </para>
          </tip>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            This control sets the size of the font in any of several
            selectable units.
          </para>
        </listitem>
      </varlistentry>
      
      <varlistentry> <!--Added-->
        <term>Use editor</term>
        <listitem>
          <para>
            Use an external editor window for text editing instead of
            direct-on-canvas editing.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Antialiasing</term>
        <listitem>
          <para>
            Antialiasing will render the text with much smoother edges and
            curves. This is achieved by slight blurring and merging of the
            edges. This option can radically improve the visual appearance of
            the rendered typeface. Caution should be exercised when using
            antialiasing on images that are not in RGB color space.
          </para>
        </listitem>
      </varlistentry>
      
      <varlistentry>
        <term>Hinting</term>
        <listitem>
          <para>
            Uses the index of adjustment of the font to modify characters in
            order to produce clear letters in small font sizes.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            Color of the text that will be drawn next. Defaults to black.
            Selectable from the color picker dialog box that opens when the
            current color sample is clicked.
          </para>
          <tip>
            <para>
              You can also click-and-drag the color from the Toolbox color
              area onto the text.
            </para>
          </tip>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Justify</term>
        <listitem>
          <indexterm>
            <primary>Justify</primary>
          </indexterm>
          <para>
            Causes the text to be justified according to any of four rules
            selectable from the associated icons.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Indent</term>
        <listitem>
          <indexterm>
            <primary>Indent</primary>
          </indexterm>
          <para>
            Controls the indent spacing from the left margin, for the first
            line.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Line Spacing</term>
        <listitem>
          <indexterm>
            <primary>Line spacing</primary>
          </indexterm>
          <para>
            Controls the spacing between successive lines of text. This
            setting is interactive: it appears at the same time in image text.
            The number is not the space between lines itself, but how many
            pixels must be added to or subtracted from this space (the value
            can be negative).
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Letter Spacing</term>
        <listitem>
          <para>
            Controls the spacing between letters. Also in this case the number
            is not the space itself between letters, but how many pixels must
            be added to or subtracted from this space (the value can be
            negative).
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Box</term>
        <listitem>
          <para>
            Concerns the text box. The associated drop down list offers two
            options:
          </para>
          <para>
            <emphasis role="bold">Dynamic</emphasis>: default option. The size
            of the text box increases as you type. Text may go out of the
            image. You have to press the <keycap>Enter</keycap> key to add a
            new line. The indent option indents all lines. If you increase the
            box size, the option turns to "Fixed".
          </para>
          <para>
            <emphasis role="bold">Fixed</emphasis>: you must enlarge the text
            box first. Else, usual shortcuts are active! The text is limited
            by the right side of the box and continues on next line. This is
            not true new line: you must press the <keycap>Enter</keycap> key
            to add a real new line. The text may go out the lower border of the
            image. The indent option works on the first line only.
          </para>
        </listitem>
      </varlistentry>      
    </variablelist>
  </sect3>

  <sect3 id="text-tool-popup">
    <title>The Text tool context menu</title>
    <para>
      You get this menu by right clicking in a text frame with handles.
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <guilabel>Cut, Copy, Paste, Delete</guilabel>: these options concern
          a selected text. They remain grayed out as long as no text is
          selected. <quote>Paste</quote> is activated if the clipboard
          is full of text.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Open text file</guilabel>: this command opens a file browser
          where you can find the wanted text file.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Clear</guilabel>: this command deletes all the text,
          selected or not.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Path from text</guilabel>: this command creates a
          path from the outlines of the current text. The result is not
          evident. You have to open the Path dialog and make path visible.
          Then select the Path tool and click on the text. Every letter
          is  now surrounded with a path component. So you can modify
          the shape of letters by moving path control points.
        </para>
        <para>
          This command is similar to
          <menuchoice>
            <guimenu>Layer</guimenu>
            <guisubmenu>Text to Path</guisubmenu>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Text along path</guilabel>:
          <indexterm>
            <primary>Text along Path</primary>
          </indexterm>
        </para>
        <para>
          This option is enabled only if a
          <link linkend="gimp-using-paths">path</link> exists. When your
          text is created, then create or import a path and make it active.
          If you create your path before the text, the path becomes
          invisible and you have to make it visible in the Path Dialog.
        </para>
        <para>
          This command is also available from the <quote>Layer</quote> menu:
        </para>
        <figure>
          <title>
            The Text along Path command among text commands in the Layer menu
          </title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/menus/layer/text-commands.png"/>
            </imageobject>
            <caption>
              <para>
                This group of options appears only if a layer text exists.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          If you want to use a text that already exists, make it active
          in the <link linkend="gimp-layer-dialog">Layer dialog</link>,
          select the Text tool and click on the text in the image window.
        </para>
        <para>
          Click on the <guibutton>Text along Path</guibutton> button. The
          text is bent along the path. Letters are represented with their
          outline. Each of them is a component of the new path that
          appears in the <link linkend="gimp-path-dialog">Path
          dialog</link>. All path options should apply to this new path.
        </para>
        <figure>
          <title><quote>Text along Path</quote> example</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/toolbox/text-along-path.png"
              format="PNG"/>
            </imageobject>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/toolbox/text-path.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>
          <guilabel>From Left to Right / From Right to Left</guilabel>: fix
          the writing direction of your language.
        </para>
      </listitem>

    </itemizedlist>
  </sect3>

  <sect3 id="gimp-text-editor-dialog">
    <title>Text Editor</title>

    <indexterm>
      <primary>Text</primary>
      <secondary>Editor</secondary>
    </indexterm>

    <figure>
      <title>The Text Editor</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-dialog-text.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>
      With <acronym>GIMP-2.8</acronym>, this text editor is available only if 
      the <guilabel>Use editor</guilabel> option is checked. It persists 
      probably because all its functions are not transferred to the 
      direct-on-canvas mode, for instance the Unicode characters.
    </para>
    <para>
      You can correct the text you are writing and you can change the text
      font with the Font Editor.
    </para>
    <para>
      As soon as you start writing, a Text layer is created in the Layer
      Dialog. On an image with such a layer (the image you are working on, or
      a <filename class="extension">.xcf</filename> image), you can resume
      text editing by activating this text layer then clicking on it (double
      click). Of course, you can apply to this text layer the same functions
      you use with other layers.
    </para>
    <para>
      To add another text to your image click on a non-text layer: a new Text
      Editor will appear and a new text layer will be created. To pass from a
      text to another one activate the corresponding text layer and click on
      it to activate the editor.
    </para>
    <!--cf. bug #580532 (2009-06-15)-->
    <para>
      You can get Unicode characters with
      <keycombo>
        <keycap>Ctrl</keycap><keycap>Shift</keycap><keycap>U</keycap>
      </keycombo>
      plus hexadecimal Unicode code of the desired char, for example:
    </para>
    <figure>
      <title>Entering Unicode characters</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/enter-unicode-char1.png"/>
        </imageobject>
        <caption>
          <para>
            <keycombo>
              <keycap>Ctrl</keycap>
              <keycap>Shift</keycap>
              <keycap>U</keycap>
            </keycombo>
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/enter-unicode-char2.png"/>
        </imageobject>
        <caption>
          <para>
            <keycombo action="seq">
              <keycap>4</keycap><keycap>7</keycap>
            </keycombo>
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/enter-unicode-char3.png"/>
        </imageobject>
        <caption>
          <para>
            <keycap>Enter</keycap>
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Of course this feature is more useful for entering special (even exotic)
      characters, provided that the required glyphs for these characters are
      supplied by the selected font &mdash; only few fonts support Klingon.
      ;-)
    </para>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/enter-unicode-char4.png"/>
      </imageobject>
      <caption>
        <para>
          Unicode 0x47 (<quote>G</quote>), 0x2665, 0x0271, 0x03C0
        </para>
      </caption>
    </mediaobject>

    <variablelist>
      <title>The Text Editor options</title>
      <indexterm>
        <primary>Text</primary>
        <secondary>Load from file</secondary>
      </indexterm>
      <varlistentry>
        <term>Load Text from file</term>
        <listitem>
          <para>
            Text can be loaded from a text file by clicking the folder icon in
            the text editor. All the text in the file is loaded.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Clear all text</term>
        <listitem>
          <para>
            Clicking this icon clears the editor and the associated text on
            the image.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>From left to right</term>
        <listitem>
          <para>
            This option causes text to be entered from left to right, as
            is the case with most Western languages and may Eastern
            languages.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>From right to left</term>
        <listitem>
          <para>
            This option allows text to be entered from right to left, as is
            the case with some Eastern languages, such as Arabic (illustrated
            in the icon).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Use selected font</term>
        <listitem>
          <para>
            Default doesn't use the font you have selected in the Options
            dialog. If you want to use it, check this option.
          </para>
          <note>
            <para>See also <xref linkend="gimp-using-text"/>.</para>
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-toolbox-areas">
  <title>Color and Indicator Area</title>

  <figure>
    <title>Color and Indicator Area in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/toolbox-show-area.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3 id="gimp-toolbox-color-area">
    <title>Color Area</title>

    <indexterm>
      <primary>Toolbox</primary>
      <secondary>Color Area</secondary>
    </indexterm>
    <indexterm>
      <primary>Color Area</primary>
    </indexterm>
    <indexterm>
      <primary>Foreground color</primary>
    </indexterm>
    <indexterm>
      <primary>Background color</primary>
    </indexterm>

    <figure>
      <title>Active Colors in the Toolbox</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/toolbox-active-colors.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Color area</term>
        <listitem>
          <para>
            This area shows GIMP's basic palette, consisting of two colors,
            the Foreground and Background, used for painting, filling, and
            many other operations. Clicking on either of the color displays
            brings up a Color Editor dialog, which permits you to change it.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-toolbox-default-colors">
        <term>Default colors</term>
        <listitem>
          <para>
            Clicking on this small symbol resets the Foreground and Background
            colors to black and white, respectively. Pressing the
            <keycap>D</keycap> key has the same effect.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-toolbox-swap-colors">
        <term>Swap FG/BG colors</term>
        <listitem>
          <para>
            Clicking on the small curved line with two arrowheads causes
            the Foreground and Background colors to be swapped. Pressing the
            <keycap>X</keycap> key has the same effect.
          </para>
          <tip>
            <para>
              You can click-and-drag one of these colors directly into a layer: it
              will fill the whole layer.
            </para>
          </tip>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-toolbox-indicator-area">
    <title>Tools Indicator Area</title>

    <indexterm>
      <primary>Toolbox</primary>
      <secondary>Indicator Area</secondary>
    </indexterm>
    <indexterm>
      <primary>Brushes</primary>
      <secondary>Toolbox Indicator Area</secondary>
    </indexterm>
    <indexterm>
      <primary>Patterns</primary>
      <secondary>Toolbox Indicator Area</secondary>
    </indexterm>
    <indexterm>
      <primary>Gradient</primary>
      <secondary>Toolbox Indicator Area</secondary>
    </indexterm>

    <figure>
      <title>Active Brush, Pattern and Gradient in the Toolbox</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/toolbox-active-bpg.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This part of the Toolbox shows the currently selected brush, pattern,
      and gradient. Clicking on any of them brings up a dialog that allows you
      to change it.
    </para>
  </sect3>

  <sect3 id="gimp-toolbox-image-area">
    <title>Active Image Area</title>

    <indexterm>
      <primary>Toolbox</primary>
      <secondary>Active image area</secondary>
    </indexterm>

    <figure>
      <title>Active Image in the Toolbox</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/toolbox-active-image.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      A thumbnail of the active image can be displayed in this area if the
      <quote>Display Active Image</quote> option is checked in
      Preferences/Toolbox. If you click on this thumbnail, the
      <quote>Images</quote> dialog is opened, useful if you have many
      images on your screen. You can also click and drag this thumbnail to an
      enabled XDS<footnote><para>
        See <xref linkend="bibliography-online-xds"/>.
      </para></footnote>
      file manager to directly save the corresponding image.
    </para>
<!--
      file manager to directly save the corresponding image; this opens a
      dialog where you can enter a name for the image:
    </para>
    <figure>
      <title>A Direct Save Protocol (XDS) dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/XDS.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
-->
  </sect3>
</sect2>
-#-#-
<note>
  <para>
    These options are described in
    <link linkend="gimp-tool-transform">Transform tools common options</link>.
  </para>
</note>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-align">
  <title>Align</title>
  <indexterm>
    <primary>Align</primary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Align</secondary>
  </indexterm>

  <figure>
    <title>The Align tool in the toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-align.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Align tool is useful to align the image layers with various
    image objects. When this tool is selected, the mouse pointer turns
    to a small hand. By clicking on an element of a layer in the
    image, you choose the layer which will be moved (with <keycap>Shift
    </keycap> + click, you can choose several layers to be aligned);
    this focalised layer has small squares in corners.
    Various buttons in the dialog allow you to select how the layer
    will be moved. And you can select the image object (other layer,
    selection, path...) the selected layer will be aligned on. This
    object is called <emphasis>target</emphasis>.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>You can activate the Align tool in several ways :</para>
    <itemizedlist>
      <listitem>
        <para>
          From the image-menu, through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform Tools</guisubmenu>
            <guimenuitem>Align</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-align-22.png"/>
          </guiicon>
          in the toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the <keycap>Q</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term><keycap>Shift</keycap></term>
        <listitem>
          <para>
            You can select several layers by holding <keycap>Shift</keycap>
            when clicking the layers.
          </para>
          <tip>
            <para>
              Sometimes it's easier to choose multiple layers using
              rubber-banding: click somewhere outside an imaginary rectangular
              region covering the layers you want to choose. Then drag out
              that region by moving the pointer, and release the mouse button.
              Now every layer, which is completely inside the dragged
              rectangle, is selected.
            </para>
            <para>
              Note that now there is no target <quote>first item</quote> the
              selected layers can be aligned on.
            </para>
          </tip>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Tool Options</title>
    <figure>
      <title>Tool Options for the Align tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/tool-options-align.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Align</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Relative to:</term>
              <listitem>
                <para>
                  This is the target - the image object the selected layer
                  will be aligned on.
                </para>
                <itemizedlist>
                  <listitem>
                    <para>
                      <guilabel>First item</guilabel>: the first selected
                      item when selecting multiple layers holding the
                      <keycap>Shift</keycap>
                      key. Note that there is no <quote>first item</quote>
                      when you select multiple layers using rubber-banding.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <guilabel>Image</guilabel>: the image is used as a
                      target.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <guilabel>Selection</guilabel>: the minimal rectangular
                      region covering the active selection.
                    </para>
                  </listitem>
                  <listitem>
                    <para><guilabel>Active layer</guilabel>:</para>
                  </listitem>
                  <listitem>
                    <para><guilabel>Active Channel</guilabel>:</para>
                  </listitem>
                  <listitem>
                    <para><guilabel>Active Path</guilabel>:</para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-west-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-hcenter-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-east-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-north-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-vcenter-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-south-24.png"/>
                </guiicon>
              </term>
              <listitem>
                <para>
                  These buttons become active when a layer is selected.
                  When you click on one of these buttons, you align the
                  selected layer with left edge, horizontal middle, right edge,
                  top edge, vertical middle, or bottom of the target.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Distribute</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-west-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-hcenter-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-east-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-north-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-vcenter-24.png"/>
                </guiicon>
                <guiicon>
                  <inlinegraphic fileref="images/tool-options/stock-gravity-south-24.png"/>
                </guiicon>
              </term>
              <listitem>
                <para>
                  These options seem to differ from the <quote>Related to
                  </quote> options only by the possibility to set an
                  offset.  This offset is the distance which will
                  separate the selected layer(s) from the target once the
                  alignment is performed. It can be positive or negative
                  and is expressed in pixel.  Distribute add this offset to
                  the left edges, horizontal centers, right edges, top
                  edges, vertical centers, or bottoms of targets.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Offset</term>
              <listitem>
                <para>
                  This entry controls the amount of displacement that could
                  be given to the desired alignment effect (in pixel)
                  regarding the target. The default value is 0; it can be
                  positive or negative.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
  <sect3>
    <title>Example for the <quote>Align</quote> command</title>
    <figure>
      <title>Base image</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex1.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            This image has three layers with different sizes and a
            rectangular selection. The yellow layer is active.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Red layer selected</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex2.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Click on red: the red layer is selected, with a small square
            in every corner.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Red layer aligned</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex3.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            We chose <quote>Selection</quote> as a target and we clicked
            on the
            <guiicon><inlinegraphic
              fileref="images/tool-options/stock-gravity-east-24.png"/>
            </guiicon> button (Related to). The red layer alignes with
            the right side of the selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Distribute with offset</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex4.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            We set Offset to -5, we chose <quote>Active layer</quote> as a
            target and we clicked on the
            <guiicon><inlinegraphic
              fileref="images/tool-options/stock-gravity-east-24.png"/>
            </guiicon> button (Distribution).
            The layer is aligned 5 pixels before the right side of the
            yellow active layer.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Align using rubber-band box</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex5a.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            We clicked left from and above the red layer, and dragged out a
            region covering the red and the yellow layer by moving the pointer
            towards the bottom right corner.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex5b.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Again, <guilabel>Selection</guilabel> is the target. After a click
            on the
            <guiicon><inlinegraphic
              fileref="images/tool-options/stock-gravity-west-24.png"/>
            </guiicon>
            button, both layers aligne with the left side of the
            selection.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-tool-transform">
  <title>Common Features</title>

  <para>
    Inside the Transformation tool dialog, you will find eight tools to modify
    the presentation of the image or the presentation of an element of the
    image, selection, layer or path. Each transform tool has an Option dialog
    and an Information dialog to set parameters.
  </para>

  <sect3 id="gimp-tool-transform-options">
    <title>Tool Options</title>
    <figure>
      <title>Common options of transform tools</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/transform-tools-common-options.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Some options are shared by several transform tools. We will describe
      them here. More specific options will be described with their tool.
    </para>
    <variablelist>
      <varlistentry>
        <term>Transform</term>
        <listitem>
          <para>
            <acronym>GIMP</acronym> offers you three buttons which let you
            select which image element the transform tool will work on.
          </para>
          <note>
            <para>
              Remember that the Transform option persists when you quit the
              tool.
            </para>
          </note>
          <itemizedlist>
            <listitem>
              <para>
                When you activate the first button
                <guiicon>
                  <inlinegraphic
                    fileref="images/tool-options/rotate-affect-layer.png"/>
                </guiicon>
                the tool works on the active layer. If no selection exists in
                this layer, the whole layer will be transformed.
              </para>
            </listitem>
            <listitem>
              <para>
                When you activate the second button
                <guiicon>
                  <inlinegraphic
                      fileref="images/tool-options/rotate-affect-selection.png"/>
                </guiicon>
                the tool works on the selection contour only (the whole layer
                contour if no selection).
              </para>
            </listitem>
            <listitem>
              <para>
                When you activate the third button,
                <guiicon>
                  <inlinegraphic
                        fileref="images/tool-options/rotate-affect-path.png"/>
                </guiicon>
                the tool works on the path only.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Direction</term>
        <listitem>
          <para>
            This option sets which way or direction a
            layer is transformed:
          </para>
          <para>
            The <quote>Normal (Forward)</quote> mode will transform the
            image or layer as one might expect. You just use the handles to
            perform the  transformation you want. If you use a grid (see
            below), the image or layer is transformed according to the
            shape and position you put the grid into.
          </para>
          <para>
            <quote>Corrective (Backward)</quote> inverts the direction.
            Primarily used with the Rotation tool to repair digital images
            that have some geometric errors (a horizon not horizontal, a wall
            not vertical...). See <xref linkend="gimp-tool-rotate" />.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-tool-interpolation-methods">
        <term>Interpolation</term>
        <listitem>
          <para>
            This drop-down list lets you choose the method and thus the
            quality of the transformation:
          </para>
          <variablelist>
            <varlistentry>
              <term>None</term>
              <listitem>
                <para>
                  The color of each pixel is copied from its closest
                  neighboring pixel in the original image. This often results
                  in aliasing (the <quote>stair-step</quote> effect) and a
                  coarse image, but it is the fastest method. Sometimes this
                  method is called <quote>Nearest Neighbor</quote>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Linear</term>
              <listitem>
                <para>
                  The color of each pixel is computed as the average color of
                  the four closest pixels in the original image. This gives a
                  satisfactory result for most images and is a good compromise
                  between speed and quality. Sometimes this method is called
                  <quote>Bilinear</quote>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Cubic</term>
              <listitem>
                <para>
                  The color of each pixel is computed as the average color of
                  the eight closest pixels in the original image. This usually
                  gives a good result, but it naturally takes more time.
                  Sometimes this method is called <quote>Bicubic</quote>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Sinc (Lanczos3)</term>
              <listitem>
                <para>
                  The Lanczos3 method uses the Sinc mathematical function and
                  performs a high quality interpolation. This is usually the
                  best method but if you are not satisfied with the result,
                  you may give <quote>Cubic</quote> a try.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <para>
            You can set the default interpolation method in the
            <link linkend="gimp-prefs-tool-options">Tools Options
            Preferences</link> dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Clipping</term>
        <listitem>
          <indexterm>
            <primary>Transform</primary>
            <secondary>Clipping</secondary>
          </indexterm>
          <indexterm>
            <primary>Clipping</primary>
            <secondary>Transform</secondary>
          </indexterm>               
          <para>
            After transformation, the image can be bigger. This option will
            clip the transformed image to the original image size.
          </para>
          <para>You can choose between several ways to clip:</para>
          <variablelist>
            <varlistentry>
              <term>Adjust</term>
              <listitem>
                <figure>
                  <title>Original image for examples</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clip-orig.png"/>
                    </imageobject>
                    <caption>
                      <para>Original image</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clip-adjust.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Rotation applied with <quote>Adjust</quote>
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clip-adjust2.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        Rotation applied with <quote>Adjust</quote>
                        and canvas enlarged to layer size
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
                <para>
                  With Adjust: the layer is enlarged to contain all the
                  rotated layer. The new layer border is visible; the whole
                  layer becomes visible by using the
                  <menuchoice>
                    <guimenu>Image</guimenu>
                    <guimenuitem>Fit Canvas to Layers</guimenuitem>
                  </menuchoice>
                  command.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Clip</term>
              <listitem>
                <figure>
                  <title>Example for Clip</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clip-crop.png"/>
                    </imageobject>
                    <caption>
                      <para>Clip</para>
                    </caption>
                  </mediaobject>
                </figure>
                <para>
                  With Clip: all what exceeds image limits is deleted.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Crop to result</term>
              <listitem>
                <figure>
                  <title>Example for Crop to result</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/toolbox/clip-3.png"/>
                    </imageobject>
                    <caption>
                      <para>Rotation 45Â° with Crop to result</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/clip-3b.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        The crop limit is marked with red. No transparent
                        area is included.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
                <para>
                  If this option is selected, the image is cropped so that
                  the transparent area, created by the transform operation
                  in corners, will not be included in the resulting image.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Crop with aspect</term>
              <listitem>
                <figure>
                  <title>Example for Crop with aspect</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/clip-4a.png" format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>Original image</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/clip-4b.png" format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>Rotation -22Â°</para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/clip-4c.png" format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>The rotated image</para>
                    </caption>
                  </mediaobject>                    
                </figure>

                <para>
                  This option works like the one described before, but makes
                  sure, that the aspect ratio is maintained.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <indexterm>
            <primary>Preview</primary>
            <secondary>Transformation tools</secondary>
          </indexterm>         
          <para>
            If this is marked, which is the default setting, the transformed
            image will be visible on top of the original image or layer. There 
            will also be a slider with which you may select the preview opacity.
          </para>
        </listitem>    
      </varlistentry>
      
      <varlistentry id="gimp-tool-transform-guides">
        <term>Guides</term>
        <listitem>
          <indexterm>
            <primary>Transform</primary>
            <secondary>Guides</secondary>
          </indexterm>
          <indexterm>
            <primary>Guides</primary>
            <secondary>Transform</secondary>
          </indexterm>       
          <para>
            This is a drop down list where you select the type of guide lines 
            which suits your transforming. All the guides uses a frame to mark 
            the image's outline in addition to the lines used by the different 
            selections. 
          </para>
          <variablelist>
            <varlistentry>
              <term>No guides</term>
              <listitem>
                <para>
                  As the name tells you, there are no guides used.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Center lines</term>
                <listitem>
                  <para>
                    Uses one vertical line and one horizontal line crossing each 
                    other in the center of the image or layer.
                  </para>
                </listitem>
            </varlistentry>        
            <varlistentry>
              <term>Rule of thirds</term>
              <listitem>
                <para>
                  Divides the transforming area in nine equal parts by adding 
                  two horizontal lines and two vertical lines equally spaced. 
                  According to this rule the most interesting parts of the image 
                  should be placed at the intersection points.              
                </para>
              </listitem>
            </varlistentry>        
            <varlistentry>
              <term>Rule of fifths</term>
              <listitem>
                <para>
                  Just as the <quote>Rules of thirds</quote> but divides the area in five by 
                  five parts.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Golden sections</term>
              <listitem>
                <para>
                  Also called <quote>The Golden Ratio</quote>. This divides the 
                  transforming area in nine parts using a mathematical formula 
                  proportioning the parts to each others and to the area to be
                  transformed.
                </para>
              </listitem>
            </varlistentry> 
            <varlistentry>
              <term>Diagonal lines</term>
              <listitem>
                <para>
                  Divide the transforming area using diagonally lines.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Number of lines</term>
              <listitem>
                <para>
                  Puts a rectangular grid with equal numbers of vertically 
                  and horizontally lines. The number of lines is set in the 
                  slider popping up when this guide is selected.
                </para>
              </listitem>
            </varlistentry> 
            <varlistentry>
              <term>Line spacing</term>
              <listitem>
                <para>
                  Puts a rectangular grid on the transforming area using the 
                  spacing between the lines set in the slider.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>        
      </varlistentry>
    </variablelist>
  </sect3>
  <sect3>
    <title>Transforming Paths</title>
    <indexterm>
      <primary>Transform</primary>
      <secondary>Paths</secondary>
    </indexterm>
    <indexterm>
      <primary>Paths</primary>
      <secondary>Transform</secondary>
    </indexterm>
    <para>
      If you for some reason want to transform paths, it is possible to do 
      this using the transform tools. 
    </para>
    <figure>
      <title>Rotating paths</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paths-transform-1.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Paths dialog</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paths-transform-2.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Option modus: Path</para>
        </caption>
      </mediaobject>                 
    </figure>    
    <para>
      When the path is drawn go to the path dialog and click on the first field 
      before the path outline in the dialog window to get the eye icon visible.
      Then choose the transformation tool and in the upper part of the option
      dialog click on the path icon to tell the tool to act on the path.      
    </para>
    <para>
      Do the transformation the usual way and confirm it when finished. It 
      could be a good idea to set the Guides to <quote>No guides</quote> to get
      the path more recognizable. 
    </para>
    <para>
      When the transformation is finished, choose the path tool and click on 
      the changed path to activate it again for further working on it. 
    </para>
  </sect3>    
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-crop">
  <title>Crop</title>

  <indexterm>
    <primary>Crop</primary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Crop</secondary>
  </indexterm>
  <indexterm>
    <primary>Image</primary>
    <secondary>Crop</secondary>
    <tertiary>Tool</tertiary>
  </indexterm>

  <figure>
    <title>Crop tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-crop.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Crop Tool is used to crop or clip an image. It works on all the
    layers of the image, visible and invisible. This tool is often used
    to remove borders, or to eliminate unwanted areas to provide you with a
    more focused working area. It is also useful if you need a specific image
    size that does not match the original dimensions of your image.
  </para>
  <para>
    Just like the selection tools, the new crop tool has been enhanced with
    the v2.4 release. The resize handles actually resize the crop rectangle
    instead of providing both resize and move functionality. The tool behaves
    more naturally and consistently with other GIMP tools.
    To move, simply drag the rectangle clicking within the area. Resizing is
    possible in one or two axes at the same time dragging the handle-bars on
    the sides and corners. The outside area can be darkened with a nice
    passepartout effect to better get the idea of how the final crop will
    look like. To validate cropping, click inside the crop rectangle or
    press the <keycap>Enter</keycap> key.
  </para>
  <para>
    When the mouse becomes the moving cross-hair, you can use the keyboard
    arrow keys to move the crop rectangle. Holding the
    <keycap>Shift</keycap> key down allows to move by increments of 25 pixels.
  </para>
  <para>
    You can use Guides to position the crop area. Make sure that the
    <menuchoice>
      <guimenu>View</guimenu>
      <guimenuitem>Snap to Guides</guimenuitem>
    </menuchoice>
    option is checked.
  </para>
  <note>
    <para>
      You can see the aspect ratio in the status bar:
<!--      <figure>
        <title>Aspect ratio display</title>-->
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
                       fileref="images/toolbox/display_ratio.png"/>
          </imageobject>
        </mediaobject>
<!--      </figure>-->
    </para>
  </note>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can activate this tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform tools</guisubmenu>
            <guimenuitem>Crop</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking the tool icon:
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-crop-22.png"/>
          </guiicon>in the ToolBox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the keyboard shortcut
          <keycombo><keycap>Shift</keycap><keycap>C</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <para>
      When you maintain click on the crop rectangle, handles
      disappear and
    </para>
    <itemizedlist>
      <listitem>
        <para>
          holding down the <keycap>Ctrl</keycap> key toggles to the
          <guilabel>Extend from Center</guilabel> option,
        </para>
      </listitem>
      <listitem>
        <para>
          holding down the <keycap>Shift</keycap> key toggles to the
          <guilabel>Fixed</guilabel> option, which makes some
          dimensions fixed.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Tool Options</title>
    <figure>
      <title>Tool Options for the <quote>Crop</quote> tool</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-crop.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Current Layer Only</term>
        <listitem>
          <para>
            This option will make crop affect only the active layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Allow Growing</term>
        <listitem>
          <para>
            This option allows the crop or resize to take place outside the
            image (or layer), and even the canvas. So, you can give the size
            you want to the resulting image. Transparency will be used if
            there is no material to crop.
          </para>
          <figure>
            <title>Example for <quote>Allow Growing</quote></title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/crop-grow-1.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>An image on a big canvas</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/crop-grow-2.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  The option is checked. The crop rectangle extends outside
                  the canvas.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/crop-grow-3.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>The resulting image.</para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Expand from Center</term>
        <listitem>
          <para>
            When this option is checked, the crop rectangle expands from
            the first pixel you clicked taken for center. You can toggle
            this option with <keycap>Ctrl</keycap> while drawing the crop
            rectangle.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fixed</term>
        <listitem>
          <para>
            You can also access this option by holding down the
            <keycap>Ctrl</keycap> key while drawing the crop rectangle.
            This option offers you several to make drawing
            the crop rectangle respect fixed dimensions, or their ratio:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Aspect ratio</guilabel>: That's the default
                possibility. Width and Height keep the same ratio they have
                in the original image, when drawing the crop rectangle.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Width / Height</guilabel>: Only Width or Height
                will remain fixed. The value of this dimension can be set in
                the text box below; it defaults to 100 pixels.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Size</guilabel>: Both Width and Height will be
                fixed. Their values can be set in the text box below, in the
                form <quote>150x100</quote> for example. The crop rectangle
                will adopt this values as soon as you click the image. On the
                right, two buttons let you choose a
                <guibutton>Landscape</guibutton> (widthwise) or
                <guibutton>Portrait</guibutton> (upright) format for the
                crop rectangle.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Position</term>
        <listitem>
          <para>
            These two text boxes show the position (horizontal on the left,
            vertical on the right) of the upper left corner of the crop
            rectangle in real time and you can change it manually too. It is
            stated in pixels, but you can change the unit thanks to the
            drop-down list of the <guibutton>px</guibutton> button. The
            coordinate origin is the upper left corner of the canvas (not of
            the image).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            These two text boxes show the size (horizontal on the left,
            vertical on the right) of the crop-rectangle in real time and you
            can change it manually too. It is stated in pixels, but you can
            change the unit thanks to the drop-down list of the
            <guibutton>px</guibutton> button.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Highlight</term>
        <listitem>
          <para>
            This option toggles the dark outside area intended for
            highlighting the crop rectangle.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Guides</term>
        <listitem>
          <para>
            All kinds of guides are described in
            <xref linkend="gimp-tool-rect-select"/>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Autoshrink</term>
        <listitem>
          <para>
            The Auto Shrink button will attempt to locate a border, in the
            active layer, from which to draw dimensions from. This option
            only works well with isolated objects contrasting sharply with
            background.
          </para>
          <figure>
            <title>Example for <quote>Autoshrink</quote></title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/auto-shrink1.png"/>
              </imageobject>
              <caption>
                <para>
                  An image with a sharp limit in it and a crop rectangle.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                           fileref="images/toolbox/auto-shrink2.png"/>
              </imageobject>
              <caption>
                <para>
                  After clicking the Autoshrink button, the crop rectangle
                  has been shrunk to fit the sharp limits.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shrink Merged</term>
        <listitem>
          <para>
            This option works the same, with Auto Shrink or not. It uses the
            pixel information from all <emphasis>visible</emphasis> layers,
            rather than just from the active layer.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-flip">
  <title>Flip</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Flip</secondary>
  </indexterm>
  <indexterm>
    <primary>Flip</primary>
  </indexterm>

  <figure>
    <title>Flip tool</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-flip.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Flip tool provides the ability to flip layers or selections either
    horizontally or vertically. When a selection is flipped, a new layer with
    a Floating Selection is created. You can use this tool to create
    reflections.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can access the Flip Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <guimenuitem>Tools</guimenuitem>/
          <guimenuitem>Transform Tools</guimenuitem>
          <guimenuitem>Flip</guimenuitem>,
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-flip-22.png"/>
          </guiicon> in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the
          <keycombo><keycap>Shift</keycap><keycap>F</keycap></keycombo> key
          combination.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para><keycap>Ctrl</keycap> lets you change the modes between
            horizontal and vertical flipping.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Flip Tool</quote> Options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-flip.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Affect</term>
        <listitem>
          <xi:include href="about-common-transform-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Flip Type</term>
        <listitem>
          <para>
            The Tool Toggle settings control flipping in either a Horizontal
            or Vertical direction. This toggle can also be switched using a
            key modifier.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-move">
  <title>Move</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Move</secondary>
  </indexterm>
  <indexterm>
    <primary>Move</primary>
  </indexterm>

  <figure>
    <title>The Move tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-move.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Move Tool is used to move layers, selections, paths or guides. It
    works also on texts.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can access the Move Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform Tools</guisubmenu>
            <guimenuitem>Move</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the tool icon:
          <guiicon>
            <inlinegraphic
              fileref="images/toolbox/stock-tool-move-22.png"/>
          </guiicon>.
        </para>
      </listitem>
      <listitem>
        <para>
          By using the keyboard shortcut <keycap>M</keycap>.
        </para>
      </listitem>
      <listitem>
        <para>
          The Move tool is automatically activated when you create a
          guide.
        </para>
        <note>
          <indexterm>
            <primary>Space bar</primary>
          </indexterm>
          <para>
            Holding down the <keycap>space</keycap> bar changes the active
            tool to Move temporarily. The Move tool remains active as long as
            the space bar is held down. The original tool is reactivated
            after releasing the space bar. This behaviour exists only if the
            <guilabel>Switch to Move tool</guilabel> option is
            enabled in
            <menuchoice>
              <guimenu>Edit</guimenu>
              <guisubmenu>Preferences</guisubmenu>
              <guisubmenu>ImageÂ Windows</guisubmenu>
              <guimenuitem>SpaceÂ Bar</guimenuitem>
            </menuchoice>.
          </para>
        </note>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Move Tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tool-options-move.png"
            format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Move</term>
        <listitem>
          <xi:include href="about-common-transform-options.xml"/>
          <para>
            Keep in mind that your Move choice persists after quitting the
            tool.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tool toggle (Shift)</term>
        <listitem>
          <variablelist>
            <title>
              <!--
                Using a <phrase> prevents the <guiicon> from being included
                in the "msgid" of the po file. So remove the <phrase> tags
                only if necessary for translating.
              -->
              <phrase>If Move is on <quote>Layer</quote></phrase>
              <guiicon>
                <inlinegraphic fileref="images/dialogs/stock-layer-16.png"/>
              </guiicon>
            </title>
            <varlistentry>
              <term>Pick a layer or guide</term>
              <listitem>
                <para>
                  On an image with several layers, the mouse pointer turns to
                  a crosshair when it goes over an element belonging to the
                  current layer. Then you can click-and-drag it. If the mouse
                  pointer has a small hand shape (showing that you do
                  <emphasis>not</emphasis> pick an element of the active
                  layer), you will move a non-active layer instead (it becomes
                  the active layer while moving).
                </para>
                <para>
                  If a guide exists on your image, it will turn to red when
                  the mouse pointer goes over. Then it is activated and you
                  can move it.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Move the active layer</term>
              <listitem>
                <para>
                  Only the current layer will be moved. This may be useful if
                  you want to move a layer with transparent areas, where you
                  can easily pick the wrong layer.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <variablelist>
            <title>
              <!-- see above -->
              <phrase>If Move is on <quote>Selection</quote></phrase>
              <guiicon>
                <inlinegraphic fileref="images/dialogs/stock-selection-16.png"/>
              </guiicon>
            </title>
            <para>
              The selection's outline will be moved (see
              <xref linkend="gimp-using-selections-moving"/>).
            </para>
            <varlistentry>
              <term></term>
              <listitem><para></para></listitem>
            </varlistentry>
          </variablelist>
          <variablelist>
            <title>
              <!-- see above -->
              <phrase>If Move is on <quote>Path</quote></phrase>
              <guiicon>
                <inlinegraphic fileref="images/dialogs/stock-path-16.png"/>
              </guiicon>
            </title>
            <varlistentry>
              <term>Pick a path</term>
              <listitem>
                <para>
                  That's the default option. The mouse pointer turns to a
                  small hand when it goes over a
                  <link linkend="gimp-path-dialog-using">visible path</link>.
                  Then you can move this path by click-and-dragging it (it
                  will be the active path while moving).
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Move the active path</term>
              <listitem>
                <para>
                  Only the current path will be moved. You can change the
                  current path in the
                  <link linkend="gimp-path-dialog">Path Dialog</link>.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Summary of Move tool actions</title>
    <variablelist>
      <varlistentry>
        <term>Moving a selection</term>
        <listitem>
          <para>
            The Move tool allows to move the selection outline only. If the
            Move Mode is <quote>Layer</quote>, you must hold down
            <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo> keys.
          </para>
          <para>
            If the Move Mode is Selection, you can click-and-drag any point in
            canvas to move the selection outline. You can also use the arrow
            keys to move selections precisely. Then, holding down the <keycap>
            Shift</keycap> key moves then by increments of 25 pixels.
          </para>
          <para>
            When you move a selection with the Move tool, the center of the
            selection is marked with a small cross. This cross and selection
            boundaries snap to guides or grid if the
            <menuchoice>
              <guimenu>View</guimenu>
              <guimenuitem>Snap to Guides (or Grid)</guimenuitem>
            </menuchoice>
            option is checked: this makes aligning selections easier.
          </para>
          <para>
            See <link linkend="gimp-using-selections-moving">Moving
            selections</link> for other possibilities.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Moving a layer</term>
        <listitem>
          <indexterm>
            <primary>Layer</primary>
            <secondary>Move</secondary>
          </indexterm>
          <para>
            The Move Mode must be <quote>Layer</quote>. Then you can choose
            between <guilabel>Move the Active Layer</guilabel> and, if you
            have one or more layers, <guilabel>Point to Layer (or
            Guide)</guilabel>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Moving Grouped Layers</term>
        <listitem>
          <para>
            If layers are grouped (with the little chain symbol) they will all
            move, regardless of which layer is currently active.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Moving a guide</term>
        <listitem>
          <indexterm>
            <primary>Guide</primary>
            <secondary>Move</secondary>
          </indexterm>
          <para>
            When you pull a guide from a ruler, the Move tool is automatically
            activated. That's not the case after using another tool, and you
            have to activate it by yourself. When the mouse pointer goes over a
            guide, this guide turns to red and you can click-and-drag to move
            it.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Moving a path</term>
        <listitem>
          <indexterm>
            <primary>Path</primary>
            <secondary>Move</secondary>
          </indexterm>
          <para>
            The Path Tool dialog has its own moving function: see
            <xref linkend="gimp-tool-path"/>. But you can also use the Move
            Tool. The Move Mode must be set to <quote>Path</quote>. Note that
            the path becomes invisible; make it visible in the Path Dialog.
            You can choose the path to be moved or move the active path.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Moving a text</term>
        <listitem>
          <indexterm>
            <primary>Text</primary>
            <secondary>Move</secondary>
          </indexterm>
          <para>
            Every text has its own layer and can be moved as layers. See
            <xref linkend="gimp-tool-text"/>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-perspective">
  <title>Perspective</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Perspective</secondary>
  </indexterm>
  <indexterm>
    <primary>Perspective</primary>
  </indexterm>

  <figure>
    <title>Perspective tool</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/toolbox-perspective.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Perspective Tool is used to change the <quote>perspective</quote> of
    the active layer content, of a selection content or of a path. When you
    click on the image, according to the Preview type you have selected, a
    rectangular frame or a grid pops up around the selection (or around the
    whole layer if there is no selection), with a handle on each of the four
    corners. By moving these handles by click-and-drag, you can modify the
    perspective. At the same time, a <quote>Transformation
    information</quote> pops up, which lets you valid the transformation. At
    the center of the element, a circle lets you move the element by
    click-and-drag.
  </para>

  <note>
    <para>
      This tool is not actually a perspective tool, as it doesn't impose
      perspective rules. It is better described as a distort tool.
    </para>
  </note>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can access the Perspective tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the image menu bar
          <guimenuitem>Tools</guimenuitem>/
          <guimenuitem>Transform Tools</guimenuitem>
          <guimenuitem>Perspective</guimenuitem>,
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the tool icon:
          <guiicon><inlinegraphic
            fileref="images/toolbox/stock-tool-perspective-22.png"/>
          </guiicon>
          in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          By using the
          <keycombo><keycap>Shift</keycap><keycap>P</keycap></keycombo> key
          combination.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title><quote>Perspective</quote> tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-perspective.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Transform; Interpolation; Direction; Clipping; Preview; Guides
        </term>
        <listitem>
          <xi:include href="about-common-transform-options.xml"/>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>
      The information window for perspective transformation
    </title>
    <figure>
      <title>
        The information window of the <quote>Perspective</quote> tool
      </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-dialog-perspective.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Matrix</term>
        <listitem>
          <para>
            The information window shows a mathematical representation
            of the perspective transformation. You can find more
            information about transformation matrices on
            <ulink
              url="http://en.wikipedia.org/wiki/Transformation_Matrices">Wikipedia</ulink>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-rotate">
  <title>Rotate</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Rotate</secondary>
  </indexterm>
  <indexterm>
    <primary>Rotate</primary>
  </indexterm>

  <figure>
    <title>The Rotate tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-rotate.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>Overview</title>
    <para>
      This tool is used to rotate the active layer, a selection or a path.
      When you click on the image or the selection with this tool a
      <emphasis>Rotation Information</emphasis> dialog is opened.
      There, you can set the rotation axis, marked with a point, and the
      rotation angle. You can do the same by  dragging the mouse pointer on
      the image or the rotation point.
    </para>
  </sect3>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can access the Selection Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform Tools</guisubmenu>
            <guimenuitem>Rotate</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-rotate-22.png"/>
          </guiicon> in the Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the
          <keycombo><keycap>Shift</keycap><keycap>R</keycap></keycombo>
          key combination.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            Holding <keycap>Ctrl</keycap> will constrain the rotation
            angle to 15 degrees increments.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Rotation tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/tool-options-rotate.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Transform; Direction, Interpolation; Clipping; Preview; Guides
        </term>
        <listitem>
          <xi:include href="about-common-transform-options.xml"/>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Transform Direction</term>
        <listitem>
          <para>
            The Transform Direction sets which way or direction a layer is
            rotated. The Normal mode will rotate the layer as one might
            expect. If a layer is rotated 10 degrees to the right, then the
            layer will be rendered as such. This behaviour is contrary to
            Corrective rotation.
          </para>
          <para>
            Corrective Rotation is primarily used to repair digital images
            that are not straight. If the image is 13 degrees askew then you
            need not try to rotate by that angle. By using Corrective Rotation
            you can rotate visually and line up the layer with the image.
            Because the transformation is reversed, or performed backwards,
            the image will be rotated with sufficient angle to correct the
            error.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Constraints</term>
        <listitem>
          <para><guilabel>15 Degrees (Ctrl)</guilabel> will constrain the rotation
            to angles divisible by 15 degrees.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>The Rotation Information window</title>
    <figure>
      <title>The Rotation Information dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/tool-dialog-rotate.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>
            Here you can set the rotation angle, from -180Â° to +180Â°, i.e.
            360Â°.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Center X/Y</term>
        <listitem>
          <para>
            This option allows you to set the position of the rotation center,
            represented by a cross surrounded by a circle in the image. A 
            click-and-drag on this point also allows you to move this center 
            even outside the image. Default unit of measurement is pixel, but 
            you can change it by using the drop-down list.
          </para>
          <figure>
            <title>The rotating center</title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/transform-guides.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  The layer rotated around the rotating center outside the 
                  image
                </para>
              </caption>
            </mediaobject>
          </figure>      
        </listitem>
      </varlistentry>
    </variablelist>
    <note>
      <para>
        You can also rotate layers with
        <menuchoice>
          <guimenu>Layer</guimenu>
          <guisubmenu>Transform</guisubmenu>
          <guimenuitem>Arbitrary Rotation...</guimenuitem>
        </menuchoice>
      </para>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-scale">
  <title>Scale</title>

  <indexterm>
    <primary>Tools</primary><secondary>Scale</secondary>
  </indexterm>
  <indexterm>
    <primary>Layer</primary><secondary>Scale</secondary>
  </indexterm>
  <indexterm>
    <primary>Selection</primary><secondary>Scale</secondary>
  </indexterm>
  <indexterm>
    <primary>Path</primary><secondary>Scale</secondary>
  </indexterm>
  <indexterm>
    <primary>Scale Layer, selection contour or path</primary>
  </indexterm>

  <figure>
    <title>The Scale tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-scale.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>Overview</title>
    <para>
      The Scale Tool is used to scale layers, selections or paths (the
      Object).
    </para>
    <para>
      When you click on image with the tool the Scaling Information dialog box
      is opened, allowing to change separately <guilabel>Width</guilabel>
      and <guilabel>Height</guilabel>.
      At the same time a Preview (possibly with a grid or an outline) is
      superimposed on the object and handles appear on corners and borders
      that you can click and drag to change dimensions. A small circle
      appears at center of the Preview allowing to move this preview.
    </para>
  </sect3>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can access the Scale Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform Tools</guisubmenu>
            <guimenuitem>Scale</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-scale-22.png"/>
          </guiicon> in the Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the
          <keycombo><keycap>Shift</keycap><keycap>T</keycap></keycombo>
          key combination.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term>
          <keycap>Ctrl</keycap>
        </term>
        <listitem>
          <para>
            Holding the <keycap>Ctrl</keycap> key down
            will toggle the <guilabel>Keep Aspect</guilabel> option.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
  <sect3>

    <title>Tool Options</title>
    <figure>
      <title>Tool options for the Scale tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-scale.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Transform; Interpolation; Direction; Clipping; Preview; Guides 
        </term>
        <listitem>
          <xi:include href="about-common-transform-options.xml"/>
          <note>
            <para>
              The Transform mode works on the active layer only. To work on
              all layers of the image, use
              <link linkend="gimp-image-scale">Scale Image</link>.
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Keep Aspect (Ctrl)</term>
        <listitem>
          <para>
            When you move a corner of the selection frame, this option will
            constrain the scale such as the Height/Width ratio of the layer
            will remain constant. Note that this doesn't work with border
            handles. Note also that it toggles the linking chain in the
            dialog.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>The Scaling Information dialog window</title>
    <figure>
      <title>The Scaling Information dialog window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-dialog-scale.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Width/Height</term>
        <listitem>
          <para>
            Here, you can set Width and Height you want to give to the object.
            The default unit of measurement is pixel. You can change it by
            using the drop-down list. These values are also automatically
            changed when you drag handles in the image. If the associated
            linking chain is broken, you can change Width and Height
            separately.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-shear">
  <title>Shear</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Shear</secondary>
  </indexterm>
  <indexterm>
    <primary>Shear</primary>
  </indexterm>

  <figure>
    <title>The Shear tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-shear.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    Shear tool is used to shift one part of an image, a layer, a selection or
    a path to a direction and the other part to the opposite direction. For
    instance, a horizontal shearing will shift the upper part to the right and
    the lower part to the left. A rectangle becomes a diamond. This is not a
    rotation: the image is distorted. To use this tool after selecting, click
    on the image or the selection: a grid is possibly surperimposed and the
    Shearing Information dialog is opened. By dragging the mouse pointer on
    the image you distort the image, horizontally or vertically according to
    the direction given to the pointer. When you are satisfied, click on
    the <guilabel>Shear</guilabel> button in the info dialog to validate.
  </para>

  <figure>
    <title>Shear example</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/shear-example.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <note>
    <para>
      You can't shear both ways at the same time, you have to use the
      shear tool twice on end.
    </para>
  </note>
  <sect3>
    <title>Activating the Tool</title>
    <para>
      You can access the Shear Tool in different ways:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image menu bar
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform Tools</guisubmenu>
            <guimenuitem>Shear</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon:
          <guiicon>
            <inlinegraphic
                fileref="images/toolbox/stock-tool-shear-22.png"/>
          </guiicon>
          in Toolbox,
        </para>
      </listitem>
      <listitem>
        <para>
          by using the
          <keycombo><keycap>Shift</keycap><keycap>S</keycap></keycombo> key
          combination.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>
  <sect3>

    <title>Options</title>
    <figure>
      <title>Shear tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/tool-options-shear.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>
          Transform Direction; Interpolation; Clippping; Preview; Guides
        </term>
        <listitem>
          <xi:include href="about-common-transform-options.xml"/>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Shearing Information</title>
    <figure>
      <title>Shearing Information window</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-dialog-shear.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Shear magnitude X</term>
        <listitem>
          <para>
            Here, you can set the horizontal shearing amplitude. A positive
            value produces a clock-wise tilt. A negative value gives a
            counter-clock-wise tilt. The unit used by shearing are
            half-pixels.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Shear magnitude Y</term>
        <listitem>
          <para>As above, in the vertical direction.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tools-transform">
  <title>Transform Tools</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Transform Tools</secondary>
  </indexterm>

  <figure>
    <title>An overview of the transform tools</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/transform-tools.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <xi:include href="transform/common-features.xml"/>
  <xi:include href="transform/align.xml"/>
  <xi:include href="transform/move.xml"/>
  <xi:include href="transform/crop.xml"/>
  <xi:include href="transform/rotate.xml"/>
  <xi:include href="transform/scale.xml"/>
  <xi:include href="transform/shear.xml"/>
  <xi:include href="transform/perspective.xml"/>
  <xi:include href="transform/flip.xml"/>
  <xi:include href="transform/cage.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-tool-zoom">
  <title>Zoom</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Zoom</secondary>
  </indexterm>
  <indexterm>
    <primary>Zoom</primary>
  </indexterm>
  <figure>
    <title>The <quote>Zoom</quote> tool in Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/toolbox-zoom.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The Zoom Tool is used to change the zoom level of your working image.
    If you only click on the image, the zoom is applied to the whole image.
    But you can also click-and-drag the mouse pointer to create a zoom
    rectangle. Then, the action of this rectangle is better understood if the
    <quote>Allow window resizing</quote>
    option is unchecked: you can see that the content of this rectangle will
    be enlarged or reduced so that its biggest dimension fit the corresponding
    dimension of the image window (if the biggest dimension of the rectangle
    is width, then it will fit the width of the image window).
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <itemizedlist>
      <listitem>
        <para>
          You can get to the Zoom Tool from the image-menu through :
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Zoom</guisubmenu>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking the tool icon:
          <guiicon>
            <inlinegraphic
                  fileref="images/toolbox/stock-tool-zoom-22.png"/>
          </guiicon>
          in Toolbox.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Key modifiers (Defaults)</title>
    <variablelist>
      <varlistentry>
        <term><keycap>Ctrl</keycap></term>
        <listitem>
          <para>
            Holding <keycap>Ctrl</keycap> when clicking on a point of your
            image will change the zoom direction from zooming in to zooming
            out.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <keycombo>
            <keycap>Ctrl</keycap>
            <keycap>Mouse wheel</keycap>
          </keycombo>
        </term>
        <listitem>
          <para>
            Spinning the mouse wheel, while pressing <keycap>Ctrl</keycap>,
            varies the zoom level.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Zoom tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-zoom.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Auto-resize window</term>
        <listitem>
          <para>
            This option will allow the canvas to be resized if the zoom level
            dictates it.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tool Toggle</term>
        <listitem>
          <para>
            The two available tool toggles are used for changing the zoom
            direction between zooming in and zooming out.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Zoom menu</title>
    <para>
      Using the Zoom tool is not the only way to zoom an image.
      The <link linkend="gimp-view-zoom">Zoom menu</link> provides
      access to several functions for changing the image magnification
      level. For example, you can easily choose an exact magnification
      level from this menu.
    </para>
  </sect3>
</sect2>
ï»¿-#-#-
<sect1 id="gimp-tutorial-quickies">
  <title>Common Tasks</title>
  <indexterm significance="normal">
    <primary>Tutorial</primary>
  </indexterm>
  <para>This tutorial is based on text Copyright &#169; 2004
  Carol Spears. The original tutorial can be found online: 
  <xref linkend="bibliography-online-tutorial02" />.</para>
  <sect2>
    <title>Intention</title>
    <para>
    <acronym>GIMP</acronym>  is a powerful image editing program with many
    options and tools. However, it is also well suited for smaller tasks. The
    following tutorials are meant for those who want to achieve these common
    tasks without having to learn all the intricacies of <acronym>GIMP</acronym>
    and computer graphics in general.</para>
    <para>Hopefully, these tutorials will not only help you with your current
    task, but also get you ready to learn more complex tools and methods later,
    when you have the time and inspiration.</para>
    
    <para>All you need to know to start this tutorial, is how to find and open
    your image. ( 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">File</guimenu>
      <guimenuitem moreinfo="none">Open</guimenuitem>
    </menuchoice> from the Image window).</para>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-scale">
    <title>Change the Size of an Image for the screen</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>Scale</secondary>
    </indexterm>
    
    <para>You have a huge image, possibly from a digital camera, and you want
    to resize it so that it displays nicely on a web page, online board or
    email message.</para>
    
    <figure float="0">
      <title>Example Image for Scaling</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-scale-example.jpg" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>The first thing that you might notice after opening the image, is
    that 
    <acronym>GIMP</acronym> opens the image at a logical size for viewing. If
    your image is very large, like the sample image, 
    <acronym>GIMP</acronym> sets the zoom so that it displays nicely on the
    screen. The zoom level is shown in the status area at the bottom of the
    Image window. This does not change the actual image.</para>
    
    <para>The other thing to look at in the title-bar is the mode. If the mode
    shows as RGB in the title bar, you are fine. If the mode says <guilabel>
    Indexed</guilabel> or <guilabel>Grayscale</guilabel>, read the 
    <xref linkend="gimp-tutorial-quickie-change-mode" />.</para>
    
    <figure float="0">
      <title>GIMP Used for Image Scaling</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-scale-menu.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>Use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Image</guimenu>
      <guimenuitem moreinfo="none">Scale Image</guimenuitem>
    </menuchoice> to open the <quote>Scale Image</quote> dialog. You can right 
    click on the
    image to open the menu, or use the menu along the top of the Image window.
    Notice that the <quote>Scale Image</quote> menu item contains three dots, 
    which is a hint that a dialog will be opened.</para>
    
    <figure float="0">
      <title>Dialog for Image Scaling in Pixels</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-scale-dialog.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>The unit of size for the purpose of displaying an image on a screen
    is the pixel. You can see the dialog has two sections: one for 
    <guilabel moreinfo="none">width</guilabel> and 
    <guilabel moreinfo="none">height</guilabel> and another for 
    <guilabel moreinfo="none">resolution</guilabel>. Resolution applies to
    printing only and has no effect on the image's size when it is displayed on
    a monitor or a mobile device. The reason is that different devices have
    different pixels sizes and so, an image that displays on one device (such
    as a smartphone) with a certain physical size, might display on other
    devices (such as an LCD projector) in another size altogether. For the
    purpose of displaying an image on a screen, you can ignore the resolution
    parameter. For the same reason, do not use any size unit other than the
    pixel in the height / width fields.</para>
    
    <para>If you know the desired width, enter it in the dialog at the top
    where it says 
    <guilabel moreinfo="none">Width</guilabel>. This is shown in the figure
    above. If you don't have such a number in mind, choose an appropriate width
    for the desired use. Common screen sizes range between 320 pixels for
    simpler phones, 1024 pixels for a netbook, 1440 for a wide-screen PC
    display and 1920 pixels for an HD screen. for the purpose of displaying an
    image on-line, a width of 600 to 800 pixels offers a good
    compromise.</para>
    
    <para>When you change one of the image's dimensions, 
    <acronym>GIMP</acronym> changes the other dimension proportionally. To
    change the other dimension, see 
    <xref linkend="gimp-tutorial-quickie-crop" />. Bear in mind that when you
    change the two dimensions arbitrarily, the image might become stretched or
    squashed.</para>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-scale-print">
    <title>Change the Size of an Image for print</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>scale</secondary>
    </indexterm>
    
    <para>As discussed before, pixels don't have a set size in the real world.
    When you set out to print an image on paper, 
    <acronym>GIMP</acronym> needs to know how big each pixels is. We use a
    parameter called resolution to set the ratio between pixels and real-world
    units such as inches.</para>
    <para>By default, most images open with the resolution set to 72. This
    number was chosen for historical reasons as it was the resolution of
    screens in the past, and means that when printed, every pixel is 1/72 of an
    inch wide. When printing images are taken with modern digital cameras, this
    produces very large but chunky images with visible pixels. What we want to
    do is tell <acronym>GIMP</acronym> to print it with the size we have in 
    mind, but not alter the pixel data so as not to lose quality.</para>
    
    <para>To change the print size use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Image</guimenu>
      <guimenuitem moreinfo="none">Print Size</guimenuitem>
    </menuchoice> to open the <quote>Print Size</quote> dialog. Select a size 
    unit you are comfortable with, such as <quote>inches</quote>. Set one 
    dimension, and let  <acronym>GIMP</acronym> change the other one 
    proportionally. Now examine the change in resolution. If the resolution is 
    300 pixels per Inch or over, the printed image's quality will be very high 
    and pixels will not be noticeable. With a resolution of between 200 and 
    150 ppi, pixels will be somewhat noticeable, but the image will be fine as 
    long as its not inspected too closely. Values lower than 100 are visibly 
    coarse and should only be used for material that is seen from a distance, 
    such as signs or large posters.</para>
    
    <figure float="0">
      <title>Dialog for Setting Print Size</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/menus/image/print-size.png" />
        </imageobject>
      </mediaobject>
    </figure>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-jpeg">
    <title>Compressing Images</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>save</secondary>
    </indexterm>
    <figure float="0">
      <title>Example Image for JPEG Saving</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-jpeg-example.jpg" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>If you have images that take up a large space on disk, you can reduce
    that space even without changing the image dimensions. The best image
    compression is achieved by using the <acronym>JPG</acronym> format, but 
    even if the image is already in this format, you can usually still make it 
    take up less space, as the JPG format has an adaptive compression 
    scheme that allows saving in varying levels of compression. The trade-off 
    is that the less space an image takes, the more detail from the original 
    image you lose. You should also be aware that repeated saving in the JPG 
    format causes more and more image degradation.
    </para>
    
    <para>To save you image as a JPG file, therefore, use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">File</guimenu>
      <guimenuitem moreinfo="none">Save As</guimenuitem>
    </menuchoice> to open the <quote>Save As</quote> dialog.</para>
    
    <figure float="0">
      <title><quote>Save As</quote> Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-save-image-dialog-file-type.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>The dialog opens with the file name already typed in the Name box.
    If the image is not a <acronym>JPG</acronym> image, delete the existing 
    extension and type JPG instead, and <acronym>GIMP</acronym> will determine 
    the file type from the file extension. Use the file extension list, 
    circled in the figure above, to see the types supported by 
    <acronym>GIMP</acronym>. The supported extensions change depending on your
    installed libraries. If <acronym>GIMP</acronym> complains, or if 
    <quote>JPEG</quote> is grayed out in the Extensions menu, cancel out of
    everything and step through the 
    <xref linkend="gimp-tutorial-quickie-change-mode" />. Once you have done
    this, click <guibutton>Save</guibutton>. This opens the <quote>Save as"
    </quote> JPEG dialog that contains the quality control.</para>
    
    <para>The <quote>Save as JPEG</quote> dialog uses default values that 
    reduce size while retaining good visual quality; this is the safest and 
    quickest thing to do.</para>
    
    <figure float="0">
      <title><quote>Save as JPEG</quote> dialog with poor quality.</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-jpeg-dialog.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>Reduce the image <guilabel>Quality</guilabel> to make the image even 
    smaller. Reduced quality degrades the image, so be certain to check 
    <quote>Show preview in image window</quote> to visually gauge the
    degradation. As shown in the figure above, a <guilabel>Quality</guilabel>
    setting of 10 produces a very poor quality image that uses very little 
    disk space. The figure below shows a more reasonable image. A quality of 
    75 produces a reasonable image using much less disk space, which will, in 
    turn, load much faster on a web page. Although the image is somewhat 
    degraded, it is acceptable for the intended purpose.</para>
    
    <figure float="0">
      <title>Dialog for Image Saving as JPEG</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-jpeg-dialog2.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>Finally, here is a comparison of the same picture with varying
    degrees of compression:</para>
    
    <figure float="0">
      <title>Example for High JPEG Compression</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-jpeg-010.jpg" />
        </imageobject>
        <caption>
          <para>Quality: 10; Size: 3.4 KiloBytes</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-jpeg-040.jpg" />
        </imageobject>
        <caption>
          <para>Quality: 40; Size: 9.3 KiloBytes</para>
        </caption>
      </mediaobject>
    </figure>
    <figure float="0">
      <title>Example for Moderate JPEG Compression</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-jpeg-070.jpg" />
        </imageobject>
        <caption>
          <para>Quality: 70; Size: 15.2 KiloBytes</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-jpeg-100.jpg" />
        </imageobject>
        <caption>
          <para>Quality: 100; Size: 72.6 KiloBytes</para>
        </caption>
      </mediaobject>
    </figure>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-crop">
    <title>Crop An Image</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>crop</secondary>
    </indexterm>
    
    <figure float="0">
      <title>Example Image for Cropping</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-crop-example-source.jpg" />
        </imageobject>
        <caption>
          <para>Source image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-crop-example-result.jpg" />
        </imageobject>
        <caption>
          <para>Image after cropping</para>
        </caption>
      </mediaobject>
    </figure>
    
    <para>There are many reasons to crop an image; for example, fitting an
    image to fill a frame, removing a portion of the background to emphasize
    the subject, etc. There are two methods to activate the crop tool. Click
    the 
    <guiicon moreinfo="none">
      <inlinemediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/stock-tool-crop-22.png" />
        </imageobject>
      </inlinemediaobject>
    </guiicon> button in the Toolbox, or use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Tools</guimenu>
      <guisubmenu moreinfo="none">Transform Tools</guisubmenu>
      <guimenuitem moreinfo="none">Crop</guimenuitem>
    </menuchoice> in the image window. This changes the cursor and allow you to
    click and drag a rectangular shape. The button in the toolbox is the
    easiest way to get to any of the tools.</para>
    
    <figure float="0">
      <title>Select a Region to Crop</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-crop-step1.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>Click on one corner of the desired crop area and drag your mouse to
    create the crop rectangle. You don't have to be accurate as you can change
    the exact shape of the rectangle later.</para>
    
    <figure float="0">
      <title>Dialog for Cropping</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-crop-options.png" />
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-crop-step2.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>After completing the click and drag motion, a rectangle with special
    regions is shown on the canvas. As the cursor is moved over the different
    areas of the selected crop area, the cursor changes. You can then drag the
    rectangle's corners or edges to change the dimensions of the selected area.
    As shown in the figure above, as the crop area is resized, the dimensions
    and ratio are shown in the status bar. See 
    <xref linkend="gimp-tool-crop" /> for more information on cropping in 
    <acronym>GIMP</acronym>. If you would like to crop the image in a specific
    aspect ratio, such as a square, make sure the tool options are visible ( 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Windows</guimenu>
      <guisubmenu moreinfo="none">Dockable Dialogs</guisubmenu>
      <guimenuitem moreinfo="none">Tool Options</guimenuitem>
    </menuchoice>). In the Tool Options dockable, check the mark next to 
    <guilabel>Fixed</guilabel> and make sure the drop-down box next to it is 
    set to <guilabel>Aspect Ratio</guilabel>. You can now type the desired 
    aspect ratio on the text box below, such as <quote>1:1</quote>. You also 
    have controls to change the aspect from landscape to portrait. After you 
    set the aspect ratio, drag one of the corners of the crop rectangle to 
    update it. The rectangle changes to the chosen ratio, and when you drag 
    it should maintain that ratio.</para>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-info">
    <title>Find Info About Your Image</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>information</secondary>
    </indexterm>
    
    <figure float="0">
      <title>Finding Info</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-info-menu.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>When you need to find out information about your image, Use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Image</guimenu>
      <guimenuitem moreinfo="none">Image Properties</guimenuitem>
    </menuchoice> to open the <quote>Image Properties</quote> dialog, 
    which contains information about the image size, resolution, mode
    and much more.</para>
    
    <figure float="0">
      <title><quote>Image Properties</quote> Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/menus/image/properties.png" />
        </imageobject>
      </mediaobject>
    </figure>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-change-mode">
    <title>Change the Mode</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>change Mode</secondary>
    </indexterm>
    
    <para>As with anything else, images come in different kinds and serve
    different purposes. Sometimes, a small size is important (for web sites)
    and at other times, retaining a high color depth (e.g., a family portrait)
    is what you want. 
    <acronym>GIMP</acronym> can handle all of this, and more, primarily by
    converting between three fundamental modes, as seen in this menu. In order
    to switch your image to one of these modes, you open it and follow that
    menu and click the mode you want.</para>
    
    <figure float="0">
      <title>Dialog for changing the mode</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-mode-menu.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>
    <emphasis>RGB</emphasis>- This is the default mode, used for high-quality
    images, and able to display millions of colors. This is also the mode for
    most of your image work including scaling, cropping, and even flipping. In
    RGB mode, each pixel consists of three different components: R-&gt;Red,
    G-&gt;Green, B-&gt;Blue. Each of these in turn can have an intensity value
    of 0-255. What you see at every pixel is an additive combination of these
    three components.</para>
    
    <para>
    <emphasis>Indexed</emphasis>- This is the mode usually used when file size
    is of concern, or when you are working with images with few colors. It
    involves using a fixed number of colors (256 or less) for the entire image
    to represent colors. By default, when you change an image to a palleted
    image, <acronym>GIMP</acronym> generates an <quote>optimum palette</quote> 
    to best represent your image.</para>
    
    <figure float="0">
      <title>Dialog 
      <quote>Change to Indexed Colors</quote> </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/dialogs/image-mode-indexed.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>As you might expect, since the information needed to represent the
    color at each pixel is less, the file size is smaller. However, sometimes,
    there are options in the various menus that are grayed-out for no apparent
    reason. This usually means that the filter or option cannot be applied when
    your image is in its current mode. Changing the mode to RGB, as outlined
    above, should solve this issue. If RGB mode doesn't work either, perhaps
    the option you're trying requires your layer to have the ability to be
    transparent. This can be done just as easily via 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Layer</guimenu>
      <guimenuitem moreinfo="none">Transparency</guimenuitem>
      <guimenuitem moreinfo="none">Add Alpha Channel</guimenuitem>
    </menuchoice>.</para>
    
    <figure float="0">
      <title>Add Alpha Channel</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-mode-alpha.png" />
        </imageobject>
      </mediaobject>
    </figure>
    <para>
    
    <emphasis>Grayscale</emphasis>- Grayscale images have only shades of gray.
    This mode has some specific uses and takes less space on the hard drive in
    some formats, but is not recommended for general use as reading it is not
    supported by many applications.</para>
    
    <para>There is no need to convert an image to a specific mode before saving
    it in your favorite format, as <acronym>GIMP</acronym> is smart enough to 
    properly export the image.</para>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-flip">
    <title>Flip An Image</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>Flip</secondary>
    </indexterm>
    
    <para>Use this option when you need the person in the photo looking in the
    other direction, or you need the top of the image to be the bottom. Use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Tools</guimenu>
      <guisubmenu moreinfo="none">Transform Tools</guisubmenu>
      <guimenuitem moreinfo="none">Flip</guimenuitem>
    </menuchoice> , or use the 
    <guiicon moreinfo="none">
      <inlinemediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/stock-tool-flip-22.png" />
        </imageobject>
      </inlinemediaobject>
    </guiicon> button on the toolbox. After selecting the flip tool from the
    toolbox, click inside the canvas. Controls in the Tool Options dockable let
    you switch between Horizontal and Vertical modes.</para>
    
    <figure float="0">
      <title>Dialog 
      <quote>Flip an Image</quote> </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-flip-menu.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>After selecting the flip tool from the toolbox, click inside the
    canvas. The tool flips the image horizontally. Use the options dialog to
    switch between horizontal and vertical. If it is not already displayed in
    the dock under the toolbox, double click the toolbox button. You can also
    use the <keycap moreinfo="none">Ctrl</keycap> key to switch between 
    horizontal and vertical.</para>
    
    <para>In the images below, all possible flips are demonstrated:</para>
    
    <figure id="quickie-flip-images" float="0">
      <title>Example Image to Flip</title>
      <informalfigure float="0">
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
            fileref="images/tutorials/quickie-flip-example-source.jpg" />
          </imageobject>
          <caption>
            <para>Source image</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
            fileref="images/tutorials/quickie-flip-example-horizontal.jpg" />
          </imageobject>
          <caption>
            <para>Horizontal flipped image</para>
          </caption>
        </mediaobject>
      </informalfigure>
      <informalfigure float="0">
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
            fileref="images/tutorials/quickie-flip-example-vertical.jpg" />
          </imageobject>
          <caption>
            <para>Vertical flipped image</para>
          </caption>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata format="JPG"
            fileref="images/tutorials/quickie-flip-example-horizontal-and-vertical.jpg" />
          </imageobject>
          <caption>
            <para>Horizontal and vertical flipped image</para>
          </caption>
        </mediaobject>
      </informalfigure>
    </figure>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-rotate">
    <title>Rotate An Image</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    <indexterm significance="normal">
      <primary>Image</primary>
      <secondary>Rotate</secondary>
    </indexterm>
    
    <figure float="0">
      <title>Menu for 
      <quote>Rotate An Image</quote> </title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
          fileref="images/tutorials/quickie-rotate-menu.png" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>Images that are taken with digital cameras sometimes need to be
    rotated. To do this, use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Image</guimenu>
      <guisubmenu moreinfo="none">Transform</guisubmenu>
      <guimenuitem moreinfo="none">Rotate 90&#176; clockwise</guimenuitem>
    </menuchoice> (or counter-clockwise). The images below demonstrate a 90
    degrees CCW rotation.</para>
    
    <figure float="0">
      <title>Example for 
      <quote>Rotate An Image</quote> </title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-rotate-example-source.jpg" />
        </imageobject>
        <caption>
          <para>Source Image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-rotate-example-90-CCW.jpg" />
        </imageobject>
        <caption>
          <para>Rotated image 90 degree CCW</para>
        </caption>
      </mediaobject>
    </figure>
  </sect2>
  
  <sect2 id="gimp-tutorial-quickie-separate">
    <title>Separating an Object From Its Background</title>
    <indexterm significance="normal">
      <primary>Tutorial</primary>
    </indexterm>
    
    <figure float="0">
      <title>Object with Background</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-remove-background-source.jpg" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>Sometimes you need to separate the subject of an image from its
    background. You may want to have the subject on a flat color, or keep the
    background transparent so you can use it on an existing background, or any
    other thing you have in mind. To do this, you must first use 
    <acronym>GIMP</acronym>'s selection tools to draw a selection around your
    subject. This is not an easy task, and selecting the correct tool is
    crucial. You have several tools to accomplish this.</para>
    <para>The <quote>Free Select Tool</quote> allows you to draw a border 
    using either freehand or straight lines. Use this when the subject has a 
    relatively simple shape. Read more about this tool here: 
    <xref linkend="gimp-tool-free-select" /></para>
    
    <figure float="0">
      <title>Free Select Tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG" fileref="images/toolbox/toolbox-lasso.png" />
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-background-free-select.jpg" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>The <quote>Intelligent Scissors Select Tool</quote> lets you select 
    a freehand border and uses edge-recognition algorithms to better fit the 
    border around the object. Use this when the subject is complex but 
    distinct enough against its current background. Read more about this tool 
    here: <xref linkend="gimp-tool-iscissors" /></para>
    
    <figure float="0">
      <title>Intelligent Scissors Select Tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/toolbox/toolbox-scissor.png" />
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-background-scissors.jpg" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>The <quote>Foreground Select Tool</quote> lets you mark areas as 
    <quote>Foreground</quote> or <quote>Background</quote> and refines the 
    selection automatically. Read more about this tool here: 
    <xref linkend="gimp-tool-foreground-select" /></para>
    
    <figure float="0">
      <title>Foreground Select Tool</title>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/toolbox/FG-select-toolbox.png" />
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="JPG"
          fileref="images/tutorials/quickie-background-foreground-select.jpg" />
        </imageobject>
      </mediaobject>
    </figure>
    
    <para>Once you have selected your subject successfully, use 
    <menuchoice moreinfo="none">
      <guimenu moreinfo="none">Select</guimenu>
      <guimenuitem moreinfo="none">Invert</guimenuitem>
    </menuchoice>. Now, instead of the subject, the background is selected.
    What you do now depends on what you intended to do with the
    background.</para>
    
    <itemizedlist>
      <listitem>
        <para>To fill the background with a single color:</para>
        <para> 
	  Click the foreground color swatch (the top left of the two overlapping 
	  colored rectangles) in the toolbox and select the desired color. Next,
	  use <xref linkend="gimp-tool-bucket-fill"/> to replace the background 
	  with your chosen color.
	</para>
	
        <figure float="0">
          <title>Result of Adding a Plain Color Background</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
              fileref="images/tutorials/quickie-background-color-result.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
      
      <listitem>
        <para>To make a transparent background:</para>
        <para>Use 
        <menuchoice moreinfo="none">
          <guimenu moreinfo="none">Layer</guimenu>
          <guisubmenu moreinfo="none">Transparence</guisubmenu>
          <guimenuitem moreinfo="none">Add Alpha Channel</guimenuitem>
        </menuchoice> to add an alpha channel. Next, use 
        <guimenu moreinfo="none">Edit</guimenu>
        <guimenuitem moreinfo="none">Clear</guimenuitem> or hit the 
        <keycap moreinfo="none">Del</keycap> key on the keyboard to remove the
        background. Please note that only a small subset of file formats
        support transparent areas. Your best bet is to save your image as
        PNG.</para>
        
        <figure float="0">
          <title>Result of Adding a Transparent Background</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
              fileref="images/tutorials/quickie-background-alpha-result.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
      
      <listitem>
        <para>To make a black-and-white background while keeping the subject in
        color:</para>
        <para>Use 
        <menuchoice moreinfo="none">
          <guimenu moreinfo="none">Colors</guimenu>
          <guimenuitem moreinfo="none">Desaturate</guimenuitem>
        </menuchoice>. In the dialog that opens, cycle between the modes and
        select the best-looking one, then click OK.</para>
        
        <figure float="0">
          <title>Result of Desaturating the Background</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
              fileref="images/tutorials/quickie-background-desaturate-result.png" />
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </itemizedlist>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-tutorial-straight-lines">
  <title>How to Draw Straight Lines</title>

  <indexterm>
    <primary>Tutorial</primary>
  </indexterm>
  <indexterm>
    <primary>Draw</primary>
  </indexterm>

  <para>
    This tutorial is based on Text and images Copyright Â© 2002 Seth Burgess.
    The original tutorial can be found in the Internet
    <xref linkend="bibliography-online-tutorial01"/>.
  </para>

  <sect2 id="gimp-tutorial-straight-lines-intention">
    <title>Intention</title>
    <figure>
      <title>Example of straight lines</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/tutorials/straight-lines-intro.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This tutorial shows you how to draw straight lines with
      <acronym>GIMP</acronym>. Forcing a line to be straight is a
      convenient way to deal with the imprecision of a
      mouse or tablet, and to take advantage of the power of a computer to
      make things look neat and orderly. This tutorial doesn't use Straight
      Lines for complex tasks; its intended to show how you can use it to
      create quick and easy straight lines.
    </para>
    <procedure>
      <step>
        <title>Preparations</title>
        <figure>
          <title>Introducing the <keycap>Shift</keycap>-key</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/tutorials/straight-lines-1.png"/>
            </imageobject>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/tutorials/straight-lines-1b.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          The invention called the typewriter introduced the
          <keycap>Shift</keycap>
          Key. You generally have 2 of them on your keyboard. They look
          something like the figure above. The keys are located on the left
          and right sides of your keyboard. The mouse 
          was invented by Douglas C. Engelbart in 1970. These come in
          different varieties, but always have at least one button.
        </para>
      </step>
      <step>
        <title>Creating a Blank Drawable</title>
        <figure>
          <title>New image</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/tutorials/straight-lines-2.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          First, create a new image. Any size will do. Use
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>New</guimenuitem>
          </menuchoice>
          to create a new image.
        </para>
      </step>
      <step>
        <title>Choose a Tool</title>
        <figure>
          <title>Paint tools in the toolbox</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/tutorials/straight-lines-3.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          Any of the red-highlighted tools on the above toolbox can do lines.
        </para>
      </step>
      <step>
        <title>Create a Starting Point</title>
        <figure>
          <title>Starting point</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/tutorials/straight-lines-4.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          Click on the paintbrush in the toolbox.
          Click in the image where you want a line to start or end. A
          single dot will appear on the screen. The size of this dot
          represents the current brush size, which you can change in the Brush
          Dialog (see <xref linkend="gimp-brush-dialog"/>).Now, lets start
          drawing a line. Hold down the <keycap>Shift</keycap> key, and
          keep it down.
        </para>
      </step>
      <step>
        <title>Drawing the Line</title>
        <figure>
          <title>Drawing the line</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/tutorials/straight-lines-5.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          After you have a starting point and
          while pressing the <keycap>Shift</keycap>, you will see a straight
          line that follows the cursor.
          Press the first button on the Mouse (the leftmost
          one usually) and let it go. During that whole
          <quote>click</quote> of the <mousebutton>Mouse button</mousebutton>,
          you need to keep the <keycap>Shift</keycap> Key held down.
        </para>
      </step>
      <step>
        <title>Final</title>
        <figure>
          <title>Final Image</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/tutorials/straight-lines-6.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          This is a powerful feature. You can draw straight lines with any of
          the draw tools. You can even draw more lines at the end of this one.
          Our last step is to let go of the <keycap>Shift</keycap> key. And
          there you have it. Some more examples are shown below.  Happy
          <acronym>GIMP</acronym>ing!
        </para>
      </step>
    </procedure>
  </sect2>

  <sect2 id="gimp-tutorial-straight-lines-examples">
    <title>Examples</title>
    <figure>
      <title>Examples I</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/tutorials/straight-lines-example1.png"/>
        </imageobject>
        <caption>
          <para>
            Check Use color from gradient.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/tutorials/straight-lines-example3.png"/>
        </imageobject>
        <caption>
          <para>
            Select the Clone tool and set the source to
            <quote>Maple Leaves</quote> pattern.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Examples II</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/tutorials/straight-lines-example2.png"/>
        </imageobject>
        <caption>
          <para>
            Use
            <menuchoice>
              <guimenu>Filters</guimenu>
              <guimenuitem>Render</guimenuitem>
              <guimenuitem>Pattern</guimenuitem>
              <guimenuitem>Grid</guimenuitem>
            </menuchoice>
            to create a grid.  Use the Smudge Tool to draw a line with a
            slightly larger brush.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/tutorials/straight-lines-example4.png"/>
        </imageobject>
        <caption>
          <para>
            Use
            <menuchoice>
              <guimenu>Filters</guimenu>
              <guimenuitem>Render</guimenuitem>
              <guimenuitem>Clouds</guimenuitem>
              <guimenuitem>Plasma</guimenuitem>
            </menuchoice>
            to create the cool plasma cloud. Use the Erase Tool with
            a square brush to draw a line.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>Example III</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/tutorials/straight-lines-example5.png"/>
        </imageobject>
        <caption>
          <para>
            Use the rectangle select tool to select a rectangle, and then
            fill the selection with a light blue color.
            Select the dodge/burn tool.
            Set the type to Dodge and paint along the top and left side using
            an appropriately sized brush. Set the type to Burn and paint along
            the right and bottom.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-animated-brushes">
  <title>The GIH Dialog Box</title>

  <indexterm>
    <primary>Animation</primary>
    <secondary>Creating an animated brush</secondary>
  </indexterm>

  <para>
    When your new animated brush is created, it is displayed within the image
    window and you would like save it into a gih format. You select
    <menuchoice>
      <guimenu>File</guimenu>
      <guimenuitem>Save as...</guimenuitem>
    </menuchoice>
    menu, name your work with the gih extension in the new window relevant
    field and as soon as you pressed the Save button, the following window is
    displayed:
  </para>

  <figure>
    <title>The dialog to describe the animated brush</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/file-gih-save.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          This dialog box shows up, if you save an image as GIMP image hose
        </para>
      </caption>
    </mediaobject>
  </figure>

  <para>
    This dialog box has several options not easy to understand. They allow you
    to determine the way your brush is animated.
  </para>
  <variablelist>
    <varlistentry>
      <term>Spacing (Percent)</term>
      <listitem>
        <para>
          <quote>Spacing</quote> is the distance between consecutive brush
          marks when you trace out a brushstroke with the pointer. You must
          consider drawing with a brush, whatever the paint tool, like
          stamping. If Spacing is low, stamps will be very close and stroke
          look continuous. If spacing is high, stamps will be separated:
          that's interesting with a color brush (like <quote>green
          pepper</quote> for instance). Value varies from 1 to 200 and this
          percentage refers to brush <quote>diameter</quote>: 100% is one
          diameter.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Description</term>
      <listitem>
        <para>
          It's the brush name that will appear at the top of Brush Dialog
          (grid mode) when the brush is selected.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Cell Size</term>
      <listitem>
        <para>
          That's size of cells you will cut up in layers... Default is one
          cell per layer and size is that of the layer. Then there is only
          one brush aspect per layer.
        </para>
        <para>
          We could have only one big layer and cut up in it the cells that
          will be used for the different aspects of the animated brush.
        </para>
        <para>
          For instance, we want a 100x100 pixels brush with 8 different
          aspects. We can take these 8 aspects from a 400x200 pixels layer,
          or from a 300x300 pixels layer but with one cell unused.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Number of cells</term>
      <listitem>
        <para>
          That's the number of cells (one cell per aspect) that will be cut
          in every layer. Default is the number of layers as there is only
          one layer per aspect.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Display as</term>
      <listitem>
        <para>
          This tells how cells have been arranged in layers. If, for example,
          you have placed height cells at the rate of two cells per layer on
          four layers, GIMP will display:
          <computeroutput>1 rows of 2 columns on each layer</computeroutput>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Dimension, Ranks, Selection</term>
      <listitem>
        <para>
          There things are getting complicated! Explanations are necessary to
          understand how to arrange cell and layers.
        </para>
        <para>
          GIMP starts retrieving cells from each layer and stacks them into a
          FIFO stack (First In First Out: the first in is at the top of the
          stack and so can be first out). In our example 4 layers with 2 cells
          in each, we'll have, from top to bottom: first cell of first layer,
          second cell of first layer, first cell of second layer, second cell
          of second layer..., second cell of fourth layer. With one cell per
          layer or with several cells per layer, result is the same. You can
          see this stack in the Layer Dialog of the resulting
          <filename class="extension">.gih</filename> image file.
        </para>
        <para>
          Then GIMP creates a computer array from this stack with the
          <guilabel>Dimensions</guilabel>
          you have set. You can use four dimensions.
        </para>
        <para>
          In computer science an array has a <quote>myarray(x,y,z)</quote>
          form for a 3 dimensions array (3D). It's easy to imagine a 2D array:
          on a paper it's an array with rows and columns
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/gih-array2D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          With a 3d array we don't talk rows and columns but
          <guilabel>Dimensions</guilabel> and
          <guilabel>Ranks</guilabel>.
          The first dimension is along x axis, the second dimension along y
          axis, the third along z axis. Each dimension has ranks of cells.
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/gih-array3D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </para>
        <para>
          To fill up this array, GIMP starts retrieving cells from the top of
          stack. The way it fills the array reminds that of an odometer: right
          rank digits turn first and, when they reach their maximum, left rank
          digits start running. If you have some memories of Basic programming
          you will have, with an array(4,2,2), the following succession:
          (1,1,1),(1,1,2),(1,2,1),(1,2,2),(2,1,1),(2,1,2),(2,2,2),(3,1,1)....
          (4,2,2). We will see this later in an example.
        </para>
        <para>
          Besides the rank number that you can give to each dimension, you can
          also give them a <guilabel>Selection</guilabel> mode. You have
          several modes that will be applied when drawing:
        </para>
        <variablelist>
          <varlistentry>
            <term>Incremental</term>
            <listitem>
              <para>
                <acronym>GIMP</acronym> selects a rank from the concerned
                dimension according to the order ranks have in that dimension.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Random</term>
            <listitem>
              <para>
                <acronym>GIMP</acronym> selects a rank at random from the
                concerned dimension.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Angular</term>
            <listitem>
              <para>
                <acronym>GIMP</acronym> selects a rank in the concerned
                dimension according to the moving angle of the brush.
              </para>
              <para>
                The first rank is for the direction 0Â°, upwards. The other
                ranks are affected, clockwise, to an angle whose value
                is 360/number of ranks. So, with 4 ranks in the concerned
                dimension, the angle will move 90Â° clockwise for each
                direction change: second rank will be affected to 90Â°
                (rightwards), third rank to 180Â° (downwards) and fourth rank to
                270Â° (-90Â°) (leftwards).<footnote><para>
                  For previous <acronym>GIMP</acronym> versions you may have
                  to replace <quote>clockwise</quote> with
                  <quote>counter-clockwise</quote>.
                </para></footnote>
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Speed, Pressure, x tilt, y tilt</term>
            <listitem>
              <para>
                These options are for sophisticated drawing tablets.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
  </variablelist>

  <variablelist>
    <title>Examples</title>
    <varlistentry>
      <term>A one dimension image pipe</term>
      <listitem>
        <para>
          Well! What is all this useful for? We'll see that gradually with
          examples. You can actually place in each dimension cases that will
          give your brush a particular action.
        </para>
        <para>
          Let us start with a 1D brush which will allow us to study selection
          modes action. We can imagine it like this:
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/gih-array1D.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          Follow these steps:
        </para>
        <procedure>
          <step>
            <para>
              Open a new 30x30 pixels image, RGB with Transparent fill type.
              Using the Text tool create 4 layers <quote>1</quote>,
              <quote>2</quote>, <quote>3</quote>, <quote>4</quote>. Delete the
              <quote>background</quote> layer.
            </para>
          </step>
          <step>
            <para>
              Save this image first with
              <filename class="extension">.xcf</filename> extension to keep
              its properties then save it as
              <filename class="extension">.gih</filename>.
            </para>
          </step>
          <step>
            <para>
              The Save As Dialog is opened: select a destination for your
              image. OK. The GIH dialog is opened: Choose Spacing 100, give a
              name in Description box, 30x30 for Cell Size, 1 dimension,
              4 ranks and choose <quote>Incremental</quote> in Selection box.
              OK.
            </para>
          </step>
          <step>
            <para>
              You may have difficulties to save directly in the GIMP Brush
              directory. In that case, save the
              <filename class="extension">.gih</filename> file manually into
              the <filename
              class="directory">/usr/share/gimp/gimp/2.0/brushes</filename>
              directory. Then come back into the Toolbox, click in the brush
              icon to open the Brush Dialog then click on
              <guibutton>Refresh</guibutton>
              <guiicon>
                <inlinegraphic
                  fileref="images/dialogs/stock-reload-16.png"/>
              </guiicon>
              icon button. Your new brush appears in the
              Brush window. Select it. Select pencil tool for instance and
              click and hold with it on a new image:
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/gih1234incr.png"/>
                </imageobject>
                <caption>
                  <para>
                    You see 1, 2, 3, 4 digits following one another in order.
                  </para>
                </caption>
              </mediaobject>
            </para>
          </step>
          <step>
            <para>
              Take your <filename class="extension">.xcf</filename> image file
              back and save it as <filename class="extension">.gih</filename>
              setting Selection to <quote>Random</quote>:
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/gih1234rand.png"/>
                </imageobject>
                <caption>
                  <para>
                    Digits will be displayed at random order.
                  </para>
                </caption>
              </mediaobject>
            </para>
          </step>
          <step>
            <para>
              Now select <quote>Angular</quote> Selection:
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/gih1234angl.png"/>
                </imageobject>
              </mediaobject>
            </para>
          </step>
        </procedure>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term>A 3 dimensions image hose</term>
      <listitem>
        <para>
          We are now going to create a 3D animated brush: its orientation will
          vary according to brush direction, it will alternate Left/Right
          hands regularly and its color will vary at random between black and
          blue.
        </para>
        <para>
          The first question we have to answer to is the number of images that
          is necessary. We reserve the first dimension (x) to the brush
          direction (4 directions). The second dimension (y) is for Left/Right
          alternation and the third dimension (z) for color variation. Such a
          brush is represented in a 3D array <quote>myarray(4,2,2)</quote>:
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/gih-3Dnum.png" format="PNG"/>
            </imageobject>
          </mediaobject>
          There are 4 ranks in first dimension (x), 2 ranks in second
          dimension (y) and 2 ranks in third dimension (z). We see that there
          are 4x2x2 = 16 cells. We need 16 images.
        </para>
        <procedure>
          <step>
            <title>Creating images of dimension 1 (x)</title>
            <para>
              Open a new 30x30 pixels image, RGB with Transparent Fill Type.
              Using the zoom draw a left hand with fingers upwards.<footnote>
              <para>
                Ok, we are cheating here: our hand is borrowed from <ulink
                url="http://commons.wikimedia.org/wiki/File:Stop_hand.png"/>.
              </para></footnote>
              Save it as <filename>handL0k.xcf</filename> (hand Left 0Â°
              Black).
            </para>
            <para>
              Open the Layer Dialog. Double click on the layer to open the
              Layer Attributes Dialog and rename it to handL0k.
            </para>
            <para>
              Duplicate the layer. Let visible only the duplicated layer,
              select it and apply a 90Â° rotation (Layer/Transform/ 90Â°
              rotation clockwise). Rename it to handL90k.
            </para>
            <para>
              Repeat the same operations to create handL180k and handL-90k (or
              handL270k).
            </para>
          </step>
          <step>
            <title>Creating images of dimension 2 (y)</title>
            <para>
              This dimension in our example has two ranks, one for left hand
              and the other for right hand. The left hand rank exists yet. We
              shall build right hand images by flipping it horizontally.
            </para>
            <para>
              Duplicate the handL0k layer. Let it visible only and select it.
              Rename it to handR0K. Apply Layer/Transform/Flip Horizontally.
            </para>
            <para>
              Repeat the same operation on the other left hand layers to
              create their right hand equivalent.
            </para>
            <para>
              Re-order layers to have a clockwise rotation from top to
              bottom, alternating Left and Right: handL0k, handR0k, handL90k,
              handR90k, ..., handR-90k.
            </para>
          </step>
          <step>
            <title>Creating images of dimension 3 (z)</title>
            <para>
              <emphasis>Creating images of dimension 3 (z)</emphasis>:
              The third dimension has two ranks, one for black color and the
              other for blue color. The first rank, black, exists yet. We well
              see that images of dimension 3 will be a copy, in blue, of the
              images of dimension 2. So we will have our 16 images. But a row
              of 16 layers is not easy to manage: we will use layers with two
              images.
            </para>
            <para>
              Select the handL0k layer and let it visible only. Using
              Image/Canvas Size change canvas size to 60x30 pixels.
            </para>
            <para>
              Duplicate hand0k layer. On the copy, fill the hand with blue
              using Bucket Fill tool.
            </para>
            <para>
              Now, select the Move tool. Double click on it to accede to its
              properties: check <guilabel>Move the Current Layer</guilabel>
              option. Move the blue hand into the right part of the layer
              precisely with the help of <guisubmenu>Zoom</guisubmenu>.
            </para>
            <para>
              Make sure only handL0k and its blue copy are visible. Right
              click on the Layer Dialog: Apply the <guimenuitem>Merge Visible
              Layers</guimenuitem> command with the option <guilabel>Expand as
              Necessary</guilabel>. You get a 60x30 pixels layer with the
              black hand on the left and the blue hand on the right. Rename it
              to <quote>handsL0</quote>.
            </para>
            <para>
              Repeat the same operations on the other layers.
            </para>
          </step>
          <step>
            <title>Set layers in order</title>
            <para>
              Layers must be set in
              order so that GIMP can find the required image at some point
              of using the brush. Our layers are yet in order but we must
              understand more generally how to have them in order.There are
              two ways to imagine this setting in order. The first method is
              mathematical: GIMP divides the 16 layers first by 4; that gives
              4 groups of 4 layers for the first dimension. Each group
              represents a direction of the brush. Then, it divides each group
              by 2; that gives 8 groups of 2 layers for the second dimension:
              each group represents a L/R alternation. Then another division
              by 2 for the third dimension to represent a color at random
              between black and blue.
            </para>
            <para>
              The other method is visual, by using the array representation.
              Correlation between two methods is represented in next image:
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/gih-correlation.png"/>
                </imageobject>
              </mediaobject>
            </para>
            <para>
              <emphasis>How will GIMP read this array?</emphasis>: GIMP
              starts with the first dimension which is programmed for
              <quote>angular</quote>, for instance 90Â°. In this 90Â°
              rank, in yellow, in the second dimension, it selects a L/R
              alternation, in an <quote>incremental</quote> way. Then,
              in the third dimension, in a random way, it chooses a color.
              Finally, our layers must be in the following order:
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/gih-hands-layers.png"/>
                </imageobject>
              </mediaobject>
            </para>
          </step>
          <step>
            <para>
              VoilÃ . Your brush is ready. Save it as
              <filename class="extension">.xcf</filename> first, then as
              <filename class="extension">.gih</filename> with the following
              parameters:
            </para>
            <itemizedlist>
              <listitem>
                <para>Spacing: 100</para>
              </listitem>
              <listitem>
                <para>Description: Hands</para>
              </listitem>
              <listitem>
                <para>Cell Size: 30x30</para>
              </listitem>
              <listitem>
                <para>Number of cells: 16</para>
              </listitem>
              <listitem>
                <para>Dimensions: 3</para>
                <itemizedlist>
                  <listitem>
                    <para>Dimension 1: 4 ranks Selection: Angular</para>
                  </listitem>
                  <listitem>
                    <para>Dimension 2: 2 ranks Selection: Incremental</para>
                  </listitem>
                  <listitem>
                    <para>Dimension 3: 2 ranks Selection: Random</para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </itemizedlist>
            <para>
              Place your <filename class="extension">.gih</filename> file into
              <acronym>GIMP</acronym> brush directory and refresh the brush
              box. You can now use your brush.
            </para>
            <figure>
              <title>
                Here is the result by stroking an elliptical selection
                with the brush:
              </title>
              <mediaobject>
                <imageobject>
                  <imagedata format="PNG"
                    fileref="images/using/gih-hands-stroke.png"/>
                </imageobject>
                <caption>
                  <para>
                    This brush alternates right hand and left hand regularly,
                    black and blue color at random, direction according to
                    four brush directions.
                  </para>
                </caption>
              </mediaobject>
            </figure>
          </step>
        </procedure>
      </listitem>
    </varlistentry>
  </variablelist>
</sect1>
-#-#-
<sect1 id="gimp-using-brushes">
  <title>Adding New Brushes</title>
  <indexterm>
    <primary>Brushes</primary>
    <secondary>Add New</secondary>
  </indexterm>

  <para>
    To add a new brush, after either creating or downloading it, you need to
    save it in a format GIMP can use. The brush file needs to be placed in the
    GIMP's brush search path, so that GIMP is able to index and display it in
    the Brushes dialog. You can hit the <guibutton>Refresh</guibutton>
    button, which reindexes the brush directory. GIMP uses three file formats
    for brushes:
  </para>

  <variablelist id="brushes-file-formats">
    <indexterm>
      <primary>Brushes</primary>
      <secondary>File formats</secondary>
    </indexterm>
    <varlistentry>
      <term>GBR</term>
      <listitem>
        <indexterm>
          <primary>GBR</primary>
        </indexterm>
        <indexterm>
          <primary>Formats</primary>
          <secondary>GBR</secondary>
        </indexterm>
        <para>
          The <filename>.gbr</filename> ("<emphasis>g</emphasis>imp
          <emphasis>br</emphasis>ush") format is used for ordinary and
          color brushes.  You can convert many other types of images,
          including many brushes used by other programs, into GIMP
          brushes by opening them in GIMP and saving them with file
          names ending in <filename>.gbr</filename>.  This brings up a
          dialog box in which you can set the default Spacing for the
          brush.  A more complete description of the GBR file format
          can be found in the file <filename>gbr.txt</filename> in the
          <filename class="directory">devel-docs</filename> directory of
          the GIMP source distribution.
        </para>
        <figure>
          <title>
            Save a <filename class="extension">.gbr</filename> brush
          </title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/file-gbr-save.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>GIH</term>
      <listitem>
        <indexterm>
          <primary>GIH</primary>
        </indexterm>
        <indexterm>
          <primary>Formats</primary>
          <secondary>GIH</secondary>
        </indexterm>
        <para>
          The <filename>.gih</filename> ("<emphasis>g</emphasis>imp
          <emphasis>i</emphasis>mage <emphasis>h</emphasis>ose") format
          is used for animated brushes.  These brushes are constructed
          from images containing multiple layers:  each layer may
          contain multiple brush-shapes, arranged in a grid.  When you
          save an image as a <filename>.gih</filename> file, a dialog
          comes up that allows you to describe the format of the brush.
          Look at <link linkend="gimp-using-animated-brushes">The GIH dialog
          box</link> for more information about the dialog.  The GIH
          format is rather complicated: a complete description can be
          found in the file <filename>gih.txt</filename> in the
          <filename>devel-docs</filename> directory of the GIMP source
          distribution.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>VBR</term>
      <listitem>
        <indexterm>
          <primary>VBR</primary>
        </indexterm>
        <indexterm>
          <primary>Formats</primary>
          <secondary>VBR</secondary>
        </indexterm>
        <para>
          The <filename>.vbr</filename> format is used for parametric
          brushes, i. e., brushes created using the Brush Editor.
          There is really no other meaningful way of obtaining files
          in this format.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>
    To make a brush available, place it in one of the folders in GIMP's brush
    search path. By default, the brush search path includes two folders, the
    system <filename>brushes</filename> folder, which you should not use or
    alter, and the <filename>brushes</filename> folder inside your personal
    GIMP directory. You can add new folders to the brush search path using the
    <link linkend="gimp-prefs-folders-data">Brush Folders</link>
    page of the Preferences dialog. Any GBR, GIH, or VBR file included in a
    folder in the brush search path will show up in the Brushes dialog the
    next time you start GIMP, or as soon as you press the
    <guibutton>Refresh</guibutton> button in the Brushes dialog.
  </para>
  <note>
    <para>
      When you create a new parametric brush using the Brush Editor, it
      is automatically saved in your personal
      <filename>brushes</filename> folder.
    </para>
  </note>
  <para>
    There are a number of web sites with downloadable collections of GIMP
    brushes. Rather than supplying a list of links that will soon be out of
    date, the best advice is to do a search with your favorite search engine
    for <quote>GIMP brushes</quote>.
    There are also many collections of brushes for other programs with
    painting functionality. Some can be converted easily into GIMP brushes,
    some require special conversion utilities, and some cannot be converted at
    all. Most fancy procedural brush types fall into the last category. If you
    need to know, look around on the web, and if you don't find anything, look
    for an expert to ask.
  </para>
</sect1>
-#-#-
<sect1 id="customize-splashscreen">
  <title>Customize Splash-Screen</title>

  <indexterm>
    <primary>Customize</primary>
    <secondary>Splash-screen</secondary>
  </indexterm>
  <indexterm>
    <primary>Splash-screen</primary>
  </indexterm>

  <para>
    When you start <acronym>GIMP</acronym>, you see the
    <emphasis>splash-screen</emphasis> displaying short status messages while
    the program is loading all its components.
  </para>
  <para>
    Of course, you can customize the splash-screen: Create a
    <filename class="directory">splashes</filename> directory in your in your
    personal <acronym>GIMP</acronym> folder
    (<filename class="directory">/home/user_name/.gimp-2.8</filename> on
    Linux,
    <filename class="directory"
    role="html">C:\Documents&nbsp;and&nbsp;Settings\user_name\.gimp-2.8\</filename>
    <filename class="directory"
    role="tex">C:\\Documents&nbsp;and&nbsp;Settings\\user_name\\.gimp-2.8\\</filename>
    on Windows).
  </para>
  <para>
    Copy your image(s) into this
    <filename class="directory">splashes</filename> directory. On start,
    <acronym>GIMP</acronym> will read this directory and choose one of the
    images at random.
  </para>

  <tip>
    <para>Make sure that your images aren't too small.</para>
  </tip>
</sect1>
-#-#-
<sect1 id="gimp-using-fileformats">
  <title>Files</title>

  <indexterm>
    <primary>Files</primary>
  </indexterm>

  <para>
    <acronym>GIMP</acronym> is capable of reading and writing a large
    variety of graphics file formats.  With the exception of
    <acronym>GIMP</acronym>'s native XCF file type, file handling is done by
    Plugins.  Thus, it is relatively easy to extend <acronym>GIMP</acronym>
    to support new file types when the need arises.
  </para>

  <sect2 id="save-export-image">
    <title>Save / Export Images</title>
    <indexterm>
      <primary>Save/Export Images</primary>
    </indexterm>
    <indexterm>
      <primary>Export Images</primary>
    </indexterm>
    <note>
      <para>
        In former <acronym>GIMP</acronym> releases, when you loaded an image in
        some format, let us say JPG or PNG, the image kept its format and
        was saved in the same format by <command>Save</command>. With
        <acronym>GIMP</acronym>-2.8, images are loaded, imported, in the XCF
        format as a new project. For example, a <quote>sunflower.png</quote>
        image will be loaded as <quote>*[sunflower] (imported)-1.0 (indexed
        color, 1 layer)</quote>. The leading asterisk indicates that this file
        has been changed. This image will be saved as
        <quote>sunflower.xcf</quote> by <command>Save</command>. To save this
        image in a format other than XCF, you must use
        <command>Export</command>.
      </para>
    </note>
    <para>
      When you are finished working with an image, you will want to save the
      results. (In fact, it is often a good idea to save at intermediate
      stages too: <acronym>GIMP</acronym>
      is a pretty robust program, but we have heard rumors, possibly
      apocryphal, that it may have been known on rare and mysterious occasions
      to crash.) Most of the file formats that <acronym>GIMP</acronym>
      can open, can also be used for saving. There is one file format that is
      special, though: XCF is <acronym>GIMP</acronym>'s native format, and is
      useful because it stores <emphasis>everything</emphasis> about an image
      (well, almost everything; it does not store <quote>undo</quote>
      information). Thus, the XCF format is especially suitable for saving
      intermediate results, and for saving images to be re-opened later in
      <acronym>GIMP</acronym>.
      XCF files are not readable by most other programs that display images,
      so once you have finished, you will probably also want to export the image
      in a more widely used format, such as JPEG, PNG, TIFF, etc.
    </para>
  </sect2>

  <sect2 id="gimp-using-fileformats-export-dialog">
    <title>File Formats</title>
    <para>
      There are several commands for <emphasis>saving</emphasis> images. A list,
      and information on how to use them, can be found in the section covering
      the <link linkend="gimp-file-menu">File Menu</link>.
    </para>
    <para><acronym>GIMP</acronym> allows you to <emphasis>export</emphasis> the
      images you create in a wide variety of formats.  It is important to
      realize that the only format capable of saving <emphasis>all</emphasis> of
      the information in an image, including layers, transparency, etc., is
      GIMP's native XCF format. Every other format preserves some image
      properties and loses others. It is up to you to understand the
      capabilities of the format you choose.
    </para>
    <para>
      Exporting an image does not modify the image itself, so you do not lose
      anything by exporting. See
      <link linkend="gimp-export-dialog">Export file</link>.
    </para>
    <note>
      <para>
        When you close an image (possibly by quitting GIMP), you are warned if
        the image is "dirty"; that is, if it has been changed without
        subsequently being saved (an asterisk is in front of the image name).
      </para>
      <figure>
        <title>Closing warning</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/close-warning.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        Saving an image in any file format will cause the image to be considered
        "not dirty", even if the file format does not represent all of the
        information from the image.
      </para>
    </note>

    <sect3 id="file-gif-save">
      <title>Export Image as GIF</title>
      <anchor id="file-gif-load" xreflabel="GIF"/>

      <indexterm>
        <primary>GIF</primary>
      </indexterm>
      <indexterm>
        <primary>.gif</primary>
      </indexterm>
      <indexterm>
        <primary>Export Image as GIF</primary>
      </indexterm>
      <indexterm>
        <primary>Formats</primary>
        <secondary>GIF</secondary>
      </indexterm>

      <figure>
        <title>The GIF Export dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/export-gif-dialog.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <warning>
        <para>
          The GIF file format does not support some basic image        
          properties such as <emphasis>print resolution</emphasis>.
          If you care for these properties, use a different file
          format like PNG.
        </para>
      </warning>
      <variablelist>
        <varlistentry>
          <term>GIF Options</term>
          <listitem>
            <variablelist>
              <varlistentry>
                <term>Interlace</term>
                <listitem>
                  <para>
                    Checking interlace allows an image on a web page to be
                    progressively displayed as it is downloaded.
                    Progressive image display is useful with slow connection
                    speeds, because you can stop an image that is of no
                    interest; interlace is of less use today with our faster
                    connection speeds.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>GIF comment</term>
                <listitem>
                  <para>
                    GIF comments support only 7-bit ASCII characters.
                    If you use a character outside the 7-bit ASCII set,
                    <acronym>GIMP</acronym> will export the image without
                    a comment, and then inform you that the comment was not
                    saved.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Animated GIF Options</term>
          <listitem>
            <indexterm>
              <primary>Animation</primary>
              <secondary>Animated GIF options</secondary>
            </indexterm>
            <variablelist>
              <varlistentry>
                <term>Loop forever</term>
                <listitem>
                  <para>
                    When this option is checked, the animation will
                    play repeatedly until you stop it.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Delay between frames where unspecified</term>
                <listitem>
                  <para>
                    You can set the delay, in milliseconds, between frames
                    if it has not been set before. In this case, you can
                    modify every delay in the Layer Dialog.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Frame disposal where unspecified</term>
                <listitem>
                  <para>
                    If this has not been set before, you can set how frames
                    will be superimposed. You can select among three options :
                  </para>
                  <itemizedlist mark="opencircle">
                    <listitem>
                      <para>
                        <guilabel>I don't care</guilabel>:
                        you can use this option if all your layers are
                        opaque. Layers will overwrite what is beneath.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guilabel>Cumulative Layers (combine)</guilabel>:
                        previous frames will not be deleted when a new one
                        is displayed.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guilabel>One frame per layer (replace)</guilabel>:
                        previous frames will be deleted before displaying a
                        new frame.
                      </para>
                    </listitem>
                  </itemizedlist>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Use delay entered above for all frames</term>
                <listitem>
                  <para>
                    Self-explanatory.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Use disposal entered above for all frames</term>
                <listitem>
                  <para>
                    Self-explanatory.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect3>

    <sect3 id="file-jpeg-save">
      <title>Export Image as JPEG</title>
      <anchor id="file-jpeg-load" xreflabel="JPEG"/>

      <indexterm>
        <primary>JPEG</primary>
      </indexterm>
      <indexterm>
        <primary>.jpg</primary>
      </indexterm>
      <indexterm>
        <primary>.jpeg</primary>
      </indexterm>
      <indexterm>
        <primary>Export Image as JPEG</primary>
      </indexterm>
      <indexterm>
        <primary>Formats</primary>
        <secondary>JPEG</secondary>
      </indexterm>

      <para>
        JPEG files usually have an extension .jpg, .JPG, or .jpeg. It is a
        very widely used format, because it compresses images very
        efficiently, while minimizing the loss of image quality. No other
        format comes close to achieving the same level of compression. It does
        not, however, support transparency or multiple layers.
      </para>
      <figure>
        <title>The JPEG Export dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/export-jpeg-dialog.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        The JPEG algorithm is quite complex, and involves a bewildering number
        of options, whose meaning is beyond the scope of this documentation.
        Unless you are a JPEG expert, the Quality parameter is probably the
        only one you will need to adjust.
      </para>
      <variablelist>
        <varlistentry>
          <term>Quality</term>
          <listitem>
            <para>
              When you save a file in JPEG format, a dialog is displayed
              that allows you to set the Quality level, which ranges from 0
              to 100. Values above 95 are generally not useful, though. The
              default quality of 85 usually produces excellent results, but
              in many cases it is possible to set the quality substantially
              lower without noticeably degrading the image. You can test the
              effect of different quality settings by checking
              <guilabel>Show Preview in image window</guilabel>
              in the JPEG dialog.
            </para>
            <note>
              <para>
                Please note, that the numbers for the JPEG quality level have
                a different meaning in different applications.
                Saving with a quality level of 80 in GIMP is not
                necessarily comparable with saving with a quality level of
                80 in a different application.
              </para>
            </note>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Preview in image window</term>
          <listitem>
            <para>
              Checking this option causes each change in quality (or any other
              JPEG parameter) to be shown in the image display. (This does not
              alter the image: the image reverts back to its original state
              when the JPEG dialog is closed.)
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Advanced settings</term>
          <listitem>
            <para>
              Some information about the advanced settings:
            </para>
            <variablelist>
              <varlistentry>
                <term>Optimize</term>
                <listitem>
                  <para>
                    If you enable this option, the optimization of entropy
                    encoding parameters will be used. The result is typically
                    a smaller file, but it takes more time to generate.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Progressive</term>
                <listitem>
                  <para>
                    With this option enabled, the image chunks are
                    stored in the file in an order that allows
                    progressive image refinement
                    during a slow connection web download.
                    The progressive option for JPG has the same
                    purpose as the interlace option for GIF.
                    Unfortunately, the progressive option produces
                    slightly larger JPG files (than without the
                    progressive option).
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Save EXIF data</term>
                <listitem>
                  <indexterm>
                    <primary>EXIF</primary>
                  </indexterm>
                  <para>
                    JPEG files from many digital cameras contain extra
                    information, called EXIF data.
                    EXIF data provides information about the image such as
                    camera make and model, image size, image date, etc.
                    Although GIMP uses the <quote>libexif</quote> library to
                    read and write EXIF data, the library is not
                    automatically packaged with GIMP. If GIMP was built with
                    libexif support, then EXIF data is preserved if you open a
                    JPEG file, work with the resulting image, and then export 
                    it as JPEG. The EXIF data is not altered in any way when 
                    you do this. The EXIF data may indicate things such as 
                    image creation time and file name, which may no longer be
                    correct.
                    If GIMP was not built with EXIF support, you can still
                    open JPG files containing EXIF data, but the EXIF data
                    is ignored, and will not be saved when the resulting image
                    is later exported.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Save thumbnail</term>
                <listitem>
                  <para>
                    This option lets you save a thumbnail with the image.
                    Many applications use the small thumbnail image as
                    a quickly available small preview image.
                  </para>
                  <note>
                    <para>
                      This option is present only if <acronym>GIMP</acronym>
                      was built with EXIF support.
                    </para>
                  </note>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Save XMP data</term>
                <listitem>
                  <para>
                    XMP data is <quote>meta</quote> data about the image;
                    it is a competing format with EXIF.
                    If you enable this option, the meta data of the image is
                    saved in an <acronym>XMP</acronym>-structure within the
                    file.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>
                  Use quality settings from original image
                </term>
                <listitem>
                  <para>
                    If a particular quality setting (or <quote>quantization
                    table</quote>) was attached to the image when it was
                    loaded, then this option allows you to use them instead of
                    the standard ones.
                  </para>
                  <para>
                    If you have only made a few changes to the image, then
                    re-using the same quality setting will give you almost the
                    same quality and file size as the original image. This
                    will minimize the losses caused by the quantization step,
                    compared to what would happen if you used different
                    quality setting.
                  </para>
                  <para>
                    If the quality setting found in the original file are not
                    better than your default quality settings, then the option
                    <quote>Use quality settings from original image</quote>
                    will be available but not enabled. This ensures that you
                    always get at least the minimum quality specified in your
                    defaults. If you did not make major changes to the image
                    and you want to save it using the same quality as the
                    original, then you can do it by enabling this option.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Smoothing</term>
                <listitem>
                  <para>
                    JPG compression creates artifacts. By using this option,
                    you can smooth the image when saving, reducing them. But
                    your image becomes somewhat blurred.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Restart markers</term>
                <listitem>
                  <para>
                    The image file can include markers which allow the image
                    to be loaded as segments. If a connection is broken while
                    loading the image in a web page,
                    loading can resume from the next marker.
                  </para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Subsampling</term>
                <listitem>
                  <para>
                    The human eye is not sensitive in the same way over
                    the entire color spectrum. The compression
                    can use this to treat slightly different colors
                    that the eye perceives as very close, as identical
                    colors. Three methods are available :
                  </para>
                  <itemizedlist>
                    <listitem>
                      <para>
                        <guilabel>1x1,1x1,1x1 (best quality)</guilabel>:
                        Commonly referred to as (4:4:4), this produces
                        the best quality,
                        preserving borders and contrasting colors, but
                        compression is less.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guilabel>2x1,1x1,1x1 (4:2:2)</guilabel>:
                        This is the standard subsampling, which usually
                        provides a good ratio between image quality and file
                        size. There are situations, however, in which using no
                        subsampling (4:4:4) provides a noticeable increase in
                        the image quality; for example, when the image
                        contains fine details such as text over a uniform
                        background, or images with almost-flat colors.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guilabel>1x2,1x1,1x1</guilabel>
                        This is similar to
                        (2x1,1x1,1x1), but the chroma sampling is in the
                        horizontal direction rather than the vertical
                        direction; as if someone rotated an image.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guilabel>2x2,1x1,1x1 (smallest file)</guilabel>:
                        Commonly referred to as (4:1:1), this produces
                        the smallest files. This suits images with weak
                        borders but tends to denature colors.
                      </para>
                    </listitem>
                  </itemizedlist>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>DCT Method</term>
                <listitem>
                  <para>
                    DCT is <quote>discrete cosine transform</quote>,
                    and it is the first step in the JPEG algorithm going
                    from the spatial to the frequency domain. The choices are
                    <quote>float</quote>, <quote>integer</quote>
                    (the default), and <quote>fast integer</quote>.
                  </para>
                  <itemizedlist>
                    <listitem>
                      <para>
                        <guilabel>float</guilabel>:
                        The float method is very slightly more accurate than
                        the integer method, but is much slower unless your
                        machine has very fast floating-point hardware. Also
                        note that the results of the floating-point method may
                        vary slightly across machines, while the integer
                        methods should give the same results everywhere.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guilabel>integer</guilabel>
                        (the default): This method is faster than
                        <quote>float</quote>, but not as accurate.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guilabel>fast integer</guilabel>:
                        The fast integer method is much less accurate than
                        the other two.
                      </para>
                    </listitem>
                  </itemizedlist>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Image comments</term>
                <listitem>
                  <para>
                    In this text box, you can enter a comment which is
                    saved with the image.
                  </para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect3>
       
    <sect3 id="file-png-save">
      <title>Export Image as PNG</title>
      <anchor id="file-png-load" xreflabel="PNG"/>
      <anchor id="file-png-save-defaults" xreflabel="PNG"/>
      <indexterm>
        <primary>Export Image as PNG</primary>
      </indexterm>
      <indexterm>
        <primary>PNG</primary>
      </indexterm>
      <indexterm>
        <primary>Formats</primary>
        <secondary>PNG</secondary>
      </indexterm>

      <figure>
        <title>The <quote>Export Image as PNG</quote> dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/export-png-dialog.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Interlacing</term>
          <listitem>
            <para>
              Checking interlace allows an image on a web page to be
              progressively displayed as it is downloaded.
              Progressive image display is useful with slow connection
              speeds, because you can stop an image that is of no
              interest; interlace is of less use today with our faster
              connection speeds.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save background color</term>
          <listitem>
            <para>
              If your image has many transparency levels, the Internet
              browsers that recognize only two levels, will use the
              background color of your Toolbox instead. Internet Explorer
              up to version 6 did not use this information.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save gamma</term>
          <listitem>
            <para>
              Gamma correction is the ability to correct for
              differences in how computers interpret color values.
              This saves gamma information in the PNG that reflects
              the current Gamma factor for your display. Viewers on
              other computers can then compensate to ensure that the image
              is not too dark or too bright.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save layer offset</term>
          <listitem>
            <!-- Andrew Pitonyak (andrew@pitonyak.org)
            verified this with Alexia Death (alexiadeath@gmail.com)
            on August 17, 2009. -->
            <para>
              PNG supports an offset value called the
              <quote>oFFs chunk</quote>, which provides position data.
              Unfortunately, PNG offset support in <acronym>GIMP</acronym>
              is broken, or at least is not compatible with other
              applications,
              and has been for a long time. Do not enable offsets,
              let <acronym>GIMP</acronym> flatten the layers before
              saving, and you will have no problems.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save Resolution</term>
          <listitem>
            <para>Save the image resolution, in ppi (pixels per inch).</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save creation time</term>
          <listitem>
            <para>
              Date the file was saved.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save comment</term>
          <listitem>
            <para>
              You can read this comment in the
              <link linkend="gimp-image-properties">Image Properties</link>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save color values from transparent pixels</term>
          <listitem>
            <para>
              With this option is checked, the color values are saved even if
              the pixels are completely transparent.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Compression level</term>
          <listitem>
            <para>
              Since compression is not lossy, the only reason to use a
              compression level less than 9, is if it takes too long to
              compress a file on a slow computer.
              Nothing to fear from
              decompression: it is as quick whatever the compression level.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save Defaults</term>
          <listitem>
            <para>
              Click to save the current settings. Latter, you can use
              <guibutton>Load Defaults</guibutton> to load the saved
              settings.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <note>
        <para>
          The PNG format supports indexed images. Using fewer colors,
          therefore, results in a smaller file; this is especially useful
          for creating web images;
          see <xref linkend="gimp-image-convert-indexed"/>.
        </para>
        <para>
          Computers work on 8 bits blocks named <quote>Byte</quote>.
          A byte allows 256 colors. Reducing the number of colors below 256
          is not useful: a byte will be used anyway and the file size will not
          be less. More, this <quote>PNG8</quote>
          format, like GIF, uses only one bit for transparency; only two
          transparency levels are possible, transparent or opaque.
        </para>
        <para>
          If you want PNG transparency to be fully displayed by Internet
          Explorer, you can use the AlphaImageLoader DirectX filter in the
          code of your Web page. See Microsoft Knowledge Base
          <xref linkend="bibliography-online-microsoft-kb294714"/>.
          Please note, that this is not necessary for
          InternetExplorer 7 and above.
        </para>
      </note>
    </sect3>

    <sect3 id="file-tiff-save">
      <title>Export Image as TIFF</title>
      <indexterm>
        <primary>Export Image as TIFF</primary>
      </indexterm>
      <indexterm>
        <primary>TIFF</primary>
      </indexterm>
      <indexterm>
        <primary>Formats</primary>
        <secondary>TIFF</secondary>
      </indexterm>
      <figure>
        <title>The TIFF Export dialog</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/export-tiff-dialog.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <variablelist>
        <varlistentry>
          <term>Compression</term>
          <listitem>
            <para>
              This option allows you to specify the algorithm used to
              compress the image.
            </para>
            <itemizedlist>
              <listitem>
                <para>
                  <guilabel>None</guilabel>: is fast, and lossless, but the
                  resulting file is very large.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>LZW</guilabel>: The image is compressed
                  using the <quote>Lempel-Ziv-Welch</quote> algorithm, a
                  lossless compression technique. This is old, but
                  efficient and fast. More information at
                  <xref linkend="bibliography-online-wkpd-lzw"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Pack Bits</guilabel>: is a fast, simple
                  compression scheme for run-length encoding of data. Apple
                  introduced the PackBits format with the release of
                  MacPaint on the Macintosh computer. A PackBits data
                  stream consists of packets of one byte of header followed
                  by data. (Source:
                  <xref linkend="bibliography-online-wkpd-packbits"/>)
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Deflate</guilabel>: is a lossless data
                  compression algorithm that uses a combination of the LZ77
                  algorithm and Huffman coding. It is also used in Zip,
                  Gzip and PNG file formats. Source:
                  <xref linkend="bibliography-online-wkpd-deflate"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>JPEG</guilabel>: is a very good
                  compression algorithm but lossy.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>CCITT Group 3 fax</guilabel>;
                  <guilabel>CCITT Group 4 fax</guilabel> is a
                  black and white format developed to transfer images by FAX.
                </para>
                <note>
                  <para>
                    These options can only be selected, if the image is in
                    indexed mode and reduced to two colors. Use
                    <menuchoice>
                      <guimenu>Image</guimenu>
                      <guisubmenu>Mode</guisubmenu>
                      <guimenuitem>Indexed</guimenuitem>
                    </menuchoice>
                    to convert the image to indexed. Be certain to check
                    <quote>Use black and white (1-bit) palette</quote>.
                  </para>
                </note>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Save color values from transparent pixels</term>
          <listitem>
            <para>
              With this option the color values are saved even if the pixels
              are completely transparent.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Comment</term>
          <listitem>
            <para>
              In this text box, you can enter a comment that is
              associated with the image.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect3>
    
      <sect3 id="file-mng-export">
        <title>Export Image as MNG</title>
        <indexterm>
          <primary>Export Image as MNG</primary>
        </indexterm>
        <indexterm>
          <primary>MNG</primary>
        </indexterm>
        <indexterm>
          <primary>Formats</primary>
          <secondary>MNG</secondary>
        </indexterm>
        <figure>
          <title>Export MNG File Dialog</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                          fileref="images/using/export-mng-dialog.png"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          MNG is acronym for <quote>Multiple-Image Network Graphics</quote>. 
        </para>
        <para>
          The main problem is that Konqueror is the only Web navigator that 
          recognizes the MNG animation format. Please see 
          <ulink url="http://en.wikipedia.org/wiki/Multiple-image_Network_Graphics"/>.
        </para>
      </sect3>
      
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-text">
  <title>Text</title>

  <indexterm>
    <primary>Image</primary>
    <secondary>Text</secondary>
  </indexterm>

  <sect2>
    <title>Embellishing Text</title>
    <indexterm>
      <primary>Text</primary>
      <secondary>Embellishing text</secondary>
    </indexterm>
    <figure>
      <title>Fancy text</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/logo-examples.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Four fancy text items created using logo scripts: <quote>alien
            neon</quote>, <quote>bovination</quote>, <quote>frosty</quote>,
            and <quote>chalk</quote>. Default settings were used for
            everything except font size.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      There are many things you can do to vary the appearance of text beyond
      just rendering it with different fonts or different colors. By
      converting a text item to a selection or a path, you can fill it, stroke
      the outlines, transform it, or generally apply the whole panoply of
      GIMP tools to get interesting effects. As a demonstration of some of the
      possibilities, try out the "logo" scripts at
      <menuchoice>
        <guimenu>File</guimenu>
        <guisubmenu>Create</guisubmenu>
        <guisubmenu>Logos</guisubmenu>
      </menuchoice>.
      Each of these scripts allows you to enter some text, and then creates
      a new image showing a logo constructed out of that text. If you would
      like to modify one of these scripts, or construct a logo script of your
      own, the <link linkend="gimp-concepts-script-fu">Using Script-Fu</link>
      and
      <link linkend="gimp-using-script-fu-tutorial">Script-Fu Tutorial</link>
      sections should help you get started. Of course, you don't need
      Script-Fu to create these sorts of effects, only to automate them.
    </para>
  </sect2>

  <sect2 id="gimp-using-fonts">
    <title>Adding Fonts</title>
    <indexterm>
      <primary>Text</primary>
      <secondary>Fonts</secondary>
    </indexterm>
    <indexterm>
      <primary>Fonts</primary>
      <secondary>Add</secondary>
    </indexterm>
    <para>
      For the most authoritative and up-to-date information on fonts
      in GIMP, consult the <quote>Fonts in GIMP 2.0</quote> page
      <xref linkend="bibliography-online-gimp-fonts"/>
      at the GIMP web site. This section attempts to give you a
      helpful overview.
    </para>
    <para>
      GIMP uses the FreeType 2 font engine to render fonts, and a system
      called Fontconfig to manage them. GIMP will let you use any font in
      Fontconfig's font path; it will also let you use any font it finds in
      GIMP's font search path, which is set on the
      <link linkend="gimp-prefs-folders-data">Font Folders</link>
      page of the Preferences dialog. By default, the font search path
      includes a system GIMP-fonts folder (which you should not alter, even
      though it is actually empty), and a <filename>fonts</filename>
      folder inside your personal GIMP directory. You can add new folders to
      the font search path if it is more convenient for you.
    </para>
    <para>
      FreeType 2 is a very powerful and flexible system. By default, it
      supports the following font file formats:
    </para>
    <itemizedlist>
      <listitem>
        <para>TrueType fonts (and collections)</para>
      </listitem>
      <listitem>
        <para>Type 1 fonts</para>
      </listitem>
      <listitem>
        <para>CID-keyed Type 1 fonts</para>
      </listitem>
      <listitem>
        <para>CFF fonts</para>
      </listitem>
      <listitem>
        <para>OpenType fonts (both TrueType and CFF variants)</para>
      </listitem>
      <listitem>
        <para>SFNT-based bitmap fonts</para>
      </listitem>
      <listitem>
        <para>X11 PCF fonts</para>
      </listitem>
      <listitem>
        <para>Windows FNT fonts</para>
      </listitem>
      <listitem>
        <para>BDF fonts (including anti-aliased ones)</para>
      </listitem>
      <listitem>
        <para>PFR fonts</para>
      </listitem>
      <listitem>
        <para>Type42 fonts (limited support)</para>
      </listitem>
    </itemizedlist>
    <para>
      You can also add modules to support other types of font files. See
      FREETYPE 2 <xref linkend="bibliography-online-freetype"/> for more
      information.
    </para>
    <formalpara>
      <title>Linux</title>
      <para>
        On a Linux system, if the Fontconfig utility is set up as usual, all
        you need to do to add a new font is to place the file in the directory
        <filename>~/.fonts</filename>.
        This will make the font available not only to GIMP, but to any other
        program that uses Fontconfig. If for some reason you want the font to
        be available to GIMP only, you can place it in the
        <filename>fonts</filename>
        sub-directory of your personal GIMP directory, or some other location
        in your font search path. Doing either will cause the font to show up
        the next time you start GIMP. If you want to use it in an already
        running GIMP, press the <emphasis>Refresh</emphasis>
        <guiicon>
          <inlinegraphic fileref="images/dialogs/stock-reload-16.png"/>
        </guiicon>
        button in the <link linkend="gimp-font-dialog">Fonts dialog</link>.
      </para>
    </formalpara>
    <formalpara>
      <title>Windows</title>
      <para>
        The easiest way to install a font is to drag the file onto the
        Fonts directory and let the shell do its magic.  Unless you've done
        something creative, it's probably in its default location of
        <filename role="html">C:\windows\fonts</filename>
        <filename role="tex">C:\\windows\\fonts</filename>
        or
        <filename role="html">C:\winnt\fonts</filename><filename
        role="tex">C:\\winnt\\fonts</filename>.
        Sometimes double-clicking on
        a font will install it as well as display it; sometimes it only
        displays it.  This method will make the font available not only to
        <acronym>GIMP</acronym>, but also to other Windows applications.
      </para>
    </formalpara>
    <formalpara>
      <title>Mac OS X</title>
  <!--http://docs.info.apple.com/article.html?path=FontBook/2.0/en/fb680.html-->
      <para>
        There are several ways to install fonts on your system.  You can
        drag-and-drop them to the <quote>Fonts</quote> folder in
        <quote>Libraries</quote> folder of your <quote>Home Folder</quote>.  Or
        you may use <application>Font Book</application>, invoked by
        double-clicking the font file icon in the Finder.  You can see what the
        font looks like, and click your favorite fonts so that their files are
        to be installed on the system.  These methods will make the fonts
        available for all applications, not only <acronym>GIMP</acronym>.  If
        you want all users can use the fonts, drag-and-drop the fonts to the
        <quote>Fonts</quote> folder in <quote>Libraries</quote> folder of the
        <productname>Mac OS X</productname> Disk, or to the
        <quote>Computer</quote> folder in the <guilabel>Collection</guilabel>
        column of <application>Font Book</application>.
      </para>
    </formalpara>
    <para>
      To install a Type 1 file, you need both the
      <filename>.pfb</filename> and <filename>.pfm</filename>
      files. Drag the one that gets an icon into the fonts folder.
      The other one doesn't strictly need to be in the same directory
      when you drag the file, since it uses some kind of search
      algorithm to find it if it's not, but in any case putting it in
      the same directory does no harm.
    </para>
    <para>
      In principle, GIMP can use any type of font on Windows that FreeType can
      handle; however, for fonts that Windows can't handle natively, you
      should install them by placing the font files in the
      <filename>fonts</filename>
      folder of your personal GIMP directory, or some other location in your
      font search path. The support Windows has varies by version. All that
      GIMP runs on support at least TrueType, Windows FON, and Windows FNT.
      Windows 2000 and later support Type 1 and OpenType. Windows ME supports
      OpenType and possibly Type 1 (but the most widely used Windows GIMP
      installer does not officially support Windows ME, although it may work
      anyway).
    </para>
    <note>
      <para>
        GIMP uses Fontconfig to manage fonts on Windows as well as Linux. The
        instructions above work because Fontconfig by default uses the Windows
        fonts directory, i. e., the same fonts that Windows uses itself. If
        for some reason your Fontconfig is set up differently, you will have
        to figure out where to put fonts so that GIMP can find them: in any
        case, the <filename>fonts</filename>
        folder of your personal GIMP directory should work.
      </para>
    </note>
  </sect2>

  <sect2 id="font-problems">
    <title>Font Problems</title>
    <indexterm>
      <primary>Fonts</primary>
      <secondary>Problems</secondary>
    </indexterm>
    <para>
      Problems with fonts have probably been responsible for more GIMP 2 bug
      reports than any other single cause, although they have become much less
      frequent in the most recent releases in the 2.0 series. In most cases
      they have been caused by malformed font files giving trouble to
      Fontconfig. If you experience crashes at start-up when GIMP scans your
      font directories, the best solution is to upgrade to a version of
      Fontconfig newer than 2.2.0. As a quick workaround you can start gimp
      with the <filename>--no-fonts</filename>
      command-line option, but then you will not be able to use the text tool.
    </para>
    <para>
      Another known problem is that Pango 1.2 cannot load fonts that don't
      provide an Unicode character mapping. (Pango is the text layout library
      used by GIMP.) A lot of symbol fonts fall into this category. On some
      systems, using such a font can cause GIMP to crash. Updating to Pango
      1.4 will fix this problem and makes symbol fonts available in GIMP.
    </para>
    <para>
      A frequent source of confusion occurs on Windows systems, when GIMP
      encounters a malformed font file and generates an error message: this
      causes a console window to pop up so that you can see the message.
      <emphasis>
        Do not close that console window. It is harmless, and closing it will
        shut down GIMP.
      </emphasis>
      When this happens, it often seems to users that GIMP has crashed. It
      hasn't: closing the console window causes Windows to shut GIMP down.
      Unfortunately, this annoying situation is caused by an interaction
      between Windows and the libraries that GIMP links to: it cannot be fixed
      within GIMP. All you need to do, though, if this happens, is minimize
      the console window and ignore it.
    </para>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-getting-unstuck">
  <title>Getting Unstuck</title>

  <indexterm>
    <primary>GIMP</primary>
    <secondary>Getting Unstuck</secondary>
  </indexterm>

  <sect2 id="gimp-using-getting-unstuck-general">
    <title>Stuck!</title>
    <para>
      All right, okay: you're stuck. You're trying to use one of the tools on
      an image, and nothing is happening, and nothing you try makes any
      difference. Your fists are starting to clench, and your face is starting
      to feel warm. Are you going to have to kill the program, and lose all
      your work? This sucks!
    </para>
    <para>
      Well, hold on a second. This happens pretty frequently, even to people
      who've used <acronym>GIMP</acronym> for a long time, but generally the
      cause is not so hard
      to figure out (and fix) if you know where to look. Lets be calm, and
      go through a checklist that will probably get you GIMPing happily again.
    </para>
  </sect2>

  <sect2 id="gimp-using-getting-unstuck-common-causes">
    <title>Common Causes of GIMP Non-Responsiveness</title>
    <sect3>
      <title>There is a floating selection</title>
      <figure>
        <title>
          Layers dialog showing a floating selection.
        </title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/unstuck-floating-sel.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        <emphasis>How to tell:</emphasis>
        If there is a floating selection, many actions are impossible
        until the floating section is anchored.
        To check, look at the Layers dialog (making
        sure it's set to the image you're working on) and see whether the
        top layer is called <quote>Floating Selection</quote>.
      </para>
      <para>
        <emphasis>How to solve:</emphasis>
        Either anchor the floating selection, or convert it into an
        ordinary (non-floating) layer. If you need help on how to do this,
        see <link linkend="glossary-floatingselection">
          Floating Selections
        </link>.
      </para>
    </sect3>

    <sect3>
      <title>The selection is hidden</title>
      <figure>
        <title>Unstuck show selection menu</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/unstuck-show-selection-menu.png"/>
          </imageobject>
          <caption>
            <para>
              In the View menu, make sure that "Show Selection" is checked.
            </para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        <emphasis>How to tell:</emphasis>
        If this is the problem, merely reading this will already have made
        you realize it, probably, but to explain in any case: sometimes
        the flickering line that outlines the selection is annoying
        because it makes it hard to see important details of the image, so
        <acronym>GIMP</acronym> gives you the option of hiding the selection,
        by unchecking
        <guimenuitem>Show Selection</guimenuitem>
        in the <guimenu>View</guimenu>
        menu. It is easy to forget that you have done this, though.
      </para>
      <para>
        <emphasis>How to fix:</emphasis> If this
        hasn't rung any bells, it isn't the problem, and if it has,
        you probably know how to fix it, because it doesn't happen
        unless you explicitly tell it to; but anyway:  just go to
        the <guimenu>View</guimenu> menu for the image and, if
        <guimenuitem>Show Selection</guimenuitem> is
        unchecked, click on it..
      </para>
    </sect3>

    <sect3>
      <title>You are acting outside of the selection</title>
      <figure>
        <title>Unstuck select all</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/unstuck-select-all.png"/>
          </imageobject>
          <caption>
            <para>
              Click <quote>All</quote>
              in the Select menu to make sure that everything is selected.
            </para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        <emphasis>How to fix:</emphasis>
        If doing this has destroyed a selection that you wanted to keep, hit
        <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo>
        (undo) a couple of times to restore it, and then we'll figure
        out what the problem is. There are a couple of possibilities. If you
        couldn't see any selection, there may have been a very tiny one, or
        even one that contained no pixels. If this was the case, it surely is
        not a selection that you wanted to keep, so why have you gotten this
        far in the first place? If you can see a selection but thought you
        were inside it, it might be inverted from what you think. The easiest
        way to tell is to hit the Quick Mask button: the selected area will be
        clear and the unselected area will be masked. If this was the problem,
        then you can solve it by toggling Quick Mask off and choosing Invert
        in the <guimenu>Select</guimenu> menu.
      </para>
    </sect3>

    <sect3>
      <title>The active drawable is not visible</title>
      <figure>
        <title>Unstuck layer invisibility</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/unstuck-layers-dialog-invislayer.png"/>
          </imageobject>
          <caption>
            <para>
              Layers dialog with visibility off for the active layer.
            </para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        <emphasis>How to tell:</emphasis>
        The Layers dialog gives you ability to toggle the visibility of
        each layer on or off. Look at the Layers dialog, and see if
        the layer you are trying to act on is active (i.e., darkened) and
        has an eye symbol to the left of it. If not, this is your problem.
      </para>
      <para>
        <emphasis>How to fix:</emphasis>
        If your intended target layer is not active, click on it in the Layers
        dialog to activate it. (If none of the layers are active, the
        active drawable might be a channel -- you can look at the Channels tab
        in the Layers dialog to see. This does not change the solution,
        though.) If the eye symbol does not appear, click in the Layers dialog
        at the left edge to toggle it: this should make the layer visible. See
        the Help section for the
        <link linkend="gimp-layer-dialog">Layers Dialog</link>
        if you need more help.
      </para>
    </sect3>

    <sect3>
      <title>The active drawable is transparent</title>
      <figure>
        <title>Unstuck layer transparency</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/unstuck-layers-dialog-transparentlayer.png"/>
          </imageobject>
          <caption>
            <para>
              Layers dialog with opacity set to zero for the active layer.
            </para>
          </caption>
        </mediaobject>
      </figure>
      <para>
        <emphasis>How to tell:</emphasis>
        When the opacity is set 0 on the layer, you cannot see anything which
        you draw on it. Look the <guilabel>Opacity</guilabel> slider,
        and see which side the slider placed at.  If it is at the leftmost side,
        that is your problem.
      </para>
      <para>
        <emphasis>How to fix:</emphasis> Move the slider.
      </para>
    </sect3>

    <sect3>
      <title>You are trying to act outside the layer</title>
      <para>
        <emphasis>How to tell:</emphasis>
        In <acronym>GIMP</acronym>, layers don't need to have the same
        dimensions as the
        image: they can be larger or smaller. If you try to paint outside
        the borders of a layer, nothing happens. To see if this is
        happening, look for a black-and-yellow dashed rectangle that does
        not enclose the area you're trying to draw at.
      </para>
      <para>
        <emphasis>How to fix:</emphasis>
        You need to enlarge the layer. There are two commands at the bottom of
        the Layer menu that will let you do this: Layer to Image Size, which
        sets the layer bounds to match the image borders; and Layer Boundary
        Size, which brings up a dialog that allows you to set the layer
        dimensions to whatever you please.
      </para>
    </sect3>

    <sect3>
      <title>The image is in indexed color mode.</title>
      <para>
        <emphasis>How to tell:</emphasis><acronym>GIMP</acronym> can handle
        three different color modes:
        <link linkend="glossary-colormodel">RGB(A), Indexed and Grayscale</link>.
        The indexed colormode uses a colormap,
        where all used colors on the image are indexed. The
        <link linkend="gimp-tool-color-picker">color picker</link> in
        <acronym>GIMP</acronym> however, let you choose RGB colors.
        That means, if you try to paint with a different color than
        it is indexed in the colormap, you end up in very
        undetermined results (e.g. it paints with the wrong color or
        you can't paint).
      </para>
      <para>
        <emphasis>How to fix:</emphasis> Always use the
        RGB Color mode to paint on images. You can verify and select
        another color mode from the
        <link linkend="gimp-image-mode">Mode</link> menuitem in the
        <guimenu>Image</guimenu> menu.
      </para>
    </sect3>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-grid">
  <title>Rendering a Grid</title>
  <para>
    How can you create a grid that is actually part of the image? You can't do
    this using the image grid: that is only an aid, and is only visible on the
    monitor or in a screenshot. You can, however, use the
    <link linkend="plug-in-grid">Grid</link>
    plugin to render a grid very similar to the image grid. (Actually, the
    plugin has substantially more options.)
  </para>
  <para>
    See also <link linkend="gimp-concepts-image-grid">Grid and Guides</link>.
  </para>
</sect1>
-#-#-
<sect1 id="gimp-using-layers">
  <title>Creating New Layers</title>
  <indexterm>
    <primary>Layer</primary>
    <secondary>Creating new layers</secondary>
  </indexterm>

  <para>
    There are several ways to create new layers in an image. Here are the most
    important ones:
  </para>
  <itemizedlist>
    <listitem>
      <para>
        Selecting
        <menuchoice>
          <guimenu>Layer</guimenu>
          <guimenuitem>New Layer</guimenuitem>
        </menuchoice>
        in the image menu.  This brings up a dialog that allows you
        to set the basic properties of the new layer; see the
        <link linkend="gimp-layer-new">New Layer dialog</link>
        section for help with it.
      </para>
    </listitem>
    <listitem>
      <para>
        Selecting
        <menuchoice>
          <guimenu>Layer</guimenu>
          <guimenuitem>Duplicate Layer</guimenuitem>
        </menuchoice>
        in the image menu. This creates a new layer, that is a perfect
        copy of the currently active layer, just above the active layer.
      </para>
    </listitem>
    <listitem>
      <para>
        When you <quote>cut</quote> or <quote>copy</quote> something, and
        then paste it using
        <keycombo><keycap>Ctrl</keycap><keycap>V</keycap></keycombo> or
        <menuchoice>
          <guimenu>Edit</guimenu>
          <guimenuitem>Paste</guimenuitem>
        </menuchoice>,
          the result is a <quote>floating selection</quote>,
          which is a sort of temporary layer.
          Before you can do anything else, you either have to anchor
          the floating selection to an existing layer, or convert it
          into a normal layer.  If you do the latter, the new layer
          will be sized just large enough to contain the pasted
          material.
      </para>
    </listitem>
  </itemizedlist>
</sect1>
-#-#-
<sect1 id="gimp-using-paths">
  <title>
    <anchor id="gimp-concepts-paths" xreflabel="Paths"/>
    <phrase condition="tag-is-required">Paths</phrase>
  </title>

  <indexterm>
    <primary>Paths</primary>
    <secondary>Using</secondary>
  </indexterm>
  <indexterm>
    <primary>Image</primary>
    <secondary>Paths</secondary>
  </indexterm>

  <para>
    Paths are curves (known as BÃ©zier-curves). Paths are easy to learn and use
    in <acronym>GIMP</acronym>. To understand their concepts and
    mechanism, look at the glossary
    <link linkend="glossary-bezier-curve">BÃ©zier-curve</link> or Wikipedia
    <xref linkend="bibliography-online-wkpd-bezier"/>.
    The Paths tool is very powerful, allowing you to design sophisticated
    forms. To use the Paths tool in <acronym>GIMP</acronym>, you must first
    create a path, and then stroke the path.
  </para>
  <para>
    In <acronym>GIMP</acronym>, the term <quote>Stroke path</quote> means to
    apply a specific style to the path (color, width, pattern... ).
  </para>
  <para>
    A Path has two main purposes:
  </para>
  <itemizedlist>
    <listitem>
      <para>You can convert a closed path to a selection.</para>
    </listitem>
    <listitem>
      <para>
        Any path, open or closed, can be <emphasis>stroked</emphasis>;
        that is, painted on the image in a variety of ways.
      </para>
    </listitem>
  </itemizedlist>
  <figure>
    <title>Illustration of four different path creating</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/using/path-examples.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          Four examples of GIMP paths: one closed and polygonal; one open and
          polygonal; one closed and curved; one with a mixture of straight and
          curved segments.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <sect2 id="gimp-using-paths-creating">
    <title>Path Creation</title>
    <para>
      Start by drawing the outline for your path; the outline
      can be modified later (see the
      <link linkend="gimp-tool-path">Paths</link> tool).
      To start, select the Paths tool using one of the following methods:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          Use
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guimenuitem>Path</guimenuitem>
          </menuchoice>
          from the image menu.
        </para>
      </listitem>
      <listitem>
        <para>
          Use the relevant icon
          <guiicon>
            <inlinegraphic fileref="images/toolbox/stock-tool-path-22.png"/>
          </guiicon> in toolbox.
        </para>
      </listitem>
      <listitem>
        <para>Use the hotkey <keycap>B</keycap>.</para>
      </listitem>
    </itemizedlist>
    <para>
      When the Paths tool is selected, the mouse cursor
      changes into a pointer (arrow) with a curve.
      Left click in the image to create the first point on the path. Move
      the mouse to a new point and left click the mouse to create another
      point linked to the previous point. Although you can create as many
      points as you desire, you only need two points to learn about Paths.
      While adding points, the mouse cursor has a little <quote>+</quote>
      next to the curve, which indicates that clicking will add a new
      point. When the mouse cursor is close to a line segment, the
      <quote>+</quote> changes into a cross with arrows; like the move tool.
    </para>
    <para>
      Move the mouse cursor close to a line segment, left-click and drag
      the line segment. Two events occur.
    </para>
    <itemizedlist>
      <listitem>
        <para>The line segment bends and curves as it is pulled.</para>
      </listitem>
      <listitem>
        <para>
          Each line segment has a start point and an end point that is
          clearly labeled. A <quote>direction line</quote> now
          projects from each end point for the line segment that was
          moved.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      The curved line segment leaves an end point in the same direction that
      the <quote>direction line</quote> leaves the end point. The length of
      the <quote>direction line</quote> controls how far the line segment
      projects along the <quote>direction line</quote> before curving toward
      the other end point. Each <quote>direction line</quote> has an empty
      square box (called a handle) on one end. Click and drag a handle to
      change the direction and length of a <quote>direction line</quote>.
    </para>
    <figure>
      <title>Appearance of a path while it is manipulated</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/path-with-anchors.png"/>
        </imageobject>
        <caption>
          <para>
            Appearance of a path while it is manipulated using the Path tool.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      The path is comprised of two components with both straight and curved
      segments. Black squares are anchor points, the open circle indicates
      the selected anchor, and the two open squares are the handles associated
      with the selected anchor.
    </para>
  </sect2>

  <sect2 id="gimp-using-paths-properties">
    <title>Path Properties</title>
    <para>
      Paths, like layers and channels, are components of an image. When an
      image is saved in <acronym>GIMP</acronym>'s native XCF file format, any
      paths it has are saved with it. The list of paths in an image can be
      viewed and operated on using the
      <link linkend="gimp-path-dialog">Paths dialog</link>.
      You can move a path from one image to another by copying and pasting
      using the pop-up menu in the Paths dialog, or by dragging an icon from
      the Paths dialog into the destination image window.
    </para>
    <para>
      <acronym>GIMP</acronym> paths belong to a mathematical type called
      <quote>Bezier paths</quote>. What this means in practical terms is that
      they are defined by <emphasis>anchors</emphasis> and
      <emphasis>handles</emphasis>. <quote>Anchors</quote> are points the path
      goes through. <quote>Handles</quote> define the direction of a path when
      it enters or leaves an anchor point: each anchor point has two handles
      attached to it.
    </para>
    <para>
      Paths can be very complex. If you create them by hand using the Path
      tool, unless you are obsessive they probably won't contain more than a
      few dozen anchor points (often many fewer); but if you create them by
      transforming a selection into a path, or by transforming text into a
      path, the result can easily contain hundreds of anchor points, or even
      thousands.
    </para>
    <para>
      A path may contain multiple <emphasis>components</emphasis>. A
      <quote>component</quote>
      is a part of a path whose anchor points are all connected to each other
      by path segments. The ability to have multiple components in paths
      allows you to convert them into selections having multiple disconnected
      parts.
    </para>
    <para>
      Each component of a path can be either <emphasis>open</emphasis> or
      <emphasis>closed</emphasis>: <quote>closed</quote>
      means that the last anchor point is connected to the first anchor point.
      If you transform a path into a selection, any open components are
      automatically converted into closed components by connecting the last
      anchor point to the first anchor point with a straight line.
    </para>
    <para>
      Path segments can be either straight or curved. A path is called
      <quote>polygonal</quote> if all of its segments are straight.
      A new path segment is always created straight; the handles for the
      anchor points are directly on top of the anchor points, yielding
      handles of zero length, which produces straight-line segments.
      Drag a handle handle away from an anchor point to cause a segment
      to curve.
    </para>
    <para>
      One nice thing about paths is that they use very few resources,
      especially in comparison with images. Representing
      a path in RAM requires storing only the coordinates of its anchors and
      handles: 1K of memory is enough to hold a complex path, but not
      enough to hold a small 20x20 pixel RGB layer. Therefore, it is
      possible to have literally hundreds of paths in an image without causing
      any significant stress to your system; the amount of stress that
      hundreds of paths might cause <emphasis>you</emphasis>, however, 
      is another question. Even a path with thousands of segments
      consumes minimal resources in comparison to a typical layer or channel.
    </para>
    <para>
      Paths can be created and manipulated using the
      <link linkend="gimp-tool-path">Path tool</link>.
    </para>
  </sect2>

  <sect2 id="gimp-using-paths-and-selections">
    <title>Paths and Selections</title>
    <para>
      GIMP lets you transform the selection for an image into a path; it also
      lets you transform paths into selections. For information about the
      selection and how it works, see the
      <link linkend="gimp-concepts-selection">Selection</link> section.
    </para>
    <para>
      When you transform a selection into a path, the path closely follows the
      <quote>marching ants</quote>.
      Now, the selection is a two-dimensional entity, but a path is a
      one-dimensional entity, so there is no way to transform the selection
      into a path without losing information. In fact, any information about
      partially selected areas (i.e., feathering) are lost when a
      selection is turned into a path. If the path is transformed back into a
      selection, the result is an all-or-none selection, similar to what is
      obtained by executing "Sharpen" from the Select menu.
    </para>
  </sect2>

  <sect2 id="gimp-using-paths-transforming">
    <title>Transforming Paths</title>
    <para>
      Each of the Transform tools (Rotate, Scale, Perspective, etc) can be set
      to act on a layer, selection, or path. Select the transform tool in the
      toolbox, then select layer, selection, or path for the
      <quote>Transform:</quote> option in the tool's Tool Options
      dialog. This gives you a powerful set of
      methods for altering the shapes of paths without affecting other
      elements of the image.
    </para>
    <para>
      By default a Transform tool, when it is set to affect paths, acts on
      only one path: the <emphasis>active path</emphasis>
      for the image, which is shown highlighted in the Paths dialog. You can
      make a transformation affect more than one path, and possibly other
      things as well, using the <quote>transform lock</quote> buttons in the
      Paths dialog.
      Not only paths, but also layers and channels, can be transform-locked.
      If you transform one element that is transform-locked, all others will
      be transformed in the same way. So, for example, if you want to scale a
      layer and a path by the same amount, click the transform-lock buttons
      so that <quote>chain</quote> symbols appear next to the layer in the
      Layers dialog, and the path in the Paths dialog; then use the Scale
      tool on either the layer or the path, and the other will automatically
      follow.
    </para>
  </sect2>

  <sect2 id="gimp-using-paths-stroking">
    <title>Stroking a Path</title>
    <figure>
      <title>Stroking paths</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/path-stroking-examples.png"/>
        </imageobject>
        <caption>
          <para>
            The four paths from the top illustration, each stroked in a
            different way.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      Paths do not alter the appearance of the image pixel data unless
      they are <emphasis>stroked</emphasis>, using
      <menuchoice>
        <guimenu>Edit</guimenu>
        <guimenuitem>Stroke Path</guimenuitem>
      </menuchoice>
      from the image menu or the Paths dialog right-click menu, or the
      <quote>Stroke Path</quote> button in the Tool Options dialog for the
      Path tool.
    </para>
    <para>
      Choosing <quote>Stroke Path</quote> by any of these means brings up a
      dialog that allows you to control the way the stroking is done. You
      can choose from a wide variety of line styles, or you can stroke with
      any of the Paint tools, including unusual ones such as the Clone tool,
      Smudge tool, Eraser, etc.
    </para>
    <figure>
      <title>The <guilabel>Stroke Path</guilabel> dialog</title>
      <mediaobject>
        <imageobject>
          <!--changed 2009-08-28: don't use 2 screenshots for the same dialog
              (OLD: images/dialogs/gimp-path-stroke.png)-->
          <imagedata format="PNG"
            fileref="images/menus/edit/stroke-path.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      You can further increase the range of stroking effects by stroking a
      path multiple times, or by using lines or brushes of different widths.
      The possibilities for getting interesting effects in this way are almost
      unlimited.
    </para>
  </sect2>

  <sect2 id="gimp-using-paths-and-text">
    <title>Paths and Text</title>
    <figure>
      <title>Text converted to a path</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/path-from-text.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Text converted to a path and then transformed using the
            Perspective tool.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/path-text-stroked.png"/>
        </imageobject>
        <caption>
          <para>
            The path shown above, stroked with a fuzzy brush and then
            gradient-mapped using the Gradient Map filter with the
            <quote>Yellow Contrast</quote> gradient.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <para>
      A text item created using the Text tool can be transformed into a path
      using the <command>Path from Text</command> command in the
      the context menu of the Text tool. This can be useful for several
      purposes, including:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          Stroking the path, which gives you many possibilities for fancy
          text.
        </para>
      </listitem>
      <listitem>
        <para>
          More importantly, transforming the text. Converting text into a
          path, then transforming the path, and finally either stroking the
          path or converting it to a selection and filling it, often leads to
          much higher-quality results than rendering the text as a layer and
          transforming the pixel data.
        </para>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="gimp-using-paths-and-svg">
    <title>Paths and <acronym>SVG</acronym> files</title>
    <para>
      <acronym>SVG</acronym>, standing for <quote>Scalable Vector
      Graphics</quote>, is an increasingly popular file format for
      <emphasis>vector graphics</emphasis>, in which graphical elements are
      represented in a resolution-independent format, in contrast to
      <emphasis>raster graphics</emphasis>; in which graphical elements are
      represented as arrays of pixels. GIMP is mainly a raster graphics
      program, but paths are vector entities.
    </para>
    <para>
      Fortunately, paths are represented in <acronym>SVG</acronym> files in
      almost exactly the same way they are represented in GIMP.  (Actually
      fortune has nothing to do with it: GIMP's path handling was rewritten
      for GIMP 2.0 with SVG paths in mind.) This compatibility makes it
      possible to store GIMP paths as <acronym>SVG</acronym> files without
      losing any information. You can access this capability in the Paths
      dialog.
    </para>
    <para>
      It also means that GIMP can create paths from
      <acronym>SVG</acronym> files saved in other programs, such as
      <application>Inkscape</application> or
      <application>Sodipodi</application>,
      two popular open-source vector graphics applications. This is nice
      because those programs have much more powerful path-manipulation tools
      than GIMP does. You can import a path from an <acronym>SVG</acronym>
      file using the Paths dialog.
    </para>
    <para>
      The <acronym>SVG</acronym>
      format handles many other graphical elements than just paths: among
      other things, it handles figures such as squares, rectangles, circles,
      ellipses, regular polygons, etc. GIMP cannot do anything with these
      entities, but it can load them as paths.
    </para>
    <note>
      <para>
        Creating paths is not the only thing GIMP can do with
        <acronym>SVG</acronym> files. It can also open
        <acronym>SVG</acronym> files as GIMP images, in the usual way.
      </para>
    </note>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-photography">
  <title>Working with Digital Camera Photos</title>
  <indexterm>
    <primary>Photography</primary>
  </indexterm>

  <sect2 id="gimp-using-photography-introduction">
    <title>Introduction</title>
    <para>
      One of the most common uses of GIMP is to fix digital camera images
      that for some reason are less than perfect. Maybe the image is
      overexposed or underexposed; maybe rotated a bit; maybe out of focus:
      these are all common problems for which GIMP has good tools. The purpose
      of this chapter is to give you an overview of those tools and the
      situations in which they are useful. You will not find detailed
      tutorials here: in most cases it is easier to learn how to use the tools
      by experimenting with them than by reading about them. (Also, each tool
      is described more thoroughly in the Help section devoted to it.) You
      will also not find anything in this chapter about the multitude of
      "special effects" that you can apply to an image using GIMP. You should
      be familiar with basic GIMP concepts before reading this chapter, but
      you certainly don't need to be an expertâ€“if you are, you probably know
      most of this anyway. And don't hesitate to experiment: GIMP's powerful
      "undo" system allows you to recover from almost any mistake with a
      simple <keycombo><keycap>Ctrl</keycap><keycap>Z</keycap></keycombo>.
    </para>
    <para>
      Most commonly the things that you want to do to clean up an imperfect
      photo are of four types: improving the composition; improving the
      colors; improving the sharpness; and removing artifacts or other
      undesirable elements of the image.
    </para>
  </sect2>

  <sect2 id="gimp-using-photography-improving">
    <title>Improving Composition</title>

    <sect3 id="gimp-using-photography-rotating">
      <title>Rotating an Image</title>
      <para>
        It is easy, when taking a picture, to hold the camera not quite
        perfectly vertical, resulting in a picture where things are
        tilted at an angle.  In GIMP, the way to fix this is to use the
        <link linkend="gimp-tool-rotate">Rotate</link> tool.
        Activate this by clicking its icon
        <guiicon>
          <inlinegraphic fileref="images/toolbox/stock-tool-rotate-22.png"/>
        </guiicon>
        in the Toolbox, or by pressing the
        <keycombo><keycap>Shift</keycap><keycap>R</keycap></keycombo> while
        inside the image. Make sure the Tool Options are visible, and at
        the top, make sure for <quote>Transform:</quote> that the left
        button (<quote>Transform Layer</quote>) is selected.  If you then
        click the mouse inside the image and drag it, you will see a grid
        appear that rotates as you drag.  When the grid looks right, click
        <guibutton>Rotate</guibutton> or press <keycap>Enter</keycap>, and
        the image will be rotated.
      </para>
      <para>
        Now as a matter of fact, it isn't so easy to get things right by this
        method: you often find that things are better but not quite perfect.
        One solution is to rotate a bit more, but there is a disadvantage to
        that approach. Each time you rotate an image, because the rotated
        pixels don't line up precisely with the original pixels, the image
        inevitably gets blurred a little bit. For a single rotation, the
        amount of blurring is quite small, but two rotations cause twice as
        much blurring as one, and there is no reason to blur things more than
        you have to. A better alternative is to undo the rotation and then do
        another, adjusting the angle.
      </para>
      <para>
        Fortunately, GIMP provides another way of doing it that is
        considerably easier to use: in the Rotate Tool Options, for the
        Transform Direction you can select "Backward (Corrective)". When you
        do this, instead of rotating the grid to compensate for the error, you
        can rotate it to <emphasis>line up</emphasis>
        with the error. If this seems confusing, try it and you will see that
        it is quite straightforward.
      </para>
      <note>
        <para>
          Since GIMP 2.2, there is an option to preview the results of
          transformations, instead of just seeing a grid. This makes it easier
          to get things right on the first try.
        </para>
      </note>
      <para>
        After you have rotated an image, there will be unpleasant triangular
        "holes" at the corners. One way to fix them is to create a background
        that fills the holes with some unobtrusive or neutral color, but
        usually a better solution is to crop the image. The greater the
        rotation, the more cropping is required, so it is best to get the
        camera aligned as well as possible when you take the picture in the
        first place.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-cropping">
      <title>Cropping</title>
      <para>
        When you take a picture with a digital camera, you have some control
        over what gets included in the image but often not as much as you
        would like: the result is images that could benefit from trimming.
        Beyond this, it is often possible to enhance the impact of an image by
        trimming it so that the most important elements are placed at key
        points. A rule of thumb, not always to be followed but good to keep in
        mind, is the <quote>rule of thirds</quote>,
        which says that maximum impact is obtained by placing the center of
        interest one-third of the way across the image, both widthwise and
        heightwise.
      </para>
      <para>
        To crop an image, activate the
        <link linkend="gimp-tool-crop">Crop</link>
        tool in the Toolbox, or by pressing the <quote>C</quote>
        key (capitalized) while inside the image. With the tool active,
        clicking and dragging in the image will sweep out a crop rectangle. It
        will also pop up a dialog that allows you to adjust the dimensions of
        the crop region if they aren't quite right. When everything is
        perfect, hit the <guibutton>Crop</guibutton> button in the dialog.
      </para>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-photography-colors">
    <title>Improving Colors</title>

    <sect3 id="gimp-using-photography-automatic">
      <title>Automated Tools</title>
      <para>
        In spite of sophisticated exposure-control systems, pictures taken
        with digital cameras often come out over- or under-exposed, or with
        color casts due to imperfections in lighting. GIMP gives you a variety
        of tools to correct colors in an image, ranging to automated tools
        that run with a simple button-click to highly sophisticated tools that
        give you many parameters of control. We will start with the simplest
        first.
      </para>
      <para>
        GIMP gives you several automated color correction
        tools. Unfortunately they don't usually give you quite the results
        you are looking for, but they only take a moment to try out, and if
        nothing else they often give you an idea of some of the
        possibilities inherent in the image.  Except for "Auto Levels", you
        can find these tools by following the menu path
        <menuchoice>
          <guimenu>Colors</guimenu>
          <guisubmenu>Auto</guisubmenu>
        </menuchoice>
        in the image menu.
      </para>
      <para>Here they are, with a few words about each:</para>
      <variablelist>
        <varlistentry>
          <term>
            <guimenuitem>Normalize</guimenuitem>
          </term>
          <listitem>
            <para>
              This tool (it is really a plug-in) is useful for underexposed
              images: it adjusts the whole image uniformly until the brightest
              point is right at the saturation limit, and the darkest point is
              black. The downside is that the amount of brightening is
              determined entirely by the lightest and darkest points in the
              image, so even one single white pixel and/or one single black
              pixel will make normalization ineffective.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guimenuitem>Equalize</guimenuitem>
          </term>
          <listitem>
            <para>
              This is a very powerful adjustment that tries to spread the
              colors in the image evenly across the range of possible
              intensities. In some cases the effect is amazing, bringing out
              contrasts that are very difficult to get in any other way; but
              more commonly, it just makes the image look weird. Oh well, it
              only takes a moment to try.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guimenuitem>Color Enhance</guimenuitem>
          </term>
          <listitem>
            <para><!--changed 2008-01-29-->
              This command increases the saturation range of the colors in the
              layer, without altering brightness or hue. So this command does
              not work on grayscale images.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guimenuitem>Stretch Contrast</guimenuitem>
          </term>
          <listitem>
            <para>
              This is like <quote>Normalize</quote>,
              except that it operates on the red, green, and blue channels
              independently. It often has the useful effect of reducing color
              casts.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guimenuitem>Stretch HSV</guimenuitem>
          </term>
          <listitem>
            <para>
              Does the same as Stretch Contrast but works in HSV color
              space, rather than RGB color space. It preserves the Hue.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guimenuitem>White balance</guimenuitem>
          </term>
          <listitem>
            <para>
              This may enhance images with poor white or black by
              removing little used colors and stretch the remaining
              range as much as possible.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <guimenuitem>Auto Levels</guimenuitem>
          </term>
          <listitem>
            <para>
              This is done by activating the Levels tool
              (<menuchoice><guimenu>Tools</guimenu>
                 <guisubmenu>Color Tools</guisubmenu>
                 <guimenuitem>Levels</guimenuitem>
               </menuchoice>
              or
              <menuchoice>
                <guimenu>Colors</guimenu>
                <guimenuitem>Levels</guimenuitem>
              </menuchoice>
              in the image menu),
              and then pressing the <guibutton>Auto</guibutton> button near
              the center of the dialog. You will see a preview of the result;
              you must press <guibutton>Okay</guibutton> for it to take
              effect. Pressing <guibutton>Cancel</guibutton> instead will
              cause your image to revert to its previous state.
            </para>
            <para>
              If you can find a point in the image that ought to be perfect
              white, and a second point that ought to be perfect black, then
              you can use the Levels tool to do a semi-automatic adjustment
              that will often do a good job of fixing both brightness and
              colors throughout the image. First, bring up the Levels tool as
              previously described. Now, look down near the bottom of the
              Layers dialog for three buttons with symbols on them that look
              like eye-droppers (at least, that is what they are supposed to
              look like). The one on the left, if you mouse over it, shows its
              function to be <quote>Pick Black Point</quote>.
              Click on this, then click on a point in the image that ought
              to be blackâ€“really truly perfectly black, not just sort of
              darkâ€“and watch the image change. Next, click on the rightmost of
              the three buttons ( <quote>Pick White Point</quote>
              ), and then click a point in the image that ought to be white,
              and once more watch the image change. If you are happy with the
              result, click the <guibutton>Okay</guibutton> button otherwise
              <guibutton>Cancel</guibutton>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
        Those are the automated color adjustments: if you find that none of
        them quite does the job for you, it is time to try one of the
        interactive color tools. All of these, except one, can be accessed via
        Tools-&gt;Color Tools in the image menu. After you select a color tool,
        click on the image (anywhere) to activate it and bring up its dialog.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-exposure">
      <title>Exposure Problems</title>
      <para>
        The simplest tool to use is the <link linkend="gimp-tool-brightness-contrast">Brightness/Contrast</link>
        tool.  It is also the least powerful, but in many cases it does
        everything you need. This tool is often useful for images that are
        overexposed or underexposed; it is not useful for correcting color
        casts.  The tool gives you two sliders to adjust, for
        <quote>Brightness</quote> and <quote>Contrast</quote>.  If you have
        the option <quote>Preview</quote> checked (and almost certainly you
        should),you will see any adjustments you make reflected in the
        image. When you are happy with the results, press
        <guibutton>Okay</guibutton> and they will take effect.  If you
        can't get results that you are happy with, press
        <guibutton>Cancel</guibutton> and the image will revert to its
        previous state.
      </para>
      <para>
        A more sophisticated, and only slightly more difficult, way of
        correcting exposure problems is to use the Levels tool.  The
        dialog for this tool looks very complicated, but for the basic
        usage we have in mind here, the only part you need to deal
        with is the <quote>Input Levels</quote> area, specifically the three
        triangular sliders that appear below the histogram.  We refer
        you to the <link linkend="gimp-tool-levels">Levels Tool Help</link>
        for instructions;
        but actually the easiest way to learn how to use it is to
        experiment by moving the three sliders around, and watching
        how the image is affected.  (Make sure that <quote>Preview</quote> is
        checked at the bottom of the dialog.)
      </para>
      <para>
        A very powerful way of correcting exposure problems is to use the
        <emphasis>Curves</emphasis>
        tool. This tool allows you to click and drag control points on a
        curve, in order to create a function mapping input brightness levels
        to output brightness levels. The Curves tool can replicate any effect
        you can achieve with Brightness/Contrast or the Levels tool, so it is
        more powerful than either of them. Once again, we refer you to the
        <link linkend="gimp-tool-curves">Curves Tool Help</link>
        for detailed instructions, but the easiest way to learn how to use it
        is by experimenting.
      </para>
      <para>
        The most powerful approach to adjusting brightness and contrast across
        an image, for more expert GIMP users, is to create a new layer above
        the one you are working on, and then in the Layers dialog set the Mode
        for the upper layer to <quote>Multiply</quote>.
        The new layer then serves as a <quote>gain control</quote>
        layer for the layer below it, with white yielding maximum gain and
        black yielding a gain of zero. Thus, by painting on the new layer, you
        can selectively adjust the gain for each area of the image, giving you
        very fine control. You should try to paint only with smooth gradients,
        because sudden changes in gain will give rise to spurious edges in the
        result. Paint only using shades of gray, not colors, unless you want
        to produce color shifts in the image.
      </para>
      <para>
        Actually, <quote>Multiply</quote> is not the only mode that is useful
        for gain control.  In fact, <quote>Multiply</quote> mode can only
        darken parts of an image, never lighten them, so it is only useful
        where some parts of an image are overexposed.  Using
        <quote>Divide</quote> mode has the opposite effect:  it can brighten
        areas of an image but not darken them.  Here is a trick that is often
        useful for bringing out the maximum amount of detail across all areas
        of an image:
      </para>
      <procedure>
        <step>
          <para>
            Duplicate the layer (producing a new layer above it).
          </para>
        </step>
        <step>
          <para>Desaturate the new layer.</para>
        </step>
        <step>
          <para>
            Apply a Gaussian blur to the result, with a large radius (100 or
            more).
          </para>
        </step>
        <step>
          <para>Set Mode in the Layers dialog to Divide.</para>
        </step>
        <step>
          <para>
            Control the amount of correction by adjusting opacity in the
            Layers dialog, or by using Brightness/Contrast, Levels, or Curves
            tools on the new layer.
          </para>
        </step>
        <step>
          <para>
            When you are happy with the result, you can use
            <guibutton>Merge Down</guibutton>
            to combine the control layer and the original layer into a single
            layer.
          </para>
        </step>
      </procedure>
      <para>
        In addition to <quote>Multiply</quote> and <quote>Divide</quote>, you
        may every so often get useful effects with other layer combination
        modes, such as <quote>Dodge</quote>, <quote>Burn</quote>, or
        <quote>Soft Light</quote>.  It is all too easy, though,
        once you start playing with these things, to look away from
        the computer for a moment and suddenly find that you have just
        spent an hour twiddling parameters.  Be warned: the more
        options you have, the harder it is to make a decision.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-hue-saturation">
      <title>Adjusting Hue and Saturation</title>
      <para>
        In our experience, if your image has a color cast---too much red, too
        much blue, etc---the easiest way to correct it is to use the Levels
        tool, adjusting levels individually on the red, green, and blue
        channels. If this doesn't work for you, it might be worth your while
        to try the Color Balance tool or the Curves tool, but these are much
        more difficult to use effectively. (They are very good for creating
        certain types of special effects, though.)
      </para>
      <para>
        Sometimes it is hard to tell whether you have adjusted colors
        adequately. A good, objective technique is to find a point in the
        image that you know should be either white or a shade of gray.
        Activate the
        <link linkend="gimp-tool-color-picker">Color Picker</link>
        tool (the eyedropper symbol in the Toolbox), and click on the
        aforesaid point: this brings up the Color Picker dialog. If the colors
        are correctly adjusted, then the red, green, and blue components of
        the reported color should all be equal; if not, then you should see
        what sort of adjustment you need to make. This technique, when well
        used, allows even color-blind people to color-correct an image.
      </para>
      <para>
        If your image is washed out---which can easily happen when you take
        pictures in bright light---try the
        <link linkend="gimp-tool-hue-saturation">Hue/Saturation</link>
        tool, which gives you three sliders to manipulate, for Hue, Lightness,
        and Saturation. Raising the saturation will probably make the image
        look better. In same cases it is useful to adjust the lightness at the
        same time. ( <quote>Lightness</quote> here is similar to
        <quote>Brightness</quote>
        in the Brightness/Contrast tool, except that they are formed from
        different combinations of the red, green, and blue channels.) The
        Hue/Saturation tool gives you the option of adjusting restricted
        subranges of colors (using the buttons at the top of the dialog), but
        if you want to get natural-looking colors, in most cases you should
        avoid doing this.
      </para>
      <tip>
        <para>
          Even if an image does not seemed washed out, often you can increase
          its impact by pushing up the saturation a bit. Veterans of the film
          era sometimes call this trick <quote>Fujifying</quote>,
          after Fujichrome film, which is notorious for producing highly
          saturated prints.
        </para>
      </tip>
      <para>
        When you take pictures in low light conditions, in some cases you have
        the opposite problem: too much saturation. In this case too the
        Hue/Saturation tool is a good one to use, only by reducing the
        saturation instead of increasing it.
      </para>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-photography-sharpness">
    <title>Adjusting Sharpness</title>
    <sect3 id="gimp-using-photography-unblurring">
      <title>Unblurring</title>
      <para>
        If the focus on the camera is not set perfectly, or the camera is
        moving when the picture is taken, the result is a blurred image. If
        there is a lot of blurring, you probably won't be able to do much
        about it with any technique, but if there is only a moderate amount,
        you should be able to improve the image.
      </para>
      <para>
        The most generally useful technique for sharpening a fuzzy image is
        called the <link linkend="plug-in-unsharp-mask">Unsharp Mask</link>.
        In spite of the rather confusing name, which derives from its
        origins as a technique used by film developers, its result is to make
        the image sharper, not <quote>unsharp</quote>.
        It is a plug-in, and you can access it as Filters-&gt;Enhance-&gt;Unsharp
        Mask in the image menu. There are two parameters,
        <quote>Radius</quote> and <quote>Amount</quote>.
        The default values often work pretty well, so you should try them
        first. Increasing either the radius or the amount increases the
        strength of the effect. Don't get carried away, though: if you make
        the unsharp mask too strong, it will amplify noise in the image and
        also give rise to visible artifacts where there are sharp edges.
      </para>
      <tip>
        <para>
          Sometimes using Unsharp Mask can cause color distortion where there
          are strong contrasts in an image. When this happens, you can often
          get better results by decomposing the image into separate
          Hue-Saturation-Value (HSV) layers, and running Unsharp Mask on the
          Value layer only, then recomposing. This works because the human eye
          has much finer resolution for brightness than for color. See the
          sections on
          <link linkend="plug-in-decompose-registered">Decompose</link> and
          <link linkend="plug-in-compose">Compose</link> for more information.
        </para>
      </tip>
      <para>
        Next to "Unsharp Mask" in the Filters menu is another filter called
        <link linkend="plug-in-sharpen">Sharpen</link>,
        which does similar things. It is a little easier to use but not
        nearly as effective: our recommendation is that you ignore it and go
        straight to Unsharp Mask.
      </para>
      <para>
        In some situations, you may be able to get useful results by
        selectively sharpening specific parts of an image using the
        <link linkend="gimp-tool-convolve">Blur or Sharpen</link>
        tool from the Toolbox, in "Sharpen" mode. This allows you to increase
        the sharpness in areas by painting over them with any paintbrush. You
        should be restrained about this, though, or the results will not look
        very natural: sharpening increases the apparent sharpness of edges in
        the image, but also amplifies noise.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-graininess">
      <title>Reducing Graininess</title>
      <para>
        When you take pictures in low-light conditions or with a very fast
        exposure time, the camera does not get enough data to make good
        estimates of the true color at each pixel, and consequently the
        resulting image looks grainy. You can <quote>smooth out</quote>
        the graininess by blurring the image, but then you will also lose
        sharpness. There are a couple of approaches that may give better
        results. Probably the best, if the graininess is not too bad, is to
        use the filter called
        <link linkend="plug-in-sel-gauss">Selective Blur</link>,
        setting the blurring radius to 1 or 2 pixels. The other approach is
        to use the <link linkend="plug-in-despeckle">Despeckle</link>
        filter. This has a nice preview, so you can play with the settings and
        try to find some that give good results. When graininess is really
        bad, though, it is often very difficult to fix by anything except
        heroic measures (i.e., retouching with paint tools).
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-softening">
      <title>Softening</title>
      <para>
        Every so often you have the opposite problem: an image is
        <emphasis>too</emphasis>
        crisp. The solution is to blur it a bit: fortunately blurring an image
        is much easier than sharpening it. Since you probably don't want to
        blur it very much, the simplest method is to use the
        <quote>Blur</quote>
        plug-in, accessed via Filters-&gt;Blur-&gt;Blur from the image menu. This
        will soften the focus of the image a little bit. If you want more
        softening, just repeat until you get the result you desire.
      </para>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-photography-retouching">
    <title>Removing Unwanted Objects from an Image</title>
    <para>
      There are two kinds of objects you might want to remove from an image:
      first, artifacts caused by junk such as dust or hair on the lens;
      second, things that were really present but impair the quality of the
      image, such as a telephone wire running across the edge of a beautiful
      mountain landscape.
    </para>
    <sect3 id="gimp-using-photography-despeckling">
      <title>Despeckling</title>
      <para>
        A good tool for removing dust and other types of lens grunge is the
        <link linkend="plug-in-despeckle">Despeckle</link>
        filter, accessed as Filters-&gt;Enhance-&gt;Despeckle from the image menu.
        Very important: to use this filter effectively, you must begin by
        making a small selection containing the artifact and a small area
        around it. The selection must be small enough so that the artifact
        pixels are statistically distinguishable from the other pixels inside
        the selection. If you try to run despeckle on the whole image, you
        will hardly ever get anything useful. Once you have created a
        reasonable selection, activate Despeckle, and watch the preview as you
        adjust the parameters. If you are lucky, you will be able to find a
        setting that removes the junk while minimally affecting the area
        around it. The more the junk stands out from the area around it, the
        better your results are likely to be. If it isn't working for you, it
        might be worthwhile to cancel the filter, create a different
        selection, and then try again.
      </para>
      <para>
        If you have more than one artifact in the image, it is necessary to
        use Despeckle on each individually.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-garbage">
      <title>Garbage Removal</title>
      <para>
        The most useful method for removing unwanted <quote>clutter</quote>
        from an image is the <link linkend="gimp-tool-clone">Clone</link>
        <guiicon>
          <inlinegraphic fileref="images/toolbox/stock-tool-clone-22.png"/>
        </guiicon>
        tool, which allows you to paint over one part of an image using pixel
        data taken from another part (or even from a different image). The
        trick to using the clone tool effectively is to be able to find a
        different part of the image that can be used to
        <quote>copy over</quote>
        the unwanted part: if the area surrounding the unwanted object is very
        different from the rest of the image, you won't have much luck. For
        example, if you have a lovely beach scene, with a nasty human walking
        across the beach who you would like to teleport away, you will
        probably be able to find an empty part of the beach that looks similar
        to the part he is walking across, and use it to clone over him. It is
        quite astonishing how natural the results can look when this technique
        works well.
      </para>
      <para>
        Consult the
        <link linkend="gimp-tool-clone">Clone Tool Help</link>
        for more detailed instructions. Cloning is as much an art as a
        science, and the more you practice at it, the better you will get. At
        first it may seem impossible to produce anything except ugly blotches,
        but persistence will pay off.
      </para>
      <para>
        Another tool looking very much as the clone tool, but smarter, is the
        <link linkend="gimp-tool-heal">healing tool</link> which also takes
        the area around the destination into account when cloning. A typical
        usage is removal of wrinkles and other minor errors in images.
      </para>
      <para>
        In some cases you may be able to get good results by simply cutting
        out the offending object from the image, and then using a plug-in
        called <quote>Resynthesizer</quote>
        to fill in the void. This plug-in is not included with the main GIMP
        distribution, but it can be obtained from the author's web site
        <xref linkend="bibliography-online-plugin-resynthesizer"/>.
        As with many things, your mileage may vary.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-red-eye">
      <title>Removing Red-eye</title>
      <indexterm>
        <primary>Red-eyes</primary>
      </indexterm>
      <para>
        When you take a flash picture of somebody who is looking directly
        toward the camera, the iris of the eye can bounce the light of the
        flash back toward the camera in such a way as to make the eye appear
        bright red: this effect is called <quote>red eye</quote>,
        and looks very bizarre. Many modern cameras have special flash modes
        that minimize red-eye, but they only work if you use them, and even
        then they don't always work perfectly. Interestingly, the same effect
        occurs with animals, but the eyes may show up as other colors, such as
        green.
      </para>
      <para>
        From version 2.4, GIMP incorporated a special <link linkend="plug-in-red-eye-removal">remove red eye</link> filter.
        Make a selection with one of the selection tools of the red part of
        the eye and  then choose the <quote>Remove Red Eye</quote> filter.
        Perhaps you have to fiddle around a bit with the threshold slider to
        get the right color.
      </para>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-photography-saving">
    <title>Saving Your Results</title>
    <sect3 id="gimp-using-photography-files">
      <title>Files</title>
      <para>
        What file format should you use to save the results of your work, and
        should you resize it? The answers depend on what you intend to use the
        image for.
      </para>
      <itemizedlist>
        <listitem>
          <para>
            If you intend to open the image in GIMP again for further work,
            you should save it in GIMP's native XCF format (i. e., name it
            something.xcf), because this is the only format that guarantees
            that none of the information in the image is lost.
          </para>
        </listitem>
        <listitem>
          <para>
            If you intend to print the image on paper, you should avoid
            shrinking the image, except by cropping it. The reason is that
            printers are capable of achieving much higher resolutions than
            video monitors &mdash; 600 to 1400 dpi (<quote>dots per
            inch</quote>, the physical density) for typical printers, as
            compared to 72 to 100 pixels per inch for monitors. A
            3000&nbsp;x&nbsp;5000-pixel image looks huge on a monitor, but it
            only comes to about 5 inches by 8 inches on paper at 600 ppi.
            There is usually no good reason to <emphasis>expand</emphasis> the
            image either: you can't increase the true resolution that way, and
            it can always be scaled up at the time it is printed. As for the
            file format, it will usually be fine to use JPEG at a quality
            level of 75 to 85. In rare cases, where there are large swaths of
            nearly uniform color, you may need to set the quality level even
            higher or use a lossless format such as TIFF instead.
          </para>
        </listitem>
        <listitem>
          <para>
            If you intend to display the image on screen or project it with a
            video projector, bear in mind that the highest screen resolution
            for most commonly available systems is 1600 x 1200, so there is
            nothing to gain by keeping the image larger than that. For this
            purpose, the JPEG format is almost always a good choice.
          </para>
        </listitem>
        <listitem>
          <para>
            If you want to put the image on a web page or send it by email, it
            is a good idea to make every effort to keep the file size as small
            as possible. First, scale the image down to the smallest size that
            makes it possible to see the relevant details (bear in mind that
            other people may be using different sized monitors and/or
            different monitor resolution settings). Second, save the image as
            a JPEG file. In the JPEG save dialog, check the option to
            <quote>Preview in image window</quote>
            , and then adjust the Quality slider to the lowest level that
            gives you acceptable image quality. (You will see in the image the
            effects of each change.) Make sure that the image is zoomed at 1:1
            while you do this, so you are not misled by the effects of
            zooming.
          </para>
        </listitem>
      </itemizedlist>
      <para>
        See the <link linkend="gimp-using-fileformats">File Formats</link>
        section for more information.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-printing">
      <title>Printing Your Photos</title>
      <indexterm>
        <primary>Printing</primary>
        <secondary>Printing your photos</secondary>
      </indexterm>
      <para>
        As in most softwares, in GIMP, printing needs to go to main menu
        <menuchoice>
          <guimenu>File</guimenu>
          <guisubmenu>Print</guisubmenu>
        </menuchoice>.
        However it is very useful to keep in mind some elementary concepts
        to prevent some unpleasant surprises when looking at result, or to
        cure them if that occurs.  You always must remember:
      </para>
      <itemizedlist>
        <listitem>
          <para>
            that image displayed on the screen is in RGB mode and printing
            will be in CMYK mode; consequently color feature you'll get on
            printed sheet will not be exactly what you was waiting for. That
            depends on the used corresponding chart. For the curious ones some
            adding explanations can be got through a click on these useful
            Wikipedia links:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                ICC-Profile <xref linkend="bibliography-online-wkpd-icc"/>
              </para>
            </listitem>
            <listitem>
              <para>
                CMYK <xref linkend="bibliography-online-wkpd-cmyk"/>
              </para>
            </listitem>
            <listitem>
              <para>
                Gamut <xref linkend="bibliography-online-wkpd-gamut"/>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>
            that a screen resolution is roughly within a range from 75 up to
            100 dpi; a printer resolution is about 10x higher (or more) than a
            screen one; printed image size depends on available pixels and
            resolution; so actual printed size doesn't correspond inevitably
            to what is displayed on screen nor available sheet size.
          </para>
        </listitem>
      </itemizedlist>
      <para>
        Consequently, before any printing it is relevant to go to:
        <menuchoice>
          <guimenu>Image</guimenu>
          <guisubmenu>Print size</guisubmenu>
        </menuchoice>
        and choose here your convenient output size in
        <quote>printÂ size</quote> box adjusting either sizes or resolution.
        The
        <guiicon>
          <inlinemediaobject>
            <imageobject>
              <imagedata fileref="images/dialogs/stock-vchain-24.png" />
            </imageobject>
          </inlinemediaobject>
        </guiicon>
        symbol shows that the both values are linked. You can dissociate x
        and y resolution by clicking on that symbol, but it is risky! Probably
        this possibility is open because printers are built with different x
        vs. y resolutions.  Nevertheless if you unlinked them you can be very
        surprised! You can try this in special effects.
      </para>
      <para>
        Last recommendation: think of checking your margins as well as
        centering. It would be a pity if a too much large margin cuts off some
        part of your image or if an inappropriate centering damages your work
        especially if you use a special photo paper.
      </para>
    </sect3>

    <sect3 id="gimp-using-photography-exif">
      <title>EXIF Data</title>
      <para>
        Modern digital cameras, when you take a picture, add information to
        the data file about the camera settings and the circumstances under
        which the picture was taken. This data is included in JPEG or TIFF
        files in a structured format called EXIF. For JPEG files, GIMP is
        capable of maintaining EXIF data, if it is built appropriately: it
        depends on a library called <quote>libexif</quote>,
        which may not be available on all systems. If GIMP is built with
        EXIF support enabled, then loading a JPEG file with EXIF data, and
        resaving the resulting image in JPEG format, will cause the EXIF data
        to be preserved unchanged. This is not, strictly speaking, the right
        way for an image editor to handle EXIF data, but it is better than
        simply removing it, which is what earlier versions of GIMP did.
      </para>
      <para>
        If you would like to see the contents of the EXIF data, you can
        download from the registry an Exif Browser plug-in
        <xref linkend="bibliography-online-gimp-plugin-exifbrowser"/>.
        If you are able to build and install it on your system, you can
        access it as Filters-&gt;Generic-&gt;Exif Browser from the image menu. (See
        <link linkend="gimp-plugins-install">Installing New Plug-ins</link>
        for help.)
      </para>
    </sect3>
  </sect2>
</sect1>
-#-#-
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-prefs-dialog">
  <title>Preferences Dialog</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
  </indexterm>
  <indexterm>
    <primary>Preferences</primary>
  </indexterm>

  <sect2>
    <title>Introduction</title>
    <figure>
      <title>List of preference pages</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/preferences/prefs-list.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The preferences dialog can be accessed from the image menu-bar, through
      <menuchoice>
       <guimenu>Edit</guimenu>
       <guimenuitem>Preferences</guimenuitem>
      </menuchoice>.
      It lets you customize many aspects of the way
      GIMP works.  The following sections detail the settings that you
      can customize, and what they affect.
    </para>
    <para>
      All of the Preferences information is stored in a file called
      <filename>gimprc</filename>  in your personal GIMP directory, so
      if you are a <quote>power user</quote> who would rather work with a
      text editor than a graphical interface, you can alter preferences by
      editing that file.  If you do, and you are on a Linux system,
      then <command>man gimprc</command> will give you a lot of
      technical information about the contents of the file and what
      they are used for.
    </para>
  </sect2>
  <xi:include href="prefs-environment.xml"/>
  <xi:include href="prefs-interface.xml"/>
  <xi:include href="prefs-theme.xml"/>
  <xi:include href="prefs-help.xml"/>
  <xi:include href="prefs-tool-options.xml"/>
  <xi:include href="prefs-toolbox.xml"/>
  <xi:include href="prefs-default-image.xml"/>
  <xi:include href="prefs-default-grid.xml"/>
  <xi:include href="prefs-image-window.xml"/>
  <xi:include href="prefs-image-window-appearance.xml"/>
  <xi:include href="prefs-image-window-title.xml"/>
  <xi:include href="prefs-display.xml"/>
  <xi:include href="prefs-color-management.xml"/>
  <xi:include href="prefs-input-devices.xml"/>
  <xi:include href="prefs-input-controllers.xml"/>
  <xi:include href="prefs-window-management.xml"/>
  <xi:include href="prefs-folders.xml"/>
  <xi:include href="prefs-folders-data.xml"/>
</sect1>
-#-#-
<sect2 id="gimp-prefs-color-management">
  <title>Color Management</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Color Management</tertiary>
  </indexterm>
  <indexterm>
    <primary>Color Management</primary>
  </indexterm>
  <indexterm>
    <primary>Color Profile</primary>
  </indexterm>

  <figure>
    <title>Color Management Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/prefs-color-management.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>Options</title>
    <para>
      This page lets you customize the GIMP color management.
    </para>
    <para>
      Some of the options let you choose a color profile from a menu. If the
      desired profile is not in the menu yet, you can add it by clicking on
      the <guimenuitem>Select color profile from disk...</guimenuitem> item.
    </para>
    <tip>
      <para>
        Files containing color profiles are easily recognizable by their
        <filename>.icc</filename> suffix. In addition to that they are
        usually stored all together in only a few places. If you are running
        GIMP on Mac OS X, you should try
        <filename>/Library/ColorSync/Profiles/</filename> and
        <filename>Library/Printers/[manufacturer]/Profiles</filename>.
      </para>
    </tip>
    <variablelist>
      <indexterm>
        <primary>Color Management</primary>
      </indexterm>
      <varlistentry>
        <term>Mode of operation</term>
        <listitem>
          <para>
            Using this option you can decide how the GIMP color management
            operates. There are three modes you can choose from:
          </para>
          <itemizedlist>
            <listitem>
              <para><guimenuitem>No color management</guimenuitem>: choosing this
                selection shuts down the color management in GIMP completely.
               </para>
            </listitem>
            <listitem>
              <para><guimenuitem>Color managed display</guimenuitem>: with this
                selection you can enable the GIMP color management to
                provide a fully corrected display of the images according to
                the given color profile for the display.
              </para>
            </listitem>
            <listitem>
              <para><guimenuitem>Print simulation</guimenuitem>: when choosing
                this selection, you enable the GIMP color management not only
                to apply the profile for the display, but also the selected
                printer simulation profile. Doing so, you can preview the
                color results of a print with that printer.
              </para>
              <note>
                <para>
                  Please note, that the GIMP color management is used to
                  enhance the display of images and the embedding of profiles
                  to image files only. Especially are the options you choose
                  in this dialog in no way used for printing from within GIMP.
                  This is because the printing is a special task done by a
                  more specialized printing engine that is no part of GIMP.
                </para>
              </note>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>RGB profile</term>
        <listitem>
          <para>
            Select the default color profile for working with RGB images.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>CMYK profile</term>
        <listitem>
          <para>
            Select the default color profile for conversion between RGB 
            for the screen work and CMYK for printing.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Monitor profile</term>
        <listitem>
          <para>
            This option gives you two elements for interaction:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                You should select a display profile for this option. The
                selected color profile is used to display GIMP on the screen.
              </para>
            </listitem>
            <listitem>
              <para>
                If you activate the <guilabel>Try to use the system monitor
                profile</guilabel> option, GIMP will use the color profile
                provided for the displays by the operating systems color
                management system.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Display rendering intent</term>
        <listitem>
          <para>
            Rendering intents, as the one you can configure with this option,
            are ways of dealing with colors that are
            out-of-<xref linkend="glossary-gamut"/> colors
            present in the source space that the destination space is
            incapable of producing. There are four method rendering intents to
            choose from:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Perceptual</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Relative colorimetric</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Saturation</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Absolute colorimetric</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
          <para>
            A description of the individual methods can be found at
            <xref linkend="glossary-rendering-intent"/>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Print simulation mode</term>
        <listitem>
          <para>
            You should select a printer profile for this option. The selected
            color profile is used for the print simulation mode.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Softproof rendering intent</term>
        <listitem>
          <para>
            This option again provides two different elements for interaction:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                You can use the menu to select the rendering intent for the
                soft proof. They are the same as already described for the
                display rendering intent.
              </para>
            </listitem>
            <listitem>
              <para>
                If you enable the <guilabel>Mark out of gamut
                colors</guilabel> option, all pixels that have a color that
                is not printable are marked by a special color. Which color is
                used for this can also be chosen by you. You can do this
                simply by clicking on the color icon on the right besides the
                checkbox.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>File Open behaviour</term>
        <listitem>
          <para>
            Using this menu you can determine how GIMP behaves when opening a
            file that contains an embedded color profile that is not matches
            the workspace sRGB. You can choose from the following entries:
          </para>
          <itemizedlist>
            <listitem>
              <para><guimenuitem>Ask what to do</guimenuitem>: if selected, GIMP
                will ask every time what to do.
              </para>
            </listitem>
            <listitem>
              <para><guimenuitem>Keep embedded profile</guimenuitem>: if you
                choose this, GIMP will keep the attached profile and not
                convert the image to the workspace. The image is displayed
                correctly anyways, because the attached profile will be
                applied for display.
              </para>
            </listitem>
            <listitem>
              <para><guimenuitem>Convert to RGB workspace</guimenuitem>: by
                choosing this entry GIMP will automatically use the attached
                color profile to convert the image to the workspace.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
    <note>
      <para>For more explanations:</para>
      <itemizedlist>
        <listitem>
          <para>
            ICC Profiles are explained in Wikipedia
            <xref linkend="bibliography-online-wkpd-icc"/>.
          </para>
        </listitem>
        <listitem>
          <para>
            See OpenICC project
            (<xref linkend="bibliography-online-openicc"/>) where GIMP and
            others great names of free infography contribute to.
          </para>
        </listitem>
      </itemizedlist>
      <para>Many profiles to load from the web:</para>
      <itemizedlist>
        <listitem>
          <para>
            ICC sRGB Workspace:
            <productname>ICCsRGB</productname>
            <xref linkend="bibliography-online-iccsrgb"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Microsoft sRGB Workspace:
            <productname>MsRGB</productname>
            <xref linkend="bibliography-online-microsoft-srgb"/>
          </para>
        </listitem>
        <listitem>
          <para>
            Adobe RGB98 Workspace :
            <productname>Adobe RGB (1998)</productname>
            <xref linkend="bibliography-online-adobrgb"/>
          </para>
        </listitem>
        <listitem>
          <para>
            ECI (European Color Initiative) Profiles:
            <productname>ECI</productname>
            <xref linkend="bibliography-online-eci"/>
          </para>
        </listitem>
      </itemizedlist>
    </note>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-default-grid">
  <title>Default Image Grid</title>
  <indexterm>
    <primary>Preferences</primary>
    <secondary>Image grid</secondary>
  </indexterm>
  <indexterm>
    <primary>Grid</primary>
    <secondary>Default setting</secondary>
  </indexterm>
  <figure>
    <title>Default Grid Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-default-grid.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This page lets you customize the default properties of GIMP's grid,
    which can be toggled on or off using
    <menuchoice>
      <guimenu>View</guimenu>
      <guimenuitem>Show Grid</guimenuitem>
    </menuchoice>
    from the image menu.  The settings here match those in the
    Configure Image Grid dialog, which can be used to reconfigure the
    grid for an existing image, by choosing
    <menuchoice>
      <guimenu>Image</guimenu>
      <guimenuitem>Configure Grid</guimenuitem>
    </menuchoice>
    from the image menu.  See the
    <link linkend="gimp-configure-grid-dialog">Configure Grid
      dialog</link> section for information on the meaning of each of
    the settings.
  </para>
</sect2>
-#-#-
<sect2 id="gimp-prefs-new-image">
  <title>Default Image Preferences</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Default image</tertiary>
  </indexterm>
  <indexterm>
    <primary>New image</primary>
    <secondary>Default setting</secondary>
  </indexterm>

  <anchor id="gimp-prefs-default-image"/>
  <figure>
    <title>Default New Image Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-new-image.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This tab lets you customize the default settings for the New Image
    dialog.  See the
    <link linkend="gimp-file-new">New Image Dialog</link> section
    for an explanation of what each of the values means.
  </para>
</sect2>
-#-#-
<sect2 id="gimp-prefs-display">
  <title>Display</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Display</tertiary>
  </indexterm>
  <indexterm>
    <primary>Display</primary>
    <secondary>Preferences</secondary>
  </indexterm>
  <indexterm>
    <primary>Transparency</primary>
    <secondary>Representation</secondary>
  </indexterm>
  <indexterm>
    <primary>Calibrate monitor</primary>
  </indexterm>

  <figure>
    <title>Display Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/prefs-display.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize the way transparent parts of an image
          are represented, and lets you recalibrate the resolution of your
          monitor.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <sect3 id="gimp-prefs-display-options">
    <title>Options</title>

    <variablelist>
      <title>Transparency</title>
      <varlistentry>
        <term>Transparency type</term>
        <!--  TODO: rename to Check style -->
        <listitem>
          <para>
            By default, GIMP indicates transparency using a checkerboard
            pattern with mid-tone checks, but you can change this if you want,
            either to a different type of checkerboard, or to solid black,
            white, or gray.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Check size</term>
        <listitem>
          <para>
            Here you can alter the size of the squares in the checkerboard
            pattern used to indicate transparency.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <figure id="figure-gimp-prefs-monitor">
      <title>The Calibration dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/ui-calibrate.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist id="gimp-prefs-monitor" xreflabel="Calibration">
      <varlistentry>
        <term>Monitor Resolution</term>
        <listitem>
          <para>
            Monitor Resolution is the ratio of pixels, horizontally and
            vertically, to inches.  You have three ways to proceed here:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                Get Resolution from windowing system. (easiest, probably
                inaccurate).
              </para>
            </listitem>
            <listitem>
              <para>Set Manually</para>
            </listitem>
            <listitem>
              <para>Push the Calibrate Button.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>The Calibrate Dialog</term>
        <listitem>
          <para>
            My monitor was impressively off when I tried the Calibrate Dialog.
            The <quote>Calibrate Game</quote> is fun to play. You will need a
            soft ruler.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-environment">
  <title>Environment</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Environment</tertiary>
  </indexterm>
  <indexterm>
    <primary>Environment preferences</primary>
  </indexterm>

  <figure>
    <title>Environment Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-environment.png"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize the amount of system memory allocated
          for various purposes. It also allows you to disable the confirmation
          dialogs that appear when you close unsaved images, and to set the
          size of thumbnail files that GIMP produces.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <sect3>
    <title>Options</title>
    <variablelist>
      <title>Resource Consumption</title>
      <varlistentry>
        <term>Minimal number of undo levels</term>
        <listitem>
          <para>
            GIMP allows you to undo most actions by maintaining an
            <quote>Undo History</quote>
            for each image, for which a certain amount of memory is allocated.
            Regardless of memory usage, however, GIMP always permits some
            minimal number of the most recent actions to be undone: this is
            the number specified here. See
            <xref linkend="gimp-concepts-undo"/>
            for more information about GIMP's Undo mechanism.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Maximum undo memory</term>
        <listitem>
          <para>
            This is the amount of undo memory allocated for each image. If the
            Undo History size exceeds this, the oldest points are deleted,
            unless this would result in fewer points being present than the
            minimal number specified above.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Tile cache size</term>
        <listitem>
          <para>
            This is the amount of system RAM allocated for GIMP image
            data.  If GIMP requires more memory than this, it begins to
            swap to disk, which may in some circumstances cause a
            dramatic slowdown.  You are given an opportunity to set this
            number when you install GIMP, but you can alter it here. See
            <link linkend="gimp-using-setup-tile-cache">How to Set Your
            Tile Cache</link> for more information.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Maximum new image size</term>
        <listitem>
          <para>
            This is not a hard constraint: if you try to create a new image
            larger than the specified size, you are asked to confirm that you
            really want to do it. This is to prevent you from accidentally
            creating images much larger than you intend, which can either
            crash GIMP or cause it to respond verrrrrrrry slowwwwwwwwly.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Number of processors to use</term>
        <listitem>
          <para>
            Default is one. Your computer may have more than one processor.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Image Thumbnails</title>
      <varlistentry>
        <term>Size of thumbnails</term>
        <listitem>
          <para>
              This options allows you to set the size of the thumbnails shown
              in the File Open dialog (and also saved for possible use by
              other programs). The options are <quote>None</quote>,
              <quote>Normal (128x128)</quote>, and
              <quote>Large (256x256)</quote>.
            </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Maximum filesize for thumbnailing</term>
        <listitem>
          <para>
              If an image file is larger than the specified maximum size, GIMP
              will not generate a thumbnail for it. This options allows you to
              prevent thumbnailing of extremely large image files from slowing
              GIMP to a crawl.
            </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Saving Images</title>
      <varlistentry>
        <term>Confirm closing of unsaved images</term>
        <listitem>
          <para>
              Closing an image is not undoable, so by default GIMP asks you to
              confirm that you really want to do it, whenever it would lead to
              a loss of unsaved changes. You can disable this if you find it
              annoying; but then of course you are responsible for remembering
              what you have and have not saved.
            </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Document history</title>
      <varlistentry>
        <term>Keep record of used files in the Recent Documents list</term>
        <listitem>
          <para>
              When checked, files you have opened will be saved in the
              Document history. You can access the list of files with the
              <link linkend="gimp-document-dialog">Document history
              dialog</link> from the image menu-bar :
              <menuchoice>
                <guimenu>File</guimenu>
                <guisubmenu>Open Recent</guisubmenu>
                <guimenuitem>Document History</guimenuitem>
              </menuchoice>.
            </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-folders-data">
  <title>Data Folders</title>
  <anchor id="gimp-prefs-folders-brushes"/>
  <anchor id="gimp-prefs-folders-patterns"/>
  <anchor id="gimp-prefs-folders-palettes"/>
  <anchor id="gimp-prefs-folders-gradients"/>
  <anchor id="gimp-prefs-folders-fonts"/>
  <anchor id="gimp-prefs-folders-plug-ins"/>
  <anchor id="gimp-prefs-folders-scripts"/>
  <anchor id="gimp-prefs-folders-modules"/>
  <anchor id="gimp-prefs-folders-environment"/>
  <anchor id="gimp-prefs-folders-themes"/>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Data folders</tertiary>
  </indexterm>
  <indexterm>
    <primary>Data folders</primary>
    <secondary>Preferences</secondary>
  </indexterm>
  <figure>
    <title>Preferences: Brush Folders</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-folders-brush.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    GIMP uses several types of resources â€“ such as brushes, patterns,
    gradients, etc. â€“ for which a basic set are supplied by GIMP when it is
    installed, and others can be created or downloaded by the user. For each
    such resource type, there is a Preference page that allows you to specify
    the <emphasis>search path</emphasis>:
    the set of directories from which items of the type in question are
    automatically loaded when GIMP starts. These pages all look very much the
    same: the page for brushes is shown to the right as an example.
  </para>
  <para>
    By default, the search path includes two folders:  a
    <emphasis>system</emphasis> folder, where items installed along
    with GIMP are placed, and a <emphasis>personal</emphasis> folder,
    inside your personal GIMP directory, where items added by you
    should be placed.  The system folder should not be marked as
    writable, and you should not try to alter its contents.  The
    personal folder must be marked as writable or it is useless,
    because there is nothing inside it except what you put there.
  </para>
  <para>
    You can customize the search path with the buttons at the top of
    the dialog.
  </para>
  <variablelist>
    <title>Options</title>
    <varlistentry>
      <term>Select a Folder</term>
      <listitem>
        <para>
          If you click on one of the folders in the list, it is selected for
          whatever action comes next.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Add/Replace Folder</term>
      <listitem>
        <para>
          If you type the name of a folder in the entry space, or navigate to
          it using the file chooser button
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-fileopen-16.png"/>
          </guiicon>
          on the right, and then click the
          left button, this will replace the selected folder with the one you
          have specified. If nothing in the list is selected, the folder you
          specify will be added to the list. If the light-symbol to the left
          of the text entry area is red instead of green, it means that the
          folder you have specified does not exist. GIMP will not create it
          for you, so you should do this immediately.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Move Up/Down</term>
      <listitem>
        <para>
          If you click on the up-arrow or down-arrow buttons, the selected
          folder will be changed to the following or preceding one in the
          list. Since the folders are read in order, using those buttons
          change the loading precedence of the items located in those folders.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Delete Folder</term>
      <listitem>
        <para>
          If you click the trash-can button, the selected folder will be
          deleted from the list. (The folder itself is not affected; it is
          merely removed from the search path.) Deleting the system folder is
          probably a bad idea, but nothing prevents you from doing it.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
</sect2>
-#-#-
<sect2 id="gimp-prefs-folders">
  <title>Folders</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Folders</tertiary>
  </indexterm>
  <figure>
    <title>Basic Folder Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-folders.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This page allows you to set the locations for two important folders used
    by GIMP for temporary files. The pages below it allow you to customize the
    locations searched for resources such as brushes etc.; see
    <link linkend="gimp-prefs-folders-data">Data Folders</link>
    for a description that applies to them. You can change the folders here by
    editing the entries, or by pressing the buttons on the right to bring up a
    file chooser window.
  </para>
  <variablelist>
    <title>Folders</title>
    <indexterm>
      <primary>Temp folder</primary>
    </indexterm>
    <indexterm>
      <primary>Swap folder</primary>
    </indexterm>
    <varlistentry>
      <term>Temp folder</term>
      <listitem>
        <para>
          This folder is used for temporary files: files created for temporary
          storage of working data, and then deleted within the same GIMP
          session. It does not require a lot of space or high performance. By
          default, a subdirectory called <filename>tmp</filename>
          in your personal GIMP directory is used, but if that disk is very
          cramped for space, or has serious performance issues, you can change
          it to a different directory. The directory must exist and be
          writable by you, or bad things will happen.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Swap folder</term>
      <listitem>
        <para>
          This is the folder used as a <quote>memory bank</quote> when the
          total size of images and data open in GIMP exceeds the available
          RAM. If you work
          with very large images, or images with many layers, or have many
          images open at once, GIMP can potentially require hundreds of
          megabytes of swap space, so available disk space and performance are
          definitely things to think about for this folder. By default, it is
          set to your personal GIMP directory, but if you have another disk
          with more free space, or substantially better performance, you may
          see a significant benefit from moving your swap folder there. The
          directory must exist and be writable by you.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
</sect2>
-#-#-
<sect2 id="gimp-prefs-help">
  <title>Help System</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Help System</tertiary>
  </indexterm>
  <indexterm>
    <primary>Help</primary>
  </indexterm>

  <figure>
    <title>Help System Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/prefs-help.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize the behaviour of the
          <acronym>GIMP</acronym> help system.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <sect3>
    <title>Options</title>
    <variablelist>
      <title>General</title>
      <varlistentry>
        <term>Show tool tips</term>
        <listitem>
          <para>
            Tool tips are small help pop-ups that appear when the pointer
            hovers for a moment over some element of the interface, such as a
            button or icon. Sometimes they explain what the element does;
            sometimes they give you hints about non-obvious ways to use it.
            If you find them too distracting, you can disable them here by
            unchecking this option. We recommend that you leave them enabled
            unless you are a very advanced user.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show help buttons</term>
        <listitem>
          <para>
            This option controls whether the help buttons are shown
            on every tool dialog, which may be used alternatively to
            invoke the help system.
          </para>
        </listitem>
      </varlistentry>
<!--
      <varlistentry>
        <term>Show tips on start-up</term>
        <listitem>
          <para>
            Start-up tips are helpful hints that appear each time you start
            GIMP. You can switch them on or off here. If you have switched
            them off by unchecking
            <quote>Show tip next time GIMP starts</quote>
            in the tip window, you can switch them back on by checking here.
            Whatever you decide to do, at some point you should take the time
            to go through the list of tips: they are considered to be very
            useful, and the things they tell you are not easy to discover by
            experimenting. If you prefer, you can read them at any time by
            choosing
            <menuchoice>
              <guimenu>Help</guimenu>
              <guimenuitem>Tip of the Day</guimenuitem>
            </menuchoice>
            in the image menu.
          </para>
        </listitem>
      </varlistentry>
-->
      <varlistentry>
        <term>User manual</term>
        <listitem>
          <para>
            This drop-down list lets you select between
            <guilabel>Use a locally installed copy</guilabel> and
            <guilabel>Use the online version</guilabel>. See
            <xref linkend="gimp-help" />.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Help Browser</title>
      <varlistentry>
        <term>Help browser to use</term>
        <listitem>
          <para>
            GIMP Help is supplied in the form of HTML files, i. e., web pages.
            You can view them using either a special help browser that comes
            with GIMP, or a web browser of your choice. Here you choose which
            option to use. Because the help pages were carefully checked to
            make sure they work well with GIMP's browser, whereas other web
            browsers are somewhat variable in their support of features, the
            safer option is to use the internal browser; but really any
            modern web browser should be okay.
          </para>
          <note>
            <para>
              Note that the GIMP help browser is not available on all 
              platforms. If it is missing, this option is hidden and the
              standard web browser will be used to read the help pages.
            </para>
          </note>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-image-window-appearance">
  <title>Image Window Appearance</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Image Windows</tertiary>
  </indexterm>
  <indexterm>
    <primary>Image Windows</primary>
    <secondary>Preferences</secondary>
  </indexterm>
  <figure>
    <title>Image Window Appearance Defaults</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-image-window-appearance.png"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize the default appearance of image
          windows, for normal mode and for fullscreen mode. All of the
          settings here can be altered on an image-specific basis using
          entries in the View menu. See the
          <link linkend="gimp-image-window">Image Window</link>
          section for information on the meaning of the entries.
        </para>
      </caption>
    </mediaobject>
  </figure>
  <para>
    The only parts that may need further explanation are the ones related to
    padding. <quote>Padding</quote>
    is the color shown around the edges of the image, if it does not occupy
    all of the display area (shown in light gray in all the figures here). You
    can choose among four colors for the padding color: to use the color
    specified by the current theme; to use the light or dark colors specified
    for checks, such as represent transparent parts of the image; or to use a
    custom color, which can be set using the color button for
    <quote>Custom padding color</quote>.
  </para>
</sect2>
-#-#-
<sect2 id="gimp-prefs-image-window-title">
  <title>Image Window Title and Statusbar</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Title and Statusbar</tertiary>
  </indexterm>
  <indexterm>
    <primary>Title bar</primary>
    <secondary>Preferences</secondary>
  </indexterm>
  <indexterm>
    <primary>Status bar</primary>
    <secondary>Preferences</secondary>
  </indexterm>

  <figure>
    <title>Image Window Title and Statusbar formats</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/prefs-image-window-title.png" format="PNG"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize the text that appears in two
          places: the title bar of an image, and the status bar.  The
          title bar should appear above the image; however this depends
          on cooperation from the window manager, so it is not
          guaranteed to work in all cases.  The statusbar appears
          underneath the image, on the right side.  See the <link linkend="gimp-image-window">Image Window</link>
          section for more information.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <sect3>
    <title>Choosing a Format</title>
    <para>
      You can choose among several predesigned formats, or you can
      create one of your own, by writing a <emphasis>format
      string</emphasis> in the entry area.  Here is how to understand
      a format string:  anything you type is shown exactly as you type
      it, with the exception of <emphasis>variables</emphasis>, whose
      names all begin with <quote>%</quote>.  Here is a list of the variables
      you can use:
    </para>
    <segmentedlist>
      <segtitle>Variable</segtitle>
      <segtitle>Meaning</segtitle>
      <seglistitem>
        <seg>%f</seg>
        <seg>Bare filename of the image, or <quote>Untitled</quote></seg>
      </seglistitem>
      <seglistitem>
        <seg>%F</seg>
        <seg>Full path to file, or <quote>Untitled</quote></seg>
      </seglistitem>
      <seglistitem>
        <seg>%p</seg>
        <seg>Image id number (this is unique)</seg>
      </seglistitem>
      <seglistitem>
        <seg>%i</seg>
        <seg>
          View number, if an image has more than one display
        </seg>
      </seglistitem>
      <seglistitem>
        <seg>%t</seg>
        <seg>Image type (RGB, grayscale, indexed)</seg>
      </seglistitem>
      <seglistitem>
        <seg>%z</seg>
        <seg>Zoom factor as a percentage</seg>
      </seglistitem>
      <seglistitem>
        <seg>%s</seg>
        <seg>Source scale factor (zoom level = %d/%s)</seg>
      </seglistitem>
      <seglistitem>
        <seg>%d</seg>
        <seg>Destination scale factor (zoom level = %d/%s)</seg>
      </seglistitem>
      <seglistitem>
        <seg>%Dx</seg>
        <seg>
          Expands to x if the image is dirty, nothing otherwise
        </seg>
      </seglistitem>
      <seglistitem>
        <seg>%Cx</seg>
        <seg>
          Expands to x if the image is clean, nothing otherwise
        </seg>
      </seglistitem>
      <seglistitem>
        <seg>%l</seg>
        <seg>The number of layers</seg>
      </seglistitem>
      <seglistitem>
        <seg>%L</seg>
        <seg>Number of layers (long form)</seg>
      </seglistitem>
      <seglistitem>
        <seg>%m</seg>
        <seg>Memory used by the image</seg>
      </seglistitem>
      <seglistitem>
        <seg>%n</seg>
        <seg>Name of the active layer/channel</seg>
      </seglistitem>
      <seglistitem>
        <seg>%P</seg>
        <seg>id of the active layer/channel</seg>
      </seglistitem>
      <seglistitem>
        <seg>%w</seg>
        <seg>Image width in pixels</seg>
      </seglistitem>
      <seglistitem>
        <seg>%W</seg>
        <seg>Image width in real-world units</seg>
      </seglistitem>
      <seglistitem>
        <seg>%h</seg>
        <seg>Image height in pixels</seg>
      </seglistitem>
      <seglistitem>
        <seg>%H</seg>
        <seg>Image height in real-world units</seg>
      </seglistitem>
      <seglistitem>
        <seg>%u</seg>
        <seg>Unit symbol (eg. px for Pixel)</seg>
      </seglistitem>
      <seglistitem>
        <seg>%U</seg>
        <seg>Unit abbreviation</seg>
      </seglistitem>
      <!--  Documenting new Control characters
            introduced in GIMP 2.9 development cicle:
            uncomment this when the manual branches to document
            GIMP 2-10:

       <seglistitem>
        <seg>%x</seg>
        <seg>Active layer width in pixels</seg>
      </seglistitem>
       <seglistitem>
        <seg>%X</seg>
        <seg>Active layer width in real-world units</seg>
      </seglistitem>
      <seglistitem>
        <seg>%y</seg>
        <seg>Active layer height in pixels</seg>
      </seglistitem>
       <seglistitem>
        <seg>%Y</seg>
        <seg>Active layer height in real-world units</seg>
      </seglistitem>

      -->
      <seglistitem>
        <seg>%%</seg>
        <seg>A literal <quote>%</quote> symbol</seg>
      </seglistitem>
    </segmentedlist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-image-window">
  <title>Image Windows</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Image Windows</tertiary>
  </indexterm>
  <indexterm>
    <primary>Image Windows</primary>
    <secondary>Preferences</secondary>
  </indexterm>

  <figure>
    <title>General Image Window Preference</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-image-window.png"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize several aspects of the behaviour of
          image windows.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <sect3>
    <title>Options</title>
    <variablelist>
      <title>General</title>
      <indexterm>
        <primary>Dot for dot</primary>
      </indexterm>
      <indexterm>
        <primary>Marching ants speed</primary>
      </indexterm>
      <indexterm>
        <primary>Zoom</primary>
      </indexterm>
      <indexterm>
        <primary>Image size</primary>
      </indexterm>
      <varlistentry>
        <term>Use <quote>Dot for dot</quote> by default</term>
        <listitem>
          <para>
            Using <quote>Dot for dot</quote> means that at 1:1 zoom, each
            pixel is the image is scaled to one pixel on the display. If
            <quote>Dot for dot</quote> is not used, then the displayed image
            size is determined by the X and Y resolution of the image. See the
            <link linkend="gimp-image-scale">Scale Image</link> section for
            more information.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Marching ants speed</term>
        <listitem>
          <para>
          When you create a selection, the edge of it is shown as a dashed
          line with dashes that appear to move, marching slowly along the
          boundary: they are jokingly called <quote>marching ants</quote>.
          The smaller the value entered here, the faster the ants march
          (and consequently the more distracting they are!).
        </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Zoom and Resize Behavior</title>
      <indexterm>
        <primary>Image</primary>
        <secondary>Resize after zooming or scaling</secondary>
      </indexterm>
      <varlistentry>
        <term>Resize window on zoom</term>
        <listitem>
          <para>
            If this option is checked, then each time you zoom the image, the
            image window will automatically resize to follow it. Otherwise,
            the image window will maintain the same size when you zoom the
            image.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Resize window on image size change</term>
        <listitem>
          <para>
            If this option is checked, then each time change the size of the
            image, by cropping or resizing it, the image window will
            automatically resize to follow. Otherwise, the image window will
            maintain the same size.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Initial zoom ratio</term>
        <listitem>
          <para>
            You can choose either to have images, when they are first opened,
            scaled so that the whole image fits comfortably on your display,
            or else shown at 1:1 zoom. If you choose the second option, and
            the image is too large to fit on your display, then the image
            window will show only part of it (but you will be able to scroll
            to other parts).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Space bar</title>
      <indexterm>
        <primary>Space bar</primary>
      </indexterm>
      <varlistentry>
        <term>While space bar is pressed</term>
        <listitem>
          <itemizedlist>
            <listitem>
              <para><guilabel>Pan view</guilabel> (default) or</para>
            </listitem>
            <listitem>
              <para><guilabel>Toogle to Move Tool</guilabel></para>
            </listitem>
            <listitem>
              <para><guilabel>No action</guilabel></para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Mouse Cursors</title>
      <indexterm>
        <primary>Mouse cursors</primary>
      </indexterm>
      <varlistentry>
        <term>Show brush outline</term>
        <listitem>
          <para>
            If this option is checked, then when you use a paint tool, the
            outline of the brush will be shown on the image as you move the
            pointer around. On slow systems, if the brush is very large, this
            could occasionally cause some lag in GIMP's ability to follow your
            movements: if so, switching this off might help. Otherwise, you
            will probably find it quite useful.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show paint tool cursor</term>
        <listitem>
          <para>
            If this is checked, a cursor will be shown. This is in addition to
            the brush outline, if the brush outline is being shown. The type
            of cursor is determined by the next option.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Cursor mode</term>
        <listitem>
          <para>
            This option has no effect unless <guilabel>Show paint tool
            cursor</guilabel> is checked.  If it is, you have three choices:
            <guilabel>Tool icon</guilabel>, which causes a small iconic
            representation of the currently active tool to be shown beside
            the cursor; <guilabel>Tool icon with crosshair</guilabel>, which
            shows the icon as well as a crosshair indicating the center of
            the cursor; or <guilabel>Crosshair only</guilabel>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Cursor rendering</term>
        <listitem>
          <para>
            If you choose <quote>Fancy</quote> here, the cursor is drawn in
            grayscale.  If you choose <quote>Black and White</quote>, it is
            drawn in a simpler way that may speed things up a little bit if
            you have speed issues.
          </para>
        </listitem>
      </varlistentry>
      <!--  TODO: Add Pointer handedness -->
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-input-controllers">
  <title>Input Controllers</title>
  <indexterm>
    <primary>Preferences</primary>
    <secondary>Input Controllers</secondary>
  </indexterm>
  <indexterm>
    <primary>Input Controllers</primary>
  </indexterm>

  <figure>
    <title>Input controllers preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/input-controllers.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This dialog has two lists of additional input controllers:
    <guilabel>Available Controllers</guilabel> on the left,
    <guilabel>Active Controllers</guilabel> on the right.
  </para>
  <para>
    A click on an item will highlight it and you can move the controller from
    one list to the other by clicking on the respective arrow key. When you
    try to move a controller from the list of active controllers to the
    available controllers, a dialog pops up and you will have the choice of
    removing the controller or just disabling it.
  </para>
  <para>
    When you double click on a (typically active) controller or alternatively
    click on the Edit button at the bottom of the list, you can configure this
    controller in a dialog window:
  </para>
  <variablelist>
    <title>Main Mouse Wheel</title>
    <para>
      <figure>
        <title>Main Mouse Wheel</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/preferences/input-controllers-wheel.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </figure>
    </para>
    <varlistentry>
      <term>General</term>
      <listitem>
        <variablelist>
          <varlistentry>
            <term>Dump events from this controller</term>
            <listitem>
              <para>
                This option must be checked if you want a print on the stdout
                of the events generated by the enabled controllers. If you
                want to see those event you should start
                <acronym>GIMP</acronym> from a terminal or making it to print
                the stdout to file by the shell redirection. The main use of
                this option is for debug.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Enable this controller</term>
            <listitem>
              <para>
                This option must be checked if you want to add a new actions
                to the mouse wheel.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Mouse Wheel Events</term>
      <listitem>
        <para>
          In this window with scroll bars you have: on the left, the
          possible events concerning the mouse wheel, more or less
          associated with control keys; on the right, the action assigned
          to the event when it will happen. You have also two buttons, one
          to <guibutton>Edit</guibutton> the selected event, the other to
          <guibutton>Cancel</guibutton> the action of the selected event.
        </para>
        <para>
          Some actions are assigned to events yet. They seem to be examples,
          as they are not functional.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Select the action allocated to the event</term>
      <listitem>
        <para>
          After selecting an event, if you click on the
          <guibutton>Edit</guibutton> button, you open the following dialog:
        </para>
        <figure>
          <title>Select Controller Event Action</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/preferences/input-controllers-action.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
          If an action exists yet for this event, the window will open on this
          action. Else, the window will display the sections that order
          actions. Click on an action to select it.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
  <variablelist>
    <title>Main Keyboard</title>
    <varlistentry>
      <term/>
      <listitem>
        <para>
          You can use this dialog in the same way as that of the mouse wheel.
          Events are related to the arrow keys of the keyboard, combined
          or not with control keys.
        </para>
        <figure>
          <title>Main Keyboard</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/preferences/input-controllers-keyboard.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>
  </variablelist>
  <note>
    <para>
      You will find an example of these notions in
      <link linkend="gimp-using-variable-size-brush">
        Creating a variable size brush
      </link>.
    </para>
  </note>
</sect2>
-#-#-
<sect2 id="gimp-prefs-input-devices">
  <title>Input Devices</title>
  <indexterm>
    <primary>Preferences</primary>
    <secondary>Input Devices</secondary>
  </indexterm>
  <indexterm>
    <primary>Input Devices</primary>
  </indexterm>

  <figure>
    <title>Input devices preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/input-devices.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <variablelist>
    <title>Extended Input Devices</title>
    <varlistentry>
      <term>Configure Extended Input Devices</term>
      <listitem>
        <para>
          This large button allows you to set the devices associated with your
          computer: tablet, MIDI keyboard... If you have a tablet, you will
          see a dialog like this:
        </para>
        <figure>
          <title>Preferences for a tablet</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/preferences/input-devices-tablet.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Save input device settings on exit</term>
      <listitem>
        <para>
          When you check this box, GIMP remembers the tool, color, pattern and
          brush you were using the last time you quitted.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Save Input Device Settings Now</term>
      <listitem>
        <para>Self explanatory.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        Reset Saved Input Device Settings to Default Values
      </term>
      <listitem>
        <para>
          Delete your settings and restore default settings.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
</sect2>
-#-#-
<sect2 id="gimp-prefs-interface">
  <title>Interface</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Interface</tertiary>
  </indexterm>
  <indexterm>
    <primary>Interface</primary>
    <secondary>Preferences</secondary>
  </indexterm>
  <indexterm>
    <primary>Navigation</primary>
    <secondary>Preview size</secondary>
  </indexterm>
  <indexterm>
    <primary>Preview</primary>
    <secondary>Navigation preview size</secondary>
  </indexterm>

  <figure>
    <title>Assorted Interface Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-interface.png"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize language, layer/channel previews and
          keyboard shortcuts.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <variablelist>
    <title>Options</title>
    <indexterm>
      <primary>Languages</primary>
    </indexterm>
    <indexterm>
      <primary>Previews</primary>
    </indexterm>
    <indexterm>
      <primary>Keyboard Shortcuts</primary>
    </indexterm>
    <varlistentry>
      <term>Language</term>
      <listitem>
        <para>
          The GIMP's default language is that of your system. You can select
          another language in the drop-down list. You have to start GIMP again
          to make this change effective. Please refer to 
          <xref linkend="gimp-concepts-running-language"/>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Previews</term>
      <listitem>
        <para>
          By default, GIMP shows miniature previews of the contents of
          layers and channels in several places, including the Layers
          dialog.  If for some reason you would prefer to disable
          these, you can do it by unchecking <guilabel>Enable layer and
          channel previews</guilabel>.  If you do want previews to be shown,
          you can customize their sizes using the menus for <guilabel>Default
          layer and channel preview size</guilabel> and <guilabel>Navigation
          preview size</guilabel>.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry id="prefs-kbd-shortcuts" xreflabel="Keyboard Shortcuts">
      <term>Keyboard Shortcuts</term>
      <listitem>
        <para>
          Any menu item can be activated by holding down
          <keycap>Alt</keycap> and pressing a sequence of keys.
          Normally, the key associated with each menu entry is shown
          as an underlined letter in the text, called <emphasis>
          accelerator</emphasis>.  If for some reason you
          would prefer the underlines to go away (maybe because you
          think they're ugly and you don't use them anyway), then you
          can make this happen by unchecking <guilabel>Show menu
          mnemonics</guilabel>.
        </para>
        <para>
          GIMP can give you the ability to create keyboard shortcuts
          (key combinations that activate a menu entry) dynamically,
          by pressing the keys while the pointer hovers over the
          desired menu entry.  However, this capability is disabled by
          default, because it might lead novice users to accidentally
          overwrite the standard keyboard shortcuts.  If you want to
          enable it, check <guilabel>Use dynamics keyboard shortcuts</guilabel>
          here.
        </para>
        <para>
          Pressing the button for <guilabel>Configure Keyboard
          Shortcuts</guilabel> brings up the Shortcut Editor, which gives you
          a graphical interface to select menu items and assign shortcuts
          to them.
        </para>
        <para>
          If you change shortcuts, you will probably want your changes
          to continue to apply in future GIMP sessions.  If not,
          uncheck <guilabel>Save keyboard shortcuts on exit</guilabel>. But
          remember that you have done this, or you may be frustrated
          later. If you don't want to save shortcuts on exit every
          session, you can save the current settings at any time using the
          <guilabel>Save Keyboard Shortcuts Now</guilabel> button, and they will
          be applied to future sessions.  If you decide that you have made
          some bad decisions concerning shortcuts, you can reset them to
          their original state by pressing <guilabel>Reset Saved Keyboard
          Shortcuts to Default Values</guilabel>.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
</sect2>
-#-#-
<sect2 id="gimp-prefs-theme">
  <title>Theme</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Theme</tertiary>
  </indexterm>
  <indexterm>
    <primary>Theme</primary>
  </indexterm>

  <figure>
    <title>Theme Preference</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/prefs-theme.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This page lets you select a theme, which determines many aspects of
    the appearance of the GIMP user interface, including the set of
    icons used, their sizes, fonts, spacing allowed in dialogs, etc.
    Two themes are supplied with GIMP: <guilabel>Default</guilabel>,
    which is probably best for most people, and
    <guilabel>Small</guilabel>, which may be preferable for those with
    small or low-resolution monitors.  Clicking on a theme in the list
    causes it to be applied immediately, so it is easy to see the result
    and change your mind if you don't like it.
  </para>
  <para>
    You can also use custom themes, either by downloading them from the
    net, or by copying one of the supplied themes and modifying it.
    Custom themes should be places in the <filename>themes</filename>
    subdirectory of your personal GIMP directory:  if they are, they
    will appear in the list here.  Each theme is actually a directory
    containing ASCII files that you can edit.  They are pretty
    complicated, and the meaning of the contents goes beyond the scope
    of this documentation, but you should feel free to experiment:  in
    the worst case, if you mess things up completely, you can always
    revert back to one of the supplied themes.
  </para>
  <para>
    You cannot edit the supplied themes unless you have administrator
    permissions, and even if you do, you shouldn't:  if you want to
    customize a theme, make a copy in your personal directory and work
    on it.  If you make a change and would like to see the result <quote>on
    the fly</quote>, you can do so by saving the edited theme file and then
    pressing <guilabel>Reload Current Theme</guilabel>.
  </para>
</sect2>
-#-#-
<sect2 id="gimp-prefs-tool-options">
  <title>Tool Options</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Tool Options</tertiary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Preferences</secondary>
  </indexterm>

  <figure>
    <title>Tool Options Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-tool-options.png"/>
      </imageobject>
      <caption>
        <para>
          This page lets you customize several aspects of the behavior of
          tools.
        </para>
      </caption>
    </mediaobject>
  </figure>

  <sect3>
    <title>Options</title>
    <variablelist>
      <title>General</title>
      <varlistentry>
        <term>Save Tool Options On Exit</term>
        <listitem>
          <para>Self explanatory</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Save Tool Options Now</term>
        <listitem>
          <para>Self explanatory</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reset Saved Tool Options To Default Values</term>
        <listitem>
          <para>Self explanatory</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <title>Guide and Grid Snapping</title>
      <varlistentry>
        <term>Snap distance</term>
        <listitem>
          <para><quote>Snapping</quote> to guides, or to an image grid, means
            that when a tool is applied by clicking somewhere on the image
            display, if the clicked point is near enough to a guide or grid,
            it is shifted exactly onto the guide or grid.  Snapping to
            guides can be toggled using
            <menuchoice>
              <guimenu>View</guimenu>
              <guimenuitem>Snap to Guides</guimenuitem>
            </menuchoice>
            in the image menu; and if the grid is switched on, snapping
            to it can be toggled using
            <menuchoice>
              <guimenu>View</guimenu>
              <guimenuitem>Snap to Grid</guimenuitem>
            </menuchoice>.
            This preference option determines how close a
            clicked point must be to a guide or grid in order to be
            snapped onto it, in pixels.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <title>Scaling</title>
      <varlistentry>
        <term>Default interpolation</term>
        <listitem>
          <para>
            When you scale something, each pixel in the result is calculated
            by <link linkend="glossary-interpolation">interpolating</link>
            several pixels in the source. This option determines the default
            interpolation method: it can always be changed, though, in the
            Tool Options dialog.
          </para>
          <variablelist>
            <para>There are four choices:</para>
            <varlistentry>
              <term>None</term>
              <listitem>
                <para>
                  This is the fastest method, but it's quite crude: you should
                  only consider using it if your machine is very seriously
                  speed-impaired.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Linear</term>
              <listitem>
                <para>
                  This used to be the default, and is good enough for most
                  purposes.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Cubic</term>
              <listitem>
                <para>
                  This is the best choice (although it can actually look worse
                  than Linear for some types of images), but also the slowest.
                  Since <acronym>GIMP</acronym> 2.6, this method is the
                  default.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Sinc (Lanczos3)</term>
              <listitem>
                <para>
                  This method performs a high quality interpolation.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <title>Paint Options Shared Between Tools</title>
      <varlistentry>
      <!-- TODO: change to Brush, Dynamics, Pattern, Gradient -->      
        <term>Brush, Pattern, Gradient</term>
        <listitem>
          <para>
            You can decide here whether changing the brush etc for one tool
            should cause the new item to be used for all tools, or whether
            each individual tool (pencil, paintbrush, airbrush, etc) should
            remember the item that was last used for it specifically.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

    <variablelist>
      <title>Move tool</title>
      <varlistentry>
        <term>Set layer or path as active</term>
        <listitem>
          <para>
            You can decide here whether changing the current layer or path
            when using the move tool and without pressing any key.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-toolbox">
  <title>Toolbox</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Toolbox</tertiary>
  </indexterm>
  <indexterm>
    <primary>Toolbox</primary>
    <secondary>Preferences</secondary>
  </indexterm>

  <figure>
    <title>Toolbox Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/preferences/prefs-toolbox.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Default Toolbox appearance</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/using/toolbox-description.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      This page lets you customize the appearance of the Toolbox, by deciding
      whether the three <quote>context information</quote> areas should be
      shown at the bottom.
    </para>
    <variablelist>
      <title>Appearance</title>
      <indexterm>
        <primary>Color area</primary>
        <secondary>Preferences</secondary>
      </indexterm>
      <indexterm>
        <primary>Brush, Pattern, Gradient area</primary>
        <secondary>Preferences</secondary>
      </indexterm>
      <indexterm>
        <primary>Image</primary>
        <secondary>Active Image Thumbnail</secondary>
      </indexterm>
      <varlistentry>
        <term>Show foreground and background color</term>
        <listitem>
          <para>
            Controls whether the color area on the left (2) appears in the
            Toolbox.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show active brush, pattern, and gradient</term>
        <listitem>
          <para>
            Controls whether the area in the center (3), with the brush,
            pattern, and gradient icons, appears in the
            Toolbox.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Show active image</term>
        <listitem>
          <para>
            Controls whether a preview of the currently active image
            appears on the right (4).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    
    <variablelist id="prefs-tools-config">
      <title>Tools configuration</title>
      <indexterm>
        <primary>Toolbox</primary>
        <secondary>Configuration</secondary>
      </indexterm>
      <varlistentry>
        <term></term>
        <listitem>
          <para>
            In this list, tools with an eye are present in the Toolbox. By
            default, color tools have no eye: you can add them to the Toolbox by
            clicking the corresponding checkbox.
          </para>
          <para>
            You can also sort tools by priority using the arrow up and down
            buttons at the bottom of the dialog.
          </para>
          <para>
            This option replaces the Tools Dialog of former
            <acronym>GIMP</acronym> versions.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
      
  </sect3>
</sect2>
-#-#-
<sect2 id="gimp-prefs-window-management">
  <title>Window Management</title>
  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Preferences</secondary>
    <tertiary>Window management</tertiary>
  </indexterm>
  <indexterm>
    <primary>Image Windows</primary>
    <secondary>Basic settings</secondary>
  </indexterm>

  <figure>
    <title>Window Management Preferences</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/preferences/prefs-window-management.png"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    This page lets you customize the way windows are handled in GIMP. You
    should note that GIMP does not manipulate windows directly, instead it
    sends requests to the window manager (i. e., to Windows if you are running
    in Windows; to Metacity if you are running in a standard Gnome setup in
    Linux; etc). Because there are many window managers, and not all of them
    are well behaved, it cannot be guaranteed that the functions described
    here will actually work as described. However, if you are using a modern,
    standards-compliant window manager, they ought to.
  </para>

  <sect3>
    <title>Options</title>
    <variablelist>
      <title>Window Manager Hints</title>
      <varlistentry>
        <term>Window type hints for the toolbox and the docks</term>
        <listitem>
          <para>
            The choices you make here determine how the Toolbox, and the docks
            that hold dialogs, will be treated. You have three possibilities
            for them:
          </para>
            <itemizedlist>
              <listitem>
                <para>
                  If you choose <guilabel>Normal Window</guilabel>, they will
                  be treated like any other windows.
                </para>
              </listitem>
              <listitem>
                <para>
                  If you choose <guilabel>Utility Window</guilabel>, the
                  reduce button in the title bar is absent and the docks will
                  remain permanently on your screen.
                </para>
                <figure>
                  <title>Utility window title bar</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/preferences/normal-title-bar.png" />
                    </imageobject>
                    <caption>
                      <para>
                        Normal title bar
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/preferences/utility-title-bar.png" />
                    </imageobject>
                    <caption>
                      <para>
                        The title bar in a utility window
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
              <listitem>
                <para>
                  If you choose <guilabel>Keep above</guilabel>, they will be
                  kept in front of every other window at all times.
                </para>
              </listitem>
            </itemizedlist>
          <para>
            Note that changes you make here will not take effect until the
            next time you start <acronym>GIMP</acronym>.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Focus</title>
      <varlistentry>
        <term>Activate the focused image</term>
        <listitem>
          <para>
            Normally, when you focus an image window (usually indicated by a
            change in the color of the frame), it becomes the <quote>active
            image</quote> for GIMP, and therefore the target for any
            image-related actions you perform.  Some people, though, prefer
            to set up their window managers such that any window entered by
            the pointer is automatically focused.  If you do this, you
            may find that it is inconvenient for focused images to
            automatically become active, and may be happier if you uncheck
            this option.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <variablelist>
      <title>Window Positions</title>
      <varlistentry>
        <term>Save window positions on exit</term>
        <listitem>
          <para>
            If this option is checked, the next time you start GIMP,
            you will see the same set of dialog windows, in the same
            positions they occupied when you last exited.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Save Window Positions Now</term>
        <listitem>
          <para>
            This button is only useful if "Save window positions on exit" is
            unchecked. It allows you to set up your windows they way you like,
            click the button, and then have them come up in that arrangement
            each time you start GIMP.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Reset Saved Window Positions to Default Values</term>
        <listitem>
          <para>
            If you decide that you are unhappy with the arrangement of windows
            you have saved, and would rather go back to the default
            arrangement than spend time moving them around, you can do so by
            pressing this button.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
-#-#-
<sect1 id="gimp-using-quickmask">
  <title>Using QuickMask Mode</title>

  <indexterm>
    <primary>Masks</primary>
    <secondary>Quick Mask</secondary>
    <tertiary>Using Quick Mask</tertiary>
  </indexterm>

  <procedure>
    <step>
      <para>Open an image or begin a new document.</para>
    </step>
    <step>
      <para>
        Activate QuickMask mode using the left-bottom button in the image
        window. If a selection is present the mask is initialized with the
        content of the selection.
      </para>
    </step>
    <step>
      <para>
        Choose any drawing tool. Paint on the QuickMask with black to
        remove selected areas, and paint with white to add selected
        areas. Use grey colors to partially select areas.
      </para>
      <para>
        You can also use selection tools and fill these selections with the
        Bucket Fill tool; this does not destroy the QuickMask selections!
      </para>
    </step>
    <step>
      <para>
        Toggle QuickMask mode off using the left-bottom button in the image
        window: the selection will be displayed with marching ants.
      </para>
    </step>
  </procedure>
</sect1>
-#-#-
<sect3 id="gimp-using-script-fu-api">
  <title>
    The Script-Fu parameter API<footnote><para>
      This section is not part of the original tutorial.
    </para></footnote>
  </title>

  <note>
    <para>
      Beside the above parameter types there are more types for the
      interactive mode, each of them will create a widget in the control
      dialog. You will find a list of these parameters with descriptions and
      examples in the test script
      <filename>plug-ins/script-fu/scripts/test-sphere.scm</filename>
      shipped with the <acronym>GIMP</acronym> source code.
    </para>
  </note>

  <informaltable>
    <tgroup cols="2">
      <thead>
        <row>
          <entry>
            <para>Param Type</para>
          </entry>
          <entry>
            <para>Description</para>
          </entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>
            <para><constant>SF-ADJUSTMENT</constant></para>
          </entry>
          <entry>
            <para>
              Creates an adjustment widget in the dialog.
            </para>
            <para>
              SF-ADJUSTMENT "label" '(value lower upper step_inc page_inc
              digits type)
            </para>
            <segmentedlist>
              <title>Widget arguments list</title>
              <segtitle>Element</segtitle>
              <segtitle>Description</segtitle>
              <seglistitem>
                <seg>"label"</seg>
                <seg>Text printed before the widget.</seg>
              </seglistitem>
              <seglistitem>
                <seg>value</seg>
                <seg>Value print at the start.</seg>
              </seglistitem>
              <seglistitem>
                <seg>lower / upper</seg>
                <seg>The lower / upper values (range of choice).</seg>
              </seglistitem>
              <seglistitem>
                <seg>step_inc</seg>
                <seg>Increment/decrement value.</seg>
              </seglistitem>
              <seglistitem>
                <seg>page_inc</seg>
                <seg>Increment/decrement value using page key.</seg>
              </seglistitem>
              <seglistitem>
                <seg>digits</seg>
                <seg>Digits after the point (decimal part).</seg>
              </seglistitem>
              <seglistitem>
                <seg>type</seg>
                <seg>One of: SF-SLIDER or 0, SF-SPINNER or 1</seg>
              </seglistitem>
            </segmentedlist>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-COLOR</constant></para>
          </entry>
          <entry>
            <para>Creates a color button in the dialog.</para>
            <para>SF-COLOR "label" '(red green blue)</para>
            <para>or</para>
            <para>SF-COLOR "label" "color"</para>
            <segmentedlist>
              <title>Widget arguments list</title>
              <segtitle>Element</segtitle>
              <segtitle>Description</segtitle>
              <seglistitem>
                <seg>"label"</seg>
                <seg>Text printed before the widget.</seg>
              </seglistitem>
              <seglistitem>
                <seg>'(red green blue)</seg>
                <seg>
                  List of three values for the red, green and blue components.
                </seg>
              </seglistitem>
              <seglistitem>
                <seg>"color"</seg>
                <seg>Color name in CSS notatation.</seg>
              </seglistitem>
            </segmentedlist>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-FONT</constant></para>
          </entry>
          <entry>
            <para>
              Creates a font-selection widget in the dialog. It returns a
              fontname as a string. There are two new gimp-text procedures to
              ease the use of this return parameter:
            </para>
            <para>
              (gimp-text-fontname image drawable x-pos y-pos text border
              antialias size unit font)
            </para>
            <para>
              (gimp-text-get-extents-fontname text size unit font)
            </para>
            <para>
              where font is the fontname you get. The size specified in the
              fontname is silently ignored. It is only used in the
              font-selector. So you are asked to set it to a useful value (24
              pixels is a good choice).
            </para>
            <para>SF-FONT "label" "fontname"</para>
            <segmentedlist>
              <title>Widget arguments list</title>
              <segtitle>Element</segtitle>
              <segtitle>Description</segtitle>
              <seglistitem>
                <seg>"label"</seg>
                <seg>Text printed before the widget.</seg>
              </seglistitem>
              <seglistitem>
                <seg>"fontname"</seg>
                <seg>Name of the default font.</seg>
              </seglistitem>
            </segmentedlist>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-BRUSH</constant></para>
          </entry>
          <entry>
            <para>
              It will create a widget in the control dialog. The widget
              consists of a preview area (which when pressed will produce a
              popup preview ) and a button with the "..." label. The button
              will popup a dialog where brushes can be selected and each of
              the characteristics of the brush can be modified.
            </para>
            <para>SF-BRUSH "Brush" '("Circle (03)" 100 44 0)</para>
            <para>
              Here the brush dialog will be popped up with a default brush of
              Circle (03) opacity 100 spacing 44 and paint mode of Normal
              (value 0).
            </para>
            <para>
              If this selection was unchanged the value passed to the function
              as a parameter would be '("Circle (03)" 100 44 0).
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-PATTERN</constant></para>
          </entry>
          <entry>
            <para>
              It will create a widget in the control dialog. The widget
              consists of a preview area (which when pressed will produce a
              popup preview ) and a button with the "..." label. The button
              will popup a dialog where patterns can be selected.
            </para>
            <para>SF-PATTERN "Pattern" "Maple Leaves"</para>
            <para>
              The value returned when the script is invoked is a string
              containing the pattern name. If the above selection was not
              altered the string would contain "Maple Leaves".
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-GRADIENT</constant></para>
          </entry>
          <entry>
            <para>
              It will create a widget in the control dialog. The widget
              consists of a button containing a preview of the selected
              gradient.
            </para>
            <para>
              If the button is pressed a gradient selection dialog will popup.
            </para>
            <para>SF-GRADIENT "Gradient" "Deep Sea"</para>
            <para>
              The value returned when the script is invoked is a string
              containing the gradient name. If the above selection was not
              altered the string would contain "Deep Sea".
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-PALETTE</constant></para>
          </entry>
          <entry>
            <para>
              It will create a widget in the control dialog. The widget
              consists of a button containing the name of the selected
              palette.
            </para>
            <para>
              If the button is pressed a palette selection dialog will popup.
            </para>
            <para>SF-PALETTE "Palette" "Named Colors"</para>
            <para>
              The value returned when the script is invoked is a string
              containing the palette name. If the above selection was not
              altered the string would contain "Named Colors".
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-FILENAME</constant></para>
          </entry>
          <entry>
            <para>
              It will create a widget in the control dialog. The widget
              consists of a button containing the name of a file.
            </para>
            <para>
              If the button is pressed a file selection dialog will popup.
            </para>
            <para>
              SF-FILENAME "label" (string-append ""
              gimp-data-directory "/scripts/beavis.jpg")
            </para>
            <para>
              The value returned when the script is invoked is a string
              containing the filename.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-DIRNAME</constant></para>
          </entry>
          <entry>
            <para>
              Only useful in interactive mode. Very similar to SF-FILENAME,
              but the created widget allows to choose a directory instead of a
              file.
            </para>
            <para>
              SF-DIRNAME "label" "/var/tmp/images"
            </para>
            <para>
              The value returned when the script is invoked is a string
              containing the dirname.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-OPTION</constant></para>
          </entry>
          <entry>
            <para>
              It will create a widget in the control dialog. The widget is a
              combo-box showing the options that are passed as a list.
            </para>
            <para>The first option is the default choice.</para>
            <para>
              SF-OPTION "label" '("option1" "option2")
            </para>
            <para>
              The value returned when the script is invoked is the number of
              the chosen option, where the option first is counted as 0.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para><constant>SF-ENUM</constant></para>
          </entry>
          <entry>
            <para>
              It will create a widget in the control dialog. The widget is a
              combo-box showing all enum values for the given enum type. This
              has to be the name of a registered enum, without the "Gimp"
              prefix. The second parameter speficies the default value, using
              the enum value's nick.
            </para>
            <para>
              SF-ENUM "Interpolation" '("InterpolationType" "linear")
            </para>
            <para>
              The value returned when the script is invoked corresponds to
              chosen enum value.
            </para>
          </entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>
</sect3>
-#-#-
<sect1 id="gimp-using-script-fu-tutorial"
 xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>A Script-Fu Tutorial</title>
  <indexterm>
    <primary>Script-Fu</primary>
    <secondary>Tutorial</secondary>
  </indexterm>
  <para>
    In this training course, we'll introduce you to the fundamentals of Scheme
    necessary to use Script-Fu, and then build a handy script that you can add
    to your toolbox of scripts. The script prompts the user for some text,
    then creates a new image sized perfectly to the text. We will then enhance
    the script to allow for a buffer of space around the text. We will
    conclude with a few suggestions for ways to ramp up your knowledge of
    Script-Fu.
  </para>
  <note>
    <para>
      This section as adapted from a tutorial written for the
      <application><acronym>GIMP</acronym> 1</application> User
      Manual by Mike Terry.
    </para>
  </note>

  <sect2 id="gimp-using-script-fu-tutorial-scheme">
    <title>Getting Acquainted With Scheme</title>
    <sect3>
      <title>Let's Start Scheme'ing</title>
      <para>The first thing to learn is that:</para>
      <blockquote>
        <para>
          Every statement in Scheme is surrounded by parentheses ().
        </para>
      </blockquote>
      <para>The second thing you need to know is that:</para>
      <blockquote>
        <para>
          The function name/operator is always the first item in the
          parentheses, and the rest of the items are parameters to the
          function.
        </para>
      </blockquote>
      <para>
        However, not everything enclosed in parentheses is a function &mdash;
        they can also be items in a list &mdash; but we'll get to that later.
        This notation is referred to as prefix notation, because the function
        prefixes everything else. If you're familiar with postfix notation, or
        own a calculator that uses Reverse Polish Notation (such as most HP
        calculators), you should have no problem adapting to formulating
        expressions in Scheme.
      </para>
      <para>The third thing to understand is that:</para>
      <blockquote>
        <para>
          Mathematical operators are also considered functions, and thus are
          listed first when writing mathematical expressions.
        </para>
      </blockquote>
      <para>
        This follows logically from the prefix notation that we just
        mentioned.
      </para>
    </sect3>

    <sect3>
      <title>Examples Of Prefix, Infix, And Postfix Notations</title>
      <para>
        Here are some quick examples illustrating the differences between
        <emphasis>prefix</emphasis>, <emphasis>infix</emphasis>, and
        <emphasis>postfix</emphasis> notations. We'll add a 1 and 23 together:
      </para>
      <itemizedlist>
        <listitem>
          <para>
            Prefix notation: <userinput>+ 1 23</userinput>
            (the way Scheme will want it)
          </para>
        </listitem>
        <listitem>
          <para>
            Infix notation: <userinput>1 + 23</userinput>
            (the way we <quote>normally</quote> write it)
          </para>
        </listitem>
        <listitem>
          <para>
            Postfix notation: <userinput>1 23 +</userinput>
            (the way many <acronym>HP</acronym> calculators will want it)
          </para>
        </listitem>
      </itemizedlist>
    </sect3>

    <sect3>
      <title>Practicing In Scheme</title>
      <para>
        Now, let's practice what we have just learned. Start up
        <acronym>GIMP</acronym>, if you have not already done so, and choose
        <menuchoice>
          <guimenu>Filters</guimenu>
          <guisubmenu>Script-Fu</guisubmenu>
          <guimenuitem>Console</guimenuitem>
        </menuchoice>.
        This will start up the Script-Fu Console window, which allows us to
        work interactively in Scheme. In a matter of moments, the Script-Fu
        Console will appear:
      </para>
    </sect3>

    <sect3 id="gimp-using-script-fu-tutorial-console">
      <title>The Script-Fu Console Window</title>
      <para>
        At the bottom of this window is an entry-field ought to be entitled
        <guilabel>Current Command</guilabel>.
        Here, we can test out simple Scheme commands interactively. Let's
        start out easy, and add some numbers:
      </para>
      <programlisting>(+ 3 5)</programlisting>
      <para>
        Typing this in and hitting <keycap>Enter</keycap>
        yields the expected answer of 8 in the center window.
      </para>
      <figure>
        <title>Use Script-Fu Console.</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/script-fu-console.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        Now, what if we wanted to add more than one number? The
        <quote>+</quote>
        function can take two or more arguments, so this is not a problem:
      </para>
      <programlisting>(+ 3 5 6)</programlisting>
      <para>This also yields the expected answer of 14.</para>
      <para>
        So far, so good &mdash; we type in a Scheme statement and it's executed
        immediately in the Script-Fu Console window. Now for a word of
        caution&hellip;
      </para>
    </sect3>

    <sect3>
      <title>Watch Out For Extra Parentheses</title>
      <para>
        If you're like me, you're used to being able to use extra parentheses
        whenever you want to &mdash; like when you're typing a complex
        mathematical
        equation and you want to separate the parts by parentheses to make it
        clearer when you read it. In Scheme, you have to be careful and not
        insert these extra parentheses incorrectly. For example, say we wanted
        to add 3 to the result of adding 5 and 6 together:
      </para>
      <programlisting>3 + (5 + 6) + 7 = ?</programlisting>
      <para>
        Knowing that the + operator can take a list of numbers to add, you
        might be tempted to convert the above to the following:
      </para>
      <programlisting>(+ 3 (5 6) 7)</programlisting>
      <para>
        However, this is incorrect &mdash; remember, every statement in Scheme
        starts and ends with parens, so the Scheme interpreter will think that
        you're trying to call a function named <quote>5</quote> in the second
        group of parens, rather than summing those numbers before adding them
        to 3.
      </para>
      <para>The correct way to write the above statement would be:</para>
      <programlisting>(+ 3 (+ 5 6) 7)</programlisting>
    </sect3>

    <sect3>
      <title>Make Sure You Have The Proper Spacing, Too</title>
      <para>
        If you are familiar with other programming languages, like C/C++, Perl
        or Java, you know that you don't need white space around mathematical
        operators to properly form an expression:
      </para>
      <programlisting>
        <literal>3+5, 3 +5, 3+ 5</literal>
      </programlisting>
      <para>
        These are all accepted by C/C++, Perl and Java compilers. However, the
        same is not true for Scheme. You must have a space after a
        mathematical operator (or any other function name or operator) in
        Scheme for it to be correctly interpreted by the Scheme interpreter.
      </para>
      <para>
        Practice a bit with simple mathematical equations in the Script-Fu
        Console until you're totally comfortable with these initial concepts.
      </para>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-script-fu-tutorial-identifier">
    <title>Variables And Functions</title>
    <para>
      Now that we know that every Scheme statement is enclosed in parentheses,
      and that the function name/operator is listed first, we need to know how
      to create and use variables, and how to create and use functions. We'll
      start with the variables.
    </para>

    <sect3>
      <title>Declaring Variables</title>
      <para>
        Although there are a couple of different methods for declaring
        variables, the preferred method is to use the <command>let*</command>
        construct. If
        you're familiar with other programming languages, this construct is
        equivalent to defining a list of local variables and a scope in which
        they're active. As an example, to declare two variables, a and b,
        initialized to 1 and 2, respectively, you'd write:
      </para>
      <programlisting>
        (let*
           (
              (a 1)
              (b 2)
           )
           (+ a b)
        )
      </programlisting>
      <para>or, as one line:</para>
      <programlisting>(let* ( (a 1) (b 2) ) (+ a b) )</programlisting>
      <note>
        <para>
          You'll have to put all of this on one line if you're using the
          console window. In general, however, you'll want to adopt a similar
          practice of indentation to help make your scripts more readable.
          We'll talk a bit more about this in the section on White Space.
        </para>
      </note>
      <para>
        This declares two local variables, a and b, initializes them, then
        prints the sum of the two variables.
      </para>
    </sect3>

    <sect3>
      <title>What Is A Local Variable?</title>
      <para>
        You'll notice that we wrote the summation <code>(+ a b)</code> within
        the parens of the <code>let*</code> expression, not after it.
      </para>
      <para>
        This is because the <code>let*</code>
        statement defines an area in your script in which the declared
        variables are usable; if you type the <userinput>(+ a b)</userinput>
        statement after the <userinput>(let* &hellip;)</userinput> statement,
        you'll get an error, because the declared
        variables are only valid within the context of the <code>let*</code>
        statement; they are what programmers call local variables.
      </para>
    </sect3>

    <sect3>
      <title>The General Syntax Of <code>let*</code></title>
      <para>The general form of a <code>let*</code> statement is:</para>
      <programlisting>
        (let* ( <replaceable>variables</replaceable> )
          <replaceable>expressions</replaceable> )
      </programlisting>
      <para>
        where variables are declared within parens, e.g.,
        <userinput>(a 2)</userinput>, and
        expressions are any valid Scheme expressions. Remember that the
        variables declared here are only valid within the
        <code>let*</code> statement &mdash; they're local variables.
      </para>
    </sect3>

    <sect3>
      <title>White Space</title>
      <para>
        Previously, we mentioned the fact that you'll probably want to use
        indentation to help clarify and organize your scripts. This is a good
        policy to adopt, and is not a problem in Scheme &mdash; white space is
        ignored by the Scheme interpreter, and can thus be liberally applied
        to help clarify and organize the code within a script. However, if
        you're working in Script-Fu's Console window, you'll have to enter an
        entire expression on one line; that is, everything between the opening
        and closing parens of an expression must come on one line in the
        Script-Fu Console window.
      </para>
    </sect3>

    <sect3>
      <title>Assigning A New Value To A Variable</title>
      <para>
        Once you've initialized a variable, you might need to change its value
        later on in the script. Use the <code>set!</code> statement to change
        the variable's value:
      </para>
      <programlisting>
        (let* ( (theNum 10) ) (set! theNum (+ theNum theNum)) )
      </programlisting>
      <para>
        Try to guess what the above statement will do, then go ahead and enter
        it in the Script-Fu Console window.
      </para>
      <note>
        <para>
          The <quote><code>\</code></quote> indicates that there is no line
          break. Ignore it (don't type it in your Script-Fu console and don't
          hit <keycap>Enter</keycap>), just continue with the next line.
        </para>
      </note>
    </sect3>

    <sect3>
      <title>Functions</title>
      <para>
        Now that you've got the hang of variables, let's get to work with some
        functions. You declare a function with the following syntax:
      </para>
      <programlisting>
        (define
           (
              <replaceable>name</replaceable>
              <replaceable>param-list</replaceable>
           )
           <replaceable>expressions</replaceable>
        )
      </programlisting>
      <para>
        where <replaceable>name</replaceable> is the name assigned to this
        function, <replaceable>param-list</replaceable> is a space-delimited
        list of parameter names, and <replaceable>expressions</replaceable>
        is a series of expressions that the function executes when it's
        called. For example:
      </para>
      <programlisting>(define (AddXY inX inY) (+ inX inY) )</programlisting>
      <para>
        <varname>AddXY</varname> is the function's name and
        <varname>inX</varname> and <varname>inY</varname>
        are the variables. This function takes its two parameters and adds
        them together.
      </para>
      <para>
        If you've programmed in other imperative languages (like C/C++, Java,
        Pascal, etc.), you might notice that a couple of things are absent in
        this function definition when compared to other programming languages.
      </para>
      <itemizedlist>
        <listitem>
          <para>
            First, notice that the parameters don't have any
            <quote>types</quote> (that is,
            we didn't declare them as strings, or integers, etc.). Scheme is a
            type-less language. This is handy and allows for quicker script
            writing.
          </para>
        </listitem>
        <listitem>
          <para>
            Second, notice that we don't need to worry about how to
            <quote>return</quote> the result of our function &mdash; the last
            statement is the value <quote>returned</quote> when calling this
            function. Type the function into the
            console, then try something like:
          </para>
          <programlisting>(AddXY (AddXY 5 6) 4)</programlisting>
        </listitem>
      </itemizedlist>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-script-fu-tutorial-lists">
    <title>Lists, Lists And More Lists</title>
    <para>
      We've trained you in variables and functions, and now enter the
      murky swamps of Scheme's lists.
    </para>

    <sect3>
      <title>Defining A List</title>
      <para>
        Before we talk more about lists, it is necessary that you know
        the difference between atomic values and lists.
      </para>
      <para>
        You've already seen atomic values when we initialized
        variables in the previous lesson. An atomic value is a single
        value. So, for example, we can assign the variable
        <quote><varname>x</varname></quote> the
        single value of 8 in the following statement:
      </para>
      <programlisting>(let* ( (x 8) ) x)</programlisting>
      <para>
        (We added the expression <varname>x</varname> at the end to print out
        the value assigned to <varname>x</varname>&mdash;normally you won't
        need to do this. Notice how <code>let*</code> operates just like a
        function: The value of the last statement is the value returned.)
      </para>
      <para>
        A variable may also refer to a list of values, rather than a
        single value. To assign the variable <varname>x</varname> the
        list of values 1, 3, 5, we'd type:
      </para>
      <programlisting>(let* ( (x '(1 3 5))) x)</programlisting>
      <para>
        Try typing both statements into the Script-Fu Console and
        notice how it replies. When you type the first statement in,
        it simply replies with the result:
      </para>
      <programlisting>8</programlisting>
      <para>
        However, when you type in the other statement, it replies with
        the following result:
      </para>
      <programlisting>(1 3 5)</programlisting>
      <para>
        When it replies with the value 8 it is informing you that
        <varname>x</varname> contains the atomic value 8. However,
        when it replies with <computeroutput>(1 3 5)</computeroutput>, it is
        then informing you that
        <varname>x</varname> contains not a single value, but a list
        of values. Notice that there are no commas in our declaration
        or assignment of the list, nor in the printed result.
      </para>
      <para>The syntax to define a list is:</para>
      <programlisting>'(a b c)</programlisting>
      <para>
        where <varname>a</varname>, <varname>b</varname>, and
        <varname>c</varname> are literals. We use the apostrophe
        (<code>'</code>)
        to indicate that what follows in the parentheses is a list of
        literal values, rather than a function or expression.
      </para>
      <para>An empty list can be defined as such:</para>
      <programlisting>'()</programlisting>
      <para>or simply:</para>
      <programlisting>()</programlisting>
      <para>Lists can contain atomic values, as well as other lists:</para>
      <programlisting>
(let*
   (
        (x
           '("GIMP" (1 2 3) ("is" ("great" () ) ) )
        )
    )
    x
)
      </programlisting>
      <para>
        Notice that after the first apostrophe, you no longer need to use an
        apostrophe when defining the inner lists. Go ahead and copy the
        statement into the Script-Fu Console and see what it returns.
      </para>
      <para>
        You should notice that the result returned is not a list of
        single, atomic values; rather, it is a list of a literal
        <code>("The GIMP")</code>, the list <code>(1 2 3)</code>, etc.
      </para>
    </sect3>

    <sect3>
      <title>How To Think Of Lists</title>
      <para>
        It's useful to think of lists as composed of a <quote>head</quote>
        and a <quote>tail</quote>.
        The head is the first element of the list, the tail the rest of the
        list. You'll see why this is important when we discuss how to add to
        lists and how to access elements in the list.
      </para>
    </sect3>

    <sect3>
      <title>Creating Lists Through Concatenation (The Cons Function)</title>
      <para>
        One of the more common functions you'll encounter is the cons
        function. It takes a value and places it to its second argument, a
        list. From the previous section, I suggested that you think of a list
        as being composed of an element (the head) and the remainder of the
        list (the tail). This is exactly how cons functions &mdash; it adds an
        element to the head of a list. Thus, you could create a list as
        follows:
      </para>
      <programlisting>(cons 1 '(2 3 4) )</programlisting>
      <para>The result is the list <code>(1 2 3 4)</code>.</para>
      <para>You could also create a list with one element:</para>
      <programlisting>(cons 1 () )</programlisting>
      <para>
        You can use previously declared variables in place of any literals, as
        you would expect.
      </para>
    </sect3>

    <sect3>
      <title>Defining A List Using The <code>list</code> Function</title>
      <para>
        To define a list composed of literals or previously declared
        variables, use the <function>list</function> function:
      </para>
      <programlisting>(list 5 4 3 a b c)</programlisting>
      <para>
        This will compose and return a list containing the values held
        by the variables <varname>a</varname>, <varname>b</varname>
        and <varname>c</varname>. For example:
      </para>
      <programlisting>
        (let*  (
                  (a 1)
                  (b 2)
                  (c 3)
               )

               (list 5 4 3 a b c)
        )
      </programlisting>
      <para>
        This code creates the list <code>(5 4 3 1 2 3)</code>.
      </para>
    </sect3>

    <sect3>
      <title>Accessing Values In A List</title>
      <para>
        To access the values in a list, use the functions
        <function>car</function> and <function>cdr</function>,
        which return the first element of the list and the rest of the list,
        respectively. These functions break the list down into the head::tail
        construct I mentioned earlier.
      </para>
    </sect3>

    <sect3>
      <title>The <function>car</function> Function</title>
      <para>
        <function>car</function> returns the first element of the list (the
        head of the list). The list needs to be non-null. Thus, the
        following returns the first element of the list:
      </para>
      <programlisting>(car '("first" 2 "third"))</programlisting>
      <para>which is:</para>
      <programlisting>"first"</programlisting>
    </sect3>

    <sect3>
      <title>The <function>cdr</function> function</title>
      <para>
        <function>cdr</function> returns the rest of the list after the first
        element
        (the tail of the list). If there is only one element in the list, it
        returns an empty list.
      </para>
      <programlisting>(cdr '("first" 2 "third"))</programlisting>
      <para>returns:</para>
      <programlisting>(2 "third")</programlisting>
      <para>whereas the following:</para>
      <programlisting>(cdr '("one and only"))</programlisting>
      <para>returns:</para>
      <programlisting>()</programlisting>
    </sect3>

    <sect3>
      <title>Accessing Other Elements In A List</title>
      <para>
        OK, great, we can get the first element in a list, as well as
        the rest of the list, but how do we access the second, third
        or other elements of a list? There exist several "convenience"
        functions to access, for example, the head of the head of the
        tail of a list (<code>caadr</code>), the tail of the tail of a
        list (<code>cddr</code>), etc.
      </para>
      <para>
        The basic naming convention is easy: The a's and d's represent
        the heads and tails of lists, so
      </para>
      <programlisting>(car (cdr (car x) ) )</programlisting>
      <para>could be written as:</para>
      <programlisting>(cadar x)</programlisting>
      <para>
        To get some practice with list-accessing functions, try typing in the
        following (except all on one line if you're using the console); use
        different variations of <function>car</function> and
        <function>cdr</function> to access the different elements of the list:
      </para>
      <programlisting>
        (let* (
                 (x  '( (1 2 (3 4 5) 6)  7  8  (9 10) )
                 )
              )
              ; place your car/cdr code here
        )
      </programlisting>
      <para>
        Try accessing the number 3 in the list using only two function
        calls. If you can do that, you're on your way to becoming a
        Script-Fu Master!
      </para>
      <note>
        <para>
          In Scheme, a semicolon (<code>;</code>) marks a comment.  It, and
          anything that follows it on the same line, are ignored by the
          script interpreter, so you can use this to add comments to jog
          your memory when you look at the script later.
        </para>
      </note>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-script-fu-tutorial-first-script">
    <title>Your First Script-Fu Script</title>
    <para>
      Do you not need to stop and catch your breath? No? Well then,
      let's proceed with your fourth lesson &mdash; your first Script-Fu
      Script.
    </para>

    <sect3>
      <title>Creating A Text Box Script</title>
      <para>
        One of the most common operations I perform in <acronym>GIMP</acronym>
        is creating a box with some text in it for a web page, a logo or
        whatever. However, you never quite know how big to make the
        initial image when you start out. You don't know how much
        space the text will fill with the font and font size you
        want.
      </para>
      <para>
        The Script-Fu Master (and student) will quickly realize that
        this problem can easily be solved and automated with
        Script-Fu.
      </para>
      <para>
        We will, therefore, create a script, called Text Box, which
        creates an image correctly sized to fit snugly around a line
        of text the user inputs. We'll also let the user choose the
        font, font size and text color.
      </para>
    </sect3>

    <sect3>
      <title>Editing And Storing Your Scripts</title>
      <para>
        Up until now, we've been working in the Script-Fu Console. Now,
        however, we're going to switch to editing script text files.
      </para>
      <para>
        Where you place your scripts is a matter of preference &mdash; if you
        have access to <acronym>GIMP</acronym>'s default script directory, you
        can place your scripts
        there. However, I prefer keeping my personal scripts in my own script
        directory, to keep them separate from the factory-installed scripts.
      </para>
      <para>
        In the <filename class="directory">.gimp-2.8</filename> directory that
        <acronym>GIMP</acronym> made off of your home directory, you should
        find a directory called <filename class="directory">scripts</filename>.
        <acronym>GIMP</acronym> will automatically look in your
        <filename class="directory">.gimp-2.8</filename> directory for a
        <filename class="directory">scripts</filename> directory, and add the
        scripts in this directory to the
        Script-Fu database. You should place your personal scripts here.
      </para>
    </sect3>

    <sect3>
      <title>The Bare Essentials</title>
      <para>
        Every Script-Fu script defines at least one function, which is the
        script's main function. This is where you do the work.
      </para>
      <para>
        Every script must also register with the procedural database, so you
        can access it within <acronym>GIMP</acronym>.
      </para>
      <para>We'll define the main function first:</para>
      <programlisting>
        (define (script-fu-text-box inText inFont inFontSize inTextColor))
      </programlisting>
      <para>
        Here, we've defined a new function called
        <function>script-fu-text-box</function> that
        takes four parameters, which will later correspond to some text, a
        font, the font size, and the text's color. The function is currently
        empty and thus does nothing. So far, so good &mdash; nothing new,
        nothing fancy.
      </para>
    </sect3>

    <sect3>
      <title>Naming Conventions</title>
      <para>
        Scheme's naming conventions seem to prefer lowercase letters with
        hyphens, which I've followed in the naming of the function. However,
        I've departed from the convention with the parameters. I like more
        descriptive names for my parameters and variables, and thus add the
        "in" prefix to the parameters so I can quickly see that they're values
        passed into the script, rather than created within it. I use the
        prefix "the" for variables defined within the script.
      </para>
      <para>
        It's <acronym>GIMP</acronym> convention to name your script functions
        <function>script-fu-abc</function>,
        because then when they're listed in the procedural database, they'll
        all show up under script-fu when you're listing the functions. This
        also helps distinguish them from plug-ins.
      </para>
    </sect3>

    <sect3>
      <title>Registering The Function</title>
      <para>
        Now, let's register the function with <acronym>GIMP</acronym>. This is
        done by calling the function <function>script-fu-register</function>.
        When <acronym>GIMP</acronym> reads in a
        script, it will execute this function, which registers the
        script with the procedural database. You can place this
        function call wherever you wish in your script, but I usually
        place it at the end, after all my other code.
      </para>
      <para>
        Here's the listing for registering this function (I will
        explain all its parameters in a minute):
      </para>
      <programlisting><![CDATA[
  (script-fu-register
    "script-fu-text-box"                        ;func name
    "Text Box"                                  ;menu label
    "Creates a simple text box, sized to fit\
      around the user's choice of text,\
      font, font size, and color."              ;description
    "Michael Terry"                             ;author
    "copyright 1997, Michael Terry;\
      2009, the GIMP Documentation Team"        ;copyright notice
    "October 27, 1997"                          ;date created
    ""                     ;image type that the script works on
    SF-STRING      "Text"          "Text Box"   ;a string variable
    SF-FONT        "Font"          "Charter"    ;a font variable
    SF-ADJUSTMENT  "Font size"     '(50 1 1000 1 10 0 1)
                                                ;a spin-button
    SF-COLOR       "Color"         '(0 0 0)     ;color variable
  )
  (script-fu-menu-register "script-fu-text-box" "<Image>/File/Create/Text")
      ]]></programlisting>
      <para>
        If you save these functions in a text file with a
        <filename class="extension">.scm</filename> suffix
        in your script directory, then choose
        <menuchoice>
          <guimenu>Filters</guimenu>
          <guisubmenu>Script-Fu</guisubmenu>
          <guimenuitem>Refresh Scripts</guimenuitem>
        </menuchoice>,
        this new script will appear as
        <menuchoice>
          <guimenu>File</guimenu>
          <guisubmenu>Create</guisubmenu>
          <guisubmenu>Text</guisubmenu>
          <guimenuitem>Text Box</guimenuitem>
        </menuchoice>.
      </para>
      <para>
        If you invoke this new script, it won't do anything, of course, but
        you can view the prompts you created when registering the script (more
        information about what we did is covered next).
      </para>
      <para>
        Finally, if you invoke the Procedure Browser (
        <menuchoice>
          <guimenu>Help</guimenu>
          <guimenuitem>Procedure Browser</guimenuitem>
        </menuchoice>),
        you'll notice that our script now appears in the database.
      </para>
    </sect3>

    <sect3>
      <title>Steps For Registering The Script</title>
      <para>
        To register our script with <acronym>GIMP</acronym>, we call the
        function <function>script-fu-register</function>, fill in the seven
        required parameters and add our script's own parameters, along with a
        description and default value for each parameter.
      </para>
      <itemizedlist>
        <title>The Required Parameters</title>
        <listitem>
          <para>
           The <emphasis>name</emphasis> of the function we
           defined. This is the function called when our script is invoked
           (the entry-point into our script). This is necessary because we may
           define additional functions within the same file, and
           <acronym>GIMP</acronym> needs to
           know which of these functions to call. In our example, we only
           defined one function, text-box, which we registered.
          </para>
        </listitem>
        <listitem>
          <para>
            The <emphasis>location</emphasis> in the menu where
            the script will be inserted. The exact location of the script is
            specified like a path in Unix, with the root of the path being
            image menu as <code>&lt;Image&gt;</code>.<footnote><para>
              Before version 2.6, <code>&lt;Toolbox&gt;</code> could be also
              used, but now the toolbox menu is removed, so don't use it.
            </para></footnote>
          </para>
          <para><!--TODO: obsolete!?-->
            If your script does not operate on an existing image (and thus
            creates a new image, like our Text Box script will), you'll want
            to insert it in the image window menu, which you can access
            through the image menu bar, by right-clicking the image window,
            by clicking the menu button icon at the left-top corner of the
            image window, or by pressing <keycap>F10</keycap>.
          </para>
          <para><!--FIXME: en needs more review!-->
            If your script is intended to work on an image being edited,
            you'll want to insert it in the image window menu.
            The rest of the path points to the menu lists, menus and sub-menus.
            Thus, we registered our Text Box script in the
            <guisubmenu>Text</guisubmenu> menu of the
            <guisubmenu>Create</guisubmenu> menu of the <guimenu>File</guimenu>
            menu.<footnote><para>
              The original, written by Mike, says put the menu entry in the
              Script-Fu menu of the <guimenu>Xtns</guimenu> menu at the
              Toolbox, but since version 2.6, the Toolbox menu had been removed
              and merged with the image window menubar.
            </para></footnote>
            (<menuchoice>
              <guimenu>File</guimenu>
              <guisubmenu>Create</guisubmenu>
              <guisubmenu>Text</guisubmenu>
              <guimenuitem>Text Box</guimenuitem>
            </menuchoice>).
          </para>
          <para>
            If you notice, the Text sub-menu in the File/Create menu wasn't
            there when we began &mdash; <acronym>GIMP</acronym> automatically
            creates any menus not already existing.
          </para>
        </listitem>
        <listitem>
          <para>
            A <emphasis>description</emphasis> of your
            script, to be displayed in the Procedure Browser.
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis>Your name</emphasis> (the author of the script).
          </para>
        </listitem>
        <listitem>
          <para><emphasis>Copyright</emphasis> information.</para>
        </listitem>
        <listitem>
          <para>
            The <emphasis>date</emphasis> the script was
            made, or the last revision of the script.
          </para>
        </listitem>
        <listitem>
          <para>
            The <emphasis>types</emphasis> of images the script
            works on. This may be any of the following: RGB, RGBA, GRAY,
            GRAYA, INDEXED, INDEXEDA. Or it may be none
            at all &mdash; in our case,
            we're creating an image, and thus don't need to define the type of
            image on which we work.
          </para>
        </listitem>
      </itemizedlist>
      <figure>
        <title>The menu of our script.</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/script-fu-menu.png"/>
          </imageobject>
        </mediaobject>
      </figure>
    </sect3>

    <sect3>
      <title>Registering The Script's Parameters</title>
      <para>
        Once we have listed the required parameters, we then need to list the
        parameters that correspond to the parameters our script needs. When we
        list these params, we give hints as to what their types are. This is
        for the dialog which pops up when the user selects our script. We also
        provide a default value.
      </para>
      <para>
        This section of the registration process has the following format:
      </para>
      <informaltable>
        <tgroup cols="3">
          <thead>
            <row>
              <entry>
                <para>Param Type</para>
              </entry>
              <entry>
                <para>Description</para>
              </entry>
              <entry>
                <para>Example</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <para><constant>SF-IMAGE</constant></para>
              </entry>
              <entry>
                <para>
                  If your script operates on an open image, this should be the
                  first parameter after the required parameters.
                  <acronym>GIMP</acronym> will
                  pass in a reference to the image in this parameter.
                </para>
              </entry>
              <entry>
                <para>3</para>
              </entry>
            </row>
            <row>
              <entry>
                <para><constant>SF-DRAWABLE</constant></para>
              </entry>
              <entry>
                <para>
                  If your script operates on an open image, this should be the
                  second parameter after the <constant>SF-IMAGE</constant>
                  param. It
                  refers to the active layer. <acronym>GIMP</acronym> will pass
                  in a reference to the active layer in this parameter.
                </para>
              </entry>
              <entry>
                <para>17</para>
              </entry>
            </row>
            <row>
              <entry>
                <para><constant>SF-VALUE</constant></para>
              </entry>
              <entry>
                <para>
                  Accepts numbers and strings. Note that quotes must be
                  escaped for default text, so better use
                  <constant>SF-STRING</constant>.
                </para>
              </entry>
              <entry>
                <para>42</para>
              </entry>
            </row>
            <row>
              <entry>
                <para><constant>SF-STRING</constant></para>
              </entry>
              <entry>
                <para>Accepts strings.</para>
              </entry>
              <entry>
                <para>"Some text"</para>
              </entry>
            </row>
            <row>
              <entry>
                <para><constant>SF-COLOR</constant></para>
              </entry>
              <entry>
                <para>
                  Indicates that a color is requested in this parameter.
                </para>
              </entry>
              <entry>
                <para>'(0 102 255)</para>
              </entry>
            </row>
            <row>
              <entry>
                <para><constant>SF-TOGGLE</constant></para>
              </entry>
              <entry>
                <para>
                  A checkbox is displayed, to get a Boolean value.
                </para>
              </entry>
              <entry>
                <para>TRUE or FALSE</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect3>
    <xi:include href="script-fu-gui-api.xml"/>
  </sect2>

  <sect2 id="gimp-using-script-fu-tutorial-script">
    <title>Giving Our Script Some Guts</title>
    <para>
      Let us continue with our training and add some functionality to our
      script.
    </para>

    <sect3>
      <title>Creating A New Image</title>
      <para>
        In the previous lesson, we created an empty function and registered it
        with <acronym>GIMP</acronym>. In this lesson, we want to provide
        functionality to our script &mdash; we want to create a new image,
        add the user's text to it and resize the image to fit the text exactly.
      </para>
      <para>
        Once you know how to set variables, define functions and access list
        members, the rest is all downhill &mdash; all you need to do is
        familiarize yourself with the functions available in
        <acronym>GIMP</acronym>'s procedural database and call those functions
        directly. So fire up the
        <xref linkend="plug-in-dbbrowser"/> and let's get cookin'!
      </para>
      <para>
        Let's begin by making a new image. We'll create a new variable,
        <varname>theImage</varname>, set to the result of calling
        <acronym>GIMP</acronym>'s
        built-in function <function>gimp-image-new</function>.
      </para>
      <para>
        As you can see from the DB Browser, the function
        <function>gimp-image-new</function> takes three parameters &mdash; the
        image's width, height and the type of image. Because we'll
        later resize the image to fit the text, we'll make a 10x10 pixels
        <acronym>RGB</acronym>
        image. We'll store the image's width and sizes in some
        variables, too, as we'll refer to and manipulate them later in
        the script.
      </para>
      <programlisting>
        (define (script-fu-text-box inText inFont inFontSize inTextColor)
        (let*
              (
                 ; define our local variables
                 ; create a new image:
                 (theImageWidth  10)
                 (theImageHeight 10)
                 (theImage (car
                                (gimp-image-new
                                 theImageWidth
                                 theImageHeight
                                 RGB
                                )
                           )
                 )
                 (theText)     ;a declaration for the text
                               ;we create later
      </programlisting>
      <para>
        Note: We used the value <code>RGB</code> to specify that the image
        is an <acronym>RGB</acronym> image. We could have also used
        <code>0</code>, but <acronym>RGB</acronym> is more descriptive
        when we glance at the code.
      </para>
      <para>
        You should also notice that we took the head of the result of the
        function call. This may seem strange, because the database explicitly
        tells us that it returns only one value &mdash; the ID of the newly
        created image. However, all <acronym>GIMP</acronym> functions return a
        list, even if there is
        only one element in the list, so we need to get the head of the list.
      </para>
    </sect3>

    <sect3>
      <title>Adding A New Layer To The Image</title>
      <para>
        Now that we have an image, we need to add a layer to it. We'll
        call the <function>gimp-layer-new</function> function to create the
        layer, passing
        in the ID of the image we just created. (From now on, instead
        of listing the complete function, we'll only list the lines
        we're adding to it. You can see the complete script 
        <link linkend="gimp-using-script-fu-tutorial-result">here</link>.)
        Because we've declared all of the local variables we'll use,
        we'll also close the parentheses marking the end of our
        variable declarations:
      </para>
      <programlisting>
        ;create a new layer for the image:
           (theLayer
                     (car
                          (gimp-layer-new
                           theImage
                           theImageWidth
                           theImageHeight
                           RGB-IMAGE
                           "layer 1"
                           100
                           NORMAL
                          )
                      )
            )
         ) ;end of our local variables
      </programlisting>
      <para>Once we have the new layer, we need to add it to the image:</para>
      <programlisting>
        (gimp-image-add-layer theImage theLayer 0)
      </programlisting>
      <para>
        Now, just for fun, let's see the fruits of our labors up until this
        point, and add this line to show the new, empty image:
      </para>
      <programlisting>(gimp-display-new theImage)</programlisting>
      <para>
        Save your work, select
        <menuchoice>
          <guimenu>Filters</guimenu>
          <guisubmenu>Script-Fu</guisubmenu>
          <guimenuitem>Refresh Scripts</guimenuitem>
        </menuchoice>,
        run the script and a new image should pop up. It will probably
        contain garbage (random colors), because we haven't erased
        it. We'll get to that in a second.
      </para>
    </sect3>

    <sect3>
      <title>Adding The Text</title>
      <para>
        Go ahead and remove the line to display the image (or comment
        it out with a (<code>;</code>) as the first character of the line).
      </para>
      <para>
        Before we add text to the image, we need to set the background
        and foreground colors so that the text appears in the color
        the user specified. We'll use the
        gimp-context-set-back/foreground functions:
      </para>
      <programlisting>
        (gimp-context-set-background '(255 255 255) )
        (gimp-context-set-foreground inTextColor)
      </programlisting>
      <para>
        With the colors properly set, let's now clean out the garbage
        currently in the image by filling the drawable with the background
        color:
      </para>
      <programlisting>
        (gimp-drawable-fill theLayer BACKGROUND-FILL)
      </programlisting>
      <para>With the image cleared, we're ready to add some text:</para>
      <programlisting>
        (set! theText
                      (car
                           (gimp-text-fontname
                            theImage theLayer
                            0 0
                            inText
                            0
                            TRUE
                            inFontSize PIXELS
                            "Sans")
                       )
        )
      </programlisting>
      <para>
        Although a long function call, it's fairly straightforward if
        you go over the parameters while looking at the function's
        entry in the DB Browser. Basically, we're creating a new text
        layer and assigning it to the variable
        <varname>theText</varname>.
      </para>
      <para>
        Now that we have the text, we can grab its width and height and resize
        the image and the image's layer to the text's size:
      </para>
      <programlisting>
        (set! theImageWidth   (car (gimp-drawable-width  theText) ) )
        (set! theImageHeight  (car (gimp-drawable-height theText) ) )

        (gimp-image-resize theImage theImageWidth theImageHeight 0 0)

        (gimp-layer-resize theLayer theImageWidth theImageHeight 0 0)
      </programlisting>
      <para>
        If you're like me, you're probably wondering what a drawable is when
        compared to a layer. The difference between the two is that a drawable
        is anything that can be drawn into, including layers but also
        channels, layer masks, the selection, etc; a layer is a more specific
        version of a drawable. In most cases, the distinction is not
        important.
      </para>
      <para>
        With the image ready to go, we can now re-add our display line:
      </para>
      <programlisting>
        (gimp-display-new theImage)
      </programlisting>
      <para>
        Save your work, refresh the database and give your first script a run!
      </para>
    </sect3>

    <sect3>
      <title>Clearing The Dirty Flag</title>
      <para>
        If you try to close the image created without first saving the file,
        <acronym>GIMP</acronym> will ask you if you want to save your work
        before you close the
        image. It asks this because the image is marked as dirty, or unsaved.
        In the case of our script, this is a nuisance for the times when we
        simply give it a test run and don't add or change anything in the
        resulting image &mdash; that is, our work is easily reproducible in
        such a simple script, so it makes sense to get rid of this dirty flag.
      </para>
      <para>
        To do this, we can clear the dirty flag after displaying the image:
      </para>
      <programlisting>
        (gimp-image-clean-all theImage)
      </programlisting>
      <para>
        This will set dirty count to 0, making it appear to be a
        <quote>clean</quote> image.
      </para>
      <para>
        Whether to add this line or not is a matter of personal taste. I use
        it in scripts that produce new images, where the results are trivial,
        as in this case. If your script is very complicated, or if it works on
        an existing image, you will probably not want to use this function.
      </para>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-script-fu-tutorial-extending-text-box">
    <title>Extending The Text Box Script</title>
    <sect3>
      <title>Handling Undo Correctly</title>
      <para>
        When creating a script, you want to give your users the ability to
        undo their actions, should they make a mistake. This is easily
        accomplished by calling the functions
        <function>gimp-undo-push-group-start</function>
        and <function>gimp-undo-push-group-end</function>
        around the code that manipulates the image. You can think of them as
        matched statements that let <acronym>GIMP</acronym> know when to start
        and stop recording manipulations on the image, so that those
        manipulations can later be undone.
      </para>
      <para>
        If you are creating a new image entirely, it doesn't make sense to use
        these functions because you're not changing an existing image.
        However, when you are changing an existing image, you most surely want
        to use these functions.
      </para>
      <para>
        Undoing a script works nearly flawlessly when using these functions.
      </para>
    </sect3>

    <sect3>
      <title>Extending The Script A Little More</title>
      <para>
        Now that we have a very handy-dandy script to create text
        boxes, let's add two features to it:
      </para>
      <itemizedlist>
        <listitem>
          <para>
            Currently, the image is resized to fit exactly around the
            text &mdash; there's no room for anything, like drop shadows or
            special effects (even though many scripts will automatically
            resize the image as necessary). Let's add a buffer around
            the text, and even let the user specify how much buffer to
            add as a percentage of the size of the resultant text.
          </para>
        </listitem>
        <listitem>
          <para>
            This script could easily be used in other scripts that work
            with text. Let's extend it so that it returns the image and
            the layers, so other scripts can call this script and use
            the image and layers we create.
          </para>
        </listitem>
      </itemizedlist>
    </sect3>

    <sect3>
      <title>
        Modifying The Parameters And The Registration Function
      </title>
      <para>
        To let the user specify the amount of buffer, we'll add a parameter to
        our function and the registration function:
      </para>
      <programlisting>
  (define (script-fu-text-box inTest inFont inFontSize inTextColor inBufferAmount)
  (let*
        (
           ; define our local variables
           ; create a new image:
           (theImageWidth  10)
           (theImageHeight 10)
           (theImage (car
                          (gimp-image-new
                           theImageWidth
                           theImageHeight
                           RGB
                          )
                     )
           )
           (theText)          ;a declaration for the text
                              ;we create later

           (theBuffer)        ;<emphasis>added</emphasis>

           (theLayer
                     (car
                         (gimp-layer-new
                          theImage
                          theImageWidth
                          theImageHeight
                          RGB-IMAGE
                          "layer 1"
                          100
                          NORMAL
                         )
                     )
           )
        ) ;end of our local variables

   <replaceable>[Code here]</replaceable>
 )
      </programlisting>
      <programlisting><![CDATA[
  (script-fu-register
    "script-fu-text-box"                        ;func name
    "Text Box"                                  ;menu label
    "Creates a simple text box, sized to fit\
      around the user's choice of text,\
      font, font size, and color."              ;description
    "Michael Terry"                             ;author
    "copyright 1997, Michael Terry;\
      2009, the GIMP Documentation Team"        ;copyright notice
    "October 27, 1997"                          ;date created
    ""                     ;image type that the script works on
    SF-STRING      "Text"          "Text Box"   ;a string variable
    SF-FONT        "Font"          "Charter"    ;a font variable
    SF-ADJUSTMENT  "Font size"     '(50 1 1000 1 10 0 1)
                                                ;a spin-button
    SF-COLOR       "Color"         '(0 0 0)     ;color variable
    SF-ADJUSTMENT  "Buffer amount" '(35 0 100 1 10 1 0)
                                                ;a slider
  )
  (script-fu-menu-register "script-fu-text-box" "<Image>/Font/Create/Text")
      ]]></programlisting>
    </sect3>

    <sect3>
      <title>Adding The New Code</title>
      <para>
        We're going to add code in two places: right before we resize
        the image, and at the end of the script (to return the new
        image, the layer and the text).
      </para>
      <para>
        After we get the text's height and width, we need to resize
        these values based on the buffer amount specified by the
        user. We won't do any error checking to make sure it's in the
        range of 0-100% because it's not life-threatening, and because
        there's no reason why the user can't enter a value like
        <quote>200</quote> as the percent of buffer to add.
      </para>
      <programlisting>
        (set! theBuffer (* theImageHeight (/ inBufferAmount 100) ) )

        (set! theImageHeight (+ theImageHeight theBuffer theBuffer) )
        (set! theImageWidth  (+ theImageWidth  theBuffer theBuffer) )
      </programlisting>
      <para>
        All we're doing here is setting the buffer based on the height of the
        text, and adding it twice to both the height and width of our new
        image. (We add it twice to both dimensions because the buffer needs to
        be added to both sides of the text.)
      </para>
      <para>
        Now that we have resized the image to allow for a buffer, we
        need to center the text within the image. This is done by
        moving it to the (x, y) coordinates of (<varname>theBuffer</varname>,
        <varname>theBuffer</varname>). I added this line after
        resizing the layer and the image:
      </para>
      <programlisting>
        (gimp-layer-set-offsets theText theBuffer theBuffer)
      </programlisting>
      <para>
        Go ahead and save your script, and try it out after refreshing the
        database.
      </para>
      <para>
        All that is left to do is return our image, the layer, and the text
        layer. After displaying the image, we add this line:
      </para>
      <programlisting>(list theImage theLayer theText)</programlisting>
      <para>
        This is the last line of the function, making this list available to
        other scripts that want to use it.
      </para>
      <para>
        To use our new text box script in another script, we could write
        something like the following:
      </para>
      <programlisting>
        (set! theResult (script-fu-text-box
                         "Some text"
                         "Charter" "30"
                         '(0 0 0)
                         "35"
                        )
        )
        (gimp-image-flatten (car theResult))
      </programlisting>
      <para>
        Congratulations, you are on your way to your Black Belt of Script-Fu!
      </para>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-script-fu-tutorial-result">
    <title>Your script and its working</title>
    <sect3>
      <title>What you write</title>
      <para>Below the complete script:</para>
      <programlisting><![CDATA[
  (script-fu-register
            "script-fu-text-box"                        ;func name
            "Text Box"                                  ;menu label
            "Creates a simple text box, sized to fit\
              around the user's choice of text,\
              font, font size, and color."              ;description
            "Michael Terry"                             ;author
            "copyright 1997, Michael Terry;\
              2009, the GIMP Documentation Team"        ;copyright notice
            "October 27, 1997"                          ;date created
            ""                     ;image type that the script works on
            SF-STRING      "Text"          "Text Box"   ;a string variable
            SF-FONT        "Font"          "Charter"    ;a font variable
            SF-ADJUSTMENT  "Font size"     '(50 1 1000 1 10 0 1)
                                                        ;a spin-button
            SF-COLOR       "Color"         '(0 0 0)     ;color variable
            SF-ADJUSTMENT  "Buffer amount" '(35 0 100 1 10 1 0)
                                                        ;a slider
  )
  (script-fu-menu-register "script-fu-text-box" "<Image>/File/Create/Text")
  (define (script-fu-text-box inText inFont inFontSize inTextColor inBufferAmount)
    (let*
      (
        ; define our local variables
        ; create a new image:
        (theImageWidth  10)
        (theImageHeight 10)
        (theImage)
        (theImage
                  (car
                      (gimp-image-new
                        theImageWidth
                        theImageHeight
                        RGB
                      )
                  )
        )
        (theText)             ;a declaration for the text
        (theBuffer)           ;create a new layer for the image
        (theLayer
                  (car
                      (gimp-layer-new
                        theImage
                        theImageWidth
                        theImageHeight
                        RGB-IMAGE
                        "layer 1"
                        100
                        NORMAL
                      )
                  )
        )
      ) ;end of our local variables
      (gimp-image-add-layer theImage theLayer 0)
      (gimp-context-set-background '(255 255 255) )
      (gimp-context-set-foreground inTextColor)
      (gimp-drawable-fill theLayer BACKGROUND-FILL)
      (set! theText
                    (car
                          (gimp-text-fontname
                          theImage theLayer
                          0 0
                          inText
                          0
                          TRUE
                          inFontSize PIXELS
                          "Sans")
                      )
        )
      (set! theImageWidth   (car (gimp-drawable-width  theText) ) )
      (set! theImageHeight  (car (gimp-drawable-height theText) ) )
      (set! theBuffer (* theImageHeight (/ inBufferAmount 100) ) )
      (set! theImageHeight (+ theImageHeight theBuffer theBuffer) )
      (set! theImageWidth  (+ theImageWidth  theBuffer theBuffer) )
      (gimp-image-resize theImage theImageWidth theImageHeight 0 0)
      (gimp-layer-resize theLayer theImageWidth theImageHeight 0 0)
      (gimp-layer-set-offsets theText theBuffer theBuffer)
      (gimp-display-new theImage)
      (list theImage theLayer theText)
    )
  )
      ]]></programlisting>
    </sect3>

    <sect3>
      <title>What you obtain</title>
      <figure>
        <title>And the result on the screen.</title>
        <mediaobject>
          <imageobject>
            <imagedata format="PNG"
              fileref="images/using/script-fu-screen.png"/>
          </imageobject>
        </mediaobject>
      </figure>
    </sect3>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-selections">
  <title>Creating and Using Selections</title>

  <indexterm>
    <primary>Selections</primary>
    <secondary>Using</secondary>
  </indexterm>

  <sect2 id="gimp-using-selections-moving">
    <title>Moving a Selection</title>
    <indexterm>
      <primary>Selection</primary>
      <secondary>Move selection</secondary>
    </indexterm>

    <para>
      Rectangular and elliptical selections have two modes. The default
      mode has handles on the selection. If you click the selection or
      press the <keycap>Enter</keycap> key,the handles disappear leaving
      only the dotted outline (marching ants). The other selection tools have
      different behaviour.
    </para>

    <sect3>
      <title>Moving rectangular and elliptical selections</title>
      <para>
        If you click-and drag a selection with handles, you move the
        selection outline, and you don't move the contents of rectangular or
        elliptic selections.
      </para>
      <para>
         Select the <link linkend="gimp-tool-move">Move </link> tool and set
         the options to move the selection; the tool supports moving the
         selection, path, or layer.
      </para>

      <figure>
        <title>Moving selection outline</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/using/select-move-1.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>
        Most systems support moving the selection using the arrow keys.
        The precise behavior is system dependent. If the arrow keys do not
        cause the selection to move, try hovering the mouse cursor over the
        selection first. Press and hold the <keycap>Alt</keycap> (or
        <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>, 
        <keycombo><keycap>Shift</keycap><keycap>Alt</keycap></keycombo>, or
        <keycap>Alt</keycap>). One combination may move the selection by one
        pixel, and another by 25 pixels each step. Hover the mouse cursor over
        a side or corner handle, and the arrow keys and combinations can
        change the size of the selection.
      </para>
      <para>
        If you click-and-drag the selection without handles, you create a new
        selection! To move the selection contents, you have to
      </para>
      <itemizedlist>
        <listitem>
          <para>
            hold down
            <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
            keys and click-and-drag the selection. This makes the original
            place empty. A floating selection is created.
            The required key commands may differ on your system, look in the
            status bar to see if another combination is specified; for
            example,
            <keycombo><keycap>Shift</keycap><keycap>Ctrl</keycap>
            <keycap>Alt</keycap></keycombo>.
          </para>
          <figure>
            <title>
              Moving a selection and its content, emptying the original place
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/using/select-move-2.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
        <listitem>
          <para>
            hold down
            <keycombo><keycap>Shift</keycap><keycap>Alt</keycap></keycombo>
            keys and click-and-drag the selection to move without emptying
            the original place. A floating selection is created.
          </para>
          <figure>
            <title>
              Moving a selection and its content without emptying the original
              place
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/using/select-move-3.png"/>
              </imageobject>
            </mediaobject>
          </figure>
        </listitem>
      </itemizedlist>
      <note>
        <para>
          On some systems, you must push <keycap>Alt</keycap> before
          <keycap>Shift</keycap> or <keycap>Ctrl</keycap>. On these
          systems, pressing <keycap>Shift</keycap> or <keycap>Ctrl</keycap>
          first, causes GIMP to enter a mode that adds or subtract from the
          current selection &mdash; after
          that, the <keycap>Alt</keycap> key is ineffective!
        </para>
      </note>

    </sect3>

    <sect3>
      <title>Moving the other selections</title>
      <para>
        The other selections (Lasso, Magic wand, By Color) have no handle.
        Click-and dragging them doesn't move them. To move their contents, as
        with rectangular and elliptical selections, you have to hold down
        <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo> keys
        or <keycombo><keycap>Shift</keycap><keycap>Alt</keycap></keycombo>
        and click-and-drag.
      </para>
      <para>
        If you use keyboard arrow keys instead of click-and-drag, you move
        the outline.
      </para>
    </sect3>

    <sect3>
      <title>Other method</title>
      <note>
        <para>
          You can also use a more roundabout method to move a selection. Make
          it floating. Then you can move its content, emptying the origin, by
          click-and-dragging or keyboard arrow keys. To move without emptying,
          use copy-paste.
        </para>
      </note>
    </sect3>
  </sect2>

  <sect2 id="gimp-using-selections-add">
    <title>Adding or subtracting selections</title>
    <indexterm>
      <primary>Selection</primary>
      <secondary>Add / Subtract selections</secondary>
    </indexterm>

    <para>
      Tools have options that you can configure.
      Each selection tool allows you to set the selection mode. The
      following selection modes are supported:
      <itemizedlist>
        <listitem><para>
          Replace is the most used selection mode. In replace mode,
          a selection replaces any existing selection.
        </para></listitem>
        <listitem><para>
          Add mode, causes new selections to be added to any existing
          selection. Press and hold the <keycap>Shift</keycap> key while
          making a selection to temporarily enter add mode.
        </para></listitem>
        <listitem><para>
          Subtract mode, causes new selections to be removed from any existing
          selection. Press and hold the <keycap>Ctrl</keycap> key while
          making a selection to temporarily enter subtract mode.
        </para></listitem>
        <listitem><para>
          Intersect mode, causes areas in both the new and
          existing selection to become the new selection.
          Press and hold both the <keycap>Shift</keycap> and
          <keycap>Ctrl</keycap> key while
          making a selection to temporarily enter intersect mode.
        </para></listitem>
      </itemizedlist>
    </para>

    <figure>
      <title>Enlarging a rectangular selection with the Lasso</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/rect+lasso-ex.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The figure shows an existing rectangular selection.
      Select the Lasso. While pressing the <keycap>Shift</keycap>
      key, make a free hand selection that includes the existing selection.
      Release the mouse button and areas are included in the selection.
    </para>
    <note>
      <para>
        To correct selection defects precisely, use the
        <link linkend="gimp-using-quickmask">Quick Mask</link>.
      </para>
    </note>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-setup-tile-cache">
  <title>How to Set Your Tile Cache</title>
  <indexterm>
    <primary>Tile cache</primary>
  </indexterm>
  <para>
    During the data processing and manipulation of pictures, GIMP becomes
    in the need of much main memory. The more is available the better is.
    <acronym>GIMP</acronym> uses the operating system memory available
    resources as effectively as possible, striving to maintain the work on
    the pictures fast and comfortable for the user. That Data memory,
    during the treatment, is organized in buffered blocks of graphic data,
    which could exist in two different forms of data memory: in the slow not
    removable disk or in the fast main RAM memory. GIMP uses preferably the
    RAM, and when it runs short of this memory, it uses the hard disk for the
    remaining data. These chunks of graphic data are commonly referred to as
    "tiles" and the entire system is called "tile cache".
  </para>
  <para>
    A low value for tile cache means that GIMP sends data to the disk very
    quickly, not making real use of the available RAM, and making the disks
    work for no real reason. Too high a value for tile cache, and other
    applications start to have less system resources, forcing them to use swap
    space, which also makes the disks work too hard; some of them may even
    terminate or start to malfunction due lack of RAM.
  </para>
  <para>
    How do you choose a number for the Tile Cache size? Here are some tips to
    help you decide what value to use, as well as a few tricks:
  </para>
  <itemizedlist>
    <listitem>
      <para>
        The easiest method is to just forget about this and hope the default
        works. This was a usable method when computers had little RAM, and
        most people just tried to make small images with GIMP while running
        one or two other applications at the same time. If you want something
        easy and only use GIMP to make screenshots and logos, this is probably
        the best solution.
      </para>
    </listitem>
    <listitem>
      <para>
        If you have a modern computer with plenty of memoryâ€“say, 512 MB or
        moreâ€“setting the Tile Cache to half of your RAM will probably give
        good performance for GIMP in most situations without depriving other
        applications. Probably even 3/4 of your RAM would be fine.
      </para>
    </listitem>
    <listitem>
      <para>
        Ask someone to do it for you, which in the case of a computer serving
        multiple users at the same time can be a good idea: that way the
        administrator and other users do not get mad at you for abusing the
        machine, nor do you get a badly underperforming GIMP. If it is your
        machine and only serves a single user at a given time, this could mean
        money, or drinks, as price for the service.
      </para>
    </listitem>
    <listitem>
      <para>
        Start changing the value a bit each time and check that it goes faster
        and faster with each increase, but the system does not complain about
        lack of memory. Be forewarned that sometimes lack of memory shows up
        suddenly with some applications being killed to make space for the
        others.
      </para>
    </listitem>
    <listitem>
      <para>
        Do some simple math and calculate a viable value. Maybe you will have
        to tune it later, but maybe you have to tune it anyway with the other
        previous methods. At least you know what is happening and can get the
        best from your computer.
      </para>
    </listitem>
  </itemizedlist>
  <para>
    Let's suppose you prefer the last option, and want to get a good value to
    start with. First, you need to get some data about your computer. This
    data is the amount of RAM installed in your system, the operating system's
    swap space available, and a general idea about the speed of the disks that
    store the operating system's swap and the directory used for GIMP's swap.
    You do not need to do disk tests, nor check the RPM of the disks, the
    thing is to see which one seems clearly faster or slower, or whether all
    are similar. You can change GIMP's swap directory in the Folders page of
    the Preferences dialog.
  </para>
  <para>
    The next thing to do is to see how much resources you require for other
    apps you want to run at the same time than GIMP. So start all your tools
    and do some work with them, except GIMP of course, and check the usage.
    You can use applications like free or top, depending in what OS and what
    environment you use. The numbers you want is the memory left, including
    file cache. Modern Unix keeps a very small area free, in order to be able
    to keep large file and buffer caches. Linux's <emphasis>free</emphasis>
    command does the maths for you: check the column that says
    <quote>free</quote>, and the line <quote>-/+ buffers/cache</quote>.
    Note down also the free swap.
  </para>
  <para>
    Now time for decisions and a bit of simple math. Basically the concept is
    to decide if you want to base all Tile Cache in RAM, or RAM plus operating
    system swap:
  </para>
  <procedure>
    <step>
      <para>
        Do you change applications a lot? Or keep working in GIMP for a long
        time? If you spend a lot of time in GIMP, you can consider free RAM
        plus free swap as available; if not, you need to go to the following
        steps. (If you're feeling unsure about it, check the following steps.)
        If you are sure you switch apps every few minutes, only count the free
        RAM and just go to the final decision; no more things to check.
      </para>
    </step>
    <step>
      <para>
        Does the operating system swap live in the same physical disk as GIMP
        swap? If so, add RAM and swap. Otherwise go to the next step.
      </para>
    </step>
    <step>
      <para>
        Is the disk that holds the OS swap faster or the same speed as the
        disk that holds the GIMP swap? If slower, take only the free RAM; if
        faster or similar, add free RAM and swap.
      </para>
    </step>
    <step>
      <para>
        You now have a number, be it just the free RAM or the free RAM plus
        the free OS swap. Reduce it a bit, to be on the safe side, and that is
        the Tile Cache you could use as a good start.
      </para>
    </step>
  </procedure>
  <para>
    As you can see, all is about checking the free resources, and decide if
    the OS swap is worth using or will cause more problems than help.
  </para>
  <para>
    There are some reasons you want to adjust this value, though. The basic
    one is changes in your computer usage pattern, or changing hardware. That
    could mean your assumptions about how you use your computer, or the speed
    of it, are no longer valid. That would require a reevaluation of the
    previous steps, which can drive you to a similar value or a completely
    new value.
  </para>
  <para>
    Another reason to change the value is because it seems that GIMP runs too
    slowly, while changing to other applications is fast: this means that GIMP
    could use more memory without impairing the other applications. On the
    other hand, if you get complaints from other applications about not having
    enough memory, then it may benefit you to not let GIMP hog so much of it.
  </para>
  <para>
    If you decided to use only RAM and GIMP runs slowly, you could try
    increasing the value a bit, but never to use also all the free swap. If
    the case is the contrary, using both RAM and swap, and you have problems
    about lack of resources, then you should decrease the amount of RAM
    available to GIMP.
  </para>
  <para>
    Another trick is to put the Swap Dir on a very fast disk, or on a
    different disk than the one where most of your files
    reside. Spreading the operating
    system swap file over multiple disks is also a good way to speed
    things up, in general. And of course, you might have to buy more RAM
    or stop using lots of programs at the same time: you can not
    expect to edit a poster on a computer with 16MB and be fast.
  </para>
  <para>
    You can also check what memory requirements your images have. The larger
    the images, and the number of undoes, the more resources you need. This
    is another way to choose a number, but it is only good if you always work
    with the same kind of images, and thus the real requirements do not vary.
    It is also helpful to know if you will require more RAM and/or disk space.
  </para>
</sect1>
-#-#-
<sect1 id="gimp-concepts-shortcuts">
  <title>Creating Shortcuts to Menu Functions</title>

  <indexterm>
    <primary>Shortcuts</primary>
  </indexterm>
  <indexterm>
    <primary>Customize</primary>
    <secondary>Shortcuts</secondary>
  </indexterm>

  <para>
    Many functions which are accessible via the image menu have a default
    keyboard shortcut. You may want to create a new shortcut for a command
    that you use a lot and doesn't have one or, more rarely, edit an existing
    shortcut. There are two methods for doing this.
  </para>

  <procedure>
    <title>Using dynamic keyboard shortcuts</title>
    <step>
      <para>
        First, you have to activate this capability by checking the
        <guilabel>Use dynamic keyboard shortcuts</guilabel> option in
        the <guilabel>Interface</guilabel> item of the
        <link linkend="gimp-prefs-interface">Preferences</link> menu.  This
        option is usually not checked, to prevent accidental key presses
        from creating an unwanted shortcut.
      </para>
    </step>
    <step>
      <para>
        While you're doing that, also check the <guilabel>Save keyboard
        shortcuts on exit</guilabel> option so that your shortcut will
        be saved.
      </para>
    </step>
    <step>
      <para>
        To create a keyboard shortcut, simply place the mouse pointer on a
        command in the menu: it will then be highlighted. Be careful that the
        mouse pointer doesn't move and type a sequence of three keys, keeping
        the keys pressed. You will see this sequence appear on the right of
        the command.
      </para>
    </step>
    <step>
      <para>
        It is best to use the
        <keycombo>
          <keycap>Ctrl</keycap>
          <keycap>Alt</keycap>
          <keycap>Key</keycap>
        </keycombo>
        sequence for your custom shortcuts.
      </para>
    </step>
  </procedure>

  <figure>
    <title>Configure Keyboard Shortcuts</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/dialogs/dialogs-shortcuts.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <procedure>
    <title>Using the Keyboard Shortcut Editor</title>
    <step>
      <para>
        You get to this Editor by clicking on <guibutton>Configure
        keyboard shortcuts</guibutton> in the <quote>Interface</quote>
        item of the <link linkend="gimp-prefs-interface">Preferences</link> menu.
      </para>
    </step>
    <step>
      <para>
        As shown in this dialog, you can select the command you want to
        create a shortcut for, in the <quote>Action</quote> area. Then you
        type your key sequence as above. In principle, the Space bar should
        clear a shortcut. (In practice, it clears it, but doesn't delete it.)
      </para>
    </step>
    <step>
      <para>
        This shortcut editor also allows you to <emphasis>control the
        tool parameter settings</emphasis> with the keyboard. At the top
        of this dialog, you can find a <guilabel>Context</guilabel> menu
        that takes you to the tool parameters. To make your work easier,
        tool types are marked with small icons.
      </para>
    </step>
  </procedure>

  <note>
    <para>
      Custom Keyboard shortcuts are stored in one of Gimp's hidden
      directory (<filename
      class="directory">/home/[username]/.gimp-2.8/menurc</filename>)
      under Linux, and
      <filename class="directory"
      role="html">C:\DocumentsÂ andÂ Settings\[Username]\.gimp-2.8\menurc</filename>
      <filename class="directory"
      role="tex">C:\\DocumentsÂ andÂ Settings\\[Username]\\.gimp-2.8\\menurc</filename>
      under Windows XP.  It is a simple text file that you can transport from
      one computer to another.
    </para>
  </note>
</sect1>
-#-#-
<sect1 id="gimp-using-simpleobjects">
  <title>Drawing Simple Objects</title>

  <indexterm>
    <primary>Line</primary>
    <secondary>Drawing a straight line</secondary>
  </indexterm>
  <indexterm>
    <primary>Tutorials</primary>
    <secondary>Drawing a straight line</secondary>
  </indexterm>
  <indexterm>
    <primary>Rectangle</primary>
    <secondary>Drawing a rectangle</secondary>
  </indexterm>
  <indexterm>
    <primary>Tutorials</primary>
    <secondary>Drawing a rectangle</secondary>
  </indexterm>

  <para>
    In this section, you will learn how to create simple objects in
    <acronym>GIMP</acronym>. It's pretty easy once you figure out how to do
    it. <acronym>GIMP</acronym> provides a huge set of
    <link linkend="gimp-tools">Tools</link> and Shortcuts which most new users
    get lost in.
  </para>

  <sect2 id="gimp-using-line">
    <title>Drawing a Straight Line</title>
    <para>
      Let's begin by painting a straight line. The easiest way to create a
      straight line is by using your favorite
      <link linkend="gimp-tools-brush">brush tool</link>, the mouse and
      the keyboard.
    </para>

    <procedure>
      <title>Drawing a Straight Line</title>
      <step>
        <figure id="gimp-using-straightline1">
          <title>A new image</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/straightline1.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                The dialog shows a new image, filled with a white background.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          Create a <link linkend="gimp-file-new">new image</link>.
          Select your favorite
          <link linkend="gimp-tools-brush">brush tool</link> or use the
          <link linkend="gimp-tool-pencil">pencil</link>, if in doubt.
          Select a <link linkend="gimp-toolbox-color-area">foreground
          color</link>, but be sure that the foreground and background
          colors are different.
        </para>
      </step>
      <step>
        <figure id="gimp-using-straightline2">
          <title>The start of the straight line</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/straightline2.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                The dialog  shows a new image, with the first dot which
                indicates the start of the straight line. The dot has a black
                foreground color.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          Create a starting point by clicking on the
          <link linkend="imagewindow-display">image display</link> area
          with the left mouse button. Your canvas should look
          similar to <xref linkend="gimp-using-straightline1"/>.
        </para>
      </step>
      <step>
        <figure id="gimp-using-straightline3">
          <title>The helpline</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/straightline3.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                The screenshot shows the helpline, which indicates how the
                finished line will look.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          Now, hold down the <keycap>Shift</keycap> button on your
          keyboard and move the mouse away from the starting point you
          created.  You'll see a thin line indicating how the line will
          look.
        </para>
      </step>
      <step>
        <figure id="gimp-using-straightline4">
          <title>The line after the second click</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/straightline4.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                The line created appears in the image window after drawing the
                second point (or end point), while the <keycap>Shift</keycap>
                key is still pressed.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          If you're satisfied with the direction and length of the line,
          click the left mouse button again to finish the line.  The
          <acronym>GIMP</acronym> displays a straight line now.  If the
          line doesn't appear, check the foreground and background
          colors and be sure that you kept the <keycap>Shift</keycap>
          key pressed while painting. You can keep creating lines by
          continuing to hold the <keycap>Shift</keycap> key and creating
          additional end points.
        </para>
      </step>
    </procedure>
  </sect2>

  <sect2 id="gimp-using-rectangular">
    <title>Creating a Basic Shape</title>

    <procedure>
      <step>
        <para>
          <acronym>GIMP</acronym> is not designed to be used for
          drawing.<footnote><para>
            Try out e.g. <xref linkend="bibliography-online-inkscape"/> for
            this purpose.
          </para></footnote>
          However, you may create shapes by either painting them using the
          technique described in <xref linkend="gimp-using-line"/> or by using
          the selection tools. Of course, there are various other ways to
          paint a shape, but we'll stick to the easiest ones here. So, create
          a <link linkend="gimp-file-new">new image</link> and check that the
          <link linkend="gimp-toolbox-color-area">foreground and background
          colors</link> are different.
        </para>
      </step>
      <step>
        <figure id="gimp-using-basicshape1">
          <title>Creating a rectangular selection</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/basicshape1.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                The screenshot shows how a rectangular selection is created.
                Press and hold the left mouse button while you move the mouse
                in the direction of the red arrow.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          Basic shapes like rectangles or ellipses, can be
          created using the
          <link linkend="gimp-tools-selection">selection tools</link>. This
          tutorial uses a rectangular selection as an example.  So,
          choose the <link linkend="gimp-tool-rect-select">rectangular
          selection tool</link> and create a new selection: press and
          hold the left mouse button while you move the mouse to another
          position in the image (illustrated in figure
          <xref linkend="gimp-using-basicshape1"/>). The selection is created
          when you release the mouse button.  For more
          information about key modifiers see
          <link linkend="gimp-tools-selection">selection tools</link>.
        </para>
      </step>
      <step>
        <figure id="gimp-using-basicshape2">
          <title>Rectangular selection filled with foreground color</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/basicshape2.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                The screenshot shows a rectangular selection filled with the
                foreground color.
              </para>
            </caption>
          </mediaobject>
        </figure>
        <para>
          After creating the selection, you can either create a filled
          or an outlined shape with the foreground color of your choice.
          If you go for the first option, choose a
          <link linkend="gimp-toolbox-color-area">foreground color</link>
          and fill the selection with the
          <link linkend="gimp-tool-bucket-fill">bucket fill tool</link>.
          If you choose the latter option, create an outline by using
          the<link linkend="gimp-selection-stroke">Stroke
          selection</link> menu item from the <guimenu>Edit</guimenu>
          menu. If you're satisfied with the result,
          <link linkend="gimp-selection-none">remove the selection</link>.
        </para>
      </step>
    </procedure>
  </sect2>
</sect1>
-#-#-

<sect1 id="gimp-text-tool-box">
  <title>Text Tool Box</title>

  <indexterm>
    <primary>Text</primary>
    <secondary>Tool Box</secondary>
  </indexterm>

  <figure>
    <title>Text Tool Box</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/using/text-toolbar.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    You get this box, which overlays canvas, as soon as you click on canvas with
    the Text Tool. It allows you to edit text directly on canvas.
  </para>
  <para>
    Apart from the usual text formatting features like font family, style and
    size selectors you get numeric control over baseline offset and kerning, as
    well as the ability to change text color for a selection.
  </para>
  <para>
    Help pop-ups are self-explanatory.
  </para>
  <para>
    You can also use <keycombo><keycap>Alt</keycap><keycap>Arrow keys</keycap>
    </keycombo> to change baseline offset and kerning.
  </para>
  <important>
    <para>
      These features work on selected text. You get weird effects if no text is
      selected.
    </para>
  </important>

 <sect2>
   <title>Text Tool Box Context menu</title>
   <para>
     TODO
   </para>
 </sect2>
 
</sect1>  -#-#-
<sect1 id="gimp-using-variable-size-brush">
  <title>Varying brush size</title>
  <indexterm>
    <primary>Brushes</primary>
    <secondary>Varying brush size</secondary>
  </indexterm>
  <para>
    From <acronym>GIMP</acronym>-2.4, all brushes have a variable size.
  </para>

  <sect2 id="gimp-using-variable-size-brush-varying">
    <title>How to vary the height of a brush</title>
    <para>
       You can get the brush size varying in three ways:
    </para>
    <orderedlist>
      <listitem>
        <para>
          Using the <guilabel>Scale</guilabel> slider of the tool
          that uses the brush. Pencil, Paintbrush, Eraser, Airbrush,
          Clone, Heal, Perspective Clone, Blur/Sharpen and Dodge/Burn tools
          have a slider to vary brush size.
        </para>
        <figure>
          <title>The Scale slider</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/stretch-shrink-cursor.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <procedure>
          <para>By programming the mouse wheel:</para>
          <step>
            <para>
              In the main window of GIMP, click on
              <menuchoice>
                <guimenu>Edit</guimenu>
                <guimenuitem>Preferences</guimenuitem>
              </menuchoice>.
            </para>
          </step>
          <step>
            <para>
              In the left column of the new window, select
              <menuchoice>
                <guimenu>Input Devices</guimenu>
                <guimenuitem>Input Controllers</guimenuitem>
              </menuchoice>.
            </para>
          </step>
          <step>
            <para>
              You can see
              <guibutton>Additional Input Controllers</guibutton>,
              with two columns:
              <guibutton>Available Controllers</guibutton> and
              <guibutton>Active Controllers</guibutton>.
            </para>
            <para>
              In the column
              <guibutton>Active Controllers</guibutton>, double-click the
              <guibutton>Main Mouse Wheel</guibutton> button.
            </para>
          </step>
          <step>
            <para>
              Then, you see a new window:
              <guibutton>Configure Input Controller</guibutton>.
            </para>
            <para>
              In the left column <guibutton>Event</guibutton>,
              click <guibutton>ScrollÂ Up</guibutton> to get it highlighted.
            </para>
          </step>
          <step>
            <para>
              Click the <guibutton>Edit</guibutton> button
              (at the bottom middle of the list).
            </para>
          </step>
          <step>
            <para>
              You can see the window
              <guibutton>Select Controller Event Action</guibutton>.
            </para>
            <para>
              Drop-down the
              <guibutton>Tools</guibutton> item, by clicking the small
              triangle on its left.
            </para>
          </step>
          <step>
            <para>
              In the left column <guibutton>Action</guibutton>,
              click <guibutton>IncreaseÂ BrushÂ Scale</guibutton> to highlight
              it, then click the <guibutton>OK</guibutton> button.
            </para>
          </step>
          <step>
            <para>
              Now, in front of
              <guibutton>ScrollÂ Up</guibutton> is display
              <guibutton>tools-paint-brush-scale-increase</guibutton>.
            </para>
          </step>
          <step>
            <para>
              Close the window.
            </para>
          </step>
          <step>
            <para>
              With the same method, program
              <guibutton>ScrollÂ Down</guibutton> with
              <guibutton>DecreaseÂ BrushÂ Scale</guibutton>.
            </para>
          </step>
          <step>
            <para>
              Don't forget to click the
              <guibutton>OK</guibutton> button of the main window of
              <guibutton>Preferences</guibutton>.
            </para>
          </step>
        </procedure>
        <para>
          After these somewhat long explanations, you can use your mouse
          wheel to vary size brush. For example, choose the pencil tool
          with the <!-- Didn't find a "Bird" brush so I've substitute Bird
          with Circle - ciampix --><quote>Circle</quote> brush. Set the
          pointer in the image window, use the mouse wheel, in the two
          directions, you can see the <quote>Circle</quote> shrinking or
          stretching.
        </para>
      </listitem>
      <listitem>
        <para>
          You can program the <quote>Up</quote> and <quote>Down</quote>
          arrow keys of the keyboard.
        </para>
        <para>
          The method is similar to that of the mouse wheel. The only
          differences are:
        </para>
        <itemizedlist>
          <listitem>
            <para>
              In the column
              <guibutton>Active Controllers</guibutton>, double-click
              <guibutton>Main Keyboard</guibutton>.
            </para>
          </listitem>
          <listitem>
            <para>
              In the column <guibutton>Event</guibutton>, click
              <guibutton>Cursor Up</guibutton> for the first key, and
              <guibutton>Cursor Down</guibutton> for the second key.
            </para>
          </listitem>
          <listitem>
            <para>
              Then, use the two keys (Up arrow and Down arrow) and the result
              is the same as you got with the mouse wheel.
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </orderedlist>
  </sect2>

  <sect2 id="gimp-using-variable-size-brush-creating">
    <title>Creating a brush quickly</title>
    <para>Two methods to create a new brush easily:</para>
    <orderedlist>
      <listitem>
        <para>
          First, the <quote>superfast</quote> method. You have an image area
          you want make a brush from it, to be used with a tool like pencil,
          airbrush... Select it with the rectangular (or elliptical) select
          tool, then do a <guibutton>Copy</guibutton> of this selection and
          immediately you can see this copy in the first position of the Brush
          Dialog, and its name is <quote>Clipboard</quote>. It is immediately
          usable.
        </para>
        <figure>
          <title>Selection becomes a brush after copying</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/select-to-brush.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </listitem>
      <listitem>
        <para>The second method is more elaborate. </para>
        <para>
          Do
          <menuchoice>
            <guimenu>File</guimenu>
            <guimenuitem>New</guimenuitem>
          </menuchoice>
          with, for example, a width and a length of 35 pixels
          and in the advanced options a
          <guilabel>Color Space</guilabel> in
          <guilabel>Gray Level</guilabel> and
          <guilabel>Fill with: white</guilabel>.
        </para>
        <para>
          Zoom on this new image to enlarge it and draw on it with a black
          pencil.
        </para>
        <para>
          Save it with a <guilabel>.gbr</guilabel> extension in the directory
          <guilabel>/home/name_of_user/.gimp-2.8/brushes/</guilabel>.
        </para>
        <para>
          In the Brushes dialog window, click on the button
          <guilabel>Refresh brushes</guilabel>
          <guiicon>
            <inlinegraphic fileref="images/dialogs/stock-reload-16.png"/>
          </guiicon>.
        </para>
        <para>
          And your marvellous brush appears right in the middle of the other
          brushes. You can use it immediately, without starting GIMP again.
        </para>
        <figure>
          <title>Steps to create a brush</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/create-brush1.png"/>
            </imageobject>
            <caption>
              <para>Draw image, save as brush</para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/create-brush2.png"/>
            </imageobject>
            <caption>
              <para>Refresh brushes</para>
            </caption>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/create-brush3.png"/>
            </imageobject>
            <caption>
              <para>Use the brush</para>
            </caption>
          </mediaobject>
        </figure>
      </listitem>
    </orderedlist>
  </sect2>
</sect1>
-#-#-
<sect1 id="gimp-using-web">
  <title>Preparing your Images for the Web</title>

  <indexterm>
    <primary>Web</primary>
    <secondary>Images for the web</secondary>
  </indexterm>

  <para>
    One of the most common uses for <acronym>GIMP</acronym>,
    is to prepare images for web sites. This means that
    images should look as nice as possible while keeping the file
    size as small as possible.  This step-by-step guide demonstrates
    how to create small files with minimal loss of
    image quality.
  </para>

  <sect2 id="gimp-using-web-size-vs-quality">
    <title>Images with an Optimal Size/Quality Ratio</title>
    <para>
      An optimal image for the web depends upon the image type and the file
      format. Use <link linkend="file-jpeg-save">JPEG</link> for
      Photographs because they usually have many colors and great detail.
      An image with fewer colors, such as a button, icon, or screenshot, is
      better suited to the
      <link linkend="file-png-load">PNG</link>
      format.
    </para>
    <procedure>
      <step>
        <para>
          First, open the image as usual. I have opened our Wilber as an
          example image.
        </para>
        <figure>
          <title>The Wilber image opened in RGBA mode</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/using/preparing_for_web1.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          The image is now in RGB mode, with an additional
          <link linkend="glossary-alpha">Alpha channel</link>
          (RGBA). There is usually no need to have an alpha channel for your
          web image. You can remove the alpha channel by
          <link linkend="gimp-image-flatten">flattening the image</link>.
        </para>
        <para>
          A photograph rarely has an alpha channel, so the image will open
          in RGB mode rather than RGBA mode; and you won't have to remove
          the alpha channel.
        </para>
        <note>
          <para>
            If the image has a soft transition into the transparent areas, you
            should not remove the alpha channel, since the information
            used for the transition is not be saved in the file.
            To export an image with transparent areas that do not have a
            soft transition, (similar to
            <link linkend="file-gif-save">GIF</link>),
            remove the alpha channel.
          </para>
        </note>
      </step>
      <step>
        <para>
          After you have flattened the image,
          <link linkend="gimp-file-export">export the image</link>
          in the <link linkend="file-png-save-defaults">PNG format</link>
          for your web site.
        </para>
      </step>
    </procedure>
    <note>
      <para>
        You can export your image in the PNG format with the default settings.
        Always using maximum compression when creating the image.
        Maximum compression has no affect on image quality or the time
        required to display the image, but it does take longer to export.
        A <link linkend="file-jpeg-save">JPEG</link> image, however,
        loses quality as the compression is increased.
        If your image is a photograph with lots of colors, you should
        use jpeg. The main thing is to find the best
        tradeoff between quality and compression. You can find more
        information about this topic in <xref linkend="file-jpeg-save"/>.
      </para>
    </note>
  </sect2>

  <sect2 id="gimp-using-web-reducing-file-size">
    <title>Reducing the File Size Even More</title>
    <para>
      If you want to reduce the size of your image a bit more, you could
      convert your image to Indexed mode. That means that all of the colors
      will be reduced to only 256 values. Do not convert images with
      smooth color transitions or gradients to indexed mode, because
      the original smooth gradients are typically converted into a
      series of bands. Indexed mode is not recommended for photographs
      because after the conversion, they typically look coarse and
      grainy.
    </para>
    <figure>
      <title>The indexed image</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/preparing_for_web2.png"/>
        </imageobject>
        <caption>
          <para>
            An indexed image can look a bit grainy. The left image is Wilber
            in its original size, the right image is zoomed in by 300 percent.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <procedure>
      <step>
        <para>
          Use the command described in <xref linkend="gimp-image-mode"/>
          to convert an RGB image to indexed mode.
        </para>
      </step>
      <step>
        <para>
          After you convert an image to indexed mode, you are once
          again able to <link linkend="gimp-file-export">export</link> the
          image in <link linkend="file-png-save-defaults">PNG
          format</link>.
        </para>
      </step>
    </procedure>
  </sect2>

  <sect2 id="gimp-using-web-transparency">
    <title>Saving Images with Transparency</title>
    <indexterm>
      <primary>Transparency</primary>
      <secondary>Exporting images with transparency</secondary>
    </indexterm>
    <para>
      There are two different approaches used by graphic file formats
      for supporting transparent image areas: simple binary transparency
      and alpha transparency. Simple binary transparency is supported
      in the <link linkend="file-gif-save">GIF</link> format; one color
      from the indexed color palette is marked as the transparent color.
      Alpha transparency is supported in the
      <link linkend="file-png-save-defaults">PNG</link> format; the
      transparency information is stored in a separate channel, the
      <link linkend="glossary-alpha">Alpha channel</link>.
    </para>
    <note>
      <para>
        The GIF format is rarely used
        because PNG supports all the features of GIF with additional
        features (e.g., alpha transparency). Nevertheless, GIF is
        still used for animations.
      </para>
    </note>
    <procedure>
      <title>
        Creating an Image with Transparent Areas (Alpha Transparency)
      </title>
      <step>
        <para>
          First of all, we will use the same image as in the previous
          tutorials, Wilber the GIMP mascot.
        </para>
        <figure>
          <title>The Wilber image opened in RGBA mode</title>
          <mediaobject>
            <imageobject>
              <imagedata format="PNG"
                fileref="images/using/preparing_for_web1.png"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
          To export an image with alpha transparency, you must have an alpha
          channel. To check if the image has an alpha channel, go to the
          <link linkend="gimp-channel-dialog">channel dialog</link> and
          verify that an entry for <quote>Alpha</quote> exists, besides
          Red, Green and Blue. If this is not the case,
          <link linkend="gimp-layer-alpha-add">add a new alpha channel</link>
          from the layers menu;
          <menuchoice><guimenu>Layer</guimenu><guimenu>Transparency</guimenu>
          <guimenuitem>Add Alpha Channel</guimenuitem></menuchoice>.
        </para>
      </step>
      <step>
        <para>
          The original XCF file contains background layers that you can
          remove. <acronym>GIMP</acronym> comes with standard filters
          that supports creating gradients; look
          under <menuchoice><guimenu>Filters</guimenu>
          <guimenu>Light and Shadow</guimenu></menuchoice>.
          You are only limited by your imagination. To
          demonstrate the capabilities of alpha transparency, a
          soft glow in the background around Wilber is shown.
        </para>
      </step>
      <step>
        <para>
          After you're done with your image, you can
          <link linkend="gimp-file-export">export</link> it in
          <link linkend="file-png-save-defaults">PNG format</link>.
        </para>
      </step>
    </procedure>
    <figure>
      <title>The Wilber image with transparency</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/using/preparing_for_web-alphatransparency.png"/>
        </imageobject>
        <caption>
          <para>
            Mid-Tone Checks in the background layer represent the transparent
            region of the exported image while you are working on it in
            <acronym>GIMP</acronym>.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect2>
</sect1>
</xml>
